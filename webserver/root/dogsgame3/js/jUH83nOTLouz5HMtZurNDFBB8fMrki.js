(function(window){
function cl(vm){
var GLOBAL=vm.GLOBAL;
var checkIn=vm.checkIn;
var checkIs=vm.checkIs;
var castInt=vm.castInt;
var callMethod=vm.callMethod;
var ctorObject=vm.ctorObject;
(function(window){
var _283=["AnimalsGameSocket","MoviesReader4","web","loadLibrary","error","join",", ","Библиотеки: "," не найдены","alert","ROTATE_RADIANS","$app","setGlobal","post","https://ag6.ru/apiA.php","data","Sprite","BitmapMovieClip","Bitmap","TextField","TextInput","MainApi","ErrorType","Sex","app.chat.ChatRoomType","app.chat.MessageType","app.chat.ChatRoomFlags","app.chat.ChatSettingsType","SettingsFlags","GameRoomItemType","copyProps","Побег собачек","api","setAppTitle","landscape","mobile","runtime","js","Array","clone","push","Object","android","devicePixelRatio","exec","supportInfo","version","init1","now","site","platform","indexOf","html5_","viewer_id","auth_key","vk_","_","vk","on","init","isAuthYaGames","getTimestamp","genRandomPass",",","md5","reg_","off","mousedown","parseURL1","localhost","localhost","localhost","type","id","x","y","cx","cy","w","h","r","getDef","://","/dogsgame3/assets","/dogsgame3/bg","assets/koronaadmin","assets/popular","/koronaadmin","/popular","/assets","/cfg","/config.txt","loadCfg","percGRScale","percGamePadScale","uiMobile","key","file","?","cut","getLocalStorage","reg_dogsgame3","animalsgame_guest","#E32020","#FFFF00","#00FF00","#00FFFF","#3666EB","#FF00FF","#FF0000","addChild","parseCssText","stop","removeChild","clickVM2Screen","SSServiceMain","add","navSSServiceScene","rsz","clickUserNick","getUserID","clickChatUser","clickChatModeInfo","isAdminOrSuperAdmin","openPopUpMinText1","isModerator","isModeratorMaps","openNewVersion","main.newversion","reload","openNavTempReg","open ","openPopUpChatRules","openPopUpHelpPanel","openPopUpUsersModes","openPopUpSettings1","openPopUpSettingsPanel","openPopUpCntID","openPopUpText1","Загрузка...","loadPopUpText","remove","Контент не найден.","clickTesterInfo","popUpHelpTesterInfo","clickVipInfo","openPopUpVipShop","openCreateRoom","playMapRoomName","У вас уже открыт забег","notifyDel","getPopUpByName","PopUpNotifyMov","send","delNotifyByID","user.notifyDelete","chatOpenVideo1","clickModMapInfo","hide","navMapsAlbumType","viewMap","loadMapByID","openPopUpUserInfo","PopUpUserInfoSpr1","openPopUpUserInfoSpr","chatDelMsg","split","chatDeleteMsg","chatRestoreMsg","reportChatMsg","chatReportMsgMenu","chatMsgClickAct","chatMsgClickActEl","chatMsgEyeAct","chatMsgEyeActEl","clickSmileItem","getSmileValueByID","appendChatSmile","clickEmojiItem","*em","*","callMethod","eval","initCallback","cbArgs","PopUpMaster","popup","GCMaster","app.master.MapsMaster","app.master.MapsLocalMaster","app.master.GiftsMaster","app.master.ShopMaster","app.master.DressMaster","app.master.CacheUsersMaster","app.master.CacheResolveName","app.master.GameMaster","app.master.UserMaster","app.master.WorldMaster","ScenesMaster","app.master.EventsActionMaster","AssetsDownloader","FlagsMaster1","app.master.LevelsMaster","User","Система","parseObj","Кабанчик","Неизвестно","Модератор карт","addUser","loadPhysicsCB","getDefinitionByName","scenes.world.GameRoom","#ABB522","#EAED42","#801713","#F23029","#B53E02","#ED7E00","#2E802A","#5BE352","#298078","#3BE3BF","#532280","#9C40E3","#80216E","#E33DDB","#801F3D","#E3398E","#1B1B80","#363FE3","#AC1E1E","#EA3030","#A88F1F","#E0C619","#6E8431","#BAE241","#356DA4","#5CA2D3","#61172B","#D2214E","#593115","#5A2401","1","2","3","chatBG","plashka_main","a25","a26","#8D4F25","#CA9775","#ad7754","#186416","#11880f","1_vesna","2_vesna","3_vesna","chatBG_vesna","plashka_vesna","a25_vesna","a26_vesna","#005D00","#059E05","#088208","#17474c","#0f8488","1_winter","2_winter","3_winter","chatBG_winter","plashka_winter","a25_winter","a26_winter","#008F95","#1c5a5d","#1c7477","app.master.SmilesMaster","saveScreen","autoResize","update","del","setCallback","pc","setText","Распаковка ресурсов...","read","Идёт инициализация...","Получение профиля...","getPlayer","initFunc2","yagames","yg_","connectFunc","scene","auth","navAuthScene","authOfflineMode","PreloaderAssetsScene","Подготовка к загрузке...","MovieFileDownload","load","ready","Загрузка ресурсов...","ok","Ошибка загрузки ресурсов","Загрузка ("," из ",") "," кб из "," кб (","%)","binaryGet","Идёт загрузка ","loadAccountVM2","saveCfg","dogsgame3","Игрок","upd1","setVis","initOk","navEmptyScene","mapEditor","navMapEditor","viewKonkurs","konkurs.getInfo","words","navSceneKonkursWords1","navSceneKonkursWinnerInfo","clear","navSceneHome","navHome","loadScriptsBox2D","getNickColor","parseInt","NickColor","close","authData","authSiteExit","addDomCanvas","removeDomCanvas","\n\nЕщё недоступно","openPopUpT1","url","uploadScreenSS","authSiteFunc","authByKeyAuth","stopTimerReconnect","srvws1/","/","CheckUTF16","ag6.ru/","ssl","noapp_connect","errorConnect","ev2","actionEvent","sendEvent","refreshPage","stopServerInfo","addNotifyTxtSpr","updGiftsList","updDressList","initListFrames","notifyInfo1","notifyInfoPopup","updateAppInfo","addAutoUpdateAppInfo","updEventsList","parseList","UpdateOpytUser","updateOpyt","UpdatePopularUser","updatePopular","UpdatePopularLevel","updateEnergyUser","updateEnergy","newUserLevel","updateLevel","openPopUpNewLevelUser","usersExit","removeUserIDAllRooms","userIn","addUserActiveRoom","chatRmvMsg","chatDelMsgID","chatMsg","chatMsgsHandler","chatEvent","chatEventHandler","changeChatMsg","updChatMsgO","reportChatMsgFunc","updToysEvent","userEvent","ban","setBanTime","exitBan","prizeWinner","hour","day","openPopUpPrizeWinnerKosti","adminMoneyAdd","openPopUpAdminAddMoney","openItemsMapLevel","PresentUserGift","check","openPopUpGiftUser","notify.type2","notifyBar2Txt1","user.updHealth","updateHealth","user.updateUserEmojiStatus","sceneName","updateUserInfo","nickRainbowEvent","updateUserField","nickRainbow","renderChatByChangeNickUser","user.updateUserInfo","updateNick","reloadChatRooms","buyMoneyUser","kosti","openPopUpBuyMoneyOkInfo","updateMoneyT","lapki","updateMoney","rubies","updateDogsNums","updateDogsCount","actionItems1","updateActionItems1","callUFO","scenes.UFOMovie1","createStream","setStream","serverStatus","db_error","addNotifyTypeText1","db_ok","stopServer","Перезапуск сервера","navConnectServer","setTextAConnect1","Connect","authConnectSrv","setScene","initOne","disconnect","saveTempMap","saveMapN59","saveCurMapFunc1","ws","secure","s",":","Подключение к ","Идёт авторизация","isOwner","eventsList","chatTextColorList","chatMsgReportsMax","priceSaveMap","priceRetMapServer","priceSendChatColorMsg","priceChangeNickColor","priceChangeNickResetColor","priceOffNickRainbow","priceTesterGetMoney","actionItemsNums","actionItemsNumsPos","prizeTopHour","prizeTopDay","waitGR","priceGROpytExit","webKey","ssServiceKey","toysEventLevels","banList","initBanList","popularList","initPopularList","koronaadminList","initKoronaadmin","dressList","exchangeMoney","priceChangeNick","defLengthNick","priceBuyStyle1","curStyle1Items","curStyle1","roomsListStream","flags","flagsSettings","viktorinaStream","persHomeStream","initRooms","giftFreeBonus","giftFree","blockAccount","openPopUpErrorDBServer","error_version","openPopUpErrorAuthServer","authError","Неправильный логин или пароль","wait","Сервер ещё не готов","fullscreen","normal","fullscreenOff","winnerZabeg","click","sfx_","assets/sounds/",".mp3","sound","play","playSFX","bark1","meow","playSFXByPersType","getAssetURL","playSFXLoop","preloadScene","AudioPlayer","setPlaylist","scenes.MapEditor","scenes.MainScene","hide1","selectAppStyle","beforeunload","user.authServiceSS","keydown","keyup","setValue","app.chat.Chat","connectWorldServer","stopAudio","stopAudioPlayer","ScreenshotPage","isShowChat","getImage","CropBitmap","crop","removeURL","openPopUpPhotoEditorBM","openPopUpScreenMov1","show","saveScreenFunc3","saveScreenFunc2","saveScreenFull","JSDomScreenshot","app.popup.PopUpScreenMov1","removeScene","scenes.Screenshot","isLoadScreenLib","firstLoadScreenLib","loadScript","/cdn/html2canvas.js?v=2","draw","saveScreenDisplayObject","Загрузка box2d","PopUpGiftUserInfo","openPopUpGiftUserInfo","/api.php","errorText","args","apply","binaryPost","apiBinary","autoFullscreen","all","setAppMinSize","ceil","each","resize","getChildAt","initHomeBG1","selectAppStyleObj","cache","main.getPopUpText","Main","lang.display.Sprite"];
var _Main={};
_Main["ctor"]=function(){
var th=this;
var libs=[_283[0],_283[1]];

var v=callMethod(this,System,_283[3],[libs]);
if(checkIn(v,_283[4])){
var sz1=v.error.size;
if((sz1 > 0)){
var nm=callMethod(this,v.error,_283[5],[_283[6]]);
var s3=((_283[7] + nm) + _283[8]);
callMethod(this,null,_283[9],[s3]);
return;

}

}
this.isDebugCheck=!1;
this.isNormalRotPos=!1;
var gl=GLOBAL;
if(checkIn(gl,_283[10])){
th.isNormalRotPos=!0;

}
callMethod(this,VM,_283[12],[_283[11],this]);
var MainApiObj={apiA:function(m,params,cb){
var url = '/apiA.php';
params.c=m;
callMethod(this,URL,_283[13],[url,params,function(ob){
if(checkIn(ob,_283[15])){
cb(ob.data);

}

},function(){

}]);

}};
var SettingsFlagsObj={SOUND:(1 << 1),DEBUG_PHYSICS:(1 << 2),MY_NICK_COLOR:(1 << 3),GAME_BG:(1 << 4),BARK_ACTION:(1 << 5),SUPER_JUMP:(1 << 6),HIDE_MAP:(1 << 7),GAMEPAD:(1 << 8),getDef:function(){
var v=(SettingsFlagsObj.SOUND | SettingsFlagsObj.GAME_BG);
if(GLOBAL.$app.isMobile){
v=(v | SettingsFlagsObj.GAMEPAD);

}
return v;

}};
var gDisplay=lang.display;
callMethod(this,VM,_283[12],[_283[16],gDisplay.Sprite]);
callMethod(this,VM,_283[12],[_283[17],gDisplay.BitmapMovieClip]);
callMethod(this,VM,_283[12],[_283[18],gDisplay.Bitmap]);
callMethod(this,VM,_283[12],[_283[19],lang.text.TextField]);
callMethod(this,VM,_283[12],[_283[20],lang.text.TextInput]);
callMethod(this,VM,_283[12],[_283[21],MainApiObj]);
callMethod(this,VM,_283[12],[_283[22],{ERROR:-1,OK:1,NO_ROOM:2,NO_ONLINE:3,BAN:4,NO_MONEY:5,NO_CHANGE:6,EXISTS:7,EMPTY:8,TIME_EXISTS:9,ACCESS_DENIED:10,ERROR_DB:11,NO_USER:12,VERSION_ERROR:13,ERROR_MESSAGE:14,NO_ACCESS_WRITE:15,WARN:16}]);
callMethod(this,VM,_283[12],[_283[23],{NO:-1,FEMALE:1,MALE:2,SYSTEM:3}]);
callMethod(this,VM,_283[12],[_283[24],{DEF:0,DIALOG_PRIVATE_USER:1,DIALOG_ROOM:-1}]);
callMethod(this,VM,_283[12],[_283[25],{MSG_USER:1,PRIZE_MSG:2,GIFT_MSG:3,EVENT_MSG:4,SYSTEM_MSG:5,BUILDER:10}]);
callMethod(this,VM,_283[12],[_283[26],{DELETE_MSG:(1 << 1),BAN_ACCESS:(1 << 2),MSG_REPORT_ACCESS:(1 << 3),RESTORE_MSG:(1 << 4)}]);
callMethod(this,VM,_283[12],[_283[27],{NO_VISIBLE_ONLINEPANEL:(1 << 1)}]);
callMethod(this,VM,_283[12],[_283[28],SettingsFlagsObj]);
callMethod(this,VM,_283[12],[_283[29],{DECOR:1,WALL:2,BOX:3,BALL:4,TREE1:5,TRAMPOLINE:6,HEAVYBOX:7,CACTUS:8,PERS:9,EXIT:10,ITEM1:11,TEXT:15,POINT:20,TELEPORT:21}]);
callMethod(this,Object,_283[30],[this,{appName:_283[31],runtimeType:'',sp1:700,sceneWidth:750,reconnectEnable:!1,isDisconnectScene:!0,vm2Service:null,cfgTxtSplit:null,isResetHeight:!1,isDrawBitmapStream:null,isFirstConnected:!1,disconnectCount:0,isQW1:!1,isLocalConnectV:!1,isLoadBG:!1,loadLibSpr:null,mainMapSpr:null,eventsActionMaster:null,event8marta:null,eventEgg:null,eventCur1:null,accountVM2:null,cfgDataObj:{},authFormData1:null,isAuthForm:!1,isWallOptimize:!1,isMobile:!1,connect:null,appStageWidth:0,appStageHeight:0,lastStageWidth:0,lastStageHeight:0,stageScaleWidth:0,stageScaleHeight:0,serversCurPos:0,domScaleV:1,supportVersion:1,persStreamHome:null,viktorinaStream:null,vm2CacheBin:null,appMinWidth:800,appMinHeight:600,firstStageH:0,popupMinW:600,popupMinH:560,popupScale:1,isWeb:!1,uiMobile:!1,curClickElem:null,mouseUpEventsOne:[],widgetInspectorProps:null,jsonFilesData:{},reconnectTimer:null,isStandalone:!1,isWorldClass:!1,fpsCBInit:!1,webconnectKey:"",assetsObjURL:{},cachePopUpText:{},curStyleAppObj:null,defAppStyle:1,styleAppType:1,firstClick:!1,firstClick1:!1,scene:null,roomsListStreamID:-1,roomsListStream:null,gameRoom:null,screenCanvas:null,mapEditor:null,mapEditorWorld:null,curAudioPlayer1:null,worldStream:null,gARG:null,keyAuth:'',fileUrl:'',apiYaGames:null,curScreenshotScene:null,screenshotFuncQ:null,webconnect:{send:function(cmd,params,cb){
callMethod(this,GLOBAL.$app,_283[32],[cmd,params,cb]);

},isHTMLContent:function(){
return !0;

}}}]);
callMethod(this,System,_283[33],[this.appName]);
this.stage.deviceOrientation=_283[34];
var pt=System.platform.type;
var plInfo2=System.platform;
if(checkIn(plInfo2,_283[35]) && plInfo2.mobile){
this.isMobile=!0;

}
if(checkIn(plInfo2,_283[36])){
this.runtimeType=plInfo2.runtime;

}
if((this.runtimeType == _283[37])){
Object.clone=function(o){
if(checkIs(o,_283[38])){
var a=[];
var i=0;
while((i < o.size)){
var v=callMethod(this,Object,_283[39],[o[i]]);
callMethod(this,a,_283[40],[v]);
i++;
}
o=a;

}else if(checkIs(o,_283[41])){
var ob={};
for(var n in o){
var v=callMethod(this,Object,_283[39],[o[n]]);
ob[n]=v;

}
o=ob;

}

return o;

};

}
if((pt == _283[2])){
this.isWeb=!0;
this.isWallOptimize=!0;

}else{
this.isStandalone=!0;

}
if((pt == _283[42])){
this.isMobile=!0;
this.appMinHeight-=150;
this.devicePixelRatio=1;

}else if((pt == _283[2])){
if(checkIn(stage,_283[43])){
var deviceRatio=this.stage.devicePixelRatio;
this.devicePixelRatio=deviceRatio;
this.stage.pixelRatio=deviceRatio;

}
if(!this.isMobile){
this.stage.appMinWidth=(this.appMinWidth - 5);
this.stage.appMinHeight=(this.appMinHeight - 30);

}else{
this.appMinHeight-=100;

}

}

if((pt != _283[2])){
var supportObj=callMethod(this,System,_283[44],[_283[45]]);
if(supportObj){
if(checkIn(supportObj,_283[46])){
this.supportVersion=supportObj.version;

}

}

}
callMethod(this,GLOBAL.ToolTip,_283[47]);
var tm1=callMethod(this,Date,_283[48]);
var assetsObj=null;
this.urlObj=this.loaderInfo.parameters;
this.apiVK={callMethod:function(){

},api:function(){

}};
GLOBAL.Config.authType=_283[49];
if(checkIn(this.urlObj,_283[50])){
var pt4=this.urlObj.platform;
var p3=callMethod(this,pt4,_283[51],[_283[52]]);
if((p3 == 0)){
this.isMobile=!0;

}

}
if(checkIn(this.urlObj,_283[53])){
if(checkIn(this.urlObj,_283[54])){
this.keyAuth=(((_283[55] + this.urlObj.viewer_id) + _283[56]) + this.urlObj.auth_key);
GLOBAL.Config.authType=_283[57];
this.apiVK=ctorObject(lang.api.social.VK);
callMethod(this,this.apiVK,_283[58],[_283[59],function(){

}]);

}

}
if(checkIn(this.urlObj,_283[60])){
this.apiYaGames=ctorObject(lang.api.social.YandexGames,[{}]);

}
this.fullPathAppData='';

var genAuthReg=function(){
var tm1=callMethod(this,Date,_283[61]);
var p2=callMethod(this,GLOBAL.AppUtils,_283[62],[30]);
var arr22=[5,8,2,6,7,3,9,3,0,4,2,8,2,9,4,7,2,1];
var s6=callMethod(this,arr22,_283[5],[_283[63]]);
var hashV=callMethod(this,null,_283[64],[((((('' + tm1) + _283[56]) + p2) + _283[56]) + s6)]);
var vv=(((((_283[65] + tm1) + _283[56]) + p2) + _283[56]) + hashV);
return vv;

};
th.gARG=genAuthReg;
var cbClick=function(){
GLOBAL.$app.firstClick=!0;
callMethod(this,this.stage,_283[66],[_283[67],arguments.callee]);

};
callMethod(this,this.stage,_283[58],[_283[67],cbClick]);
var domainObj=callMethod(this,GLOBAL.AppUtils,_283[68],[this.stage.loaderInfo.url]);

this.domainOrig=domainObj.domain;
this.domain=domainObj.domain;
this.domain2=domainObj.domain;
if((this.domain == _283[69])){
this.domain=_283[70];
this.domain2=_283[71];

}
this.domainObj=domainObj;
this.mapStructParams=[_283[72],_283[73],_283[74],_283[75],_283[76],_283[77],_283[78],_283[79],_283[80]];
callMethod(this,GLOBAL.Config,_283[47]);
GLOBAL.Config.settingsFlags=callMethod(this,GLOBAL.SettingsFlags,_283[81]);
var domainUrl=((domainObj.protocol + _283[82]) + this.domain2);
this.pathAssets=(domainUrl + _283[83]);
this.bgPath=(domainUrl + _283[84]);
this.koronaAdminPath=_283[85];
this.popularPath=_283[86];
this.koronaAdminPath=(this.pathAssets + _283[87]);
this.popularPath=(this.pathAssets + _283[88]);

this.loadedBGNum=0;
this.domainUrl=domainUrl;

this.pathAssetsLocal=(this.fullPathAppData + _283[89]);
this.pathCfg=(this.fullPathAppData + _283[90]);
this.pathCfgTxt=(this.fullPathAppData + _283[91]);

callMethod(this,this,_283[92]);
if(checkIn(this.cfgDataObj,_283[93])){
GLOBAL.Config.PercGameRoomScale=this.cfgDataObj.percGRScale;

}
if(checkIn(this.cfgDataObj,_283[94])){
GLOBAL.Config.PercGameRoomGamePadScale=this.cfgDataObj.percGamePadScale;

}
if(checkIn(this.cfgDataObj,_283[95])){
if(this.cfgDataObj.uiMobile){
this.uiMobile=!0;

}

}

if(checkIn(this.urlObj,_283[96])){
this.keyAuth=this.urlObj[_283[96]];

}
if(checkIn(this.urlObj,_283[97])){
this.fileUrl=this.urlObj[_283[97]];

}
if((this.fileUrl.size > 0)){
var pos3=callMethod(this,this.fileUrl,_283[51],[_283[98]]);
if((pos3 > -1)){
this.fileUrl=callMethod(this,this.fileUrl,_283[99],[0,pos3]);

}

}

var auth2cb=function(){
var storage=callMethod(this,System,_283[100]);
var hashV='';
var kk2=_283[101];
if(checkIn(storage,kk2)){
hashV=storage[kk2];

}else{
hashV=genAuthReg();
storage[kk2]=hashV;

}
th.keyAuth=hashV;

};
if(checkIn(this.urlObj,_283[102])){
auth2cb();

}

var rainbowColorsArr=[_283[103],_283[104],_283[105],_283[106],_283[107],_283[108],_283[109]];
this.rainbowColorsArr=rainbowColorsArr;
this.rainbowColorsRatios=[];
var sz1=this.rainbowColorsArr.size;
var i=0;
while((i < sz1)){
callMethod(this,this.rainbowColorsRatios,_283[40],[(i / sz1)]);
i++;
}
var rainbowColors=callMethod(this,rainbowColorsArr,_283[5],[_283[63]]);
var styleSpr=ctorObject(lang.display.Sprite);
callMethod(this,null,_283[110],[styleSpr]);
styleSpr.html=(((("<style>body{font-size:16px;}.noSelect{user-select:none;}.yesSelect{user-select:auto;}@font-face {font-family: 'BIP';src:url('" + GLOBAL.$app.domainUrl) + "/fonts/bip.ttf') format('truetype');}.smileV{display:inline-block;width:50px;height:30px;cursor:pointer;text-align:center;}.smileV:hover{cursor:pointer;background:#CCCCCC;opacity:0.7;}.emojiV{width:50px;height:30px;cursor:pointer;text-align:center;}.emojiV:hover{cursor:pointer;background:#CCCCCC;opacity:0.7;}.scroll1::-webkit-scrollbar-track{background-color: #000000;width:7px;height:7px;}.scroll1::-webkit-scrollbar-thumb{background-color: #fcdbaa;width: 7px;height: 7px;}.scroll1::-webkit-scrollbar{width:7px;height:7px;}.nickRainbow {background: linear-gradient(to right,") + rainbowColors) + ");-webkit-background-clip: text;background-clip: text;-webkit-text-fill-color: transparent;}.alphaAnim07:hover{cursor:pointer;opacity:0.7;}.dialogHover:hover{cursor:pointer;opacity:0.8;}.chatNick:hover{cursor:pointer;opacity:0.7;}@keyframes rotating {from{transform: rotate(0deg);}to {transform: rotate(360deg);}}.rotating{animation: rotating 10s linear infinite;}.chatLink{color:#FD92FE;}.chatLink:hover{color:#FD92FE;opacity:0.7;}</style>");
this.styleSpr=styleSpr;
var cssProps=callMethod(this,GLOBAL.HTMLSprite,_283[111],[styleSpr.html]);
GLOBAL.HTMLSprite.styles=cssProps;
var styleSpr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_283[110],[styleSpr2]);
styleSpr2.html='<span style="font-family:BIP;position:absolute;left:-100px;">test</span>';
callMethod(this,Timer,_283[59],[5000,function(){
callMethod(this,this,_283[112]);
callMethod(this,GLOBAL.$app,_283[113],[styleSpr2]);

}]);
var jsCode="\nvar callbackCB=null;\nfunction navURL(s){window.open(s);}\nfunction initCallback(cb){callbackCB=cb;}\nfunction cbArgs(t){\nvar a=[];\nfor(var i=1; i < arguments.length; i++)a.push(arguments[i]);\ncallbackCB.callDispatchEvent(null,[t,a]);\n}\nfunction JSDomScreenshot(o,w,h,cb){\nhtml2canvas(o.div,{backgroundColor:null,width:parseInt(w),height:parseInt(h),allowTaint:true,taintTest:false,useCORS:true}).then(function(cnv){\nif(cnv && cb){\nvar enc=cnv.toDataURL('image/png');\nif(typeof cb=='function'){\ncb(enc);\n}else{\ncb.callDispatchEvent(null,[enc]);\n}\n}\n});\n\n}\n\n";
var jsCallback=function(t,args){
if((t == _283[114])){
var idd=args[0];
var qq=ctorObject(_283[115],[GLOBAL.$app]);
callMethod(this,null,_283[116],[GLOBAL.$app.stage,qq]);
callMethod(this,qq.scenesMaster,_283[117],[idd]);
callMethod(this,null,_283[118],[qq]);

}else if((t == _283[119])){
var idd=args[0];
var u=callMethod(this,GLOBAL.$app.cacheUsers,_283[120],[idd]);
if(u){
callMethod(this,GLOBAL.$app.chat,_283[121],[u,!1,!1]);

}

}else if((t == _283[122])){
var mm=args[0];
var isAdmin=callMethod(this,GLOBAL.UserMode,_283[123],[mm]);
if(isAdmin){
callMethod(this,GLOBAL.$app.popupHtml,_283[124],['\n\nИмеет должность\nАдминистратор']);

}else{
var isMod=callMethod(this,GLOBAL.UserMode,_283[125],[mm]);
if(isMod){
callMethod(this,GLOBAL.$app.popupHtml,_283[124],['\n\nИмеет должность\nМодератор чата']);

}else{
var isModMaps=callMethod(this,GLOBAL.UserMode,_283[126],[mm]);
if(isModMaps){
callMethod(this,GLOBAL.$app.popupHtml,_283[124],['\n\nИмеет должность\nМодератор карт']);

}

}

}

}else if((t == _283[127])){
callMethod(this,GLOBAL.$app,_283[32],[_283[128],{},function(v){
if((v == 1)){
callMethod(this,document.location,_283[129]);

}

}]);

}else if((t == _283[130])){
if(GLOBAL.$app.keyAuth){
var kk4=GLOBAL.$app.keyAuth;
var ind4=callMethod(this,kk4,_283[51],[_283[65]]);
if((ind4 == 0)){
var url2=('https://ag6.ru/dogsgame4/siteAuth.php?temp=' + kk4);
callMethod(this,System,_283[44],[(_283[131] + url2)]);

}

}

}else if((t == _283[132])){
callMethod(this,GLOBAL.$app.popup,_283[133],[1]);

}else if((t == _283[134])){
callMethod(this,GLOBAL.$app.popup,_283[133],[2]);

}else if((t == _283[135])){
callMethod(this,GLOBAL.$app.popup,_283[136],[1]);

}else if((t == _283[137])){
var idd=args[0];
var popupV=callMethod(this,GLOBAL.$app.popup,_283[138],[_283[139]]);
callMethod(this,GLOBAL.$app,_283[140],[idd,function(o){
if(popupV){
callMethod(this,popupV,_283[141]);

}
var tx1=_283[142];
if(o){
tx1=('' + o.text);

}
callMethod(this,GLOBAL.$app.popup,_283[138],[tx1]);

},{cache:!1}]);

}else if((t == _283[143])){
callMethod(this,GLOBAL.$app.popupHtml,_283[144]);

}else if((t == _283[145])){
callMethod(this,GLOBAL.$app.popup,_283[146]);

}else if((t == _283[147])){
if((args.size > 0)){
var roomid=args[0];
var res2=!0;
var scc=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(scc,GLOBAL.scenes.game.GameRoom)){
res2=!1;

}else if(checkIs(scc,GLOBAL.scenes.game.PrestartGameRoom1)){
res2=!1;

}

if(res2){
callMethod(this,GLOBAL.$app.gameMaster,_283[148],[roomid,0]);

}else{
callMethod(this,GLOBAL.$app.popup,_283[124],[_283[149]]);

}

}

}else if((t == _283[150])){
var idd=args[0];
idd=castInt(idd);
var popup1=callMethod(this,GLOBAL.$app.popup,_283[151],[_283[152]]);
callMethod(this,GLOBAL.$app.connect,_283[153],[function(vv){
if((vv == GLOBAL.ErrorType.OK)){
if(popup1){
callMethod(this,popup1,_283[154],[idd]);

}

}

},_283[155],idd]);

}else if((t == _283[156])){
var idd=args[0];
callMethod(this,GLOBAL.$app.popupHtml,_283[138],[(('<iframe width="500" height="300" src="https://www.youtube.com/embed/' + idd) + '" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>')]);


}else if((t == _283[157])){
var idd=args[0];
callMethod(this,GLOBAL.$app.chat,_283[158]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_283[159],[_283[160]]);
var sc2=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(sc2,GLOBAL.scenes.mapsAlbum.MapsAlbum)){
callMethod(this,sc2,_283[161],[idd]);

}

}else if((t == _283[162])){
var idd=args[0];
var popup1=callMethod(this,GLOBAL.$app.popup,_283[151],[_283[163]]);
if(popup1){
callMethod(this,popup1,_283[141]);

}
callMethod(this,GLOBAL.$app.popup,_283[164],[idd]);

}else if((t == _283[165])){
var idd=args[0];
var spl1=callMethod(this,idd,_283[166],[_283[56]]);
var roomid=castInt(spl1[0]);
var msgid=spl1[1];
callMethod(this,GLOBAL.$app.chat,_283[167],[roomid,msgid]);

}else if((t == _283[168])){
var idd=args[0];
var spl1=callMethod(this,idd,_283[166],[_283[56]]);
var roomid=castInt(spl1[0]);
var msgid=spl1[1];
callMethod(this,GLOBAL.$app.chat,_283[168],[roomid,msgid]);

}else if((t == _283[169])){
var idd=args[0];
var spl1=callMethod(this,idd,_283[166],[_283[56]]);
var roomid=castInt(spl1[0]);
var msgid=spl1[1];
callMethod(this,GLOBAL.$app.chat,_283[170],[roomid,msgid]);

}else if((t == _283[171])){
var idd=args[0];
var spl1=callMethod(this,idd,_283[166],[_283[56]]);
var roomid=castInt(spl1[0]);
var msgid=spl1[1];
var userid=0;
if((spl1.size > 2)){
userid=spl1[2];

}
callMethod(this,GLOBAL.$app.chat,_283[172],[roomid,msgid,userid]);

}else if((t == _283[173])){
var idd=args[0];
var spl1=callMethod(this,idd,_283[166],[_283[56]]);
var roomid=castInt(spl1[0]);
var msgid=spl1[1];
callMethod(this,GLOBAL.$app.chat,_283[174],[roomid,msgid]);

}else if((t == _283[175])){
var v=callMethod(this,GLOBAL.$app.smilesMaster,_283[176],[args[0]]);
callMethod(this,GLOBAL.$app.chat,_283[177],[v]);

}else if((t == _283[178])){
var v=args[0];
callMethod(this,GLOBAL.$app.chat,_283[177],[((_283[179] + v) + _283[180])]);

}























};
this.jsCallback=jsCallback;
callMethod(this,JSUtils,_283[181],[_283[182],jsCode]);
callMethod(this,JSUtils,_283[181],[_283[183],jsCallback]);

callMethod(this,VM,_283[12],[_283[184],function(t){
var args=[];
var i=1;
while((i < arguments.length)){
callMethod(this,args,_283[40],[arguments[i]]);
i++;
}
jsCallback(t,args);

}]);
this.popup=ctorObject(_283[185]);
this.popupHtml=ctorObject(_283[185]);
this.popupHtml5=ctorObject(_283[185]);
callMethod(this,VM,_283[12],[_283[186],this.popup]);
this.gcMaster=ctorObject(_283[187]);
this.mapsMaster=ctorObject(_283[188]);
this.mapsLocalMaster=ctorObject(_283[189]);
this.giftsMaster=ctorObject(_283[190]);
this.shopMaster=ctorObject(_283[191]);
this.dressMaster=ctorObject(_283[192]);
this.cacheUsers=ctorObject(_283[193]);
this.resolveNameMaster=ctorObject(_283[194]);
this.gameMaster=ctorObject(_283[195]);
this.userMaster=ctorObject(_283[196]);
this.worldMaster=ctorObject(_283[197]);
this.scenesMaster=ctorObject(_283[198]);
this.scenesMasterHtml5=ctorObject(_283[198]);
this.eventsActionMaster=ctorObject(_283[199]);
this.assetsDownloader=ctorObject(_283[200]);
this.flagsMaster=ctorObject(_283[201],[[0,0,0,0,0,0,0]]);
this.flagsSettings=ctorObject(_283[201],[[0,0,0,0,0,0,0]]);
this.levelsMaster=ctorObject(_283[202]);
this.user=ctorObject(_283[203],[0,_283[98]]);
this.systemUser=ctorObject(_283[203],[GLOBAL.UserMode.SYSTEM,_283[204]]);
this.systemUser.sex=GLOBAL.Sex.FEMALE;
callMethod(this,this.systemUser,_283[205],[{iconEmoji:1,popularLevel:2,popular:6000}]);
this.systemUser.mode=GLOBAL.UserMode.SYSTEM;
this.boarUser=ctorObject(_283[203],[-3,_283[206]]);
callMethod(this,this.boarUser,_283[205],[{sex:GLOBAL.Sex.MALE,mode:0,nick_itemid:1,popular:6000,popularLevel:2}]);
this.noUser=ctorObject(_283[203],[-8,_283[207]]);
this.noUser.mode=-8;
this.modMapsUser=ctorObject(_283[203],[-4,_283[208]]);
this.modMapsUser.mode=-4;
this.modMapsUser.popular=100;
callMethod(this,this.cacheUsers,_283[209],[this.noUser.id,this.noUser]);
callMethod(this,this.cacheUsers,_283[209],[this.systemUser.id,this.systemUser]);
callMethod(this,this.cacheUsers,_283[209],[this.modMapsUser.id,this.modMapsUser]);
callMethod(this,this.cacheUsers,_283[209],[this.boarUser.id,this.boarUser]);
callMethod(this,GLOBAL.$app,_283[210],[function(){

}]);
var cl2=callMethod(this,System,_283[211],[_283[212]]);
if(cl2){
this.isWorldClass=!0;

}
this.connectWorld=null;
this.mapTimeList=[60,90,120,180];
this.wordsColors=[[_283[213],_283[214]],[_283[215],_283[216]],[_283[217],_283[218]],[_283[219],_283[220]],[_283[221],_283[222]],[_283[223],_283[224]],[_283[225],_283[226]],[_283[227],_283[228]],[_283[229],_283[230]],[_283[231],_283[232]],[_283[233],_283[234]],[_283[235],_283[236]],[_283[237],_283[238]],[_283[239],_283[240]]];
this.stylesAppObj={};
var st1={audioPlayerBG:_283[241],chatInputColor:_283[242],zanaves1:_283[243],zanaves2:_283[244],zanaves3:_283[245],chatBG:_283[246],plashka:_283[247],roomActive:_283[248],roomNoActive:_283[249],menu1:{bg:_283[250],selectItem:_283[251],noSelectItem:_283[252]}};
var st2={audioPlayerBG:_283[253],chatInputColor:_283[254],zanaves1:_283[255],zanaves2:_283[256],zanaves3:_283[257],chatBG:_283[258],plashka:_283[259],roomActive:_283[260],roomNoActive:_283[261],menu1:{bg:_283[262],selectItem:_283[263],noSelectItem:_283[264]}};
var st3={audioPlayerBG:_283[265],chatInputColor:_283[266],zanaves1:_283[267],zanaves2:_283[268],zanaves3:_283[269],chatBG:_283[270],plashka:_283[271],roomActive:_283[272],roomNoActive:_283[273],menu1:{bg:_283[274],selectItem:_283[275],noSelectItem:_283[276]}};
this.stylesAppObj[1]=st1;
this.stylesAppObj[2]=st2;
this.stylesAppObj[3]=st3;
this.chat=null;
this.chatSpr=ctorObject(lang.display.Sprite);
this.cntSpr3=ctorObject(lang.display.Sprite);
this.sceneHtml=ctorObject(lang.display.Sprite);

this.smilesMaster=ctorObject(_283[277]);
this.moviesReader=ctorObject(lib.MoviesReader4);
this.moviesReader.isMovieJSON=!0;
this.moviesReader.global={appScreen:function(){
callMethod(this,GLOBAL.$app,_283[278]);

}};
this.moviesReader.resizeCB=function(ww,hh){
if((th.lastStageWidth == 0)){
th.lastStageWidth=ww;

}
if((th.lastStageHeight == 0)){
th.lastStageHeight=hh;

}
th.appStageWidth=ww;
th.appStageHeight=hh;
callMethod(this,GLOBAL.$app,_283[279]);

};

this.preloadReader=ctorObject(lib.MoviesReader4);
callMethod(this,this.preloadReader.fpsM,_283[112]);
this.preloadReader.isMovieJSON=!0;
var fpsV=30;
this.stage.framerate=fpsV;
this.koefFps=(30 / fpsV);
this.cnv=this.moviesReader.cnv;
this.noScaleDom=!0;
this.cnvSpr=ctorObject(lang.display.Sprite);
this.sceneSpr=ctorObject(lang.display.Sprite);
this.scenesMasterHtml5=this.scenesMaster;
callMethod(this,null,_283[110],[this.cnv]);
callMethod(this,this.cnv,_283[110],[this.sceneSpr]);
callMethod(this,null,_283[110],[this.cnvSpr]);
this.imagesList=[];
this.fpsCallbacks=[];
var fps=this.moviesReader.fpsM;
var cbFps=function(){
if(!th.isQW1){
th.isQW1=!0;

}
if(th.scene){
if(checkIn(th.scene,_283[280])){
callMethod(this,th.scene,_283[280]);

}

}
if(th.scenesMasterHtml5.curScene){
if(checkIn(th.scenesMasterHtml5.curScene,_283[280])){
callMethod(this,th.scenesMasterHtml5.curScene,_283[280]);

}

}
if(GLOBAL.$app.fpsCBInit){
var i=0;
while((i < th.fpsCallbacks.size)){
var cb=th.fpsCallbacks[i];
cb();
i++;
}

}

};
this.addFpsCB=function(cb){
if(cb){
callMethod(this,GLOBAL.$app.fpsCallbacks,_283[40],[cb]);
GLOBAL.$app.fpsCBInit=!0;

}

};
this.removeFpsCB=function(cb){
if(cb){
var i=0;
while((i < GLOBAL.$app.fpsCallbacks.size)){
var cb2=GLOBAL.$app.fpsCallbacks[i];
if((cb2 == cb)){
callMethod(this,GLOBAL.$app.fpsCallbacks,_283[281],[i]);

}
i++;
}
if((GLOBAL.$app.fpsCallbacks.size <= 0)){
GLOBAL.$app.fpsCBInit=!1;

}

}

};
callMethod(this,fps,_283[282],[cbFps]);
this.fpsMaster=fps;
callMethod(this,GLOBAL.AppInit,_283[59],[this]);
this.isCtrlKey=!1;
this.tilesList=[];

var isLoad3=!1;
var pathMoviesSave='';
var pathFiles=this.fullPathAppData;
var movieFileLocalBytes=null;


if(!isLoad3){
var loadLibSpr=null;
var tmPreload=null;
var loadMovieFileData=function(ba){
if(tmPreload){
callMethod(this,tmPreload,_283[112]);

}
tmPreload=null;
if(!movieFileLocalBytes){


}
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[_283[285]]);

}
callMethod(this,GLOBAL.$app,_283[279]);
callMethod(this,GLOBAL.$app.moviesReader,_283[286],[ba,function(){
var isAuthYa=!1;
if(GLOBAL.$app.apiYaGames){
isAuthYa=!0;

}
if(isAuthYa){
callMethod(this,loadLibSpr,_283[284],[_283[287]]);
callMethod(this,GLOBAL.$app.apiYaGames,_283[59],[function(){
callMethod(this,loadLibSpr,_283[284],[_283[288]]);
callMethod(this,GLOBAL.$app.apiYaGames,_283[289],[function(player){
callMethod(this,GLOBAL.$app,_283[290]);
if(player){
GLOBAL.Config.authType=_283[291];
th.keyAuth=(_283[292] + player.signature);

}else{
auth2cb();

}
callMethod(this,GLOBAL.$app,_283[293]);

}]);

}]);

}else{
callMethod(this,GLOBAL.$app,_283[290]);
if(checkIn(GLOBAL.$app.urlObj,_283[294])){
if((GLOBAL.$app.urlObj.scene == _283[295])){
callMethod(this,GLOBAL.$app.scenesMaster,_283[296]);

}else{
callMethod(this,GLOBAL.$app,_283[297]);

}

}else{
callMethod(this,GLOBAL.$app,_283[293]);

}

}

if(checkIn(GLOBAL.$app.moviesReader,_283[279])){
callMethod(this,GLOBAL.$app.moviesReader,_283[279]);

}

}]);

};
loadLibSpr=ctorObject(_283[298]);
callMethod(this,GLOBAL.$app.sceneSpr,_283[110],[loadLibSpr]);
GLOBAL.$app.loadLibSpr=loadLibSpr;
callMethod(this,GLOBAL.$app,_283[279]);
var isDownload2=!1;
if(isDownload2){
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[_283[299]]);

}
var mDownload=ctorObject(_283[300],[GLOBAL.Config.movieFileName]);
callMethod(this,mDownload,_283[301],[function(t,dt1){
if((t == _283[302])){
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[_283[303]]);

}

}else if((t == _283[304])){
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[_283[285]]);

}
callMethod(this,Timer,_283[59],[500,function(){
callMethod(this,this,_283[112]);
if(dt1){
loadMovieFileData(dt1);

}
mDownload=null;

}]);

}


},function(){
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[_283[305]]);

}

},function(e){
var perc=castInt(((e.loaded / e.total) * 100));
var loadedb=castInt((e.loaded / 1024));
var totalKb=castInt((e.total / 1024));
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[((((((((((_283[306] + mDownload.curPart) + _283[307]) + mDownload.maxParts) + _283[308]) + loadedb) + _283[309]) + totalKb) + _283[310]) + perc) + _283[311])]);

}

}]);

}else{
var isLoad8=!0;

if(isLoad8){
callMethod(this,URL,_283[312],[GLOBAL.Config.pathMoviesFile,loadMovieFileData,function(){
if(loadLibSpr){
callMethod(this,loadLibSpr,_283[284],[_283[305]]);

}

},function(e){
var perc=castInt(((e.loaded / e.total) * 100));
var loadedb=castInt((e.loaded / 1024));
var totalKb=castInt((e.total / 1024));
callMethod(this,loadLibSpr,_283[284],[((((((_283[313] + loadedb) + _283[309]) + totalKb) + _283[310]) + perc) + _283[311])]);

}]);

}else{
if(movieFileLocalBytes){
loadMovieFileData(movieFileLocalBytes);

}

}

}

}

};
_Main[_283[314]]=function(){

return null;

};
_Main[_283[92]]=function(){
var th=this;


};
_Main[_283[315]]=function(){
var th=this;


};
_Main[_283[297]]=function(){
GLOBAL.Config.isTestAuth=!0;
callMethod(this,GLOBAL.$app.flagsSettings,_283[116],[1,6]);
callMethod(this,GLOBAL.$app.flagsSettings,_283[116],[4,4]);
this.connect=ctorObject(_283[0],[_283[316],GLOBAL.Config.CONNECT_HOST,GLOBAL.Config.CONNECT_PORT]);
GLOBAL.$app.user=ctorObject(_283[203]);
GLOBAL.$app.user=ctorObject(_283[203],[0,_283[317]]);
callMethod(this,this.cacheUsers,_283[209],[GLOBAL.$app.user.id,GLOBAL.$app.user]);
callMethod(this,GLOBAL.$app.user,_283[318]);
callMethod(this,this.scene.bar,_283[319],[!0]);
callMethod(this,GLOBAL.$app,_283[320]);
if(checkIn(GLOBAL.$app.urlObj,_283[294])){
callMethod(this,GLOBAL.$app.scenesMaster,_283[321]);
var nm=GLOBAL.$app.urlObj[_283[294]];
if(nm){
if((nm.size > 0)){
var spl=callMethod(this,nm,_283[166],[_283[56]]);
if((spl.size > 0)){
var t=spl[0];
if((t == _283[160])){
var mapid=spl[1];
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_283[159],[_283[160]]);
var sc2=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(sc2,GLOBAL.scenes.mapsAlbum.MapsAlbum)){
sc2.noNavMenu=!0;
callMethod(this,sc2,_283[161],[mapid]);

}

}else if((t == _283[322])){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_283[323]);

}else if((t == _283[324])){
if((spl.size > 2)){
var ttt=spl[1];
var idd=spl[2];
callMethod(this,GLOBAL.$app,_283[32],[_283[325],{id:idd},function(obb){
if(obb){
if((obb.winnerid == 0)){
if((obb.type == _283[326])){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_283[327],[idd]);

}

}else{
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_283[328],[obb.winnerid,obb.time]);

}

}

}]);

}

}



}

}

}

}

};
_Main[_283[331]]=function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_283[329]);
callMethod(this,GLOBAL.$app.scenesMaster,_283[330]);

};
_Main[_283[210]]=function(cb,cberr){
callMethod(this,GLOBAL.$app,_283[332],[function(){
if(cb){
cb();

}

},cberr]);

};
_Main[_283[335]]=function(mode,colorPos){
var clr=callMethod(this,GLOBAL.AppUtils,_283[333],[mode,colorPos]);
if(clr){
clr=callMethod(this,clr,_283[99],[1]);
clr=callMethod(this,null,_283[334],[clr,16]);

}
return clr;

};
_Main[_283[338]]=function(){
var th=this;
th.isDisconnectScene=!1;
if(th.connect){
if(th.connect.sock){
callMethod(this,th.connect.sock,_283[336]);

}

}
if(checkIn(th.cfgDataObj,_283[337])){
delete th.cfgDataObj[_283[337]];
callMethod(this,th,_283[315]);

}
th.user=ctorObject(_283[203],[0,_283[317]]);
callMethod(this,th.scene.bar,_283[319],[!1]);
callMethod(this,th.scene,_283[59]);
callMethod(this,th.scenesMaster,_283[296]);

};
_Main[_283[339]]=function(){
GLOBAL.$app.scene.screenBut.visible=!0;


};
_Main[_283[340]]=function(){
if(this.cnv.parent){

}


};
_Main[_283[342]]=function(){
callMethod(this,GLOBAL.$app.popupHtml,_283[124],[_283[341]]);

};
_Main[_283[344]]=function(ba,cbok,cberr){
if(ba){
if(GLOBAL.Config.ssServiceKey){
var ssKey=GLOBAL.Config.ssServiceKey;
callMethod(this,URL,_283[13],[GLOBAL.Config.screenUploadURL,{img:ba,key:ssKey,appid:2},function(o){
if(o){
if(checkIn(o,_283[15])){
o=o.data;

}

}
var isOk=!1;
if(checkIn(o,_283[343])){
isOk=!0;

}
if(isOk){
if(cbok){
cbok(o.url);

}

}else{
if(cberr){
cberr();

}

}

},function(){
if(cberr){
cberr();

}

}]);

}else{
if(cberr){
cberr();

}

}

}

};
_Main[_283[345]]=function(login,pass){
var th=this;
this.authFormData1={login:login,pass:pass};
this.keyAuth=[_283[295],login,pass];
this.isAuthForm=!0;
callMethod(this,GLOBAL.$app,_283[293]);

};
_Main[_283[346]]=function(v){
var th=this;
this.keyAuth=('' + v);
this.isAuthForm=!0;
callMethod(this,GLOBAL.$app,_283[293]);

};
_Main[_283[293]]=function(){
var th=this;
var isNewConnect=!0;
callMethod(this,this,_283[347]);
if(this.isAuthForm){
if(this.connect){
if(this.connect.isConnect){
isNewConnect=!1;

}

}

}
if(isNewConnect){
var isConnect2=!1;
var isUTF16=!1;
var hostPath=_283[348];
var isSecure=!1;
var pt=System.platform.type;
var hostV1=GLOBAL.Config.CONNECT_HOST;
var portV1=GLOBAL.Config.CONNECT_PORT;
if((pt == _283[2])){
if((this.domainOrig != _283[69])){
portV1=0;
hostV1=((this.domainOrig + _283[349]) + hostPath);

}
if(hostV1=='localhost')hostV1='127.0.0.1';
}
if((pt != _283[2])){
portV1=GLOBAL.Config.CONNECT_PORT_NOSSL;
if(!GLOBAL.$app.isLocalConnectV){
isUTF16=callMethod(this,GLOBAL.AppUtils,_283[350]);
if(isUTF16){
isConnect2=!0;

}

}

}
if(isConnect2){
portV1=0;
hostV1=(_283[351] + hostPath);
isSecure=!0;

}else{

}
var pos2=GLOBAL.$app.serversCurPos;
if((pos2 < GLOBAL.Config.serversList.size)){
var el2=GLOBAL.Config.serversList[pos2];
if(checkIn(el2,_283[352])){
hostV1=el2.host;
portV1=0;
isSecure=!0;

}else{
hostV1=el2.host;
portV1=el2.port;
isSecure=!1;

}

}
this.connect=ctorObject(_283[0],[_283[316],hostV1,portV1]);
if((pt != _283[2])){
this.connect.sock.secure=isSecure;

}
this.connectWorld=this.connect;

this.connect.noAppCB=function(){
var sc1=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(sc1,GLOBAL.scenes.home.ConnectServerScene)){
sc1.t=_283[353];
callMethod(this,sc1,_283[354]);
callMethod(this,GLOBAL.$app,_283[279]);

}

};
callMethod(this,this.connect,_283[58],[_283[355],function(t,el){
callMethod(this,GLOBAL.$app.eventsActionMaster,_283[356],[t,el]);

}]);
callMethod(this,this.connect,_283[58],[_283[357],function(t,args){
if((t == _283[358])){
document.location.href='';

}else if((t == _283[359])){
callMethod(this,GLOBAL.$app.chat,_283[158]);
callMethod(this,GLOBAL.$app.scene,_283[360],['Через несколько минут произойдёт перезапуск сервера.',1]);

}else if((t == _283[361])){
callMethod(this,GLOBAL.$app.giftsMaster,_283[329]);

}else if((t == _283[362])){
if((args.size > 0)){
callMethod(this,GLOBAL.$app.dressMaster,_283[363],[args[0]]);

}

}else if((t == _283[364])){
if((args.size > 0)){
callMethod(this,GLOBAL.$app.chat,_283[158]);
var tt3=args[0];
callMethod(this,GLOBAL.$app.scene,_283[360],[tt3,1]);

}

}else if((t == _283[365])){
if((args.size > 0)){
var tt3=args[0];
callMethod(this,GLOBAL.$app.popupHtml,_283[138],[tt3]);

}

}else if((t == _283[366])){
callMethod(this,GLOBAL.$app.chat,_283[158]);
var t2=1;
if((args.size > 0)){
var tt3=args[0];
if((tt3 == _283[244])){
t2=2;

}else if((tt3 == _283[245])){
t2=3;

}


}
callMethod(this,GLOBAL.$app.scene,_283[367],[t2,'']);

}else if((t == _283[368])){
if((args.size > 0)){
callMethod(this,GLOBAL.$app.eventsActionMaster,_283[369],[args[0]]);

}

}








}]);
callMethod(this,this.connect,_283[58],[_283[370],function(v){
callMethod(this,GLOBAL.$app.user,_283[371],[v]);

}]);
callMethod(this,this.connect,_283[58],[_283[372],function(v){
callMethod(this,GLOBAL.$app.user,_283[373],[v]);

}]);
callMethod(this,this.connect,_283[58],[_283[374],function(lvl){
GLOBAL.$app.user.popularLevel=lvl;

}]);
callMethod(this,this.connect,_283[58],[_283[375],function(v){
callMethod(this,GLOBAL.$app.user,_283[376],[v]);

}]);
callMethod(this,this.connect,_283[58],[_283[377],function(v,opytV,prize,lvlOb){
GLOBAL.$app.user.lvlObj=lvlOb;
callMethod(this,GLOBAL.$app.user,_283[378],[v]);
callMethod(this,GLOBAL.$app.user,_283[371],[opytV]);
callMethod(this,GLOBAL.$app.popup,_283[379],[v,prize]);

}]);
callMethod(this,this.connect,_283[58],[_283[380],function(aa,countUsers){
if(GLOBAL.$app.chat){
var i=0;
while((i < aa.size)){
var idd=aa[i];
callMethod(this,GLOBAL.$app.chat,_283[381],[idd,countUsers]);
i++;
}

}

}]);
callMethod(this,this.connect,_283[58],[_283[382],function(aa,uu){
if(GLOBAL.$app.chat){
var userOb=ctorObject(_283[203]);
callMethod(this,userOb,_283[205],[uu]);
callMethod(this,GLOBAL.$app.chat,_283[383],[aa,userOb]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[384],function(roomid,ids){
if(GLOBAL.$app.chat){
var i=0;
while((i < ids.size)){
callMethod(this,GLOBAL.$app.chat,_283[385],[roomid,ids[i]]);
i++;
}

}

}]);
callMethod(this,this.connect,_283[58],[_283[386],function(roomid,obj,roomType){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[387],[roomid,obj,roomType,!0]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[388],function(roomid,t,obj){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[389],[roomid,t,obj]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[390],function(roomid,msgid,msg){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[390],[roomid,msgid,msg]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[391],function(roomid,msg){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[391],[roomid,msg]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[169],function(roomid,msgid,t){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[392],[roomid,msgid,t]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[393],function(nums){
if(GLOBAL.$app.user){
GLOBAL.$app.user.itemsEv1=nums;

}
callMethod(this,GLOBAL.$app.popup,_283[124],[('Найдена игрушка, у вас уже игрушек: ' + nums)]);

}]);
callMethod(this,this.connect,_283[58],[_283[394],function(t,obj,t1){
if((t == _283[395])){
if(obj){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[396],[obj.time]);

}

}

}else if((t == _283[397])){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[396],[0]);

}

}else if((t == _283[398])){
var prize=castInt(obj);
var ss5=_283[399];
if((t1 == 1)){
ss5=_283[400];

}
callMethod(this,GLOBAL.$app.popup,_283[401],[ss5,prize]);

}else if((t == _283[402])){
callMethod(this,GLOBAL.$app.popup,_283[403],[t1,obj]);

}else if((t == _283[404])){
if((obj == 1)){
var opytV1=t1;
callMethod(this,GLOBAL.$app.popup,_283[124],[('\nНайдена золотая звезда!\nПолучено опыта: ' + opytV1)]);

}

}else if((t == _283[405])){
var check3=callMethod(this,GLOBAL.$app.flagsSettings,_283[406],[1,5]);
if(!check3){
var otuser=obj;
var giftid=t1;
callMethod(this,GLOBAL.$app,_283[407],[otuser,giftid,'']);

}

}






}]);
callMethod(this,this.connect,_283[58],[_283[408],function(t){
callMethod(this,GLOBAL.$app.scene.bar,_283[409],[t]);

}]);
callMethod(this,this.connect,_283[58],[_283[410],function(v){
callMethod(this,GLOBAL.$app.user,_283[411],[v]);

}]);
callMethod(this,this.connect,_283[58],[_283[412],function(userid,statusid){
var uu=callMethod(this,GLOBAL.$app.cacheUsers,_283[120],[userid]);
if(uu){
uu.iconEmoji=statusid;

}
if(GLOBAL.$app.user){
if((GLOBAL.$app.user.id == userid)){
GLOBAL.$app.user.iconEmoji=statusid;
var sc1=GLOBAL.$app.scenesMasterHtml5.curScene;
if(sc1){
if(checkIn(sc1,_283[413])){
if(checkIn(sc1,_283[414])){
if(uu){
callMethod(this,sc1,_283[414],[userid,uu]);

}

}

}

}

}

}

}]);
callMethod(this,this.connect,_283[58],[_283[415],function(id,v){
callMethod(this,GLOBAL.$app.cacheUsers,_283[416],[id,_283[417],v]);
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[418],[id]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[419],function(u){
if(u){
var isUpdChat=!0;
var c=ctorObject(_283[203]);
callMethod(this,c,_283[205],[u]);
var id=c.id;
callMethod(this,GLOBAL.$app.cacheUsers,_283[209],[id,c]);
if(GLOBAL.$app.user){
if((id == GLOBAL.$app.user.id)){
if((GLOBAL.$app.user.nick != c.nick)){
callMethod(this,GLOBAL.$app.user,_283[420],[c.nick]);

}
if((GLOBAL.$app.user.popularIcon != c.popularIcon)){
isUpdChat=!1;
callMethod(this,c,_283[373],[c.popular,!0]);

}
if((GLOBAL.$app.user.mode != c.mode)){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_283[421]);

}
callMethod(this,GLOBAL.$app.user,_283[205],[u]);
if(GLOBAL.$app.scene){
callMethod(this,GLOBAL.$app.scene,_283[414],[id,GLOBAL.$app.user]);
callMethod(this,GLOBAL.$app,_283[279]);

}

}else{
callMethod(this,GLOBAL.$app.user,_283[205],[u]);

}

}

}
if(GLOBAL.$app.chat){
if(isUpdChat){
callMethod(this,GLOBAL.$app.chat,_283[418],[id]);

}

}
var sc1=GLOBAL.$app.scenesMaster.curScene;
if(sc1){
if(checkIn(sc1,_283[413])){
if(checkIn(sc1,_283[414])){
var u1=callMethod(this,GLOBAL.$app.cacheUsers,_283[120],[id]);
if(u1){
callMethod(this,sc1,_283[414],[id,u1]);

}

}

}

}
var sc1=GLOBAL.$app.scenesMasterHtml5.curScene;
if(sc1){
if(checkIn(sc1,_283[413])){
if(checkIn(sc1,_283[414])){
var u1=callMethod(this,GLOBAL.$app.cacheUsers,_283[120],[id]);
if(u1){
callMethod(this,sc1,_283[414],[id,u1]);

}

}

}

}

}

}]);
callMethod(this,this.connect,_283[58],[_283[422],function(t,v){
if((t == _283[423])){
callMethod(this,GLOBAL.$app.popup,_283[424],[t,v]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[425],function(t,v){
if((t == _283[426])){
callMethod(this,GLOBAL.$app.user,_283[427],[t,v]);

}else if((t == _283[423])){
callMethod(this,GLOBAL.$app.user,_283[427],[t,v]);

}else if((t == _283[428])){
callMethod(this,GLOBAL.$app.user,_283[427],[t,v]);

}



}]);
callMethod(this,this.connect,_283[58],[_283[429],function(v){
GLOBAL.$app.user.dogsCount=v;
var sc1=GLOBAL.$app.scenesMaster.curScene;
if(checkIs(sc1,GLOBAL.scenes.TravelLevels)){
if(sc1.levels){
callMethod(this,sc1.levels,_283[430]);

}

}

}]);
callMethod(this,this.connect,_283[58],[_283[431],function(v,pos){
if(GLOBAL.$app.user){
GLOBAL.$app.user.actionItemsNums=v;
GLOBAL.$app.user.actionItemsNumsPos=pos;

}
if(GLOBAL.$app.scene){
callMethod(this,GLOBAL.$app.scene,_283[432],[v]);

}

}]);
callMethod(this,this.connect,_283[58],[_283[433],function(userid,streamid){
callMethod(this,GLOBAL.$app.cacheUsers,_283[301],[[userid],function(){
var uu=callMethod(this,GLOBAL.$app.cacheUsers,_283[120],[userid]);
if(uu){
var ufo=ctorObject(_283[434],[uu]);
var stream=callMethod(this,GLOBAL.$app.connect,_283[435],[streamid]);
callMethod(this,ufo,_283[436],[stream]);
callMethod(this,GLOBAL.$app,_283[110],[ufo]);

}

}]);

}]);
callMethod(this,this.connect,_283[58],[_283[437],function(v){
if((v == _283[438])){
callMethod(this,GLOBAL.$app.scene,_283[439],['Проблема с доступом к базе данных']);

}else if((v == _283[440])){
callMethod(this,GLOBAL.$app.scene,_283[439],['Соединение с базой данных восстановлено',1,4]);

}else if((v == _283[441])){
callMethod(this,GLOBAL.$app.scene,_283[439],[_283[442],2]);

}



}]);
if(GLOBAL.$app.reconnectEnable){
callMethod(this,this.scenesMasterHtml5,_283[443]);

}else if(!GLOBAL.$app.isAuthForm){
callMethod(this,this,_283[444]);

}

callMethod(this,this.connect,_283[445],[function(){
GLOBAL.$app.serversCurPos=0;
GLOBAL.$app.isDisconnectScene=!0;
GLOBAL.$app.isFirstConnected=!0;
GLOBAL.$app.reconnectEnable=!1;
callMethod(this,GLOBAL.$app,_283[446]);

},function(){
th.roomsListStream=null;
if(checkIs(GLOBAL.$app.scenesMaster.curScene,GLOBAL.scenes.AuthScene)){
callMethod(this,GLOBAL.$app.scenesMaster.curScene,_283[447],[_283[354]]);

}else{
if(checkIn(GLOBAL.$app.scenesMasterHtml5.curScene,_283[354])){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_283[354]);

}
callMethod(this,GLOBAL.$app,_283[279]);

}
if((GLOBAL.Config.serversList.size > 0)){
GLOBAL.$app.serversCurPos+=1;
if((GLOBAL.$app.serversCurPos < GLOBAL.Config.serversList.size)){
callMethod(this,Timer,_283[448],[1000,function(){
callMethod(this,GLOBAL.$app,_283[293]);

}]);

}else{
GLOBAL.$app.serversCurPos=0;

}

}

},function(){
th.roomsListStream=null;
if(th.isDisconnectScene){
callMethod(this,th.scenesMaster,_283[329]);
callMethod(this,th.scenesMasterHtml5,_283[329]);
callMethod(this,th.scenesMasterHtml5,_283[443],[_283[449]]);
callMethod(this,th.popup,_283[124],['\n\n\nСоединение с сервером потеряно.']);

}
if(GLOBAL.$app.mapEditor){
if(GLOBAL.$app.isStandalone){
callMethod(this,GLOBAL.$app.mapEditor,_283[450]);

}else{
if(checkIn(GLOBAL.$app.mapEditor,_283[451])){

}else{
GLOBAL.$app.mapEditor.saveMapN59=1;
callMethod(this,GLOBAL.$app.mapEditor,_283[452]);

}

}

}

}]);

}else{
callMethod(this,GLOBAL.$app,_283[446]);

}

};
_Main[_283[444]]=function(){
callMethod(this,this.scenesMasterHtml5,_283[443]);
if(GLOBAL.$app.connect){
if(checkIn(GLOBAL.$app.scenesMaster.curScene,_283[284])){
var pref3=_283[453];
if(checkIn(GLOBAL.$app.connect.sock,_283[454])){
if(GLOBAL.$app.connect.sock.secure){
pref3+=_283[455];

}

}
var url2=((pref3 + _283[82]) + GLOBAL.$app.connect.host);
if((GLOBAL.$app.connect.port > 0)){
url2=((url2 + _283[456]) + GLOBAL.$app.connect.port);

}
callMethod(this,GLOBAL.$app.scenesMaster.curScene,_283[284],[(_283[457] + url2)]);

}

}

};
_Main[_283[347]]=function(){
this.isStatusA1=!1;
if(this.reconnectTimer){
callMethod(this,this.reconnectTimer,_283[112]);
this.reconnectTimer=null;

}

};
_Main[_283[446]]=function(){
var tm1=1000;
var th=this;
var platformType=System.platform.type;
if((platformType == _283[2])){
if(th.isMobile){
platformType=_283[35];

}

}
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.home.ConnectServerScene)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_283[284],[_283[458]]);

}
callMethod(this,GLOBAL.$app.connect,_283[153],[function(statusServer,v,u,cfgObj,roomsList){
if((statusServer == _283[304])){
if((v == GLOBAL.ErrorType.OK)){
GLOBAL.$app.user=ctorObject(_283[203]);
callMethod(this,GLOBAL.$app.user,_283[205],[u]);
if(checkIn(cfgObj,_283[459])){
if((cfgObj.isOwner == 1)){
GLOBAL.$app.user.isOwner=1;

}

}
if(checkIn(cfgObj,_283[460])){
callMethod(this,GLOBAL.$app.eventsActionMaster,_283[369],[cfgObj.eventsList]);

}
if(checkIn(cfgObj,_283[461])){
GLOBAL.Config.chatTextColorList=cfgObj.chatTextColorList;

}
if(checkIn(cfgObj,_283[462])){
GLOBAL.Config.chatMsgReportsMax=cfgObj.chatMsgReportsMax;

}
if(checkIn(cfgObj,_283[463])){
GLOBAL.$app.shopMaster.priceSaveMap=cfgObj.priceSaveMap;

}
if(checkIn(cfgObj,_283[464])){
GLOBAL.$app.shopMaster.priceRetSaveMap=cfgObj.priceRetMapServer;

}
if(checkIn(cfgObj,_283[465])){
GLOBAL.$app.shopMaster.priceSendChatColorMsg=cfgObj.priceSendChatColorMsg;

}
if(checkIn(cfgObj,_283[466])){
GLOBAL.$app.shopMaster.priceChangeNickColor=cfgObj.priceChangeNickColor;

}
if(checkIn(cfgObj,_283[467])){
GLOBAL.$app.shopMaster.priceChangeNickResetColor=cfgObj.priceChangeNickResetColor;

}
if(checkIn(cfgObj,_283[468])){
GLOBAL.$app.shopMaster.priceOffNickRainbow=cfgObj.priceOffNickRainbow;

}
if(checkIn(cfgObj,_283[469])){
GLOBAL.$app.shopMaster.testerGetMoney=cfgObj.priceTesterGetMoney;

}
if(checkIn(cfgObj,_283[431])){
GLOBAL.$app.user.actionItems1=cfgObj.actionItems1;

}
if(checkIn(cfgObj,_283[470])){
GLOBAL.$app.user.actionItemsNums=cfgObj.actionItemsNums;

}
if(checkIn(cfgObj,_283[471])){
GLOBAL.$app.user.actionItemsNumsPos=cfgObj.actionItemsNumsPos;

}
if(checkIn(cfgObj,_283[472])){
GLOBAL.Config.prizesHourArr=cfgObj.prizeTopHour;

}
if(checkIn(cfgObj,_283[473])){
GLOBAL.Config.prizesDayArr=cfgObj.prizeTopDay;

}
if(checkIn(cfgObj,_283[474])){
GLOBAL.Config.timePrestartRoom=cfgObj.waitGR;

}
if(checkIn(cfgObj,_283[475])){
GLOBAL.$app.gameMaster.priceOpytExit=cfgObj.priceGROpytExit;

}
if(checkIn(cfgObj,_283[476])){
GLOBAL.$app.webconnectKey=cfgObj.webKey;

}
if(checkIn(cfgObj,_283[477])){
GLOBAL.Config.ssServiceKey=cfgObj.ssServiceKey;

}
if(checkIn(cfgObj,_283[478])){
GLOBAL.Config.roomEv1Data1=cfgObj.toysEventLevels;

}
if(checkIn(cfgObj,_283[479])){
callMethod(this,GLOBAL.$app.userMaster,_283[480],[cfgObj.banList]);

}
if(checkIn(cfgObj,_283[481])){
callMethod(this,GLOBAL.$app.userMaster,_283[482],[cfgObj.popularList]);

}
if(checkIn(cfgObj,_283[483])){
callMethod(this,GLOBAL.$app.userMaster,_283[484],[cfgObj.koronaadminList]);

}
if(checkIn(cfgObj,_283[485])){
callMethod(this,GLOBAL.$app.dressMaster,_283[363],[cfgObj.dressList]);

}
if(checkIn(cfgObj,_283[486])){
GLOBAL.$app.shopMaster.exchangeMoney=cfgObj.exchangeMoney;

}
if(checkIn(cfgObj,_283[487])){
GLOBAL.$app.shopMaster.priceChangeNick=cfgObj.priceChangeNick;

}
if(checkIn(cfgObj,_283[488])){
GLOBAL.Config.defLengthNick=cfgObj.defLengthNick;

}
if(checkIn(cfgObj,_283[489])){
GLOBAL.$app.shopMaster.priceBuyStyle1=cfgObj.priceBuyStyle1;

}
if(checkIn(cfgObj,_283[490])){
GLOBAL.$app.user.curStyle1Items=cfgObj.curStyle1Items;

}
if(checkIn(cfgObj,_283[491])){
GLOBAL.$app.styleAppType=cfgObj.curStyle1;

}
if(checkIn(cfgObj,_283[492])){
GLOBAL.$app.roomsListStreamID=cfgObj.roomsListStream;

}
if(checkIn(cfgObj,_283[493])){
GLOBAL.$app.flagsMaster.arr=cfgObj.flags;

}
if(checkIn(cfgObj,_283[494])){
GLOBAL.$app.flagsSettings.arr=cfgObj.flagsSettings;

}
if(checkIn(cfgObj,_283[495])){
var viktorinaStreamID=cfgObj.viktorinaStream;
th.viktorinaStream=callMethod(this,th.connect,_283[435],[viktorinaStreamID]);

}
if(checkIn(cfgObj,_283[496])){

}
callMethod(this,th.cacheUsers,_283[209],[GLOBAL.$app.user.id,GLOBAL.$app.user]);
callMethod(this,GLOBAL.$app.user,_283[318]);
callMethod(this,th.scene.bar,_283[319],[!0]);
callMethod(this,GLOBAL.$app,_283[320]);
callMethod(this,GLOBAL.$app.chat,_283[497],[roomsList]);
if((GLOBAL.$app.user.banTime > 0)){
callMethod(this,GLOBAL.$app.chat,_283[396],[GLOBAL.$app.user.banTime]);

}
if(checkIn(cfgObj,_283[498])){
if((cfgObj.giftFreeBonus > 0)){
callMethod(this,GLOBAL.$app,_283[407],[-2,cfgObj.giftFreeBonus,_283[499]]);

}

}
var fpsDebug=callMethod(this,GLOBAL.$app.flagsSettings,_283[406],[4,5]);
if(fpsDebug){
GLOBAL.$app.fpsMaster.debug=fpsDebug;

}

}else if((v == -2)){
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.home.ConnectServerScene)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_283[500]);

}

}else{
if(!GLOBAL.$app.isAuthForm){
GLOBAL.$app.connect.isConnect=!1;

}
callMethod(this,th,_283[110],[th.popup,th.popupHtml]);

if((v == GLOBAL.ErrorType.ERROR_DB)){
callMethod(this,GLOBAL.$app.popupHtml,_283[501]);

}else if((v == GLOBAL.ErrorType.ERROR_MESSAGE)){
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.home.ConnectServerScene)){
GLOBAL.$app.scenesMasterHtml5.curScene.errorMsg=('' + u);
GLOBAL.$app.scenesMasterHtml5.curScene.hideBut1=!0;
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_283[354]);
callMethod(this,GLOBAL.$app,_283[279]);

}

}else if((v == GLOBAL.ErrorType.VERSION_ERROR)){
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.home.ConnectServerScene)){
GLOBAL.$app.scenesMasterHtml5.curScene.t=_283[502];
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_283[354]);
callMethod(this,GLOBAL.$app,_283[279]);

}

}else{
if(!GLOBAL.$app.isAuthForm){
callMethod(this,GLOBAL.$app.popupHtml,_283[503]);

}else{
if(checkIs(GLOBAL.$app.scenesMaster.curScene,GLOBAL.scenes.AuthScene)){
callMethod(this,GLOBAL.$app.scenesMaster.curScene,_283[447],[_283[504]]);

}else{
callMethod(this,GLOBAL.$app.popup,_283[124],[_283[505]]);
callMethod(this,GLOBAL.$app.scenesMaster,_283[296]);

}

}

}



}


}else{
var msgInfo='';
if((statusServer == _283[506])){
msgInfo=_283[507];

}else if((statusServer == _283[438])){
msgInfo='Проблема с доступом к базе данных';

}

if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.home.ConnectServerScene)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_283[284],[msgInfo]);
callMethod(this,GLOBAL.$app,_283[279]);

}
th.reconnectTimer=callMethod(this,Timer,_283[59],[tm1,function(){
callMethod(this,th,_283[347]);
callMethod(this,th,_283[446]);

}]);

}

},_283[295],GLOBAL.Config.APP_VERSION,th.keyAuth,platformType]);

};
_Main[_283[510]]=function(){
if((GLOBAL.$app.stage.displayState == _283[508])){
GLOBAL.$app.stage.displayState=_283[509];

}

};
_Main[_283[518]]=function(name){
if((name == _283[511])){
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_283[406],[3,8]);
if(checkSound){
return null;

}

}
if((name == _283[512])){
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_283[406],[2,7]);
if(checkSound){
return null;

}

}
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.SOUND) > 0)){
var so=ctorObject(lang.media.Sound);
var nm=(_283[513] + name);
this[nm]=so;
var path=((_283[514] + nm) + _283[515]);
callMethod(this,GLOBAL.$app.assetsDownloader,_283[301],[path,_283[516],function(ba){
so.src=ba;
callMethod(this,so,_283[517]);

}]);
return so;

}
return null;

};
_Main[_283[521]]=function(v){
if((v <= 1)){
callMethod(this,GLOBAL.$app,_283[518],[_283[519]]);

}else if((v <= 3)){
callMethod(this,GLOBAL.$app,_283[518],[_283[520]]);

}


};
_Main[_283[523]]=function(name){
var url=callMethod(this,this.moviesReader,_283[522],[((_283[513] + name) + _283[515])]);
if(url){
if((url.size > 0)){
var so=ctorObject(lang.media.Sound);
so.src=url;
so.loop=1;
callMethod(this,so,_283[517]);
return so;

}

}
return null;

};
_Main[_283[524]]=function(){

};
_Main[_283[290]]=function(){
callMethod(this,GLOBAL.Config,_283[59]);
var audioPlayer=ctorObject(_283[525]);
audioPlayer.volume=70;
callMethod(this,audioPlayer,_283[526],[GLOBAL.Config.worldAudioPlaylist]);

this.audioPlayer=audioPlayer;
this.audioPlayer.autoPlayNext=!0;
this.mapEditor=ctorObject(_283[527]);
this.scene=ctorObject(_283[528]);
if(GLOBAL.$app.loadLibSpr){
if(GLOBAL.$app.loadLibSpr.parent){
callMethod(this,GLOBAL.$app.loadLibSpr.parent,_283[113],[GLOBAL.$app.loadLibSpr]);

}
GLOBAL.$app.loadLibSpr=null;

}
callMethod(this,this.sceneSpr,_283[110],[this.scene]);
callMethod(this,this.scene,_283[529],[!1]);
callMethod(this,this,_283[530],[this.styleAppType]);
callMethod(this,this,_283[279]);

};
_Main[_283[320]]=function(){
callMethod(this,GLOBAL.$app,_283[530],[GLOBAL.$app.styleAppType]);
callMethod(this,this.stage,_283[58],[_283[531],function(){
if(GLOBAL.$app.mapEditor){
callMethod(this,GLOBAL.$app.mapEditor,_283[452]);

}

}]);
if(!GLOBAL.Config.ssServiceKey){
callMethod(this,GLOBAL.$app,_283[32],[_283[532],{},function(keyV){
if(keyV){
GLOBAL.Config.ssServiceKey=keyV;

}

}]);

}
callMethod(this,this.scenesMasterHtml5,_283[329]);
var th=this;
var q2=!1;
if(this.connect.isConnect){
q2=!0;

}else if(GLOBAL.Config.isTestAuth){
q2=!0;

}

if(q2){
callMethod(this,this.scene.bar,_283[59]);
callMethod(this,this.scenesMaster,_283[329]);
callMethod(this,this.scene,_283[529],[!0]);
callMethod(this,this.stage,_283[58],[_283[533],function(e){
if(e.ctrlKey){
GLOBAL.$app.isCtrlKey=!0;

}

}]);
callMethod(this,this.stage,_283[58],[_283[534],function(e){
if(!e.ctrlKey){
GLOBAL.$app.isCtrlKey=!1;

}else{
if((e.keyCode == 81)){
if(!GLOBAL.$app.widgetInspectorProps){
var w2=ctorObject(widget.inspector.PropertyInspectorWidget,[300,500]);
callMethod(this,w2,_283[535],[GLOBAL.$app]);
GLOBAL.$app.widgetInspectorProps=w2;
callMethod(this,GLOBAL.$app.stage,_283[110],[w2]);

}else{
callMethod(this,GLOBAL.$app.stage,_283[113],[GLOBAL.$app.widgetInspectorProps]);
GLOBAL.$app.widgetInspectorProps=null;

}

}

}

}]);

if((GLOBAL.$app.user.settingsList.size > 0)){
GLOBAL.Config.chatSettingsFlags=GLOBAL.$app.user.settingsList[0];

}
callMethod(this,this.scene,_283[59]);

}else{

}
this.chat=ctorObject(_283[536]);
this.chat.sprParent=this.chatSpr;
callMethod(this,null,_283[110],[this.sceneHtml]);
callMethod(this,this.cnvSpr,_283[110],[this.cntSpr3]);
callMethod(this,this.cnvSpr,_283[110],[this.chatSpr]);

callMethod(this,this.cnv,_283[110],[this.popupHtml5]);
callMethod(this,th,_283[110],[th.popup,th.popupHtml]);

this.timer=callMethod(this,Timer,_283[59],[3000,function(){
callMethod(this,GLOBAL.$app.gcMaster,_283[280]);

}]);
callMethod(this,GLOBAL.$app,_283[279]);

};
_Main[_283[537]]=function(cbok,cberr){
var th=this;
var isNewConnect=!1;
if(!this.connectWorld){
isNewConnect=!0;

}else{
if(this.connectWorld.isClose){
isNewConnect=!0;

}

}
if(isNewConnect){
this.connectWorld=ctorObject(_283[0],['',GLOBAL.Config.CONNECT_HOST,(GLOBAL.Config.CONNECT_PORT + 1)]);

}
if(!this.connectWorld.isConnect){
callMethod(this,this.connectWorld,_283[445],[function(){
callMethod(this,th.connectWorld,_283[153],[function(v){
if((v == GLOBAL.ErrorType.OK)){
if(cbok){
cbok();

}

}else{
if(cberr){
cberr();

}

}

},_283[295],GLOBAL.Config.APP_VERSION,th.keyAuth]);

},function(){
if(cberr){
cberr();

}

},function(){

}]);

}else{
if(cbok){
cbok();

}

}

};
_Main[_283[539]]=function(){
callMethod(this,this.audioPlayer,_283[112]);
if(this.curAudioPlayer1){
callMethod(this,this.curAudioPlayer1,_283[538]);

}

};
_Main[_283[549]]=function(isCrop){
var th=this;
callMethod(this,JSUtils,_283[181],[_283[540],th.screenCanvas,function(){
var isShowChat=callMethod(this,th.chat,_283[541]);
if(isShowChat){
callMethod(this,th.chat,_283[158]);

}
callMethod(this,th.screenCanvas,_283[542],[function(bm){
callMethod(this,bm,_283[58],[_283[301],function(){
var c=ctorObject(_283[543],[bm]);
callMethod(this,c,_283[544],[0,0,bm.width,bm.height,function(bm2){
callMethod(this,URL,_283[545],[bm.src]);
if(isCrop){
callMethod(this,GLOBAL.$app.popup,_283[546],[bm2]);

}else{
callMethod(this,GLOBAL.$app.popup,_283[547],[bm2]);

}
if(!isCrop){
if(isShowChat){
callMethod(this,th.chat,_283[548]);

}

}

}]);

}]);

}]);

}]);

};
_Main[_283[550]]=function(isCrop){
var th=this;

};
_Main[_283[551]]=function(){
if(this.chat){
callMethod(this,this.chat,_283[158]);

}

callMethod(this,GLOBAL.$app.cnv,_283[542],[function(bm){
var c=ctorObject(_283[543],[bm]);
callMethod(this,c,_283[544],[0,0,bm.width,bm.height,function(bm2){
callMethod(this,URL,_283[545],[bm.src]);
callMethod(this,GLOBAL.$app.popup,_283[547],[bm2]);

}]);


}]);

};
_Main[_283[278]]=function(){
var th=this;
var isShowChat=!1;
var isDomScreen=!1;
if(this.chat){
isShowChat=callMethod(this,this.chat,_283[541]);

}
if(isShowChat){
isDomScreen=!0;

}else if((this.popup.cnt.numChildren > 0)){
isDomScreen=!0;

}

if(!isDomScreen){
if(this.chat){
callMethod(this,this.chat,_283[158]);

}

}
var rat=GLOBAL.$app.devicePixelRatio;
if((rat < 1)){
rat=1;

}
var cb5=function(){
callMethod(this,null,_283[552],[th,(th.stageScaleWidth * th.scaleFactor),(th.stageScaleHeight * th.scaleFactor),function(s){
if(isShowChat){
callMethod(this,th.chat,_283[158]);

}
var bm2=ctorObject(lang.display.Bitmap);
bm2.src=s;
callMethod(this,bm2,_283[58],[_283[301],function(){
callMethod(this,bm2,_283[66],[_283[301],arguments.callee]);
var c=null;
if(GLOBAL.$app.isMobile){
c=ctorObject(_283[553],[bm2]);
callMethod(this,GLOBAL.$app.popup.cnt,_283[110],[c]);

}else{
if(th.curScreenshotScene){
callMethod(this,th.curScreenshotScene,_283[554]);

}
c=ctorObject(_283[555],[bm2]);
callMethod(this,GLOBAL.$app.cnv,_283[110],[c]);

}
callMethod(this,GLOBAL.$app,_283[279]);

}]);

}]);

};
if(isDomScreen){
if(checkIn(th,_283[556])){
cb5();

}else{
if(!checkIn(th,_283[557])){
th.firstLoadScreenLib=!0;
callMethod(this,JSUtils,_283[558],[_283[559],function(){
th.isLoadScreenLib=1;
cb5();

}]);

}

}

}else{
var bmd=ctorObject(lang.display.BitmapData,[(GLOBAL.$app.stage.stageWidth * rat),(GLOBAL.$app.stage.stageHeight * rat),!0,0]);
bmd.resolution=(rat / GLOBAL.$app.scaleFactor);
callMethod(this,bmd,_283[560],[GLOBAL.$app]);
var bm2=ctorObject(lang.display.Bitmap);
bm2.src=bmd;
bm2.bmdData=bmd;
callMethod(this,bm2,_283[58],[_283[301],function(){
callMethod(this,bm2,_283[66],[_283[301],arguments.callee]);
var c=null;
if(GLOBAL.$app.isMobile){
c=ctorObject(_283[553],[bm2]);
callMethod(this,GLOBAL.$app.popup.cnt,_283[110],[c]);

}else{
if(th.curScreenshotScene){
callMethod(this,th.curScreenshotScene,_283[554]);

}
c=ctorObject(_283[555],[bm2]);
callMethod(this,GLOBAL.$app.cnv,_283[110],[c]);

}
callMethod(this,GLOBAL.$app,_283[279]);

}]);

}


};
_Main[_283[561]]=function(w,h,o){
var bmd=ctorObject(lang.display.BitmapData,[w,h,!0,0]);
callMethod(this,bmd,_283[560],[o]);
var bm2=ctorObject(lang.display.Bitmap);
bm2.bmdData=bmd;
callMethod(this,bm2,_283[58],[_283[301],function(){
var c=ctorObject(_283[553],[bm2]);
callMethod(this,GLOBAL.$app.sceneSpr,_283[110],[c]);
callMethod(this,GLOBAL.$app,_283[279]);

}]);
bm2.src=bmd;

};
_Main[_283[332]]=function(cb,cberr){
var qq=GLOBAL.$app.scenesMasterHtml5.curScene;
if(!GLOBAL.Config.isLoadBox2D){
if(checkIs(qq,GLOBAL.scenes.game.PrestartGameRoom1)){
callMethod(this,qq,_283[284],[_283[562]]);

}
var c=ctorObject(lang.game.engines.box2d.Box2D);
callMethod(this,c,_283[58],[_283[59],function(){
if(!GLOBAL.Config.isLoadBox2D){
GLOBAL.Config.isLoadBox2D=!0;
cb();

}

}]);
callMethod(this,c,_283[58],[_283[4],function(){
if(cberr){
cberr();

}

}]);

}else{
cb();

}

};
_Main[_283[407]]=function(otuser,giftid,tt){
callMethod(this,GLOBAL.$app.cacheUsers,_283[301],[[otuser],function(){
var uu=callMethod(this,GLOBAL.$app.cacheUsers,_283[120],[otuser]);
if(uu){
var pp2=callMethod(this,GLOBAL.$app.popup,_283[151],[_283[563]]);
if(pp2){
callMethod(this,pp2,_283[141]);

}
callMethod(this,GLOBAL.$app.popup,_283[564],[uu,giftid,tt]);

}

}]);

};
_Main[_283[32]]=function(m,params,cb,cberr){
params.c=m;
params.key=this.webconnectKey;
var url1=(((((this.domainObj.protocol + _283[82]) + this.domain) + _283[349]) + GLOBAL.Config.pathA) + _283[565]);
url1=((((this.domainObj.protocol + _283[82]) + this.domain) + GLOBAL.Config.pathA) + _283[565]);

callMethod(this,URL,_283[13],[url1,params,function(o){
if(checkIn(o,_283[566])){
callMethod(this,GLOBAL.$app.popup,_283[124],[('' + o.errorText)]);

}else{
var args=[];
if(checkIn(o,_283[567])){
args=o.args;

}
if(cb){
callMethod(this,cb,_283[568],[null,args]);

}

}

},function(){
if(cberr){
cberr();

}

}]);

};
_Main[_283[570]]=function(m,params,cb){
params.c=m;
params.key=this.webconnectKey;
var url1=(((((this.domainObj.protocol + _283[82]) + this.domain) + _283[349]) + GLOBAL.Config.pathA) + _283[565]);
url1=(((((this.domainObj.protocol + _283[82]) + this.domain) + '') + GLOBAL.Config.pathA) + _283[565]);

callMethod(this,URL,_283[569],[url1,params,function(o){
if(cb){
cb(o);

}

},function(){

}]);

};
_Main[_283[571]]=function(){
GLOBAL.$app.stage.displayState=(GLOBAL.$app.stage.displayState == _283[509]) ? _283[508] : _283[509];
GLOBAL.$app.isResetHeight=!0;

};
_Main[_283[279]]=function(){
var w=this.appStageWidth;
var h=this.appStageHeight;
if(this.isMobile){
var isShowKeyboard=!1;
if((this.lastStageWidth == w)){
if((this.lastStageHeight > h)){
isShowKeyboard=!0;

}

}
if(isShowKeyboard){
var keyboardH=(this.lastStageHeight - h);
if((keyboardH > 0)){
h=(h + keyboardH);

}

}

}

this.lastStageWidth=w;
var scaleM2='';
var scaleM='';


var minW=this.appMinWidth;
var minH=this.appMinHeight;
var isAppSize=!1;

var factorX=(w / minW);
var factorY=(h / minH);
var factor=factorY;
if((factorX < factorY)){
factor=factorX;

}
if(this.isMobile){
this.domScaleV=factor;

}else{
factor=1;

}


var factorX=((w / factor) / this.popupMinW);
var factorY=((h / factor) / this.popupMinH);
var factor3=factorY;
if((factorX < factorY)){
factor3=factorX;

}
this.popupScale=1;
if(this.isMobile){
this.popupScale=(this.popupScale * this.domScaleV);

}

if(this.isMobile){
scaleM=_283[572];

}
if((scaleM == _283[572])){

if(isAppSize){
this.popupScale=1;

}
var isMin1=!1;
if(this.isMobile){
isMin1=!0;

}

if(isMin1){
callMethod(this,this.moviesReader,_283[573],[minW,minH]);

}

}else{
if(this.isMobile){

}else{
factor=1;

}


}
if(this.moviesReader){
var vv=!0;
if((factor == 1)){
vv=!1;

}
this.moviesReader.isScaleFit=vv;

}
this.scaleX=factor;
this.scaleY=factor;
if(this.isMobile){
this.cnv.scaleX=factor;
this.cnv.scaleY=factor;

}

this.scaleFactor=factor;
w=callMethod(this,Math,_283[574],[(w / factor)]);
h=callMethod(this,Math,_283[574],[(h / factor)]);
this.stageScaleWidth=w;
this.stageScaleHeight=h;
callMethod(this,this.resizeArr,_283[575],[function(o){
callMethod(this,o,_283[576],[w,h]);

}]);
var popupScaleV=this.popupScale;
popupScaleV=1;

callMethod(this,this.popup,_283[576],[(w / popupScaleV),(h / popupScaleV)]);
callMethod(this,this.popupHtml,_283[576],[(w / popupScaleV),(h / popupScaleV)]);
callMethod(this,this.popupHtml5,_283[576],[(w / popupScaleV),(h / popupScaleV)]);
var i=0;
while((i < this.sceneSpr.numChildren)){
var el=callMethod(this,this.sceneSpr,_283[577],[i]);
if(checkIn(el,_283[576])){
callMethod(this,el,_283[576],[w,h]);

}
i++;
}
callMethod(this,this.scenesMaster,_283[576],[w,h]);
callMethod(this,this.scenesMasterHtml5,_283[576],[w,h]);
if(this.chatSpr){
this.chatSpr.scaleX=this.domScaleV;
this.chatSpr.scaleY=this.domScaleV;

}

if(this.chat){
callMethod(this,this.chat,_283[576],[w,h]);

}
if(this.curAudioPlayer1){
this.curAudioPlayer1.x=(w - this.curAudioPlayer1.w);
this.curAudioPlayer1.y=(-this.curAudioPlayer1.h + 1);

}

};
_Main[_283[578]]=function(o){
if(o){
o.resize=function(w,h){
this.bg.scaleX=((w + 8) / 200);
this.bg.scaleY=((h + 8) / 200);
this.bg2.scaleX=((w + 8) / 800);
this.bg2.scaleY=((h + 8) / 448);

};

}

};
_Main[_283[530]]=function(t){
var th=this;
if(checkIn(th.stylesAppObj,t)){
var ob=th.stylesAppObj[t];
th.curStyleAppObj=ob;
callMethod(this,th.scene,_283[579],[ob]);
callMethod(this,th,_283[279]);
callMethod(this,th.moviesReader,_283[279]);

}

};
_Main[_283[140]]=function(id,cb,props){
var th=this;
var isCache=!0;
if(props){
if(checkIn(props,_283[580])){
isCache=props.cache;

}

}
var ob=null;
if(checkIn(th.cachePopUpText,id)){
ob=th.cachePopUpText[id];
if(ob){
var ts=callMethod(this,Date,_283[61]);
if((ts >= ob.endtime)){
ob=null;
delete th.cachePopUpText[id];

}

}

}
if(!ob){
callMethod(this,th,_283[32],[_283[581],{id:id},function(o){
if(o){
var ts2=callMethod(this,Date,_283[61]);
o.endtime=(ts2 + (60 * 30));
if(isCache){
th.cachePopUpText[id]=o;

}
if(cb){
cb(o);

}

}else{
if(cb){
cb(null);

}

}

},function(){
if(cb){
cb(null);

}

}]);

}else{
if(cb){
cb(ob);

}

}

};
vm.registerClass(_283[582],_283[583],_Main);
})(window);



(function(window){
var _20=["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек","static","getMinMonthStr1","0","funcCorrectZeroTm","Date","setTime","getMonth","getDate","getFullYear","getHours","getMinutes"," "," в ",":","нет данных о дате","timestampToStrDate1","timestampToStrDate2","-","timestampToStrDate3","timestampToStrDate4","floor","toMinSec","toHourMinSec"," ч. "," мин. "," сек.","toHourMinSecTxt1"," д. ","toHourMinSecTxt2"," дн. "," с.","getTimeStr2","DateUtils"];
var _DateUtils={};
_DateUtils["ctor"]=function(){

};
_DateUtils[_20[12]]=function(){
this.monthsListMin=[_20[0],_20[1],_20[2],_20[3],_20[4],_20[5],_20[6],_20[7],_20[8],_20[9],_20[10],_20[11]];

};
_DateUtils[_20[13]]=function(pos){
return GLOBAL.DateUtils.monthsListMin[pos];

};
_DateUtils[_20[15]]=function(v){
if((v < 10)){
return (_20[14] + v);

}
return v;

};
_DateUtils[_20[27]]=function(timestamp){
var d=ctorObject(_20[16]);
callMethod(this,d,_20[17],[(timestamp * 1000)]);
var datestr='';
if((timestamp > 0)){
var month=callMethod(this,d,_20[18]);
var m1=callMethod(this,null,_20[13],[month]);
var date=callMethod(this,d,_20[19]);
var year=callMethod(this,d,_20[20]);
var hours=callMethod(this,d,_20[21]);
var minutes=callMethod(this,d,_20[22]);
var cHours=callMethod(this,null,_20[15],[hours]);
var cMinutes=callMethod(this,null,_20[15],[minutes]);
return (((((((((('' + date) + _20[23]) + m1) + _20[23]) + year) + _20[24]) + cHours) + _20[25]) + cMinutes) + '');

}
return _20[26];

};
_DateUtils[_20[28]]=function(timestamp){
var d=ctorObject(_20[16]);
var tmm=(timestamp * 1000);
callMethod(this,d,_20[17],[tmm]);
var datestr='';
if((timestamp > 0)){
var month=callMethod(this,d,_20[18]);
var m1=callMethod(this,null,_20[13],[month]);
var date=callMethod(this,d,_20[19]);
var year=callMethod(this,d,_20[20]);
var hours=callMethod(this,d,_20[21]);
var minutes=callMethod(this,d,_20[22]);
var cHours=callMethod(this,null,_20[15],[hours]);
var cMinutes=callMethod(this,null,_20[15],[minutes]);
return (((((((((('' + date) + _20[23]) + m1) + _20[23]) + year) + _20[24]) + cHours) + _20[25]) + cMinutes) + '');

}
return _20[26];

};
_DateUtils[_20[30]]=function(timestamp){
var d=ctorObject(_20[16]);
callMethod(this,d,_20[17],[(timestamp * 1000)]);
var datestr='';
if((timestamp > 0)){
var hours=callMethod(this,d,_20[21]);
var minutes=callMethod(this,d,_20[22]);
var cHours=callMethod(this,null,_20[15],[hours]);
var cMinutes=callMethod(this,null,_20[15],[minutes]);
return (((('' + cHours) + _20[25]) + cMinutes) + '');

}
return _20[29];

};
_DateUtils[_20[31]]=function(timestamp){
var d=ctorObject(_20[16]);
var tmm=(timestamp * 1000);
callMethod(this,d,_20[17],[tmm]);
var datestr='';
if((timestamp > 0)){
var month=callMethod(this,d,_20[18]);
var m1=callMethod(this,null,_20[13],[month]);
var date=callMethod(this,d,_20[19]);
var year=callMethod(this,d,_20[20]);
var hours=callMethod(this,d,_20[21]);
var minutes=callMethod(this,d,_20[22]);
var cHours=callMethod(this,null,_20[15],[hours]);
var cMinutes=callMethod(this,null,_20[15],[minutes]);
return ((((('' + date) + _20[23]) + m1) + _20[23]) + year);

}
return _20[26];

};
_DateUtils[_20[33]]=function(v){
var seconds=callMethod(this,Math,_20[32],[v]);
var minutes=callMethod(this,Math,_20[32],[(seconds / 60)]);
seconds-=(minutes * 60);
if((minutes < 10)){
minutes=(_20[14] + minutes);

}
if((seconds < 10)){
seconds=(_20[14] + seconds);

}
return ((minutes + _20[25]) + seconds);

};
_DateUtils[_20[34]]=function(v){
var seconds=callMethod(this,Math,_20[32],[v]);
var hours=callMethod(this,Math,_20[32],[(seconds / 3600)]);
seconds-=(hours * 3600);
var minutes=callMethod(this,Math,_20[32],[(seconds / 60)]);
seconds-=(minutes * 60);
if((hours < 10)){
hours=(_20[14] + hours);

}
if((minutes < 10)){
minutes=(_20[14] + minutes);

}
if((seconds < 10)){
seconds=(_20[14] + seconds);

}
return ((((hours + _20[25]) + minutes) + _20[25]) + seconds);

};
_DateUtils[_20[38]]=function(v){
var seconds=callMethod(this,Math,_20[32],[v]);
var hours=callMethod(this,Math,_20[32],[(seconds / 3600)]);
seconds-=(hours * 3600);
var minutes=callMethod(this,Math,_20[32],[(seconds / 60)]);
seconds-=(minutes * 60);
var str='';
if((hours > 0)){
str+=(hours + _20[35]);

}
if((minutes > 0)){
str+=(minutes + _20[36]);

}
str+=(seconds + _20[37]);
return str;

};
_DateUtils[_20[40]]=function(v){
var seconds=callMethod(this,Math,_20[32],[v]);
var days=callMethod(this,Math,_20[32],[(seconds / ((60 * 60) * 24))]);
seconds-=(days * ((60 * 60) * 24));
var hours=callMethod(this,Math,_20[32],[(seconds / (60 * 60))]);
seconds-=(hours * (60 * 60));
var minutes=callMethod(this,Math,_20[32],[(seconds / 60)]);
seconds-=(minutes * 60);
var str='';
if((days > 0)){
str+=(days + _20[39]);

}
if((hours > 0)){
str+=(hours + _20[35]);

}
str+=(minutes + _20[36]);
if((seconds > 0)){
str+=(seconds + _20[37]);

}
return str;

};
_DateUtils[_20[43]]=function(v){
var seconds=callMethod(this,Math,_20[32],[v]);
var days=callMethod(this,Math,_20[32],[(seconds / ((60 * 60) * 24))]);
seconds-=(days * ((60 * 60) * 24));
var hours=callMethod(this,Math,_20[32],[(seconds / (60 * 60))]);
seconds-=(hours * (60 * 60));
var minuts=callMethod(this,Math,_20[32],[(seconds / 60)]);
seconds-=(minuts * 60);
var hstr=('' + hours);
if((hours < 10)){
hstr=(_20[14] + hstr);

}
var mstr=('' + minuts);
if((minuts < 10)){
mstr=(_20[14] + mstr);

}
var sstr=('' + seconds);
if((seconds < 10)){
sstr=(_20[14] + sstr);

}
var ss=(((((((('' + days) + _20[41]) + hstr) + _20[35]) + mstr) + _20[36]) + sstr) + _20[42]);
return ss;

};
vm.registerClass(_20[44],'',_DateUtils);
})(window);



(function(window){
var _283=["static","isModeratorMaps","isModeratorMapsM","isAdmin","isSuperAdmin","isModerator","isModeratorM","isAdminOrModerator","isAdminOrSuperAdmin","UserMode"];
var _UserMode={};
_UserMode[_283[0]]=function(){
this.UNDEFINED=-1;
this.USER=0;
this.MODERATOR=(1 << 1);
this.ADMIN=(1 << 2);
this.SUPER_ADMIN=(1 << 3);
this.MOD_MAPS=(1 << 4);
this.MOD_MAPS_M=(1 << 5);
this.MODERATOR_M=(1 << 6);
this.SYSTEM=-2;

};
_UserMode[_283[1]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.MOD_MAPS & m) > 0)){
return !0;

}
if(((GLOBAL.UserMode.MOD_MAPS_M & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[2]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.MOD_MAPS_M & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[3]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.ADMIN & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[4]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.SUPER_ADMIN & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[5]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.MODERATOR & m) > 0)){
return !0;

}
if(((GLOBAL.UserMode.MODERATOR_M & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[6]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.MODERATOR_M & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[7]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.ADMIN & m) > 0)){
return !0;

}
if(((GLOBAL.UserMode.MODERATOR & m) > 0)){
return !0;

}
if(((GLOBAL.UserMode.SUPER_ADMIN & m) > 0)){
return !0;

}

}
return !1;

};
_UserMode[_283[8]]=function(m){
if((m > 0)){
if(((GLOBAL.UserMode.ADMIN & m) > 0)){
return !0;

}
if(((GLOBAL.UserMode.SUPER_ADMIN & m) > 0)){
return !0;

}

}
return !1;

};
vm.registerClass(_283[9],'',_UserMode);
})(window);

(function(window){
var _68=["id","nick","popularLevel","level","opyt","lapki","kosti","getUserField1","Система","upd3","settings","login","getSocialTypeByLogin","getSocialObjByLogin","toysNumsItems","removeEmojiStr","domain","addByUserID","parseObj","User","cloneUser","send","user.friendsAction","get","reloadFriends","isUserFriend","vk","https://vk.com/id","getSocialPageURL","user","getDomainName1","isTester","isBan","updateOpyt","plusOpyt","updateMoney","plusMoney","plusKosti","rubies","plusRubies","minusMoney","minusKosti","minusRubies","tweenIntValueUpdate","updateNick","updateLevel","updatePopular","updateHealth","updateEnergy","upd1","getLevelByCountEv1","floor","getPercOpyt"];
var _User={};
_User["ctor"]=function(id,nick){
this.ob=null;
this.isUpd1=!1;
this.id=id;
this.nick=nick;
this.mode=GLOBAL.UserMode.USER;
this.level=1;
this.money=0;
this.login='';
this.energy=0;
this.socialType='';
this.socialObj=null;
this.domain='';
this.vip=0;
this.dogsCount=0;
this.hidePopular=!1;
this.levelsEditor=0;
this.iconEmoji=0;
this.itemsEv1=0;
this.itemsEv1Last=0;
this.historyNewYearSkip=!1;
this.boarK=!1;
this.curStyle1Items=null;
this.actionItems1=0;
this.actionItemsNums=0;
this.actionItemsNumsPos=1;
this.mapsLevelMode=0;
this.modMapsAdv=0;
this.nickColor_pos=-1;
this.nickColorFlag=0;
this.nickRainbowFlag=0;
this.myWorldId=0;
this.lvlObj=null;
this.banTime=0;
this.isOwner=0;
this.kosti=0;
this.rubies=0;
this.opyt=0;
this.health=0;
this.popular=0;
this.popularLevel=1;
this.popularIcon=0;
this.bantime=0;
this.tester=0;
this.pers=0;
this.trainScene=0;
this.sex=0;
this.settingsList=[];
this.friendsList=[];
this.dressItems=[];
this.avaUrl=GLOBAL.Config.defaultAvaURL;
this.nickLength=0;
this.nickRainbow=0;
this.nick_itemid=0;

};
_User[_68[7]]=function(s){
var th=this;
if(s){
if((s == _68[0])){
return th.id;

}
if((s == _68[1])){
return th.nick;

}
if((s == _68[2])){
return th.popularLevel;

}
if((s == _68[3])){
return th.level;

}
if((s == _68[4])){
return th.opyt;

}
if((s == _68[5])){
return th.money;

}
if((s == _68[6])){
return th.kosti;

}

}
return null;

};
_User[_68[9]]=function(){
if(!this.isUpd1){
if((this.id == -2)){
this.nick=_68[8];
this.iconEmoji=1;
this.hidePopular=!0;

}
this.isUpd1=!0;

}

};
_User[_68[18]]=function(o){
var th=this;
this.ob=o;
for(var n in o){
this[n]=o[n];

}
if(checkIn(o,_68[10])){
this.settingsList=o.settings;

}
if(checkIn(o,_68[11])){
this.socialType=callMethod(this,GLOBAL.AppUtils,_68[12],[o.login]);
this.login=o.login;
this.socialObj=callMethod(this,GLOBAL.AppUtils,_68[13],[o.login]);

}
if(checkIn(o,_68[14])){
this.itemsEv1=o.toysNumsItems;

}
if((this.sex <= 0)){
this.sex=GLOBAL.Sex.FEMALE;

}
if((this.id == -2)){
callMethod(this,this,_68[9]);

}
if(this.nick){
if(GLOBAL.$app.smilesMaster){
this.nick=callMethod(this,GLOBAL.$app.smilesMaster,_68[15],[this.nick]);

}

}
if(checkIn(o,_68[16])){
if(o.domain){
if((o.domain.size > 0)){
callMethod(this,GLOBAL.$app.resolveNameMaster,_68[17],[this.id,o.domain]);

}

}

}

};
_User[_68[20]]=function(){
var q=ctorObject(_68[19],[0,'']);
callMethod(this,q,_68[18],[this.ob]);
return q;

};
_User[_68[24]]=function(cb){
var th=this;
callMethod(this,GLOBAL.$app.connect,_68[21],[function(arr){
th.friendsList=arr;
if(cb){
cb();

}

},_68[22],_68[23]]);

};
_User[_68[25]]=function(id){
var th=this;
if(th.friendsList){
var i=0;
while((i < th.friendsList.size)){
var el=th.friendsList[i];
if((el.user == id)){
return !0;

}
i++;
}

}
return !1;

};
_User[_68[28]]=function(){
if(this.socialObj){
if((this.socialObj.type == _68[26])){
var ss=(_68[27] + this.socialObj.id);
return ss;

}

}
return null;

};
_User[_68[30]]=function(){
var th=this;
var v=(_68[29] + th.id);
if(th.domain){
if((th.domain.size > 0)){
v=th.domain;

}

}
return v;

};
_User[_68[31]]=function(){
if((this.tester == 1)){
return !0;

}
return !1;

};
_User[_68[32]]=function(){
if((this.bantime > 0)){
return !0;

}
return !1;

};
_User[_68[34]]=function(v){
callMethod(this,this,_68[33],[this.opyt]);

};
_User[_68[36]]=function(v){
callMethod(this,this,_68[35],[_68[5],(this.money + v)]);

};
_User[_68[37]]=function(v){
callMethod(this,this,_68[35],[_68[6],(this.kosti + v)]);

};
_User[_68[39]]=function(v){
callMethod(this,this,_68[35],[_68[38],(this.rubies + v)]);

};
_User[_68[40]]=function(v){
var vv=(this.money - v);
if((vv <= 0)){
vv=0;

}
callMethod(this,this,_68[35],[_68[5],vv]);

};
_User[_68[41]]=function(v){
var vv=(this.kosti - v);
if((vv <= 0)){
vv=0;

}
callMethod(this,this,_68[35],[_68[6],vv]);

};
_User[_68[42]]=function(v){

};
_User[_68[35]]=function(t,v){
var lastV=0;
if((t == _68[5])){
lastV=this.money;
this.money=v;

}else if((t == _68[6])){
lastV=this.kosti;
this.kosti=v;

}

callMethod(this,GLOBAL.AppUtils,_68[43],[function(vv){
callMethod(this,GLOBAL.$app.scene.bar,_68[35],[t,vv]);

},500,v,lastV]);

};
_User[_68[44]]=function(v){
this.nick=v;
callMethod(this,GLOBAL.$app.scene.bar,_68[44],[v]);

};
_User[_68[45]]=function(v){
this.level=v;
callMethod(this,GLOBAL.$app.scene.bar,_68[45],[v]);

};
_User[_68[46]]=function(v,updIcon){
var lastV=this.popular;
var iconPop=this.popularIcon;
if((v <= 0)){
v=0;

}
this.popular=v;
var lvlp=this.popularLevel;
if(updIcon){
GLOBAL.$app.scene.bar.fastPopularIconUpd=!0;
callMethod(this,GLOBAL.$app.scene.bar,_68[46],[v,lvlp,iconPop]);

}else{
callMethod(this,GLOBAL.AppUtils,_68[43],[function(vv){
callMethod(this,GLOBAL.$app.scene.bar,_68[46],[vv,lvlp,iconPop]);

},500,v,lastV]);

}

};
_User[_68[47]]=function(v){
if((v <= 0)){
v=0;

}
if((v > 100)){
v=100;

}
this.health=v;

};
_User[_68[33]]=function(v){
var th=this;
var lastV=this.opyt;
if((v <= 0)){
v=0;

}
this.opyt=v;
callMethod(this,GLOBAL.AppUtils,_68[43],[function(vv){
callMethod(this,GLOBAL.$app.scene.bar,_68[33],[vv,null,th.lvlObj]);

},500,v,lastV]);

};
_User[_68[48]]=function(v){
this.energy=v;

};
_User[_68[49]]=function(){
callMethod(this,this,_68[35],[_68[5],this.money]);
callMethod(this,this,_68[35],[_68[6],this.kosti]);
callMethod(this,this,_68[44],[this.nick]);
callMethod(this,this,_68[33],[this.opyt]);
callMethod(this,this,_68[45],[this.level]);
callMethod(this,this,_68[46],[this.popular,this.popularLevel]);

};
_User[_68[50]]=function(){
var v=this.itemsEv1;
var arr=GLOBAL.Config.roomEv1Data1;
var n=0;
var i=0;
while((i < arr.size)){
var vv=arr[i];
if((v >= vv)){
n+=1;

}
i++;
}
if((n == 0)){
n=1;

}
return n;

};
_User[_68[52]]=function(opyt,lvlOb){
var th=this;
if(lvlOb){
var v1=lvlOb.opyt;
var nextOpyt=lvlOb.nextOpyt;
var q=callMethod(this,Math,_68[51],[(((opyt - v1) / (nextOpyt - v1)) * 100)]);
return q;

}
return 0;

};
vm.registerClass(_68[19],'',_User);
})(window);



(function(window){
var _127=["addWallItem","Обычная стена","Скользящая стена","Лава (отскок)","addDecorItemScale","moon1","decorStar1","addDecorItem","decorMoon2","addDecorItemMapDef","addGameActionItem","cactus1","cactusItem","boxItem1","Ящик","boxItem","ball1","Мяч","ball","treeItem1","Пень","staticItem","GameTrampoline1","Батут","trampolineItem","heavybox","Наковальня","heavyboxItem","push",".png","mapDecor","isMovieClip","getGameItemByID","getGameItemByType","clear","navWorldRoom","playMyWorld","send","world.create","worldCreate","check","navPrestartGameScene","isShowChat","hide","loadPhysicsCB","navGameRoomTutorial","getMapRandom","navPrestartGameSceneOffline","openPopUpMinText1","navHome","setText","подождите немного","поиск игроков","setWaitTime","initTimer","createStreamGameRoom","Невозможно начать забег","game.startRoom","Box2D не был загружен","playOnlineRoom","createStreamGameRoomByList1","createStream","Забег не найден","navSceneHome","on","init","String","decode","app.game.GameMap","parseMap","navGameRoom","initStream","join","stopCheckTimer","t","<br /><br />Комната не найдена","game.createRoom","playMapRoomName","playDefZabeg","maps.getRandomMap","getRandomMap","maps.get","timestamp","getMapByIdWeb","getMapById","getDecorItemByID","getWallBitmapByID","getBackgroundInfoByID","appbg_","load","BitmapNaturalSize","off","web","loadBackgroundBitmap7","split","/","pop","indexOf","?","cut","loadBackgroundBitmap","app.master.GameMaster"];
var _app_master_GameMaster={};
_app_master_GameMaster["ctor"]=function(){
this.backgroundsCache={};
this.bitmapCache={};
this.wallCache={};
this.gameItemsAction1=[];
this.decorItemsList=[];
this.priceOpytExit=0;
this.wallItemsArr=[];
var worldScale=30;
var ballRadiusScale=((37 / worldScale) / 2);
callMethod(this,this,_127[0],[1,_127[1]]);
callMethod(this,this,_127[0],[6,_127[1]]);
callMethod(this,this,_127[0],[7,_127[1]]);
callMethod(this,this,_127[0],[2,_127[2]]);
callMethod(this,this,_127[0],[9,_127[3]]);
callMethod(this,this,_127[4],[3,_127[5],0.7,0.7]);
callMethod(this,this,_127[4],[4,_127[6],0.7,0.7]);
callMethod(this,this,_127[7],[5,_127[8]]);
var itemType=GLOBAL.GameRoomItemType;
var numsDecor=6;
var i=0;
while((i < numsDecor)){
var idd=(i + 1);
callMethod(this,this,_127[9],[idd]);
i++;
}
callMethod(this,this,_127[10],[6,_127[11],'Кактус, возвращает на начало карты',itemType.CACTUS,_127[12]]);
callMethod(this,this,_127[10],[1,_127[13],_127[14],itemType.BOX,_127[15],null]);
callMethod(this,this,_127[10],[2,_127[16],_127[17],itemType.BALL,_127[18],null]);
callMethod(this,this,_127[10],[3,_127[19],_127[20],itemType.TREE1,_127[21],null]);
callMethod(this,this,_127[10],[4,_127[22],_127[23],itemType.TRAMPOLINE,_127[24],{isMovieClip:!0,frame:0}]);
callMethod(this,this,_127[10],[5,_127[25],_127[26],itemType.HEAVYBOX,_127[27],null]);

};
_app_master_GameMaster[_127[0]]=function(t,name){
callMethod(this,this.wallItemsArr,_127[28],[{t:t,name:name}]);

};
_app_master_GameMaster[_127[7]]=function(id,bmName,w,h){
var nm1=(bmName + _127[29]);
callMethod(this,this.decorItemsList,_127[28],[{id:id,name:'',bmName:nm1}]);

};
_app_master_GameMaster[_127[4]]=function(id,bmName,w,h){
var nm1=(bmName + _127[29]);
callMethod(this,this.decorItemsList,_127[28],[{id:id,name:'',bmName:nm1,scaleX:w,scaleY:h}]);

};
_app_master_GameMaster[_127[9]]=function(nn){
var id=(10 + nn);
var sc=0.5;
var nm1=(_127[30] + nn);
callMethod(this,this,_127[4],[id,nm1,sc,sc]);

};
_app_master_GameMaster[_127[10]]=function(id,bmName,title,type,bodyName,ob1){
var nm1=(bmName + _127[29]);
if(ob1){
if(checkIn(ob1,_127[31])){
if(ob1.isMovieClip){
nm1=bmName;

}

}

}
var ob={id:id,bmName:nm1,type:type,bodyName:bodyName,title:title,ob1:ob1};
callMethod(this,this.gameItemsAction1,_127[28],[ob]);

};
_app_master_GameMaster[_127[32]]=function(id){
var i=0;
while((i < this.gameItemsAction1.size)){
var el=this.gameItemsAction1[i];
if((el.id == id)){
return el;

}
i++;
}
return null;

};
_app_master_GameMaster[_127[33]]=function(id){
var i=0;
while((i < this.gameItemsAction1.size)){
var el=this.gameItemsAction1[i];
if((el.type == id)){
return el;

}
i++;
}
return null;

};
_app_master_GameMaster[_127[36]]=function(){
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[35],[GLOBAL.$app.user.id]);

};
_app_master_GameMaster[_127[39]]=function(mapid,mapStr,cb){
callMethod(this,GLOBAL.$app.connect,_127[37],[cb,_127[38],mapid,mapStr]);

};
_app_master_GameMaster[_127[59]]=function(){
var th=this;
var isHistoryStart=callMethod(this,GLOBAL.$app.flagsMaster,_127[40],[1,1]);
if(GLOBAL.Config.isTestAuth){

}
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[41]);
var isShowChat=callMethod(this,GLOBAL.$app.chat,_127[42]);
if(isShowChat){
GLOBAL.$app.chat.isFlagLastChatVis=!0;
callMethod(this,GLOBAL.$app.chat,_127[43]);

}
callMethod(this,GLOBAL.$app,_127[44],[function(){
var isTutorial=callMethod(this,GLOBAL.$app.flagsMaster,_127[40],[1,4]);
if(GLOBAL.Config.isTestAuth){
isTutorial=!0;

}
if(!isTutorial){
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[45]);

}else{
var r3=GLOBAL.$app.connect.isConnect;
if(GLOBAL.Config.isTestAuth){
var map=callMethod(this,GLOBAL.$app.mapsLocalMaster,_127[46]);
if(map){
r3=!1;
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[47],[map]);

}else{
callMethod(this,GLOBAL.$app.popup,_127[48],['Нет карт для забегов\nПерейдите в редактор, действия и нажмите на "скачать карты"']);
callMethod(this,GLOBAL.$app,_127[49]);

}

}
if(r3){
if(checkIs(GLOBAL.$app.scenesMaster.curScene,GLOBAL.scenes.game.PrestartGameRoom1)){
callMethod(this,GLOBAL.$app.scenesMaster.curScene,_127[50],[_127[51]]);

}
callMethod(this,GLOBAL.$app.connect,_127[37],[function(v,waitTime,streamid){
if((v == 1)){
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.game.PrestartGameRoom1)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[50],[_127[52]]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[53],[waitTime]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[54]);

}
callMethod(this,th,_127[55],[streamid,null,waitTime]);

}else{
callMethod(this,GLOBAL.$app,_127[49]);
if((v == 2)){
callMethod(this,GLOBAL.$app.popupHtml,_127[48],['<br /><br />Можно бегать только с одной страницы']);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_127[48],[_127[56]]);

}

}

},_127[57]]);

}else{

}

}

},function(){
callMethod(this,GLOBAL.$app.popupHtml,_127[48],[_127[58]]);
callMethod(this,GLOBAL.$app,_127[49]);

}]);

};
_app_master_GameMaster[_127[60]]=function(streamid,waitTime){
var th=this;
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[41]);
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.game.PrestartGameRoom1)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[50],[_127[52]]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[53],[waitTime]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[54]);

}
callMethod(this,th,_127[55],[streamid,null,waitTime]);

};
_app_master_GameMaster[_127[55]]=function(streamid,ttt){
var th=this;
if(!ttt){
ttt='';

}
var st=callMethod(this,GLOBAL.$app.connect,_127[61],[streamid]);
st.noStream=function(){
callMethod(this,GLOBAL.$app.popupHtml,_127[48],[_127[62]]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[34]);
callMethod(this,GLOBAL.$app.scenesMaster,_127[63]);

};
callMethod(this,st,_127[64],[_127[65],function(map,users,itemsList){
var mapObj={};
var mapO=map;
if(checkIs(mapO,_127[66])){
mapO=callMethod(this,JSON,_127[67],[mapO]);

}
var mapCl=ctorObject(_127[68]);
callMethod(this,mapCl,_127[69],[mapO.map]);
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[70],[ttt,users,mapCl,GLOBAL.$app.user.id]);
GLOBAL.$app.gameRoom.gItemsList=itemsList;
callMethod(this,GLOBAL.$app.gameRoom,_127[71],[st]);

}]);
callMethod(this,st,_127[72]);

};
_app_master_GameMaster[_127[77]]=function(ttt,name,mapid,mapStr){
var th=this;
callMethod(this,GLOBAL.$app.scenesMaster,_127[34]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_127[41]);
var isShowChat=callMethod(this,GLOBAL.$app.chat,_127[42]);
if(isShowChat){
GLOBAL.$app.chat.isFlagLastChatVis=!0;
callMethod(this,GLOBAL.$app.chat,_127[43]);

}
callMethod(this,GLOBAL.$app,_127[44],[function(){
var r3=GLOBAL.$app.connect.isConnect;
if(r3){
if(checkIs(GLOBAL.$app.scenesMaster.curScene,GLOBAL.scenes.game.PrestartGameRoom1)){
callMethod(this,GLOBAL.$app.scenesMaster.curScene,_127[50],[_127[51]]);

}
callMethod(this,GLOBAL.$app.connect,_127[37],[function(v,waitTime,streamid){
if((v == 1)){
if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.game.PrestartGameRoom1)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[50],[_127[52]]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[53],[waitTime]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[54]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5.curScene,_127[73]);

}
callMethod(this,th,_127[55],[streamid,_127[74]]);

}else{
callMethod(this,GLOBAL.$app,_127[49]);
if((v == 2)){
callMethod(this,GLOBAL.$app.popup,_127[48],['<br /><br />Комната уже существует, придумайте другое имя']);

}else if((v == 3)){
callMethod(this,GLOBAL.$app.popup,_127[48],[_127[75]]);

}else{
callMethod(this,GLOBAL.$app.popup,_127[48],[_127[56]]);

}


}

},_127[76],ttt,name,mapid,mapStr]);

}

},function(){
callMethod(this,GLOBAL.$app.popupHtml,_127[48],[_127[58]]);
callMethod(this,GLOBAL.$app,_127[49]);

}]);

};
_app_master_GameMaster[_127[78]]=function(world){
callMethod(this,world.stream,_127[37],[_127[57]]);

};
_app_master_GameMaster[_127[80]]=function(cb){
callMethod(this,GLOBAL.$app.connect,_127[37],[function(ob){
var mm=ctorObject(_127[68]);
callMethod(this,mm,_127[69],[ob.map]);
cb(mm);

},_127[79]]);

};
_app_master_GameMaster[_127[83]]=function(id,cb,cberr){
callMethod(this,GLOBAL.$app.webconnect,_127[37],[_127[81],{id:id},function(aa){
if((aa.size > 0)){
var ob=aa[0];
var mm=ctorObject(_127[68]);
mm.id=ob.id;
callMethod(this,mm,_127[69],[ob.map]);
if(checkIn(ob,_127[82])){
mm.createTime=ob.timestamp;

}
cb(mm);

}else{
if(cberr){
cberr();

}

}

}]);

};
_app_master_GameMaster[_127[84]]=function(id,cb,cberr){
if(GLOBAL.Config.isTestAuth){
callMethod(this,GLOBAL.$app.webconnect,_127[37],[_127[81],{id:id},function(aa){
if((aa.size > 0)){
var ob=aa[0];
var mm=ctorObject(_127[68]);
callMethod(this,mm,_127[69],[ob.map]);
if(checkIn(ob,_127[82])){
mm.createTime=ob.timestamp;

}
cb(mm);

}else{
if(cberr){
cberr();

}

}

}]);

}else{
callMethod(this,GLOBAL.$app.connect,_127[37],[function(aa){
if((aa.size > 0)){
var ob=aa[0];
var mm=ctorObject(_127[68]);
callMethod(this,mm,_127[69],[ob.map]);
if(checkIn(ob,_127[82])){
mm.createTime=ob.timestamp;

}
cb(mm);

}else{
if(cberr){
cberr();

}

}

},_127[81],[id]]);

}

};
_app_master_GameMaster[_127[85]]=function(id){
var i=0;
while((i < this.decorItemsList.size)){
var el=this.decorItemsList[i];
if((el.id == id)){
return el;

}
i++;
}
return null;

};
_app_master_GameMaster[_127[86]]=function(id){
return GLOBAL.Config.mapEditorTile1;

};
_app_master_GameMaster[_127[93]]=function(id,cb){
var th=this;
if((id <= 0)){
id=1;

}
var bgInfo=callMethod(this,GLOBAL.Config,_127[87],[id]);
if(bgInfo){
var bm=ctorObject(lang.display.Bitmap);
var nm2=(_127[88] + id);
var assetObj=null;
if(checkIn(th.backgroundsCache,nm2)){
assetObj=th.backgroundsCache[nm2];

}
if(assetObj){
bm.src=assetObj;
bm.imgSize=assetObj.imgSize;
cb(bm);

}else{
callMethod(this,bm,_127[64],[_127[89],function(){
var sw=GLOBAL.$app.stage.stageWidth;
var sh=GLOBAL.$app.stage.stageHeight;
var isResizeBm=!1;
this.imgSize=callMethod(this,GLOBAL.AppUtils,_127[90],[this]);
if((this.imgSize.width > sw)){
isResizeBm=!0;

}
if((this.imgSize.height > sh)){
isResizeBm=!0;

}
bgInfo.imgSize=this.imgSize;
callMethod(this,this,_127[91],[_127[89],arguments.callee]);
th.backgroundsCache[nm2]=bm;
cb(bm);


}]);
bm.src=bgInfo.assetURL;

}

}

};
_app_master_GameMaster[_127[100]]=function(id,cb){
var th=this;
if((id <= 0)){
id=1;

}
var bgInfo=callMethod(this,GLOBAL.Config,_127[87],[id]);
if(bgInfo){
var bm=ctorObject(lang.display.Bitmap);
var nm2=(_127[88] + id);
var assetObj=null;
if(checkIn(th.backgroundsCache,nm2)){
assetObj=th.backgroundsCache[nm2];

}
if(assetObj){
bm.src=assetObj;
bm.imageSizeData=assetObj.imgSize;
cb(bm);

}else{
var urlV=bgInfo.assetURL;
var spl=callMethod(this,urlV,_127[94],[_127[95]]);
var nm3=callMethod(this,spl,_127[96]);
var pp=callMethod(this,nm3,_127[97],[_127[98]]);
if((pp > -1)){
nm3=callMethod(this,nm3,_127[99],[0,pp]);

}
callMethod(this,bm,_127[64],[_127[89],function(){
var szObj=callMethod(this,GLOBAL.AppUtils,_127[90],[this]);
this.imgSize=szObj;
bgInfo.imgSize=szObj;
callMethod(this,this,_127[91],[_127[89],arguments.callee]);
th.backgroundsCache[nm2]=bm;
cb(bm);


}]);
bm.src=urlV;


}

}

};
vm.registerClass(_127[101],'',_app_master_GameMaster);
})(window);



(function(window){
var _84=["getDefinitionByName","PopUpSendGifts","BGKostiSprite","PopUpSendGiftMov1","css","#FFFFFF","text-align","center","clear","web","attr","scroll1","addChild","remove","animAlphaSprite","loadItems","renderItems","Отправить","Выбрать","ButtonOrangeText","cbClick","sendGift","Arial","1","кол-во 1","openPopUpInputOne","Количество от 1 до ","ОК","кол-во ","updatePopularTxtInfo","openPopUpMinText1","Столько добавится популярности","getClassName","static","getPopularValueItem","+"," к популяр.","getAssetByName","a70.png","selectItemV","isSuperAdmin","a71.png","kostiIcon2.png","price_type","drawMovie","removeChild","on","rollover","rollout","max-width","90px","load","off","getinfo_2081.png","getSellPriceByItemID","id: ","\n","\n\n","Даю популярности: ","Продаюсь за лапки: ","txt","openPopUpText1","setMaxValue","eachTime","getChildIndex","setTxt1","stop","stopWaitTimer","init","Привышено время ожидания","initCloseTimer","initWaitTimer","stopCloseTimer","getChildAt","Подарок доставляется...","send","Доставлено!","randomInt","Повторите действие ещё раз.","Доступ ограничен","Недостаточно валюты","Невозможно доставить подарок","user.sendGift","getPopUpByName","resize","app.popup.PopUpSendGifts","lang.display.Sprite"];
var _app_popup_PopUpSendGifts={};
_app_popup_PopUpSendGifts["ctor"]=function(userid,cb){
this.userid=userid;
var cl2=callMethod(this,System,_84[0],[this.clName]);
var th=this;
this.cbClick=cb;
this.tm1=null;
this.tm2=null;
this.kolvo=1;
this.maxNums=500;
this.popupName=_84[1];
this.selectable=!1;
var bg=ctorObject(_84[2]);
var c=ctorObject(_84[3]);
this.tf4=ctorObject(lang.text.TextField);
callMethod(this,this.tf4,_84[4],[{color:_84[5],'text-align':_84[7]}]);
this.tf4.filters=GLOBAL.Config.filterBlue1;
this.curItem=null;
this.c=c;
var w1=this.c.cnt.width;
var h1=this.c.cnt.height;
callMethod(this,this.c.cnt.painter,_84[8]);
callMethod(this,this.c.scroll1.painter,_84[8]);
this.bg=bg;
this.msk=this.c.msk1;
this.c.cnt.mask=this.msk;
this.tf4.x=this.c.cnt.x;
this.tf4.y=this.c.cnt.y;
this.w1=w1;
this.h1=h1;
this.sc=null;
callMethod(this,this.c.cnt,_84[10],[{className:_84[11]}]);
this.c.scroll1.visible=!1;

callMethod(this,null,_84[12],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_84[13]);

};
callMethod(this,GLOBAL.AppUtils,_84[14],[c.close,0.8,1]);
this.spr3=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.giftsMaster,_84[15],[function(){
callMethod(this,th,_84[16],[GLOBAL.$app.giftsMaster.arr]);

}]);
callMethod(this,this.c.cnt,_84[12],[this.spr3]);
var nm4=_84[17];
if(this.cbClick){
nm4=_84[18];

}
var but1=ctorObject(_84[19],[nm4,function(){
if(th.cbClick){
if(th.curItem){
callMethod(this,th,_84[20],[th.curItem.ell]);
callMethod(this,th,_84[13]);

}

}else{
callMethod(this,th,_84[21]);

}

}]);
but1.x=((w1 - 60) / 2);
but1.y=(470 - 37);
this.but1=but1;
callMethod(this,this.c,_84[12],[but1]);
var sp6=ctorObject(lang.display.Sprite);
sp6.x=380;
sp6.y=but1.y;
callMethod(this,this.c,_84[12],[sp6]);
var tf6=ctorObject(lang.text.TextField);
tf6.color=16777215;
tf6.fontName=_84[22];
tf6.bold=!0;
var txt8=_84[23];
tf6.text=_84[24];
tf6.buttonMode=!0;
tf6.filters=GLOBAL.Config.filterBlue1;
tf6.y=12;

tf6.click=function(){
callMethod(this,GLOBAL.$app.popup,_84[25],[(_84[26] + th.maxNums),_84[27],txt8,function(ob){
var vv=castInt(ob.name);
if((vv > th.maxNums)){
vv=th.maxNums;

}
if((vv <= 0)){
vv=1;

}
tf6.text=(_84[28] + vv);
th.kolvo=vv;
txt8=('' + vv);
if(th.curItem){
callMethod(this,th,_84[29],[th.curItem.ell]);

}

}]);

};
callMethod(this,sp6,_84[12],[tf6]);
this.tf6=tf6;
var sp8=ctorObject(lang.display.Sprite);
sp8.x=70;
sp8.y=but1.y;
callMethod(this,this.c,_84[12],[sp8]);
var tf8=ctorObject(lang.text.TextField);
tf8.color=16777215;
tf8.fontName=_84[22];
tf8.bold=!0;
tf8.click=function(){
callMethod(this,GLOBAL.$app.popup,_84[30],[_84[31]]);

};
tf8.buttonMode=!0;
tf8.filters=GLOBAL.Config.filterBlue1;
tf8.y=12;

callMethod(this,sp8,_84[12],[tf8]);
this.tf8=tf8;

};
_app_popup_PopUpSendGifts[_84[33]]=function(){
this.cacheCnt=null;
this.clName=callMethod(this,System,_84[32],[this]);

};
_app_popup_PopUpSendGifts[_84[29]]=function(el){
var th=this;
if(el){
var popularV=callMethod(this,GLOBAL.$app.giftsMaster,_84[34],[el]);
var pp=(popularV * th.kolvo);
th.tf8.text=((_84[35] + pp) + _84[36]);

}

};
_app_popup_PopUpSendGifts[_84[39]]=function(v){
if((this.curItem != v)){
if(this.curItem){
this.curItem.icon1.src=this.curItem.iconOrigSrc;

}
var url1=callMethod(this,GLOBAL.$app.moviesReader,_84[37],[_84[38]]);
v.icon1.src=url1.src;
callMethod(this,this,_84[29],[v.ell]);

}
this.curItem=v;

};
_app_popup_PopUpSendGifts[_84[16]]=function(a){
var th=this;
var isAdmin=callMethod(this,GLOBAL.UserMode,_84[40],[GLOBAL.$app.user.mode]);
if(a){
var yy=0;
var spr2=this.spr3;
var url2=callMethod(this,GLOBAL.$app.moviesReader,_84[37],[_84[41]]);
var kostiIconBM=callMethod(this,GLOBAL.$app.moviesReader,_84[37],[_84[42]]);
var kostiIconURL='';
if(kostiIconBM){
kostiIconURL=kostiIconBM.src;

}
var itemW=100;
var itemH=115;
var numW=5;
var i=0;
var nums=a.size;
var cb4=function(el){
var r2=!0;
if(!isAdmin){
if((el.active == 0)){
r2=!1;

}

}
if(r2){
var isKosti=!1;
if(checkIn(el,_84[43])){
if((el.price_type == 1)){
isKosti=!0;

}

}
var s=callMethod(this,GLOBAL.$app.moviesReader,_84[44],[32]);
var qq=(i % numW);
s.x=(qq * itemW);
s.y=yy;
s.itemid=el.id;
if(isKosti){

s.moneyIcon.src=kostiIconURL;

}
s.iconOrigSrc=s.icon1.src;
callMethod(this,s.but.parent,_84[45],[s.but]);
s.ell=el;
if((el.active == 0)){
s.alpha=0.5;

}
s.but.click=function(e){
callMethod(this,th,_84[39],[this.parent]);

};
callMethod(this,s.but,_84[46],[_84[47],function(e){
if((th.curItem != this.parent)){
this.parent.icon1.src=url2.src;

}

}]);
callMethod(this,s.but,_84[46],[_84[48],function(e){
if((th.curItem != this.parent)){
this.parent.icon1.src=this.parent.iconOrigSrc;

}

}]);
var tfName=ctorObject(lang.text.TextField);
tfName.filters=GLOBAL.Config.shadowText1;
tfName.color=16777215;
tfName.fontSize=13;
tfName.fontName=_84[22];
tfName.bold=!0;
tfName.text=('' + el.name);
tfName.x=((100 - tfName.width) / 2);
tfName.y=4;
tfName.y+=2;
if((tfName.width >= 90)){
tfName.x+=5;

}
if((el.id == 34)){
tfName.x+=6;

}
callMethod(this,tfName,_84[4],[{'max-width':_84[50],'text-align':_84[7]}]);

tfName.mouseEnabled=!1;
var tf3=ctorObject(lang.text.TextField);
tf3.filters=GLOBAL.Config.shadowText1;
tf3.color=16347292;
if(isKosti){
tf3.color=16759329;

}
tf3.fontSize=16;
tf3.fontName=_84[22];
tf3.bold=!0;
tf3.text=('' + el.price);
tf3.width=(tf3.width + 4);
tf3.x=47;
tf3.y=87;
tf3.y+=4;

tf3.mouseEnabled=!1;
if((qq == (numW - 1))){
yy+=itemH;

}
callMethod(this,spr2,_84[12],[s]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.mouseEnabled=!1;
callMethod(this,bm1,_84[46],[_84[51],function(){
callMethod(this,this,_84[52],[_84[51],arguments.callee]);
var ratio=1;
this.scaleX=ratio;
this.scaleY=ratio;
this.x=((96 - (this.naturalWidth * ratio)) / 2);
this.y=9;

}]);
bm1.src=el.url;
callMethod(this,s,_84[12],[bm1,tfName]);
callMethod(this,s,_84[12],[tf3]);
if((i == 0)){
callMethod(this,th,_84[39],[s]);

}
i+=1;
callMethod(this,s,_84[12],[s.but]);
var infoIcon=callMethod(this,GLOBAL.$app.moviesReader,_84[37],[_84[53]]);
if(infoIcon){
infoIcon.elItem=el;
infoIcon.scaleX=0.7;
infoIcon.scaleY=0.7;
infoIcon.x=6;
infoIcon.y=17;
callMethod(this,s,_84[12],[infoIcon]);
infoIcon.buttonMode=!0;
infoIcon.click=function(){
var el2=this.elItem;
var popularV=callMethod(this,GLOBAL.$app.giftsMaster,_84[34],[el2]);
var sellV=callMethod(this,GLOBAL.$app.giftsMaster,_84[54],[el2.id,1]);
var ss3='';
ss3=(((ss3 + _84[55]) + el2.id) + _84[56]);
ss3=(((ss3 + '') + el2.name) + _84[57]);
ss3=(((ss3 + _84[58]) + popularV) + _84[56]);
ss3=(((ss3 + _84[59]) + sellV) + _84[56]);
if(checkIn(el2,_84[60])){
if((el2.txt.size > 0)){
ss3=((ss3 + _84[56]) + el2.txt);

}

}
callMethod(this,GLOBAL.$app.popupHtml,_84[61],[ss3]);

};

}
spr2.scrollMaxV=(yy + itemH);
if(th.sc){
callMethod(this,th.sc,_84[62],[spr2.scrollMaxV]);

}

}

};
var isAnim=!0;
if(isAnim){
callMethod(this,a,_84[63],[50,cb4]);

}else{
var k=0;
while((k < a.size)){
cb4(a[k]);
k++;
}

}

}

};
_app_popup_PopUpSendGifts[_84[65]]=function(v){
var p1=callMethod(this,this.c,_84[64],[this.tf4]);
if((p1 == -1)){
callMethod(this,this.c,_84[12],[this.tf4]);

}
this.tf4.text=v;
this.tf4.x=(this.c.cnt.x + ((this.w1 - this.tf4.width) / 2));
this.tf4.y=(this.c.cnt.y + ((this.h1 - 25) / 2));

};
_app_popup_PopUpSendGifts[_84[67]]=function(){
if(this.tm2){
callMethod(this,this.tm2,_84[66]);
this.tm2=null;

}

};
_app_popup_PopUpSendGifts[_84[71]]=function(){
var th=this;
th.tm2=callMethod(this,Timer,_84[68],[10000,function(){
callMethod(this,th,_84[67]);
callMethod(this,th,_84[65],[_84[69]]);
callMethod(this,th,_84[70],[2000]);

}]);

};
_app_popup_PopUpSendGifts[_84[72]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_84[66]);
this.tm1=null;

}

};
_app_popup_PopUpSendGifts[_84[70]]=function(v){
var th=this;
callMethod(this,th,_84[67]);
th.tm1=callMethod(this,Timer,_84[68],[v,function(){
callMethod(this,th,_84[72]);
callMethod(this,th,_84[13]);

}]);

};
_app_popup_PopUpSendGifts[_84[21]]=function(){
var th=this;
if(th.curItem){
if((th.kolvo <= th.maxNums)){
var pos1=callMethod(this,th.c,_84[64],[th.c.cnt]);
if((pos1 > -1)){
var mvv=callMethod(this,th.c,_84[73],[pos1]);
callMethod(this,th.c,_84[45],[mvv]);

}
if(this.but1){
callMethod(this,this.but1.parent,_84[45],[this.but1]);
this.but1=null;

}
this.c.cnt.y=0;
callMethod(this,th,_84[65],[_84[74]]);
callMethod(this,th,_84[71]);
var itemid=th.curItem.ell.id;
callMethod(this,GLOBAL.$app.connect,_84[75],[function(vv){
if((vv == GLOBAL.ErrorType.OK)){
callMethod(this,th,_84[65],[_84[76]]);
var rndV=callMethod(this,Math,_84[77],[1000]);
var vv7=(500 + rndV);
callMethod(this,th,_84[70],[vv7]);

}else if((vv == GLOBAL.ErrorType.TIME_EXISTS)){
callMethod(this,th,_84[65],[_84[78]]);
callMethod(this,th,_84[70],[1500]);

}else if((vv == GLOBAL.ErrorType.ACCESS_DENIED)){
callMethod(this,th,_84[65],[_84[79]]);
callMethod(this,th,_84[70],[2500]);

}else if((vv == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,th,_84[65],[_84[80]]);
callMethod(this,th,_84[70],[3500]);

}else{
callMethod(this,th,_84[65],[_84[81]]);
callMethod(this,th,_84[70],[1500]);

}




},_84[82],itemid,th.userid,th.kolvo]);

}else{
callMethod(this,GLOBAL.$app.popup,_84[30],[('<br /><br />Слишком большое кол-во, максимально ' + th.maxNums)]);

}

}

};
_app_popup_PopUpSendGifts[_84[13]]=function(){
if(this.sc){
callMethod(this,this.sc,_84[13]);

}
var q=callMethod(this,GLOBAL.$app.popup,_84[83],[this.popupName]);
if(q){
callMethod(this,q.parent,_84[45],[q]);

}

};
_app_popup_PopUpSendGifts[_84[84]]=function(w,h){
callMethod(this,this.bg,_84[84],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_84[85],_84[86],_app_popup_PopUpSendGifts);
})(window);



(function(window){
var _107=["attr","noSelect","getAssetByName","a24.png","addChild","Arial","createSpritePainter","setValue","web","redraw","setValueTxt","clear","rect","resize","app.chat.OnlinePanelCountSpr","lang.display.Sprite"];
var _app_chat_OnlinePanelCountSpr={};
_app_chat_OnlinePanelCountSpr["ctor"]=function(){
var th=this;
this.w1=0;
this.h=33;
this.isActive=!1;
callMethod(this,this,_107[0],[{className:_107[1]}]);
this.a1=callMethod(this,GLOBAL.$app.moviesReader,_107[2],[_107[3]]);
this.a7=callMethod(this,GLOBAL.$app.moviesReader,_107[2],[_107[3]]);
this.a2=GLOBAL.Config.roomActiveBM;
this.a4=GLOBAL.Config.roomNoActiveBM;
this.spr=ctorObject(lang.display.Sprite);
this.spr.scaleX=0.5;
this.spr.scaleY=0.5;
this.spr.x=-6;
this.spr.y=-5;
this.a7.scaleX=-1;
callMethod(this,this.spr,_107[4],[this.a1,this.a7]);
var tf=ctorObject(lang.text.TextField);
tf.fontSize=17;
tf.y=4;
tf.height=25;
tf.color=16777215;
tf.fontName=_107[5];
tf.bold=!0;
tf.y-=1;
tf.x=18;
this.tf=tf;
this.s1=callMethod(this,GLOBAL.AppUtils,_107[6]);
this.s1.scaleX=0.5;
this.s1.scaleY=0.5;
callMethod(this,null,_107[4],[this.s1,this.spr,tf]);

};
_app_chat_OnlinePanelCountSpr[_107[7]]=function(v){

};
_app_chat_OnlinePanelCountSpr[_107[10]]=function(v){
this.tf.text=v;
this.tf.width=(this.w1 + 4);

this.w=this.w1;
callMethod(this,null,_107[9]);

};
_app_chat_OnlinePanelCountSpr[_107[9]]=function(){
this.a2=GLOBAL.Config.roomActiveBM;
this.a4=GLOBAL.Config.roomNoActiveBM;
callMethod(this,this.s1.painter,_107[11]);
var bm1=this.a4;
if(this.isActive){
bm1=this.a2;

}
callMethod(this,this.s1.painter,_107[12],[0,0,(this.w1 / this.s1.scaleX),this.a2.naturalHeight,bm1]);
this.a7.x=((this.w1 + 10) / this.spr.scaleX);

};
_app_chat_OnlinePanelCountSpr[_107[13]]=function(w,h){
this.w1=w;
callMethod(this,this,_107[9]);

};
vm.registerClass(_107[14],_107[15],_app_chat_OnlinePanelCountSpr);
})(window);

(function(window){
var _85=["attr","noSelect","getAssetByName","a24.png","a27.png","addChild","Arial","web","createSpritePainter","rect","#000000","stopAnimationRoom","chatSelectRoom","redraw","init","startAnimationRoom1","stop","clear","app.chat.ChatRoomSpr","lang.display.Sprite"];
var _app_chat_ChatRoomSpr={};
_app_chat_ChatRoomSpr["ctor"]=function(id,name){
var th=this;
this.id=id;
this.name=name;
this.h=33;
this.room=null;
this.isActive=!1;
this.isAnimActive=!1;
this.timerAnim=null;
callMethod(this,this,_85[0],[{className:_85[1]}]);
this.a1=callMethod(this,GLOBAL.$app.moviesReader,_85[2],[_85[3]]);
this.a7=callMethod(this,GLOBAL.$app.moviesReader,_85[2],[_85[3]]);
this.a2=GLOBAL.Config.roomActiveBM;
this.a4=GLOBAL.Config.roomNoActiveBM;
this.a5=callMethod(this,GLOBAL.$app.moviesReader,_85[2],[_85[4]]);
this.spr=ctorObject(lang.display.Sprite);
this.spr.scaleX=0.5;
this.spr.scaleY=0.5;
this.spr.x=-6;
this.spr.y=-5;
this.a7.scaleX=-1;
callMethod(this,this.spr,_85[5],[this.a1,this.a7]);
var tf=ctorObject(lang.text.TextField);
tf.fontSize=16;
tf.height=25;
tf.color=16777215;
tf.fontName=_85[6];
tf.bold=!0;
tf.text=name;
var w1=(tf.width + 15);
if((w1 < 80)){
w1=80;

}
tf.width=(w1 + 4);

tf.x=((w1 - tf.width) / 2);
tf.y=4;
tf.y-=1;

this.w1=w1;
var s1=callMethod(this,GLOBAL.AppUtils,_85[8]);
s1.scaleX=0.5;
s1.scaleY=0.5;
this.s1=s1;
this.w=w1;
var bg=callMethod(this,GLOBAL.AppUtils,_85[8]);
bg.alpha=0;
bg.buttonMode=!0;
callMethod(this,bg.painter,_85[9],[0,0,(w1 + 4),25,_85[10]]);
callMethod(this,null,_85[5],[s1,tf,this.spr,bg]);
bg.click=function(e){
callMethod(this,th,_85[11]);
callMethod(this,GLOBAL.$app.chat,_85[12],[th.room]);

};
callMethod(this,null,_85[13]);

};
_app_chat_ChatRoomSpr[_85[15]]=function(){
var th=this;
callMethod(this,th,_85[11]);
this.isAnimActive=!0;
this.timerAnim=callMethod(this,Timer,_85[14],[500,function(){
th.isAnimActive=th.isAnimActive ? !1 : !0;
callMethod(this,th,_85[13]);

}]);

};
_app_chat_ChatRoomSpr[_85[11]]=function(){
if(this.timerAnim){
callMethod(this,this.timerAnim,_85[16]);

}
this.timerAnim=null;
this.isAnimActive=!1;
callMethod(this,null,_85[13]);

};
_app_chat_ChatRoomSpr[_85[13]]=function(){
callMethod(this,this.s1.painter,_85[17]);
var bm1=this.a4;
if(this.isActive){
bm1=this.a2;

}
if(this.isAnimActive){
bm1=this.a5;

}
callMethod(this,this.s1.painter,_85[9],[0,0,(this.w1 / this.s1.scaleX),this.a2.naturalHeight,bm1]);
this.a7.x=((this.w1 + 10) / this.spr.scaleX);

};
vm.registerClass(_85[18],_85[19],_app_chat_ChatRoomSpr);
})(window);

(function(window){
var _253=["t1","getNickColor","getGradientNickColor","getAvaByUserID","a44.png","a45.png","getAssetByName","createSpritePainter","web","attr","Anonymous","on","load","rectRound","Arial","<span class=\""," noIE\" style=\"color:",";position:absolute;\">","</span>",";\">","</div>","     ","authDevice","pc","logoVM2.png","android","androidImg1.png","mobile","mobile1.png","openPopUpUserOnlineInfoDevice","addChild","isAdminOrSuperAdmin","isModerator","isModeratorMaps","css","white-space","nowrap","cbClick","clickChatUser","animAlphaSprite","createChatNickRainbow","app.chat.ChatOnlineUserSprite","lang.display.Sprite"];
var _app_chat_ChatOnlineUserSprite={};
_app_chat_ChatOnlineUserSprite["ctor"]=function(u,propsObj){
this.cbClick=null;
this.isT1=!0;
if(propsObj){
if(checkIn(propsObj,_253[0])){
this.isT1=propsObj.t1;

}

}
var th=this;
if(u){
var color=callMethod(this,GLOBAL.AppUtils,_253[1],[u.mode,u.nickColor_pos]);
var gradNickVal=null;
if((u.nickColor_pos > 0)){

}else{
if((u.nickRainbow == 0)){
gradNickVal=callMethod(this,GLOBAL.AppUtils,_253[2],[u.mode]);

}

}
var avaUrl=callMethod(this,GLOBAL.$app.cacheUsers,_253[3],[u.id]);
var s2='';
var iconT=_253[4];
var xx3=35;
var xx4=30;
var isAva=!0;
var maxAvaW=28;
if((u.sex == GLOBAL.Sex.MALE)){
iconT=_253[5];

}
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_253[6],[iconT]);
bm2.x=14;
bm2.y=12;
if(!isAva){
bm2.x=2;
bm2.y=6;

}
bm2.scaleX=0.5;
bm2.scaleY=0.5;
var sp2=callMethod(this,GLOBAL.AppUtils,_253[7]);
var ava=ctorObject(lang.display.Bitmap);
ava.visible=!1;
callMethod(this,ava,_253[9],[{crossOrigin:_253[10]}]);

if(isAva){
callMethod(this,ava,_253[11],[_253[12],function(){
var ww=50;
callMethod(this,sp2.painter,_253[13],[0,0,this.naturalWidth,this.naturalHeight,ava,50]);
sp2.scaleX=(maxAvaW / this.naturalWidth);
sp2.scaleY=(maxAvaW / this.naturalHeight);


}]);
ava.src=avaUrl;

}
var nickTxt=ctorObject(lang.text.TextField);
nickTxt.color=color;
nickTxt.fontSize=16;
nickTxt.fontName=_253[14];
nickTxt.bold=!0;
nickTxt.text=('' + u.nick);
if(gradNickVal){
var s3='<div class="chatNick" style="display:inline-block;font-family:Arial;font-size:16px;font-weight:bold;">';
s3+=((((((_253[15] + gradNickVal) + _253[16]) + color) + _253[17]) + u.nick) + _253[18]);
s3+=((((((_253[15] + gradNickVal) + _253[16]) + color) + _253[19]) + u.nick) + _253[18]);
s3+=_253[20];
nickTxt=ctorObject(lang.display.Sprite);
nickTxt.html=s3;

}

nickTxt.x=xx3;
nickTxt.y=8;
if((nickTxt.width <= 0)){
nickTxt.text=_253[21];

}
var bmIcon=null;
var authDeviceV='';
if(checkIn(u,_253[22])){
authDeviceV=u.authDevice;

}
if(!this.isT1){
authDeviceV='';

}
var xx2=0;
var bmAuthDevice=null;
if((authDeviceV == _253[23])){
nickTxt.x+=30;
xx2+=35;
var bm=callMethod(this,GLOBAL.$app.moviesReader,_253[6],[_253[24]]);
bm.scaleX=0.45;
bm.scaleY=0.45;
bm.x=30;
bm.y=5;
bmAuthDevice=bm;

}else if((authDeviceV == _253[25])){
nickTxt.x+=27;
xx2+=25;
var bm=callMethod(this,GLOBAL.$app.moviesReader,_253[6],[_253[26]]);
bm.scaleX=0.35;
bm.scaleY=0.35;
bm.x=33;
bm.y=2;
bmAuthDevice=bm;

}else if((authDeviceV == _253[27])){
xx2+=25;
var bm=callMethod(this,GLOBAL.$app.moviesReader,_253[6],[_253[28]]);
bm.scaleX=0.5;
bm.scaleY=0.5;
bm.x=26;
nickTxt.x+=20;
bmAuthDevice=bm;

}


if(bmAuthDevice){
bmAuthDevice.buttonMode=!0;
bmAuthDevice.click=function(){
callMethod(this,GLOBAL.$app.popup,_253[29],[authDeviceV]);

};
callMethod(this,null,_253[30],[bmAuthDevice]);

}
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_253[31],[u.mode]);
var isMod=callMethod(this,GLOBAL.UserMode,_253[32],[u.mode]);
var isModMaps=callMethod(this,GLOBAL.UserMode,_253[33],[u.mode]);
if(!bmAuthDevice){
if(isSuperAdmin){
nickTxt.x+=23;
bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.x=(33 + xx2);
bmIcon.src=GLOBAL.Config.adminIcon1BM.src;
bmIcon.scaleX=0.8;
bmIcon.scaleY=0.8;
bmIcon.y=3;

}else if(isMod){
nickTxt.x+=25;
bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.x=30;
bmIcon.src=GLOBAL.Config.modChatIcon1BM.src;
bmIcon.scaleX=0.45;
bmIcon.scaleY=0.45;

}else if(isModMaps){
nickTxt.x+=25;
bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.x=(30 + xx2);
bmIcon.src=GLOBAL.Config.modMapsIcon1BM.src;
bmIcon.scaleX=0.45;
bmIcon.scaleY=0.45;

}



}
callMethod(this,nickTxt,_253[34],[{'white-space':_253[36]}]);

nickTxt.buttonMode=!0;
nickTxt.click=function(e){
if(th.cbClick){
callMethod(this,th,_253[37]);

}else{
callMethod(this,GLOBAL.$app.chat,_253[38],[u,!1,!0]);

}

};
callMethod(this,GLOBAL.AppUtils,_253[39],[nickTxt,0.8,1]);
callMethod(this,null,_253[30],[sp2,bm2]);

if((u.nickRainbow == 1)){


}
if((u.nickRainbow == 1)){
var bmRainbow=callMethod(this,GLOBAL.$app.chat,_253[40],[u.nick]);
if(bmRainbow){
var bmNick=ctorObject(lang.display.Bitmap);
bmNick.src=bmRainbow;
callMethod(this,GLOBAL.AppUtils,_253[39],[bmNick,0.8,1]);
bmNick.buttonMode=!0;
bmNick.click=nickTxt.click;
bmNick.x=nickTxt.x;
bmNick.y=4;
callMethod(this,null,_253[30],[bmNick]);

}


}else{
callMethod(this,null,_253[30],[nickTxt]);

}
if(bmIcon){
callMethod(this,null,_253[30],[bmIcon]);

}

}

};
vm.registerClass(_253[41],_253[42],_app_chat_ChatOnlineUserSprite);
})(window);

(function(window){
var _266=["getNickColor","Arial","cbClick","clickChatUser","createLinearGradient","animAlphaSprite","addChild","app.chat.ChatUserNickSpr2","lang.display.Sprite"];
var _app_chat_ChatUserNickSpr2={};
_app_chat_ChatUserNickSpr2["ctor"]=function(u){
this.cbClick=null;
var th=this;
this.w=0;
if(u){
var color=callMethod(this,GLOBAL.AppUtils,_266[0],[u.mode,u.nickColor_pos]);
var nickTxt=ctorObject(lang.text.TextField);
nickTxt.fontName=_266[1];
nickTxt.bold=!0;
nickTxt.color=color;
nickTxt.fontSize=16;
nickTxt.text=('' + u.nick);
nickTxt.x=35;
nickTxt.y=8;
nickTxt.filters=GLOBAL.Config.shadowText2;
this.w=(nickTxt.width + 4);
nickTxt.buttonMode=!0;
nickTxt.click=function(e){
if(th.cbClick){
callMethod(this,th,_266[2]);

}else{
callMethod(this,GLOBAL.$app.chat,_266[3],[u,!1,!0]);

}

};
if((u.nickRainbow == 1)){
nickTxt.color=callMethod(this,lang.display.Painter,_266[4],[0,0,this.w,0,GLOBAL.$app.rainbowColorsArr,GLOBAL.$app.rainbowColorsRatios]);

}
callMethod(this,GLOBAL.AppUtils,_266[5],[nickTxt,0.8,1]);
callMethod(this,null,_266[6],[nickTxt]);

}

};
vm.registerClass(_266[7],_266[8],_app_chat_ChatUserNickSpr2);
})(window);

(function(window){
var _178=["getNickColor","Arial","css","white-space","nowrap","cbClick","clickChatUser","animAlphaSprite","attr","nickRainbow","addChild","app.chat.ChatUserNickSpr1","lang.display.Sprite"];
var _app_chat_ChatUserNickSpr1={};
_app_chat_ChatUserNickSpr1["ctor"]=function(u){
this.cbClick=null;
var th=this;
this.w=0;
if(u){
var color=callMethod(this,GLOBAL.AppUtils,_178[0],[u.mode,u.nickColor_pos]);
var nickTxt=ctorObject(lang.text.TextField);
nickTxt.fontName=_178[1];
nickTxt.bold=!0;
nickTxt.color=color;
nickTxt.fontSize=16;
nickTxt.text=('' + u.nick);
nickTxt.x=35;
nickTxt.y=8;
this.w=(nickTxt.width + 4);
if((nickTxt.width < 20)){
nickTxt.width=90;

}
callMethod(this,nickTxt,_178[2],[{'white-space':_178[4]}]);
nickTxt.buttonMode=!0;
nickTxt.click=function(e){
if(th.cbClick){
callMethod(this,th,_178[5]);

}else{
callMethod(this,GLOBAL.$app.chat,_178[6],[u,!1,!0]);

}

};
callMethod(this,GLOBAL.AppUtils,_178[7],[nickTxt,0.8,1]);
if((u.nickRainbow == 1)){
callMethod(this,nickTxt,_178[8],[{className:_178[9]}]);

}
callMethod(this,null,_178[10],[nickTxt]);

}

};
vm.registerClass(_178[11],_178[12],_app_chat_ChatUserNickSpr1);
})(window);

(function(window){
var _99=["createSpritePainter","app.chat.OnlinePanelCountSpr","resize","getAssetByName","chatSearchImg1.png","openPopUpInputOne","ID игроков через пробел","Найти","split"," ","push","openPopUpSearchUsers1","app.ui.VScrollBar2","addChild","web","css","overflow-x","hidden","attr","scroll1","remove","removeChild","setValue","setCount","setMaxValue","removeAllChilds","isDialogRoom","В сети ","setValueTxt","clearPanel","int","getUserID","app.chat.ChatOnlineUserSprite","updScroll","update","clear","border","rectRound","rect","#000000","app.chat.ChatOnlineUsersPanel","lang.display.Sprite"];
var _app_chat_ChatOnlineUsersPanel={};
_app_chat_ChatOnlineUsersPanel["ctor"]=function(chat){
var th=this;
this.lastW=0;
this.lastH=0;
this.lastBG=null;
this.w=163;
this.h=0;
this.maxScrollV=0;
var bg=callMethod(this,GLOBAL.AppUtils,_99[0]);
this.bg=bg;
this.bg.y=1;
this.countSpr=ctorObject(_99[1],['']);
callMethod(this,this.countSpr,_99[2],[(this.w - 25),0]);
this.countSpr.x=13;
this.countSpr.y=5;
var findIcon=callMethod(this,GLOBAL.$app.moviesReader,_99[3],[_99[4]]);
findIcon.x=125;
findIcon.y=10;
findIcon.buttonMode=!0;
findIcon.click=function(){
callMethod(this,GLOBAL.$app.popup,_99[5],[_99[6],_99[7],'',function(ob){
var vv2=ob.name;
if((vv2.size > 0)){
var spl=callMethod(this,vv2,_99[8],[_99[9]]);
var ids=[];
if((spl.size > 0)){
var i=0;
while((i < spl.size)){
var el=spl[i];
el=castInt(el);
if((el > 0)){
callMethod(this,ids,_99[10],[el]);

}
i++;
}

}
callMethod(this,GLOBAL.$app.popup,_99[11],[ids]);

}

}]);

};
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=5;
this.cnt.y=35;
this.cnt.width=((this.w - this.cnt.x) - 5);
this.msk=callMethod(this,GLOBAL.AppUtils,_99[0]);
this.msk.y=this.cnt.y;
this.cnt.mask=this.msk;
var sc=ctorObject(_99[12],[this.cnt]);
sc.x=(this.w - 20);
sc.y=34;
this.sc=sc;
callMethod(this,null,_99[13],[this.bg,this.countSpr,findIcon,this.msk,sc,this.cnt]);
callMethod(this,this.cnt,_99[15],[{'overflow-x':_99[17]}]);
callMethod(this,this.cnt,_99[18],[{className:_99[19]}]);
callMethod(this,sc,_99[20]);
callMethod(this,sc.parent,_99[21],[sc]);


};
_app_chat_ChatOnlineUsersPanel[_99[23]]=function(v){
callMethod(this,this.countSpr,_99[22],[v]);

};
_app_chat_ChatOnlineUsersPanel[_99[29]]=function(){
this.maxScrollV=0;
callMethod(this,this.sc,_99[24],[0]);
var r=GLOBAL.$app.chat.activeRoom;
if(r){
if((r.id == -1)){
if((GLOBAL.$app.chat.chatRooms.size > 0)){
r=GLOBAL.$app.chat.chatRooms[0];

}
callMethod(this,this.cnt,_99[25]);
var isDialogV2=callMethod(this,r,_99[26]);
var txt1=((_99[27] + r.countUsers) + '');
callMethod(this,this.countSpr,_99[28],[txt1]);

}else{
callMethod(this,this.cnt,_99[25]);
var isDialogV2=callMethod(this,r,_99[26]);
var txt1=((_99[27] + r.countUsers) + '');
if(isDialogV2){
txt1=((_99[27] + r.countUsers) + '');

}
callMethod(this,this.countSpr,_99[28],[txt1]);

}

}

};
_app_chat_ChatOnlineUsersPanel[_99[34]]=function(){
callMethod(this,this,_99[29]);
var hh=35;
var r=GLOBAL.$app.chat.activeRoom;
if(r){
if((r.id == -1)){
if((GLOBAL.$app.chat.chatRooms.size > 0)){
r=GLOBAL.$app.chat.chatRooms[0];

}

}
callMethod(this,this,_99[23],[r.countUsers]);
var propsObj=null;
if((r.id != 1)){
propsObj={t1:!1};

}
var i=0;
while((i < r.users.size)){
var idd=r.users[i];
var uu=null;
if(checkIs(idd,_99[30])){
uu=callMethod(this,GLOBAL.$app.cacheUsers,_99[31],[idd]);

}else{
uu=idd;

}
if(uu){
var nickSpr=ctorObject(_99[32],[uu,propsObj]);
nickSpr.y=(i * hh);
callMethod(this,this.cnt,_99[13],[nickSpr]);

}
i++;
}
var hh2=(this.cnt.numChildren * hh);
if((hh2 < 0)){
hh2=0;

}
this.maxScrollV=hh2;
var lastVis=this.sc.visible;
callMethod(this,this,_99[33]);
if((this.sc.visible != lastVis)){
callMethod(this,this,_99[2],[this.w,this.h]);

}

}

};
_app_chat_ChatOnlineUsersPanel[_99[33]]=function(){
callMethod(this,this.sc,_99[24],[this.maxScrollV]);

};
_app_chat_ChatOnlineUsersPanel[_99[2]]=function(w,h){
var isRedraw=!1;
if((w != this.lastW)){
isRedraw=!0;

}else if((h != this.lastH)){
isRedraw=!0;

}else if((GLOBAL.Config.bgImg != this.lastBG)){
isRedraw=!0;

}


this.lastW=w;
this.lastH=h;
this.h=h;
this.cnt.width=(this.w - 12);
this.cnt.height=((h - this.cnt.y) - 5);
this.lastBG=GLOBAL.Config.bgImg;
if(isRedraw){
callMethod(this,this.bg.painter,_99[35]);
callMethod(this,this.bg.painter,_99[36],[1,0]);
callMethod(this,this.bg.painter,_99[37],[0,0,this.w,h,GLOBAL.Config.bgImg,10]);
callMethod(this,this,_99[33]);
var cntW=(this.w - 12);
if(this.sc.visible){
cntW=(this.w - 25);

}
callMethod(this,this.msk.painter,_99[35]);
callMethod(this,this.msk.painter,_99[38],[0,0,cntW,((h - this.msk.y) - 5),_99[39]]);
callMethod(this,this.sc,_99[2],[7,((this.h - this.cnt.y) - 5)]);
callMethod(this,this.countSpr,_99[2],[(this.w - 25),0]);

}

};
vm.registerClass(_99[40],_99[41],_app_chat_ChatOnlineUsersPanel);
})(window);

(function(window){
var _153=["createSpritePainter","addChild","web","attr","spellcheck","on","keyup","addMsg","setVisible","resize","redraw","clear","rectRound","app.chat.ChatTextInput","lang.display.Sprite"];
var _app_chat_ChatTextInput={};
_app_chat_ChatTextInput["ctor"]=function(chat){
var th=this;
this.bgColor=GLOBAL.Config.chatInputBGColor;
this.lastColor=null;
this.w=0;
this.h=33;
var bg=callMethod(this,GLOBAL.AppUtils,_153[0]);
this.bg=bg;
callMethod(this,null,_153[1],[this.bg]);
this.ti=ctorObject(lang.text.TextInput);
this.ti.fontSize=18;
this.ti.y=3;

this.ti.height=25;
this.ti.x=5;
callMethod(this,null,_153[1],[this.ti]);
this.ti.color=13232031;
callMethod(this,this.ti,_153[3],[{'spellcheck':''}]);
callMethod(this,this.ti,_153[5],[_153[6],function(e){
if((e.keyCode == 13)){
var txt=th.value;
callMethod(this,chat,_153[7],[txt]);

}

}]);

};
_app_chat_ChatTextInput[_153[8]]=function(v){
this.ti.visible=v;
this.visible=v;

};
_app_chat_ChatTextInput[_153[10]]=function(){
callMethod(this,this,_153[9],[this.w,this.h]);

};
_app_chat_ChatTextInput[_153[9]]=function(w,h){
var isRedraw=!1;
if((w != this.w)){
isRedraw=!0;

}else if((this.bgColor != this.lastColor)){
isRedraw=!0;

}

this.w=w;
this.lastColor=this.bgColor;
if(isRedraw){
callMethod(this,this.bg.painter,_153[11]);
callMethod(this,this.bg.painter,_153[12],[0,0,w,this.h,this.bgColor,10]);
this.ti.width=((w - this.ti.x) - 5);

}

};
_app_chat_ChatTextInput["_get"]={value:function(){
return this.ti.value;

}};
_app_chat_ChatTextInput["_set"]={value:function(v){
this.ti.value=v;

}};
vm.registerClass(_153[13],_153[14],_app_chat_ChatTextInput);
})(window);

(function(window){
var _103=["drawMovie","addChild","closePanelSmiles","closeCB","openSmiles","relative","clear","attr","scroll1","selectCategory","web","removeAllChilds","reload","resize","remove","app.chat.ChatSmilesPanel","lang.display.Sprite"];
var _app_chat_ChatSmilesPanel={};
_app_chat_ChatSmilesPanel["ctor"]=function(){
var th=this;
var mov=callMethod(this,GLOBAL.$app.moviesReader,_103[0],[12]);
callMethod(this,null,_103[1],[mov]);
this.isInterItem=!0;
this.w=365;
this.h=190;
this.sc=null;
this.closeCB=null;
mov.close.click=function(e){
callMethod(this,GLOBAL.$app.chat,_103[2]);
if(th.closeCB){
callMethod(this,th,_103[3]);

}

};
var ww=(this.w - (5 * 2));
var hh=(this.h - 60);
callMethod(this,GLOBAL.$app.smilesMaster,_103[4]);
var cnt=mov.cnt;
cnt.position=_103[5];
callMethod(this,cnt.painter,_103[6]);
cnt.scroll=!0;
cnt.width=((ww - cnt.x) - 15);
cnt.height=hh;
callMethod(this,cnt,_103[7],[{className:_103[8]}]);
this.cnt=cnt;
this.ww=ww;
this.startCntY=cnt.y;
mov.sm1.click=function(){
callMethod(this,th,_103[9],[1]);

};
mov.sm2.click=function(){
callMethod(this,th,_103[9],[2]);

};

callMethod(this,th,_103[9],[GLOBAL.$app.chat.curCategSmiles,!0]);

};
_app_chat_ChatSmilesPanel[_103[9]]=function(t,isReset){
var th=this;
if(isReset){
GLOBAL.$app.chat.curCategSmiles=0;

}
if((GLOBAL.$app.chat.curCategSmiles != t)){
GLOBAL.$app.chat.curCategSmiles=t;
callMethod(this,th.cnt,_103[11]);
th.cnt.y=th.startCntY;
if((t == 1)){
callMethod(this,th.cnt,_103[1],[GLOBAL.$app.smilesMaster.sprEmoji]);

}else if((t == 2)){
callMethod(this,th.cnt,_103[1],[GLOBAL.$app.smilesMaster.spr2]);

}

if(th.sc){
callMethod(this,th.sc,_103[12]);
th.sc.x=(th.ww - 18);

}

}

};
_app_chat_ChatSmilesPanel[_103[13]]=function(w,h){

};
_app_chat_ChatSmilesPanel[_103[14]]=function(){
if(this.sc){
callMethod(this,this.sc,_103[14]);

}

};
vm.registerClass(_103[15],_103[16],_app_chat_ChatSmilesPanel);
})(window);

(function(window){
var _125=["#00FFFF","app.chat.dialogs.DialogsMaster","createSpritePainter","addChild","app.chat.ChatOnlineUsersPanel","ChatInfoButtons","openPopUpHelpPanel","openPopUpSettingsPanel","css","n-resize","on","mousedown","mousemove","resize","mouseup","clear","getAssetByName","closeDef.png","animAlphaSprite","hide","app.chat.ChatTextInput","ChatInputButtons","attr","noSelect","setVisible","openPopUpSelectChatTextColor","closePanelSmiles","app.chat.ChatSmilesPanel","addMsg","web","app.chat.ChatContainer","updateChatSettings","static","remove","app.chat.ChatBanMov","setTime","initTimer","setBanTime","autoResize","getRoomByID","addUser","getUsersAllIds","loadAvaUsers","update","addUserActiveRoom","send","chat.onlineUsersIds","refreshOnlinePanel","removeUser","removeUserIDAllRooms","isSuperAdmin","maxLength","push","приваты","type","app.chat.ChatRoom","app.chat.ChatRoomSpr","initRooms","renderChatByChangeNickUser","reload","loadRoomByObj","chat.getRoom","chatEventHandler","renderRoomMsgs","reloadCurRoom","messages","parseObj","getTimestamp","load","getRoomByType","getRoomsListByType","getChildIndex","isShowChat","removeChild","isVis","chatSelectRoom","scrollDown","chatOpenCloseEvent","show","getChatInput","cut","focus","appendChatSmile","removeKomuUserSpr","bitmap","DeleteMsg.png","getNickColor","Arial","для","cutTextField","createKomuUserSpr","setKomuMsgInput","appendChatInput","del","removeChatRoomByObj","removeAllChilds","chat.getRooms","reloadChatRooms","addRoomObject","removeAll","appendMsgObj","renderRoom","isDialogRoom","redraw","parseList","getAllDialogsUsersIds","render1","clearMessages","Загрузка сообщений","addChildMsg","chatRoom","spr","getDialogRoomSpriteByChatRoom","getPrivateRoomByUserID","getUserID","addPrivateMsg","chatMsgsHandler","pushMsg","animAlphaMsg","updNewMsg","updEndMsg","startAnimationRoom1","check","playSFX","privatemsg","int","Array","getUserIDByObj","id","chatDelMsgID","chat.deleteMsg","chatDeleteMsg","chat.restoreMsg","chatRestoreMsg","openPopUpMinText1","<br /><br />Жалоба отправлена","<br /><br />Доступ ограничен","chat.reportMsg","chatReportMsg","getMsgByID","renderSpriteMsgByObj","render","reportChatMsgFunc","changeChatMsg","startTween","getMsgPos","libChatSpr","updChatMsgO","removeMsgByID","removeMsgByObj","chatDelMsgByObj","replaceAll","&","&amp;"," ","&#32;","<","&lt;",">","&gt;","replaceStr","createLinearGradient","draw","createChatNickRainbow","getGradientNickColor","nickRainbow","#C4C4C4","isAdminOrSuperAdmin","isModerator","isModeratorMaps",")\"><img src=\"","\" width=\"25\"></span>",")\"></span>","getPopularIconBitmap","hidePopular"," <img src=\"","vip","getAssetURL","vip-txt4.png","\">",")\">","<span class=\""," noIE\" style=\"color:",";position:absolute;\">","</span>",";\">","</div>","<span class=\"chatNick","\" style=\"color:","iconEmoji","getEmojiIconBitmap","createNickUser","popularIcon","modNickIcon.png","clickChatUser","createNickUserSpr","add","     ","click","\n\n","createNickUserSprChatLib","system","Приветик *dance*","Тут я, тут *angel*","Гав-гав :-[","Ихихихи :D","random","addSystemMsgUser","room","openPopUpCreateRoom1","split","runCmdChat","setSettingsFlags","charAt","getUserByNick","getUserByID","findUserByStrNickDelim","findStrEndPosDelim","getURLByID","<img src=\"","px;\">","renderGiftsListBySpr","_","ot","time","getInfoDayAndMonthByTS","getDateStr1","getRoomFlags","isSend","createChatTimeInfo","addDefSprInfoChatLib","addDateInfoTS1","modAction","')\"><img src=\"","<span style=\"color:#FFFFFF;\">","</span> ","addDefSprInfoObj1","relative","args","st","giftsBoxMsg","отправил","а"," коробку","<span style=\"color:#ffcc00;\">"," <span style=\"color:#ffcc00;\">"," </span> ","giftMsg","подарил","сам себе","сама себе","о","история","openPopUpGiftsHistoryUsers2","parseURLItem1"," в кол-ве ","giftAllUsersMsg"," всем, кто в сети","parseStringMsg","addFriend","noFriend","newLevelUser","достиг","ла"," уровня, поздравляем!","newLevelPopularUser","requestModerator","пригласил","requestCancelModerator","снял","addModerator","removeModerator","addModMaps","старший","m","младший","теперь "," модератор чата","снят"," с должности модератор чата"," модератор карт","mapsAction","successIcon1.png","одобрена","cancel","отклонена","mod","карта "," на модерации)"," обновлена","changeLevel","теперь сложная","теперь простая","changeStatus","-","у карты "," статус ","\" /> карта "," на модерации</span>","\" title=\"",")\" />","getinfo_2081.png",")</span>","requestTester","addVipUser","получил","золотой","серебряный","banUser","забанил","сам себя","сама себя","(нет данных о бане)","getBanInfoByID","indexOf","час","мес","replace","у","я","ю","на ","unbanUser","разбанил","banExit","вышел","вышла"," из бана</span>","callUFO"," НЛО ","к","prizeTopMsg","hour","a7.png","day","день","!</span> ","победители","openPopUpChatWinMsgInfo","addEventMsgObj","stop","stopCheckSendMsg","@","user","parseStrDomain1Obj","trim","/","init","cutStringSmiles","комната не найдена","получатель не в сети","недостаточно косточек","доступ ограничен","toHourMinSecTxt2","вы в бане, осталось ","chat.msgByUser","ошибка подключения",":","chat","noResolve","removePrivateRoomByUserID","private","addMsgByUser","o","renderLib","Date","getDate","Сегодня","Вчера","parseString","text","smile","name","url","emoji","kolobanga","youtube","видео youtube","exec","videovk","видео вк","open https://vk.com/","url1","pc","open ","act1",",","shift","jsCallback","textColor","parseMsgItemsVM2","parseTextFunc1","модератором","desc","report","a46.png","<div style=\"background:url(","px;height:","px;\"></div>","#C9E79F"," <span style=\"color:","eye1.png"," жалоб (",")","errorSendTxt","не доставлено"," (","User","Информация","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","В мир","navWorldRoom","КоронаАдмин","openPopUpEmojiSelect","Изменить ник","openPopUpMyChangeNick","Выбрать цвет ника","openPopUpSettingsNickColor1","Управление доступом","openPopUpAccessUserSettings1","Мои друзья","openPopUpMyFriends","Подарить","openPopUpSendGifts","Отправить НЛО","openPopUpConfirmMsgYesNo","Отправить НЛО?","world.callUFO","Забанить","cb","chat.banUser","openMenuList1","Написать","Написать в приват","isUserFriend","Добавить в друзья","\n\nДруг добавлен","reloadFriends","user.friendsAction","Альбом карт","navMapsAlbum","Ещё","isModeratorM","Кикнуть","Кикнуть ID "," ?","\n\nДействие выполнено","mod.kickUser","Сменить ник","Сменить ник?","\n\nСмена ника не требуется","mod.changeNickUser","История мини чата","openPopUpMiniChatHistoryUser","<br /><br />Ничего не найдено","mod.modCmd","getHistoryMiniChat","app.chat.ChatUserMenuSpr","grabMousePos","setMenuSprPosDef","setInfo","addMenuSprFunc","getGlobalMousePos","Войти","loadMsgs","isOwnerUser","Управление","Очистить историю","chat.clearHistory","Удалить","clickChatDialogItem","msg","Сообщение: ","sort","\n\nЛюбопытные модераторы (",")\n","ID ",") просмотров ","\n","openPopUpText1","chat.eyeMsg","chatMsgEyeActEl","Удалить все сообщ.","chat.getMsgsInfoByUserID","Удалить навсегда","chat.deleteMsgFull","Удалить все навсегда","Параметры","chatMsgClickActEl","parseStringMsg3","match","ag6","action1","clickVM2Screen","kolobanga смайлы","опг","белочки","clickModMapInfo","map","vkwall","club","?w=wall-","ссылка","https://vk.com/","screen","https://ag6.ru/ss/","скрин ag6","vkgroup","https://vk.com/club","группа вк","settings","openPopUpSettings1","настройки","admins","openPopUpUsersModes","должности","rules","openPopUpChatRules","правила","newversion","openNewVersion","перейти в новую версию","navregtemp","openNavTempReg","новой версии","openPopUpUserInfo","игрок ","ag6ru","ссылка ag6","https://ag6.ru/","popup","openPopUpCntID","информация","<url1 name=\"","\" value=\"","\" />","<a href=\"","</a><span> </span>","'","String","<act1 title=\"","\" argsStr=\"","\"","urlValue"," urlValue=\""," />","</span><span> </span>","<youtube id=\"","<videovk id=\"","<a href=\"https://vk.com/","one","Как это работает?","Результаты","(id ",") "," - это ","<br />","<br />Пожаловались:<br />","<br /><br />Нет жалоб","chat.getReportMsgInfo","это ","Жалоба","chatReportMsgMenu","openMenuList1Html5","border","rectRound","app.chat.Chat","lang.display.Sprite"];
var _app_chat_Chat={};
_app_chat_Chat["ctor"]=function(){
var th=this;
var bgSpr=ctorObject(lang.display.Sprite);
this.isFirstOpen=!1;
this.m1=ctorObject(lang.display.Sprite);
this.chatH=290;
this.roomsH=35;
this.lastW=0;
this.lastH=0;
this.lastChatBG=null;
this.selectColorPos=-1;
this.curCategSmiles=1;
this.bgImg=GLOBAL.Config.bgImg;
this.tm1=null;
this.privateSfxLast=0;
this.tm2=null;
this.komuUserSpr=null;
this.isSendMsg=!1;
this.systemMsgColor=_125[0];
this.chatRooms=[];
this.initPrivateRoom=!1;
this.isFlagLastChatVis=!1;
this.rainbowNickCache={};
this.sprParent=null;
this.dialogRoomSpr=null;
this.activeRoom=null;
this.curMenuUserSpr=null;
this.rightPanelW=5;
this.margin=20;
this.dialogsMaster=ctorObject(_125[1]);
this.mCnv=ctorObject(lang.display.Sprite);
var bg=callMethod(this,GLOBAL.AppUtils,_125[2]);
this.bg=bg;
this.bg.x=4;
this.bg.y=1;
callMethod(this,bgSpr,_125[3],[this.bg]);
callMethod(this,null,_125[3],[this.mCnv]);
callMethod(this,this.mCnv,_125[3],[bgSpr]);
this.onlineUsers=ctorObject(_125[4],[this]);
callMethod(this,null,_125[3],[this.onlineUsers,this.m1]);
var ev2=ctorObject(lang.events.EventsObjectMaster);
this.infoButtons=ctorObject(_125[5]);
this.infoButtons.helpBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_125[6],[1]);

};
this.infoButtons.sBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_125[7],[2]);

};
callMethod(this,this.infoButtons.rszBut,_125[8],[{cursor:_125[9]}]);
callMethod(this,this.infoButtons.rszBut,_125[10],[_125[11],function(e){
callMethod(this,ev2,_125[10],[GLOBAL.$app.stage,_125[12],function(e){
var hh=((th.chatH + th.y) - (e.mouseY / GLOBAL.$app.scaleFactor));
if((hh > 150)){
th.chatH=hh;
th.y=(e.mouseY / GLOBAL.$app.scaleFactor);
callMethod(this,th,_125[13],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}

}]);
callMethod(this,ev2,_125[10],[GLOBAL.$app.stage,_125[14],function(e){
callMethod(this,ev2,_125[15]);

}]);

}]);
this.closeBut=callMethod(this,GLOBAL.$app.moviesReader,_125[16],[_125[17]]);
this.closeBut.scaleX=0.35;
this.closeBut.scaleY=0.35;
callMethod(this,this.mCnv,_125[3],[this.infoButtons,this.closeBut]);
this.closeBut.buttonMode=!0;
callMethod(this,GLOBAL.AppUtils,_125[18],[this.closeBut,0.8,1]);
this.closeBut.click=function(e){
callMethod(this,th,_125[19]);
th.closeBut.alpha=1;

};
this.chatTI=ctorObject(_125[20],[this]);
callMethod(this,this.m1,_125[3],[this.chatTI]);
this.chatDownButtons=ctorObject(_125[21]);
callMethod(this,this.chatDownButtons,_125[22],[{className:_125[23]}]);
callMethod(this,this.chatTI,_125[3],[this.chatDownButtons]);
callMethod(this,this.chatTI,_125[24],[!1]);
this.smilesPanel=null;
callMethod(this,GLOBAL.AppUtils,_125[18],[this.chatDownButtons.smilesBut,0.7,1]);
callMethod(this,GLOBAL.AppUtils,_125[18],[this.chatDownButtons.sendBut,0.7,1]);
var selectColorTF=this.chatDownButtons.selectColorTF;
selectColorTF.bold=!0;
selectColorTF.click=function(){
callMethod(this,GLOBAL.$app.popup,_125[25],[function(pos2){
th.selectColorPos=pos2;

}]);

};
this.chatDownButtons.smilesBut.click=function(e){
if(th.smilesPanel){
callMethod(this,th,_125[26]);

}else{
var c=ctorObject(_125[27]);
callMethod(this,th.m1,_125[3],[c]);
th.smilesPanel=c;
callMethod(this,th,_125[13],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}

};
this.chatDownButtons.sendBut.click=function(e){
var txt=th.chatTI.value;
callMethod(this,th,_125[28],[txt]);

};
this.chatCnt=null;
this.chatCnt=ctorObject(_125[30]);

this.chatCnt.maxMessages=GLOBAL.app.chat.Chat.maxMessagesRoom;
this.chatCnt.y=this.roomsH;
callMethod(this,this.m1,_125[3],[this.chatCnt]);
this.cnt=this.chatCnt.cnt;
this.banSpr=null;
this.cnt.x=5;
this.roomsSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.mCnv,_125[3],[this.roomsSpr]);
this.roomsSpr.y=4;
this.chatTypeMsgsObj={};

callMethod(this,this,_125[31]);
callMethod(this,this,_125[19]);

};
_app_chat_Chat[_125[32]]=function(){
this.maxMessagesRoom=30;

};
_app_chat_Chat[_125[37]]=function(v){
if((v > 0)){
if(this.banSpr){
callMethod(this,this.banSpr,_125[33]);

}
this.banSpr=ctorObject(_125[34]);
callMethod(this,this.banSpr,_125[35],[v]);
callMethod(this,this.banSpr,_125[36]);
callMethod(this,this.m1,_125[3],[this.banSpr]);
callMethod(this,this,_125[13],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}else{
if(this.banSpr){
callMethod(this,this.banSpr,_125[33]);
this.banSpr=null;

}

}

};
_app_chat_Chat[_125[31]]=function(){
var flags=GLOBAL.Config.chatSettingsFlags;
this.onlineUsers.visible=((flags & GLOBAL.app.chat.ChatSettingsType.NO_VISIBLE_ONLINEPANEL) == 0);
callMethod(this,GLOBAL.$app,_125[38]);

};
_app_chat_Chat[_125[44]]=function(id,u){
var th=this;
var r=callMethod(this,th,_125[39],[id]);
if(r){
if(u){
callMethod(this,r,_125[40],[u]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[40],[u.id,u]);
r.countUsers=r.users.size;

}
if(this.activeRoom){
var idd=this.activeRoom.id;
if((id == idd)){
var usersIds=callMethod(this,this.activeRoom,_125[41]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[42],[usersIds,function(){
callMethod(this,th.onlineUsers,_125[43]);

}]);

}

}

}

};
_app_chat_Chat[_125[47]]=function(){
var th=this;
if(this.activeRoom){
var idd=this.activeRoom.id;
if((this.activeRoom.stype == GLOBAL.app.chat.ChatRoomType.DEF)){
if((idd > -1)){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(oo){
var rm=th.activeRoom;
if(rm){
rm.countUsers=oo.countUsers;
rm.users=oo.users;
var usersIds=callMethod(this,rm,_125[41]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[42],[usersIds,function(){
callMethod(this,th.onlineUsers,_125[43]);

}]);

}

},_125[46],idd]);

}

}

}

};
_app_chat_Chat[_125[49]]=function(id,countUsers){
var th=this;
var i=0;
while((i < this.chatRooms.size)){
var el=this.chatRooms[i];
if(el){
if((el.stype == GLOBAL.app.chat.ChatRoomType.DEF)){
callMethod(this,el,_125[48],[id]);

}

}
i++;
}
callMethod(this,th.onlineUsers,_125[43]);

};
_app_chat_Chat[_125[57]]=function(a){
var th=this;
if(a){
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_125[50],[GLOBAL.$app.user.mode]);
if(!isSuperAdmin){
callMethod(this,this.chatTI.ti,_125[22],[{'maxLength':120}]);

}
callMethod(this,a,_125[52],[{id:-1,name:_125[53],type:GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM}]);
var xx=0;
var i=0;
while((i < a.size)){
var el=a[i];
var type=1;
if(checkIn(el,_125[54])){
type=el.type;

}
var r=ctorObject(_125[55],[el.id,el.name,type]);
if(checkIn(el,_125[54])){
r.stype=el.type;

}
var roomSpr1=ctorObject(_125[56],[el.id,el.name]);
roomSpr1.x=xx;
xx=(xx + (roomSpr1.w1 + 15));
r.spr=roomSpr1;
roomSpr1.room=r;
callMethod(this,this.roomsSpr,_125[3],[roomSpr1]);
if((el.id == -1)){
if(!th.initPrivateRoom){
th.initPrivateRoom=!0;
callMethod(this,this.chatRooms,_125[52],[r]);

}

}else{
callMethod(this,this.chatRooms,_125[52],[r]);

}
if((r.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM)){
this.dialogRoomSpr=roomSpr1;

}
i++;
}

}

};
_app_chat_Chat[_125[58]]=function(id){
var th=this;
if(this.activeRoom){
var roomid=this.activeRoom.id;
var usersIds=callMethod(this,this.activeRoom,_125[41]);
var i=0;
while((i < usersIds.size)){
var idd=usersIds[i];
if((idd == id)){
if((this.activeRoom.stype == GLOBAL.app.chat.ChatRoomType.DEF)){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(oo){
var rm=th.activeRoom;
if(rm){
rm.countUsers=oo.countUsers;
rm.users=oo.users;
var usersIds=callMethod(this,rm,_125[41]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[42],[usersIds,function(){
callMethod(this,th.onlineUsers,_125[43]);

}]);

}

},_125[46],roomid]);

}
return !0;

}
i++;
}

}
return !1;

};
_app_chat_Chat[_125[62]]=function(id,type,args){
var th=this;
var r=callMethod(this,th,_125[39],[id]);
if(r){
if((type == _125[59])){
if((th.activeRoom == r)){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(o){
callMethod(this,th,_125[60],[o]);

},_125[61],id]);

}

}

}

};
_app_chat_Chat[_125[64]]=function(){
var th=this;
if(th.activeRoom){
callMethod(this,th,_125[63],[th.activeRoom]);

}

};
_app_chat_Chat[_125[60]]=function(o){
if(o){
var th=this;
var idd=o.id;
var room=callMethod(this,this,_125[39],[idd]);
if(room){
if(!room.isLoad){
if(checkIn(o,_125[65])){
if(o.messages){
var aa=[];
var limit1=GLOBAL.app.chat.Chat.maxMessagesRoom;
var sz2=o.messages.size;
if((sz2 > limit1)){
var startV=(sz2 - limit1);
var i=startV;
while((i < sz2)){
callMethod(this,aa,_125[52],[o.messages[i]]);
i++;
}
o.messages=aa;

}

}

}
callMethod(this,room,_125[66],[o]);
room.isLoad=!0;
if((o.id == 1)){
var ts=callMethod(this,Date,_125[67]);


}

}
var usersIds=callMethod(this,room,_125[41]);
var ts=callMethod(this,Date,_125[67]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[68],[usersIds,function(){
callMethod(this,th,_125[63],[room]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[42],[usersIds,function(){
callMethod(this,th.onlineUsers,_125[43]);

}]);

}]);

}

}

};
_app_chat_Chat[_125[39]]=function(id){
var i=0;
while((i < this.chatRooms.size)){
var el=this.chatRooms[i];
if((el.id == id)){
return el;

}
i++;
}
return null;

};
_app_chat_Chat[_125[69]]=function(t){
var i=0;
while((i < this.chatRooms.size)){
var el=this.chatRooms[i];
if((el.stype == t)){
return el;

}
i++;
}
return null;

};
_app_chat_Chat[_125[70]]=function(t){
var a=[];
var i=0;
while((i < this.chatRooms.size)){
var el=this.chatRooms[i];
if((el.stype == t)){
callMethod(this,a,_125[52],[el]);

}
i++;
}
return a;

};
_app_chat_Chat[_125[72]]=function(){
var pos=callMethod(this,this.sprParent,_125[71],[this]);
if((pos > -1)){
return !0;

}
return !1;

};
_app_chat_Chat[_125[19]]=function(){
this.selectColorPos=-1;
if(this.sprParent){
var pos=callMethod(this,this.sprParent,_125[71],[this]);
if((pos > -1)){
callMethod(this,this.sprParent,_125[73],[this]);

}

}
if(this.banSpr){
callMethod(this,this.banSpr,_125[74],[!1]);

}
callMethod(this,this.chatTI,_125[24],[!1]);
callMethod(this,GLOBAL.$app,_125[38]);

};
_app_chat_Chat[_125[78]]=function(){
callMethod(this,this.chatTI,_125[24],[!0]);
if(this.banSpr){
callMethod(this,this.banSpr,_125[74],[!0]);

}
var pos=callMethod(this,this.sprParent,_125[71],[this]);
if((pos == -1)){
callMethod(this,this.sprParent,_125[3],[this]);

}
if(!this.activeRoom){
if((this.chatRooms.size > 0)){
callMethod(this,this,_125[75],[this.chatRooms[0]]);

}

}
callMethod(this,this.chatCnt,_125[76]);
callMethod(this,GLOBAL.$app,_125[38]);
var sc1=GLOBAL.$app.scenesMaster.curScene;
if(sc1){
if(checkIn(sc1,_125[77])){
callMethod(this,sc1,_125[77],[!0]);

}

}

};
_app_chat_Chat[_125[26]]=function(){
if(this.smilesPanel){
callMethod(this,this.smilesPanel.parent,_125[73],[this.smilesPanel]);
callMethod(this,this.smilesPanel,_125[33]);
this.smilesPanel=null;

}

};
_app_chat_Chat[_125[82]]=function(ss){
var th=this;
var ti=th.chatTI.ti;
if(GLOBAL.$app.gameRoom){
if(GLOBAL.$app.gameRoom.smilesPanel){
var ti2=callMethod(this,GLOBAL.$app.gameRoom,_125[79]);
if(ti2){
ti=ti2;

}

}

}
var v=ti.value;
var o={};
o.start=ti.div.selectionStart;
o.end=ti.div.selectionEnd;
var str=callMethod(this,v,_125[80],[0,o.start]);
var str2=callMethod(this,v,_125[80],[o.start]);
str+=(ss + str2);
callMethod(this,ti,_125[81]);

ti.value=str;

};
_app_chat_Chat[_125[83]]=function(){
var th=this;
if(th.komuUserSpr){
if(th.komuUserSpr.parent){
callMethod(this,th.komuUserSpr.parent,_125[73],[th.komuUserSpr]);

}
th.komuUserSpr=null;
callMethod(this,th,_125[13],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}

};
_app_chat_Chat[_125[90]]=function(u){
var th=this;
if(u){
var ww=0;
var spr=ctorObject(lang.display.Sprite);
spr.userID=u.id;
var bm=callMethod(this,null,_125[84],[_125[85]]);
if(bm){
bm.buttonMode=!0;
bm.click=function(){
callMethod(this,th,_125[83]);

};
bm.y=5;
callMethod(this,spr,_125[3],[bm]);
ww+=25;

}
var color=callMethod(this,GLOBAL.AppUtils,_125[86],[u.mode,u.nickColor_pos]);
var maxNickW=300;
var tf=ctorObject(lang.text.TextField);
tf.fontName=_125[87];
tf.bold=!0;
tf.color=16763904;
tf.text=_125[88];
tf.x=ww;
tf.y=5;
ww=((ww + tf.width) + 4);
callMethod(this,spr,_125[3],[tf]);
var tf=ctorObject(lang.text.TextField);
tf.fontName=_125[87];
tf.bold=!0;
tf.color=color;
tf.text=('' + u.nick);
callMethod(this,GLOBAL.AppUtils,_125[89],[tf,maxNickW]);
tf.x=ww;
tf.y=5;
ww=((ww + tf.width) + 4);
callMethod(this,spr,_125[3],[tf]);
spr.allW=ww;
return spr;

}
return null;

};
_app_chat_Chat[_125[91]]=function(pref,u){
callMethod(this,this,_125[83]);
var isShow=callMethod(this,this,_125[72]);
if(!isShow){
callMethod(this,this,_125[78]);

}
if(u){
var sp=callMethod(this,this,_125[90],[u]);
if(sp){
this.komuUserSpr=sp;
callMethod(this,this.chatTI,_125[3],[sp]);
callMethod(this,this,_125[13],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}

}
callMethod(this,this.chatTI.ti,_125[81]);

};
_app_chat_Chat[_125[92]]=function(v){
this.chatTI.ti.value+=v;

};
_app_chat_Chat[_125[94]]=function(room){
if(room){
var i=0;
while((i < this.chatRooms.size)){
var r=this.chatRooms[i];
if((r == room)){
callMethod(this,this.chatRooms,_125[93],[i]);
return !0;

}
i++;
}

}
return !1;

};
_app_chat_Chat[_125[97]]=function(){
var th=this;
callMethod(this,GLOBAL.$app.connect,_125[45],[function(arr){
callMethod(this,th.roomsSpr,_125[95]);
th.chatRooms=[];
callMethod(this,th,_125[57],[arr]);
if((th.chatRooms.size > 0)){
callMethod(this,th,_125[75],[th.chatRooms[0]]);

}

},_125[96]]);

};
_app_chat_Chat[_125[98]]=function(room){
if(room){
var i=0;
while((i < this.chatRooms.size)){
var r=this.chatRooms[i];
if((r.id == room.id)){
callMethod(this,this.chatRooms,_125[93],[i]);

}
i++;
}
callMethod(this,this.chatRooms,_125[52],[room]);

}

};
_app_chat_Chat[_125[101]]=function(room){
var scrollLast=this.chatCnt.cnt.scrollTop;
if(room){
callMethod(this,this.chatCnt,_125[99]);
callMethod(this,this.onlineUsers,_125[43]);
var isVisInput=(room.id > -1);
callMethod(this,this.chatTI,_125[24],[isVisInput]);
var i=0;
while((i < room.messages.size)){
var el=room.messages[i];
callMethod(this,this,_125[100],[el]);
i++;
}

}
if((scrollLast > 0)){
this.chatCnt.cnt.scrollTop=scrollLast;

}

};
_app_chat_Chat[_125[75]]=function(room){
if(room){
var th=this;
var idd=room.id;
var rm=th.activeRoom;
if((rm != room)){
if(rm){

var isDialogV2=callMethod(this,rm,_125[102]);
var isDialogV=callMethod(this,room,_125[102]);
var isRoomTypeDialog=!1;
if(isDialogV2){
isRoomTypeDialog=!0;

}else if(isDialogV){
isRoomTypeDialog=!0;

}

if(isDialogV2){
var dialogR=callMethod(this,th,_125[69],[GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM]);
if(dialogR){
rm=dialogR;

}

}
if(isDialogV){
if(th.dialogRoomSpr){
if(th.dialogRoomSpr.room.spr){
th.dialogRoomSpr.room.spr.isActive=!0;
callMethod(this,th.dialogRoomSpr.room.spr,_125[103]);

}

}

}
if(isRoomTypeDialog){
if((isDialogV != isDialogV2)){
if(rm.spr){
rm.spr.isActive=!1;
callMethod(this,rm.spr,_125[103]);

}

}

}else{
if(rm.spr){
rm.spr.isActive=!1;
callMethod(this,rm.spr,_125[103]);

}

}

}
if(room.spr){
room.spr.isActive=!0;
callMethod(this,room.spr,_125[103]);

}
th.activeRoom=room;
var isVisInput=(room.id > -1);
callMethod(this,this.chatTI,_125[24],[isVisInput]);
if((room.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM)){
callMethod(this,this.chatCnt,_125[99]);
callMethod(this,th,_125[60],[room]);
callMethod(this,th.dialogsMaster,_125[104],[[]]);
var allIds=callMethod(this,th.dialogsMaster,_125[105]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[68],[allIds,function(){
callMethod(this,th.dialogsMaster,_125[106],[th.chatCnt.cnt]);

}]);

}else if((room.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
callMethod(this,this.chatCnt,_125[99]);
callMethod(this,th,_125[63],[room]);
callMethod(this,this.onlineUsers,_125[43]);

}else{
if(!room.isLoad){
room.users=[];
callMethod(this,room,_125[107]);
callMethod(this,th,_125[63],[room]);
var preloadTxt=ctorObject(lang.text.TextField);
preloadTxt.fontName=_125[87];
preloadTxt.bold=!0;
preloadTxt.text=_125[108];
preloadTxt.color=16763904;
callMethod(this,th,_125[109],[preloadTxt]);
callMethod(this,GLOBAL.$app.connect,_125[45],[function(o){
if(preloadTxt.parent){
callMethod(this,th.chatCnt,_125[33],[preloadTxt]);

}
callMethod(this,th,_125[60],[o]);

},_125[61],idd]);

}else{
callMethod(this,th,_125[60],[room]);

}

}


}

}

};
_app_chat_Chat[_125[112]]=function(room){
var th=this;
if(room){
var i=0;
while((i < th.dialogsMaster.rooms.size)){
var r=th.dialogsMaster.rooms[i];
if(checkIn(r,_125[110])){
if((r.chatRoom == room)){
if(checkIn(r,_125[111])){
return r.spr;

}

}

}
i++;
}

}
return null;

};
_app_chat_Chat[_125[116]]=function(roomid,o,roomType,isV1){
var th=this;
var room=null;
if((roomType == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
if(o){
var uid=o.userid;
room=callMethod(this,this,_125[113],[uid]);
if(!room){
callMethod(this,GLOBAL.$app.cacheUsers,_125[68],[[uid],function(){
var u=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[uid]);
if(u){
callMethod(this,th,_125[115],[u]);
callMethod(this,th,_125[116],[roomid,o,roomType,isV1]);

}

}]);
return;

}

}

}else{
room=callMethod(this,this,_125[39],[roomid]);

}
if(room){
o.isSend=!0;
callMethod(this,room,_125[117],[o]);
if((this.activeRoom == room)){
callMethod(this,this,_125[100],[o,isV1]);
callMethod(this,this,_125[118],[o]);

}else{
var t2=!1;
if((roomType == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
t2=!0;

}else if((roomType == GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM)){
t2=!0;

}

var spr4=callMethod(this,th,_125[112],[room]);
if(spr4){
callMethod(this,spr4,_125[119]);
callMethod(this,spr4,_125[120]);

}
if(t2){
var isDialog=!1;
if(th.activeRoom){
isDialog=callMethod(this,th.activeRoom,_125[102]);

}
if(!isDialog){
if(th.dialogRoomSpr){
if(!th.dialogRoomSpr.isAnimActive){
callMethod(this,th.dialogRoomSpr,_125[121]);

}

}

}
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_125[122],[2,6]);
if(!checkSound){
var ts=callMethod(this,Date,_125[67]);
if((ts >= th.privateSfxLast)){
th.privateSfxLast=(ts + 1);
callMethod(this,GLOBAL.$app,_125[123],[_125[124]]);

}

}

}

}

}

};
_app_chat_Chat[_125[127]]=function(o){
if(checkIs(o,_125[125])){
return o;

}else if(checkIs(o,_125[126])){
var i=0;
while((i < o.size)){
var vv=callMethod(this,this,_125[127],[o[i]]);
if((vv != -1)){
return vv;

}
i++;
}

}else if(checkIn(o,_125[128])){
return o.id;

}


return -1;

};
_app_chat_Chat[_125[131]]=function(roomid,msgid){
var room=callMethod(this,this,_125[39],[roomid]);
var res=!0;
if(room){
if((room.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
callMethod(this,this,_125[129],[roomid,msgid]);
callMethod(this,this,_125[129],[roomid,msgid]);
res=!1;

}

}
if(res){
callMethod(this,GLOBAL.$app.connect,_125[45],[_125[130],roomid,msgid]);

}

};
_app_chat_Chat[_125[133]]=function(roomid,msgid){
var room=callMethod(this,this,_125[39],[roomid]);
var res=!0;
if(res){
callMethod(this,GLOBAL.$app.connect,_125[45],[_125[132],roomid,msgid]);

}

};
_app_chat_Chat[_125[138]]=function(roomid,msgid,t){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[135]]);

}else if((v == 2)){
callMethod(this,GLOBAL.$app.popup,_125[134],['<br /><br />Вы уже жаловались на это сообщение']);

}else if((v == 3)){
callMethod(this,GLOBAL.$app.popup,_125[134],['<br /><br />Вы не можете жаловаться на своё сообщение']);

}else if((v == 4)){
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[136]]);

}else{
callMethod(this,GLOBAL.$app.popup,_125[134],['<br /><br />Невозможно отправить жалобу']);

}




},_125[137],roomid,msgid,t]);

};
_app_chat_Chat[_125[142]]=function(roomid,msgid,t){
var room=callMethod(this,this,_125[39],[roomid]);
if(room){
var el=callMethod(this,room,_125[139],[msgid]);
if(el){
el.reportsCount+=1;
callMethod(this,this,_125[140],[el]);
callMethod(this,this.chatCnt,_125[141]);

}

}

};
_app_chat_Chat[_125[143]]=function(roomid,msgid,msg){
var room=callMethod(this,this,_125[39],[roomid]);
if(room){
var el=callMethod(this,room,_125[139],[msgid]);
if(el){
el.msg=msg;
callMethod(this,this,_125[140],[el]);

}

}

};
_app_chat_Chat[_125[118]]=function(o){
if(!GLOBAL.$app.isStandalone){
if(o){
if(checkIn(o,_125[111])){
o.spr.alpha=0;
var tween=callMethod(this,null,_125[144],[o.spr,{alpha:1},300]);

}

}

}

};
_app_chat_Chat[_125[147]]=function(roomid,msg){
if(msg){
var room=callMethod(this,this,_125[39],[roomid]);
if(room){
var p1=callMethod(this,room,_125[145],[msg.id]);
if((p1 > -1)){
var el2=room.messages[p1];
if(checkIn(el2,_125[111])){
msg.spr=el2.spr;

}
if(checkIn(el2,_125[146])){
msg.libChatSpr=el2.libChatSpr;

}
room.messages[p1]=msg;
callMethod(this,this,_125[140],[msg,!1]);

}

}

}

};
_app_chat_Chat[_125[129]]=function(roomid,msgid){
var room=callMethod(this,this,_125[39],[roomid]);
if(room){
var el=callMethod(this,room,_125[139],[msgid]);
if(el){
callMethod(this,room,_125[148],[msgid]);
if(checkIn(el,_125[111])){
callMethod(this,this.chatCnt,_125[33],[el.spr]);
callMethod(this,this.chatCnt,_125[43]);

}

}

}

};
_app_chat_Chat[_125[150]]=function(room,obj){
if(room){
callMethod(this,room,_125[149],[obj]);
if(checkIn(obj,_125[111])){
callMethod(this,this.chatCnt,_125[33],[obj.spr]);

}

}

};
_app_chat_Chat[_125[160]]=function(v){
if(v){
v=callMethod(this,v,_125[151],[_125[152],_125[153]]);
v=callMethod(this,v,_125[151],[_125[154],_125[155]]);
v=callMethod(this,v,_125[151],[_125[156],_125[157]]);
v=callMethod(this,v,_125[151],[_125[158],_125[159]]);

}
return v;

};
_app_chat_Chat[_125[163]]=function(nick){
var th=this;
if(nick){
if((nick.size > 0)){
var isCacheLoad=!1;
if(checkIn(th.rainbowNickCache,nick)){
var obb=th.rainbowNickCache[nick];
if((obb.nick == nick)){
isCacheLoad=!0;

}else{
delete th.rainbowNickCache[nick];

}

}
if(isCacheLoad){
var obb=th.rainbowNickCache[nick];
return obb.url;

}else{
var ww=100;
var hh=18;
var tf=ctorObject(lang.text.TextField);
tf.fontSize=15;
tf.fontName=_125[87];
tf.bold=!0;
tf.filters=GLOBAL.Config.shadowText1;
tf.text=('' + nick);
ww=(tf.width + 6);
hh=(tf.height + 4);
tf.color=callMethod(this,lang.display.Painter,_125[161],[0,0,ww,0,GLOBAL.$app.rainbowColorsArr,GLOBAL.$app.rainbowColorsRatios]);
tf.x=2;
tf.y=5;
var bmd=ctorObject(lang.display.BitmapData,[ww,hh,0,!0]);
callMethod(this,bmd,_125[162],[tf]);
var bmm=ctorObject(lang.display.Bitmap);
bmm.src=bmd;
var url=bmm.src;
var ob={nick:nick,url:url};
th.rainbowNickCache[nick]=ob;
return url;

}

}

}
return null;

};
_app_chat_Chat[_125[191]]=function(u){
var th=this;
var s='';
if(u){
if((u.id == -2)){
u=GLOBAL.$app.systemUser;

}
var nick=u.nick;
var color=callMethod(this,GLOBAL.AppUtils,_125[86],[u.mode,u.nickColor_pos]);
var gradNickVal=null;
if((u.nickColor_pos > 0)){

}else{
gradNickVal=callMethod(this,GLOBAL.AppUtils,_125[164],[u.mode]);

}
var grayNick=!1;
if(checkIn(u,_125[165])){
if((u.nickRainbow == 0)){
if((u.id == GLOBAL.$app.user.id)){
grayNick=!0;

}

}

}else{
if((u.id == GLOBAL.$app.user.id)){
grayNick=!0;

}

}
if(grayNick){
var isMyNickColor=callMethod(this,GLOBAL.$app.flagsSettings,_125[122],[2,3]);
if(!isMyNickColor){
if((u.nickColor_pos > 0)){

}else{
color=_125[166];

}

}

}
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_125[167],[u.mode]);
var isMod=callMethod(this,GLOBAL.UserMode,_125[168],[u.mode]);
var isModMaps=callMethod(this,GLOBAL.UserMode,_125[169],[u.mode]);
if(isSuperAdmin){
s+=(((('<span style="position:relative;top:2px;cursor:pointer;" class="noSelect" title="Администратор" onclick="cbArgs(\'clickChatModeInfo\',' + u.mode) + _125[170]) + GLOBAL.Config.adminIcon1BM.src) + _125[171]);

}else if(isMod){
s+=(((('<span style="position:relative;top:4px;cursor:pointer;" class="noSelect" title="Модератор"><img src="' + GLOBAL.Config.modChatIcon1BM.src) + '" width="25" height="25" onclick="cbArgs(\'clickChatModeInfo\',') + u.mode) + _125[172]);

}else if(isModMaps){
s+=(((('<span style="position:relative;top:4px;cursor:pointer;" class="noSelect" title="Модератор карт"><img src="' + GLOBAL.Config.modMapsIcon1BM.src) + '" width="25" height="25" onclick="cbArgs(\'clickChatModeInfo\',') + u.mode) + _125[172]);

}


var popularIcon=callMethod(this,GLOBAL.$app.userMaster,_125[173],[u.popularLevel,u.popular,u.popularIcon]);
if(checkIn(u,_125[174]) && u.hidePopular){
popularIcon=null;

}
if(popularIcon){
var s6='';
var y5=8;
s+=((((_125[175] + popularIcon.src) + '" style="position:relative;top:') + y5) + 'px;" width="32" height="32" class="noSelect" /> ');

}
var isRainbow=!1;
var s3='';
if(checkIn(u,_125[165])){
if((u.nickRainbow == 1)){
isRainbow=!0;

}

}
if(checkIn(u,_125[176])){
if((u.vip == 1)){
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[178]]);
s+=(('<img style="position:relative;top:6px;" src="' + url1) + _125[179]);

}

}
if(isRainbow){
gradNickVal=null;

}
if(isRainbow){
var bmRainbow=callMethod(this,th,_125[163],[u.nick]);
if(bmRainbow){
s+=(((((('<span class="chatNick" style="color:' + color) + ';font-size:15px;" onclick="cbArgs(\'clickUserNick\',') + u.id) + _125[170]) + bmRainbow) + '" style="position:relative;top:4px;"></span>');

}

}else{
if(gradNickVal){
s+=(('<div class="chatNick" style="display:inline-block;" style="font-size:15px;" onclick="cbArgs(\'clickUserNick\',' + u.id) + _125[180]);
s+=((((((_125[181] + gradNickVal) + _125[182]) + color) + _125[183]) + nick) + _125[184]);
s+=((((((_125[181] + gradNickVal) + _125[182]) + color) + _125[185]) + nick) + _125[184]);
s+=_125[186];

}else{
s+=((((((((_125[187] + s3) + _125[188]) + color) + ';font-size:15px;" onclick="cbArgs(\'clickUserNick\',') + u.id) + _125[180]) + nick) + _125[184]);

}

}
if(checkIn(u,_125[189])){
if((u.iconEmoji > 0)){
var emojiBM=callMethod(this,GLOBAL.$app.userMaster,_125[190],[u.iconEmoji]);
if(emojiBM){
s+=(((('<img style="position:relative;top:8px;" src="' + emojiBM.src) + '" width="30" height="30" title="') + emojiBM.txt1) + _125[179]);

}

}

}

}
return s;

};
_app_chat_Chat[_125[195]]=function(u){
var th=this;
var s=ctorObject(lang.display.Sprite);
if(u){
if(!checkIn(u,_125[192])){
u.popularIcon=0;

}
var nick=u.nick;
var isRainbow=!1;
var color=callMethod(this,GLOBAL.AppUtils,_125[86],[u.mode,u.nickColor_pos]);
var grayNick=!1;
if(checkIn(u,_125[165])){
if((u.nickRainbow == 0)){
if((u.id == GLOBAL.$app.user.id)){
grayNick=!0;

}

}else if((u.nickRainbow == 1)){
isRainbow=!0;

}


}else{
if((u.id == GLOBAL.$app.user.id)){
grayNick=!0;

}

}
if(grayNick){
var isMyNickColor=callMethod(this,GLOBAL.$app.flagsSettings,_125[122],[2,3]);
if(!isMyNickColor){
if((u.nickColor_pos > 0)){

}else{
color=_125[166];

}

}

}
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_125[167],[u.mode]);
var isMod=callMethod(this,GLOBAL.UserMode,_125[168],[u.mode]);
var w1=25;
var iconBM=null;
if(isSuperAdmin){
w1=30;
iconBM=ctorObject(lang.display.Bitmap);
iconBM.src=GLOBAL.Config.adminIcon1BM.src;
iconBM.x=4;
iconBM.y=3;
iconBM.scaleX=(25 / iconBM.naturalWidth);
iconBM.scaleY=(21 / iconBM.naturalHeight);
callMethod(this,s,_125[3],[iconBM]);

}else if(isMod){
w1=30;
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[193]]);
iconBM=ctorObject(lang.display.Bitmap);
iconBM.src=url1;
iconBM.x=4;
iconBM.y=3;
iconBM.scaleX=(25 / iconBM.naturalWidth);
iconBM.scaleY=(25 / iconBM.naturalHeight);
callMethod(this,s,_125[3],[iconBM]);

}

var popularW=0;
var popularIcon=callMethod(this,GLOBAL.$app.userMaster,_125[173],[u.popularLevel,u.popular,u.popularIcon]);
if(popularIcon){
var bmm=ctorObject(lang.display.Bitmap);
bmm.src=popularIcon.src;
popularW=popularIcon.naturalWidth;
if(iconBM){
bmm.x=32;

}
bmm.y=-4;
callMethod(this,s,_125[3],[bmm]);

}
var tfNick=ctorObject(lang.text.TextField);
tfNick.fontName=_125[87];
tfNick.bold=!0;
tfNick.fontSize=15;
tfNick.text=nick;
tfNick.color=color;
tfNick.y=8;
tfNick.buttonMode=!0;
if(iconBM){
tfNick.x=popularW;

}
callMethod(this,s,_125[3],[tfNick]);
if(popularIcon){
tfNick.x+=32;

}
s.fullWidth=s.width;
tfNick.click=function(){
callMethod(this,th,_125[194],[u,!1,!0]);

};

}
return s;

};
_app_chat_Chat[_125[200]]=function(u,cnt){
var th=this;
if(!cnt){
cnt=ctorObject(lib.chat.Sprite);

}
var s=cnt;
if(u){
if((u.id == -2)){
u=GLOBAL.$app.systemUser;

}
if(!checkIn(u,_125[192])){
u.popularIcon=0;

}
var nick=u.nick;
var isRainbow=!1;
var color=callMethod(this,GLOBAL.AppUtils,_125[86],[u.mode,u.nickColor_pos]);
var gradNickVal=null;
var grayNick=!1;
if(checkIn(u,_125[165])){
if((u.nickRainbow == 0)){
if((u.id == GLOBAL.$app.user.id)){
grayNick=!0;

}

}else if((u.nickRainbow == 1)){
isRainbow=!0;

}


}else{
if((u.id == GLOBAL.$app.user.id)){
grayNick=!0;

}

}
if(grayNick){
var isMyNickColor=callMethod(this,GLOBAL.$app.flagsSettings,_125[122],[2,3]);
if(!isMyNickColor){
if((u.nickColor_pos > 0)){

}else{
color=_125[166];

}

}

}
if((u.nickColor_pos > 0)){

}else{
if(!isRainbow){
gradNickVal=callMethod(this,GLOBAL.AppUtils,_125[164],[u.mode]);

}

}
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_125[167],[u.mode]);
var isMod=callMethod(this,GLOBAL.UserMode,_125[168],[u.mode]);
var isModMaps=callMethod(this,GLOBAL.UserMode,_125[169],[u.mode]);
var w1=25;
var iconBM=null;
if(isSuperAdmin){
w1=30;
iconBM=ctorObject(lang.display.Bitmap);
iconBM.src=GLOBAL.Config.adminIcon1BM.src;
var bmm=ctorObject(lib.chat.Bitmap,[iconBM]);
bmm.scaleX=(25 / iconBM.naturalWidth);
bmm.scaleY=(21 / iconBM.naturalHeight);
bmm.x=2;
callMethod(this,s,_125[196],[bmm]);

}else if(isMod){
w1=30;
var url1=GLOBAL.Config.modChatIcon1BM.src;
iconBM=ctorObject(lang.display.Bitmap);
iconBM.src=url1;
var bmm=ctorObject(lib.chat.Bitmap,[iconBM]);
bmm.scaleX=(25 / iconBM.naturalWidth);
bmm.scaleY=(25 / iconBM.naturalHeight);
bmm.x=2;
bmm.y=2;
callMethod(this,s,_125[196],[bmm]);

}else if(isModMaps){
w1=30;
var url1=GLOBAL.Config.modMapsIcon1BM.src;
iconBM=ctorObject(lang.display.Bitmap);
iconBM.src=url1;
var bmm=ctorObject(lib.chat.Bitmap,[iconBM]);
bmm.scaleX=(25 / iconBM.naturalWidth);
bmm.scaleY=(25 / iconBM.naturalHeight);
bmm.x=2;
bmm.y=2;
callMethod(this,s,_125[196],[bmm]);

}


var popularW=0;
var popularIcon=callMethod(this,GLOBAL.$app.userMaster,_125[173],[u.popularLevel,u.popular,u.popularIcon]);
if(checkIn(u,_125[174]) && u.hidePopular){
popularIcon=null;

}
if(popularIcon){
var bmm=ctorObject(lang.display.Bitmap);
bmm.async=!1;
bmm.src=popularIcon;
popularW=popularIcon.naturalWidth;
var bm2=ctorObject(lib.chat.Bitmap,[bmm]);
bm2.scaleX=0.5;
bm2.scaleY=0.5;
bm2.y=6;
callMethod(this,s,_125[196],[bm2]);

}
if(checkIn(u,_125[176])){
if((u.vip == 1)){
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[178]]);
var iconBM2=ctorObject(lang.display.Bitmap);
iconBM2.src=url1;
var bmm=ctorObject(lib.chat.Bitmap,[iconBM2]);
bmm.y=2;
callMethod(this,s,_125[196],[bmm]);

}

}
var tf2=ctorObject(lang.text.TextField);
tf2.bold=!0;
tf2.fontSize=16;
tf2.text=nick;
var tfNick=ctorObject(lib.chat.Text);
tfNick.bold=!0;
tfNick.fontSize=16;
tfNick.text=nick;
tfNick.x=4;
if((tf2.width <= 0)){
tfNick.text=_125[197];

}
if(gradNickVal){
color=callMethod(this,lang.display.Painter,_125[161],[0,0,tf2.width,0,gradNickVal.colors,gradNickVal.ratios]);

}
if(isRainbow){
tfNick.y=-3;
tfNick.filters=GLOBAL.Config.shadowText2;
var tf2=ctorObject(lang.text.TextField);
tf2.bold=!0;
tf2.fontSize=16;
tf2.text=nick;
tf2.filters=GLOBAL.Config.shadowText2;
color=callMethod(this,lang.display.Painter,_125[161],[0,0,tf2.width,0,GLOBAL.$app.rainbowColorsArr,GLOBAL.$app.rainbowColorsRatios]);

}
tfNick.color=color;
tfNick.buttonMode=!0;
callMethod(this,s,_125[196],[tfNick]);
if(checkIn(u,_125[189])){
if((u.iconEmoji > 0)){
var emojiBM=callMethod(this,GLOBAL.$app.userMaster,_125[190],[u.iconEmoji]);
if(emojiBM){
var bm2=ctorObject(lib.chat.Bitmap,[emojiBM]);
bm2.y=5;
bm2.scaleX=0.5;
bm2.scaleY=0.5;
callMethod(this,bm2,_125[10],[_125[198],function(e){
callMethod(this,GLOBAL.$app.popupHtml,_125[134],[(_125[199] + emojiBM.txt1)]);

}]);
callMethod(this,s,_125[196],[bm2]);

}

}

}
callMethod(this,tfNick,_125[10],[_125[198],function(){
callMethod(this,th,_125[194],[u,!1,!0]);

}]);

}

};
_app_chat_Chat[_125[211]]=function(v){
if(v){
if((v == _125[201])){
var sys_arr=[_125[202],_125[203],"Смотри не нарушай правила, а то накажу :-[",_125[204],_125[205],"Есть вопросы? Спроси у администрации! Администрация состоит из модераторов, администратора, и редакторов"];
var txt=callMethod(this,sys_arr,_125[206]);
callMethod(this,null,_125[207],[GLOBAL.$app.user,txt]);
return !0;

}else if((v == _125[208])){
callMethod(this,GLOBAL.$app.popup,_125[209]);
return !0;

}else{
var spl=callMethod(this,v,_125[210],[_125[154]]);
if((spl.size > 0)){
var t=spl[0];

}

}


}
return !1;

};
_app_chat_Chat[_125[212]]=function(t,res){
if((t == 1)){
callMethod(this,this,_125[64]);

}else if((t == 2)){
callMethod(this,GLOBAL.$app,_125[38]);

}else if((t == 3)){
callMethod(this,this,_125[64]);

}else if((t == 8)){
if(res){
this.chatDownButtons.smilesBut.visible=!0;

}else{
this.chatDownButtons.smilesBut.visible=!1;
callMethod(this,this,_125[26]);

}
callMethod(this,this,_125[64]);

}else if((t == 10)){
callMethod(this,this,_125[64]);

}





};
_app_chat_Chat[_125[216]]=function(s,delim){
var isFirst=!1;
var i=0;
while((i < s.size)){
var el=callMethod(this,s,_125[213],[i]);
if((el == delim)){
var ss=callMethod(this,s,_125[80],[0,i]);
if((ss.size > 0)){
if(this.activeRoom){
var u=null;
if(!isFirst){
isFirst=!0;
u=callMethod(this,this.activeRoom,_125[214],[ss]);
if(!u){
var idd=castInt(ss);
if((idd != 0)){
u=callMethod(this,this.activeRoom,_125[215],[idd]);

}

}

}else{
u=callMethod(this,this.activeRoom,_125[214],[ss]);

}
if(u){
return {user:u,pos:i};

}

}

}

}
i++;
}
return null;

};
_app_chat_Chat[_125[217]]=function(s,delim){
var pos=-1;
var i=0;
while((i < s.size)){
var el=callMethod(this,s,_125[213],[i]);
if((el == delim)){
pos=i;

}
i++;
}
return pos;

};
_app_chat_Chat[_125[221]]=function(spr,ids){
if(spr){
if(ids){
if(checkIs(spr,lang.text.TextField)){
var i=0;
while((i < ids.size)){
var itemid=ids[i];
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_125[218],[itemid]);
if((giftV.size > 0)){
var topV=9;
if((itemid == 34)){
topV=14;

}
spr.text+=((((_125[219] + giftV) + '" style="position:relative;top:') + topV) + _125[220]);

}
i++;
}

}else{
var i=0;
while((i < ids.size)){
var itemid=ids[i];
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_125[218],[itemid]);
if((giftV.size > 0)){
spr.html+=((_125[219] + giftV) + '" style="position:relative;top:9px;">');

}
i++;
}

}

}

}


};
_app_chat_Chat[_125[230]]=function(spr,o){
var msgid='';
var msgid2=('' + o.id);
if(this.activeRoom){
msgid=((('' + this.activeRoom.id) + _125[222]) + msgid2);

}
var otid=0;
if(checkIn(o,_125[223])){
otid=o.ot;
if(o.ot){
if(checkIn(o.ot,_125[128])){
otid=o.ot.id;

}

}

}
var msgaid=((msgid + _125[222]) + otid);
var ts=0;
if(checkIn(o,_125[224])){
ts=o.time;

}
if((ts > 0) && this.activeRoom){
var el2=ctorObject(lib.chat.Sprite);
var dateObj1=callMethod(this,GLOBAL.AppUtils,_125[225],[ts]);
var s5=dateObj1.s;
if(checkIn(this.activeRoom.dateChatObj1,s5)){

}else{
this.activeRoom.dateChatObj1[s5]=1;
var s2=callMethod(this,this,_125[226],[ts]);
if((s2 != '')){
var tf3=ctorObject(lib.chat.Text);
tf3.bold=!0;
tf3.fontSize=16;
tf3.text=s2;
tf3.color=16618238;
tf3.x=1;
callMethod(this,el2,_125[196],[tf3]);
callMethod(this,this.chatCnt,_125[196],[el2]);

}

}

}
var flags=0;
if(this.activeRoom){
flags=callMethod(this,this.activeRoom,_125[227]);

}
if(checkIn(o,_125[228])){
if(o.isSend){
if((msgid2.size > 0)){
var isRes2=!0;
if(checkIn(o,_125[54])){
if((o.type != 1)){
isRes2=!1;

}

}

}

}

}
if((ts > 0)){
var timeStr=callMethod(this,GLOBAL.AppUtils,_125[229],[ts]);
var tfTime=ctorObject(lib.chat.Text);
tfTime.bold=!0;
tfTime.fontSize=16;
tfTime.text=timeStr;
tfTime.color=16777215;
tfTime.x=1;
callMethod(this,spr,_125[196],[tfTime]);

}

};
_app_chat_Chat[_125[236]]=function(spr,o){
var msgid='';
var msgid2=('' + o.id);
if(this.activeRoom){
msgid=((('' + this.activeRoom.id) + _125[222]) + msgid2);

}
var otid=0;
if(checkIn(o,_125[223])){
otid=o.ot;
if(o.ot){
if(checkIn(o.ot,_125[128])){
otid=o.ot.id;

}

}

}
var msgaid=((msgid + _125[222]) + otid);
var ts=0;
if(checkIn(o,_125[224])){
ts=o.time;

}
callMethod(this,this,_125[231],[spr,ts]);
var flags=0;
if(this.activeRoom){
flags=callMethod(this,this.activeRoom,_125[227]);

}
if(checkIn(o,_125[232])){
if(((GLOBAL.app.chat.ChatRoomFlags.RESTORE_MSG & flags) > 0)){
spr.html+=(((('<span style="position:relative;top:6px;cursor:pointer;" class="noSelect" onclick="cbArgs(\'chatRestoreMsg\',\'' + msgid) + _125[233]) + GLOBAL.Config.refreshIcon2) + '" width="20" height="20"></span>  ');

}

}
if(checkIn(o,_125[228])){
if(o.isSend){
if((msgid2.size > 0)){
var isRes2=!0;
if(checkIn(o,_125[54])){
if((o.type != 1)){
isRes2=!1;

}

}
if(isRes2){
if(((GLOBAL.app.chat.ChatRoomFlags.DELETE_MSG & flags) > 0)){
spr.html+=(((('<span style="position:relative;top:4px;cursor:pointer;" class="noSelect" onclick="cbArgs(\'chatDelMsg\',\'' + msgid) + _125[233]) + GLOBAL.Config.delIcon1BM.src) + '" width="20" height="20"></span>  ');
var isMod=callMethod(this,GLOBAL.UserMode,_125[168],[GLOBAL.$app.user.mode]);
if(isMod){
spr.html+=(((('<span style="position:relative;top:5px;cursor:pointer;" class="noSelect" onclick="cbArgs(\'chatMsgClickAct\',\'' + msgaid) + _125[233]) + GLOBAL.Config.settingsIcon1Min) + '" width="20" height="20"></span>  ');

}

}

}

}

}

}
if((ts > 0)){
var timeStr=callMethod(this,GLOBAL.AppUtils,_125[229],[ts]);
spr.html+=((_125[234] + timeStr) + _125[235]);

}

};
_app_chat_Chat[_125[339]]=function(o,isV1){
var th=this;
var otUser=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[o.ot]);
var spr=ctorObject(lang.display.Sprite);
spr.position=_125[237];
o.spr=spr;
var st='';
var args=[];
if(checkIn(o,_125[238])){
if(o.args){
args=o.args;

}

}
if(checkIn(o,_125[239])){
st=o.st;

}
var komuUser=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[o.komu]);
var otStr='';
var komuStr='';
callMethod(this,th,_125[236],[spr,o]);

if(!GLOBAL.$app.isStandalone){
otStr=callMethod(this,null,_125[191],[otUser]);
komuStr=callMethod(this,null,_125[191],[komuUser]);

}
var txt1Msg='';
var nums=1;
if((st == _125[240])){
var txt1=_125[241];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt1+=_125[242];

}

}
var otidUser=callMethod(this,th,_125[127],[o.ot]);
var komuidUser=callMethod(this,th,_125[127],[o.komu]);
txt1+=_125[243];
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_125[218],[1000]);
if((otUser == komuUser)){
komuStr=((_125[244] + txt2) + _125[184]);

}
spr.html+=(((((((('' + otStr) + _125[245]) + txt1) + _125[246]) + komuStr) + _125[175]) + giftV) + '" style="position:relative;top:15px;">');
callMethod(this,spr,_125[3],[tf2]);

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[247])){
o.items=[];
if((args.size > 0)){
o.items=args[0];

}
if((args.size > 1)){
txt1Msg=args[1];

}
if((args.size > 2)){
nums=args[2];

}
var s3='';
var s4='';
var txt1=_125[248];
var txt2=_125[249];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt1+=_125[242];
txt2=_125[250];

}else if((otUser.sex == GLOBAL.Sex.SYSTEM)){
txt1+=_125[251];

}


}
var maxItems=3;
var isLimit=0;
var allNum=o.items.size;
var sz1=allNum;
if((sz1 > maxItems)){
sz1=maxItems;
isLimit=1;

}
var ids2=[];
var i=0;
while((i < sz1)){
var itemid=o.items[i];
callMethod(this,ids2,_125[52],[itemid]);
i++;
}
var otidUser=callMethod(this,th,_125[127],[o.ot]);
var komuidUser=callMethod(this,th,_125[127],[o.komu]);
var tf2=ctorObject(lang.text.TextField);
tf2.position=_125[237];
tf2.text='';
callMethod(this,th,_125[221],[tf2,ids2]);
if((isLimit == 1)){
var arrOther=[];
var i=maxItems;
while((i < allNum)){
callMethod(this,arrOther,_125[52],[o.items[i]]);
i++;
}
var c2=arrOther.size;
s4+=(('<span style="color:#ffcc00;" title="просмотреть">и ещё ' + c2) + _125[184]);

}
if((otUser == komuUser)){
komuStr=((_125[244] + txt2) + _125[184]);

}
if(isV1){

}
spr.html+=((((('' + otStr) + _125[245]) + txt1) + _125[235]) + komuStr);
callMethod(this,spr,_125[3],[tf2]);
var tf=ctorObject(lang.text.TextField);
tf.position=_125[237];
tf.fontName=_125[87];
tf.bold=!0;
tf.color=16618238;
tf.otidUser=otidUser;
tf.komuidUser=komuidUser;
tf.text=_125[252];
tf.buttonMode=!0;
tf.click=function(){
var id1=this.otidUser;
var id2=this.komuidUser;
callMethod(this,GLOBAL.$app.popup,_125[253],[id1,id2]);

};
callMethod(this,spr,_125[3],[tf]);
if(txt1Msg){
if((txt1Msg.size > 0)){
var tf4=ctorObject(lang.text.TextField);
tf4.fontName=_125[87];
tf4.bold=!0;
tf4.position=_125[237];
tf4.color=16763904;
var txt9=callMethod(this,th,_125[254],[txt1Msg]);
tf4.text=(_125[154] + txt9);
callMethod(this,spr,_125[3],[tf4]);

}

}
if((nums > 1)){
var tf4=ctorObject(lang.text.TextField);
tf4.position=_125[237];
tf4.fontName=_125[87];
tf4.bold=!0;
tf4.color=16763904;
tf4.text=((_125[255] + nums) + _125[154]);
callMethod(this,spr,_125[3],[tf4]);

}
if((s4.size > 0)){
var tf=ctorObject(lang.text.TextField);
tf.position=_125[237];
tf.text=s4;
tf.itemsIds=arrOther;
tf.buttonMode=!0;
tf.click=function(){
callMethod(this,this.parent,_125[73],[this]);
var tf3=ctorObject(lang.text.TextField);
tf3.position=_125[237];
callMethod(this,spr,_125[3],[tf3]);
callMethod(this,th,_125[221],[tf3,this.itemsIds]);

};
callMethod(this,spr,_125[3],[tf]);

}

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[256])){
o.items=[];
if((args.size > 0)){
o.items=args[0];

}
if((args.size > 1)){
txt1Msg=args[1];

}
var s3='';
var s4='';
var txt1=_125[248];
var txt2=_125[249];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt1+=_125[242];
txt2=_125[250];

}else if((otUser.sex == GLOBAL.Sex.SYSTEM)){
txt1+=_125[251];

}


}
txt1+=_125[257];
var maxItems=3;
var isLimit=0;
var allNum=o.items.size;
var sz1=allNum;
if((sz1 > maxItems)){
sz1=maxItems;
isLimit=1;

}
var ids2=[];
var i=0;
while((i < sz1)){
var itemid=o.items[i];
callMethod(this,ids2,_125[52],[itemid]);
i++;
}
var tf2=ctorObject(lang.text.TextField);
tf2.position=_125[237];
tf2.text='';
callMethod(this,th,_125[221],[tf2,ids2]);
spr.html+=(((('' + otStr) + _125[245]) + txt1) + _125[184]);
callMethod(this,spr,_125[3],[tf2]);
if(txt1Msg){
if((txt1Msg.size > 0)){
var tf4=ctorObject(lang.text.TextField);
tf4.position=_125[237];
tf4.color=16763904;
var txt9=callMethod(this,th,_125[254],[txt1Msg]);
txt9=callMethod(this,GLOBAL.$app.smilesMaster,_125[258],[txt9]);
tf4.text=(_125[154] + txt9);
callMethod(this,spr,_125[3],[tf4]);

}

}
if((s4.size > 0)){
var tf=ctorObject(lang.text.TextField);
tf.position=_125[237];
tf.text=s4;
tf.itemsIds=arrOther;
tf.buttonMode=!0;
tf.click=function(){
callMethod(this,this.parent,_125[73],[this]);
var tf3=ctorObject(lang.text.TextField);
tf3.position=_125[237];
callMethod(this,spr,_125[3],[tf3]);
callMethod(this,th,_125[221],[tf3,this.itemsIds]);

};
callMethod(this,spr,_125[3],[tf]);

}

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[259])){
spr.html+=(((('' + otStr) + ' <span style="color:#ffcc00;">и</span> ') + komuStr) + ' <span style="color:#ffcc00;">теперь друзья!</span>');
callMethod(this,th,_125[109],[spr]);

}else if((st == _125[260])){
spr.html+=(((('' + otStr) + ' <span style="color:#ffcc00;">и</span> ') + komuStr) + ' <span style="color:#ffcc00;">больше не друзья(</span>');
callMethod(this,th,_125[109],[spr]);

}else if((st == _125[261])){
var txt2=_125[262];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[263];

}

}
if((args.size > 0)){
var levelV=args[0];
var txt6=(((('' + txt2) + _125[154]) + levelV) + _125[264]);
spr.html+=(((('' + otStr) + _125[245]) + txt6) + _125[184]);

callMethod(this,th,_125[109],[spr]);

}

}else if((st == _125[265])){
var txt2=_125[262];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[263];

}

}
if((args.size > 0)){
var levelV=args[0];
var txt6=(((('' + txt2) + _125[154]) + levelV) + ' уровня популярности, поздравляем!');
spr.html+=(((('' + otStr) + _125[245]) + txt6) + _125[184]);

callMethod(this,th,_125[109],[spr]);

}

}else if((st == _125[266])){
var txt2=_125[267];
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[193]]);
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];

}
spr.html+=(((((((('' + otStr) + _125[245]) + txt2) + _125[235]) + komuStr) + ' <span style="color:#ffcc00;">на должность модератора чата<span style="position:relative;top:6px;" class="noSelect"><img src="') + url1) + '" width="30" height="30"></span></span>');
callMethod(this,th,_125[109],[spr]);

}else if((st == _125[268])){
var txt2=_125[269];
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[193]]);
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];

}
spr.html+=(((((((('' + otStr) + _125[245]) + txt2) + _125[235]) + komuStr) + ' <span style="color:#ffcc00;">с должности модератора чата<span style="position:relative;top:6px;" class="noSelect"><img src="') + url1) + '" width="30" height="30"></span></span>');
callMethod(this,th,_125[109],[spr]);

}else if((st == _125[270]) || (st == _125[271]) || (st == _125[272])){
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[193]]);
var txt2='';
var s5=_125[273];
if((args.size > 0)){
var arg1=args[0];
if((arg1 == _125[274])){
s5=_125[275];

}

}
var txt6=((_125[276] + s5) + _125[277]);
if((st == _125[271])){
txt2=_125[278];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];

}

}
txt6=(txt2 + _125[279]);

}else if((st == _125[272])){
txt6=((_125[276] + s5) + _125[280]);

}

spr.html+=(((('' + otStr) + _125[245]) + txt6) + _125[184]);

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[281])){
var mapid=0;
var tt='';
if((args.size > 0)){
mapid=args[0];

}
if((args.size > 1)){
tt=args[1];

}
var txt2=_125[241];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];

}

}
var txt3='';
var descStatus=null;
var icon3=null;
var tx8='';
if((tt == _125[196])){
icon3=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[282]]);
tx8=_125[283];

}else if((tt == _125[284])){
icon3=GLOBAL.Config.delIcon1BM.src;
tx8=_125[285];

}

if((tt == _125[286])){
txt3=((_125[287] + mapid) + _125[288]);

}else if((tt == _125[196])){
txt3=(_125[287] + mapid);

}else if((tt == _125[284])){
txt3=(_125[287] + mapid);
if((args.size > 2)){
var txt6=args[2];
if(txt6){
if((txt6.size > 0)){
descStatus=txt6;

}

}

}

}else if((tt == _125[43])){
txt3=((_125[287] + mapid) + _125[289]);

}else if((tt == _125[290])){
var lvl2=1;
if((args.size > 2)){
lvl2=args[2];

}
txt3=((_125[287] + mapid) + _125[154]);
if((lvl2 > 1)){
txt3+=_125[291];

}else{
txt3+=_125[292];

}

}else if((tt == _125[293])){
var statusVV=_125[294];
if((args.size > 2)){
statusVV=args[2];

}
txt3=(((_125[295] + mapid) + _125[296]) + statusVV);

}





var s8=(((('' + otStr) + _125[245]) + txt3) + _125[184]);
if((tt == _125[286])){
s8=(((((('' + otStr) + ' <span style="color:#ffcc00;">Дорогие <img width="25" height="25" style="position:relative;top:8px;" src="') + GLOBAL.Config.modMapsIcon1BM.src) + _125[297]) + mapid) + _125[298]);

}
if(icon3){
s8+=((((((_125[175] + icon3) + _125[299]) + tx8) + '" width="24" height="24" style="cursor:pointer;position:relative;top:6px;" onclick="cbArgs(\'clickModMapInfo\',') + mapid) + _125[300]);

}else{
if((mapid != 0)){
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[301]]);
s8+=((((_125[219] + url1) + '" width="20" style="cursor:pointer;position:relative;top:4px;" class="noSelect" onclick="cbArgs(\'clickModMapInfo\',') + mapid) + _125[180]);

}

}
if(descStatus){
s8+=(('<span> </span><span style="color:#ffcc00;">(' + descStatus) + _125[302]);

}
spr.html+=s8;

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[303])){
spr.html+=(('' + otStr) + ' <span style="color:#ffcc00;">теперь тестер!</span>');
callMethod(this,th,_125[109],[spr]);

}else if((st == _125[304])){
var txt2=_125[305];
var qw5='';
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];

}

}
if((args.size > 0)){
var t7=args[0];
if((t7 == 1)){
qw5=_125[306];

}else if((t7 == 2)){
qw5=_125[307];

}


}
var url1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[178]]);
spr.html+=(((((((('' + otStr) + _125[245]) + txt2) + _125[154]) + qw5) + ' vip <img style="position:relative;top:6px;cursor:pointer;" src="') + url1) + '" onclick="cbArgs(\'clickVipInfo\')"></span>');

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[308])){
var txt2=_125[309];
var txt3=_125[310];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];
txt3=_125[311];

}else if((otUser.sex == GLOBAL.Sex.SYSTEM)){
txt2+=_125[251];

}


}
if((otUser == komuUser)){
komuStr=((_125[244] + txt3) + _125[184]);

}
var str1=_125[312];
if((args.size > 0)){
var banid=args[0];
var banInfo=callMethod(this,GLOBAL.$app.userMaster,_125[313],[banid]);
if(banInfo){
var tx=banInfo.name;
var pos2=callMethod(this,tx,_125[314],[_125[315]]);
var pos3=callMethod(this,tx,_125[314],[_125[316]]);
if((pos3 > -1)){
pos2=pos3;

}
if((pos2 == -1)){
tx=callMethod(this,tx,_125[317],[_125[242],_125[318]]);
tx=callMethod(this,tx,_125[317],[_125[319],_125[320]]);

}
str1=(_125[321] + tx);

}

}
spr.html+=(((((((('' + otStr) + _125[245]) + txt2) + _125[235]) + komuStr) + _125[245]) + str1) + _125[184]);

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[322])){
var txt2=_125[323];
var txt3=_125[310];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];
txt3=_125[311];

}

}
if((otUser == komuUser)){
komuStr=((_125[244] + txt3) + _125[184]);

}
spr.html+=(((((('' + otStr) + _125[245]) + txt2) + _125[235]) + komuStr) + '');

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[324])){
var txt2=_125[325];
if(otUser){
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2=_125[326];

}

}
spr.html+=(((('' + otStr) + _125[245]) + txt2) + _125[327]);

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[328])){
var txt2=_125[241];
var txt3=_125[249];
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_125[242];
txt3=_125[250];

}
txt2+=_125[329];
if((otUser == komuUser)){
komuStr=((_125[244] + txt3) + _125[184]);

}else{
txt2+=_125[330];

}
spr.html+=(((((('' + otStr) + _125[245]) + txt2) + _125[235]) + komuStr) + '');

callMethod(this,th,_125[109],[spr]);

}else if((st == _125[331])){
var usersList=[];
var usersIds=[];
if((args.size > 0)){
usersList=args[0];

}
usersIds=usersList;
var t4=_125[332];
var img1=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[333]]);
var s4=_125[315];
if((args.size > 1)){
var t4=args[1];
if((t4 == _125[334])){
s4=_125[335];
t4=_125[334];

}

}
var giftid=0;
if((args.size > 2)){
giftid=args[2];

}
spr.html+=(('<span style="color:#ffcc00;">Лучшие спасатели за ' + s4) + _125[336]);
var tf=ctorObject(lang.text.TextField);
tf.fontName=_125[87];
tf.bold=!0;
callMethod(this,spr,_125[3],[tf]);
tf.selectable=!1;
tf.position=_125[237];
tf.color=16618238;
tf.text=_125[337];
tf.buttonMode=!0;
tf.usersList=usersList;
tf.giftid=giftid;
tf.tt=t4;
callMethod(this,tf,_125[10],[_125[198],function(){
var uList=this.usersList;
var giftidd=this.giftid;
var t5=this.tt;
callMethod(this,GLOBAL.$app.popup,_125[338],[t5,uList,giftidd]);

}]);

callMethod(this,th,_125[109],[spr]);

}


















};
_app_chat_Chat[_125[207]]=function(komu,txt){
var ts=callMethod(this,Date,_125[67]);
var msgObj={type:GLOBAL.app.chat.MessageType.MSG_USER,id:'',time:ts,msg:txt,ot:GLOBAL.$app.systemUser,komu:komu,reportsCount:0,isSend:!0};
callMethod(this,this.activeRoom,_125[117],[msgObj]);
callMethod(this,this,_125[100],[msgObj]);
callMethod(this,this,_125[118],[msgObj]);

};
_app_chat_Chat[_125[341]]=function(){
var th=this;
if(this.tm2){
callMethod(this,this.tm2,_125[340]);
this.tm2=null;

}

};
_app_chat_Chat[_125[344]]=function(s){
if(s){
var p=callMethod(this,s,_125[314],[_125[342]]);
if((p > -1)){
var spl=callMethod(this,s,_125[210],[_125[342]]);
if((spl.size > 0)){
var tt=spl[0];
if((spl.size > 1)){
var domainV=spl[1];
if((domainV.size > 4)){
var v1=callMethod(this,domainV,_125[80],[0,4]);
if((v1 == _125[343])){
var userid=callMethod(this,domainV,_125[80],[4]);
var uid=castInt(userid);
var obb={t:tt,user:uid};
return obb;

}else{
var obb={t:tt,noResolve:1,name:domainV};
return obb;

}

}

}

}

}

}
return null;

};
_app_chat_Chat[_125[28]]=function(v){
var th=this;
if(v){
v=callMethod(this,v,_125[345]);

if((v.size > 0)){
var komuid=0;
var komu=null;
var komuIds=[];
if(th.komuUserSpr){
komuid=th.komuUserSpr.userID;

}
if((komuid != 0)){
callMethod(this,komuIds,_125[52],[komuid]);

}
callMethod(this,this,_125[26]);
callMethod(this,this,_125[83]);
if(this.isSendMsg){
return;

}
if((v[0] == _125[346])){
this.chatTI.ti.value='';
var s1=callMethod(this,v,_125[80],[1]);
var r2=callMethod(this,null,_125[211],[s1]);
if(r2){
return;

}

}
var isLoadU=!1;
var cb5=function(){
th.isSendMsg=!0;
th.chatTI.ti.value='';
th.tm2=callMethod(this,Timer,_125[347],[(20 * 1000),function(){
callMethod(this,this,_125[340]);
th.isSendMsg=!1;
callMethod(this,th,_125[341]);

}]);
var roomid=th.activeRoom.id;
var roomType=th.activeRoom.stype;
v=callMethod(this,GLOBAL.$app.smilesMaster,_125[348],[v]);
var ts=callMethod(this,Date,_125[67]);
var rm2=th.activeRoom;
var msgObj={type:GLOBAL.app.chat.MessageType.MSG_USER,id:'',time:0,msg:v,ot:GLOBAL.$app.user,komu:komu,reportsCount:0};
msgObj.time=ts;
if((rm2.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
msgObj.komu=null;
komuid=rm2.userid;
komuIds=[komuid];

}
callMethod(this,th.activeRoom,_125[117],[msgObj]);
callMethod(this,th,_125[100],[msgObj]);
callMethod(this,GLOBAL.$app.cacheUsers,_125[68],[komuIds,function(){
msgObj.komu=komuIds;
if((rm2.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
msgObj.komu=null;

}
callMethod(this,th,_125[140],[msgObj]);

}]);
var roomType1=roomType;
callMethod(this,th,_125[118],[msgObj]);
if(GLOBAL.$app.connect.isConnect){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(v,room,time,id,roomType){
callMethod(this,th,_125[341]);
th.tm1=callMethod(this,Timer,_125[347],[1700,function(){
callMethod(this,this,_125[340]);
th.isSendMsg=!1;
th.tm1=null;

}]);
if((v == GLOBAL.ErrorType.OK)){
msgObj.id=id;
msgObj.time=time;
msgObj.isSend=!0;
var colorsList=GLOBAL.Config.chatTextColorList;
if((th.selectColorPos > -1)){
if(colorsList){
var pos3=th.selectColorPos;
if((pos3 < colorsList.size)){
msgObj.textColor=colorsList[pos3];

}

}

}
callMethod(this,th,_125[140],[msgObj]);
callMethod(this,th.chatCnt,_125[141]);
callMethod(this,th.chatCnt,_125[76]);

}else{
var txt1='';
if((v == GLOBAL.ErrorType.NO_ROOM)){
txt1=_125[349];

}else if((v == GLOBAL.ErrorType.NO_ONLINE)){
txt1=_125[350];

}else if((v == GLOBAL.ErrorType.NO_ACCESS_WRITE)){
txt1='получатель не принимает сообщения';

}else if((v == GLOBAL.ErrorType.NO_MONEY)){
txt1=_125[351];

}else if((v == GLOBAL.ErrorType.ACCESS_DENIED)){
txt1=_125[352];

}else if((v == GLOBAL.ErrorType.BAN)){
var ts4=room;
var str5=callMethod(this,GLOBAL.DateUtils,_125[353],[ts4]);
txt1=((_125[354] + str5) + '');

}else if((v == GLOBAL.ErrorType.TIME_EXISTS)){
txt1='лимит на сообщения, повторите попытку';

}






msgObj.errorSendTxt=txt1;
callMethod(this,th,_125[140],[msgObj]);

}

},_125[355],roomid,komuIds,v,roomType,th.selectColorPos]);

}else{
th.isSendMsg=!1;
callMethod(this,th,_125[341]);
msgObj.errorSendTxt=_125[356];
callMethod(this,th,_125[140],[msgObj]);

}

};
var pos2=callMethod(this,v,_125[314],[_125[357]]);
if((pos2 > -1)){
var str3=callMethod(this,v,_125[80],[0,pos2]);
var ob1=callMethod(this,th,_125[344],[str3]);
if(ob1){
if((ob1.t == _125[358])){
v=callMethod(this,v,_125[80],[(pos2 + 1)]);
if(checkIn(ob1,_125[359])){
callMethod(this,GLOBAL.$app.resolveNameMaster,_125[68],[ob1.name,function(obj){
if(obj){
komuid=obj.user;
callMethod(this,komuIds,_125[52],[komuid]);
cb5();

}

}]);
return;

}else{
if((komuid != ob1.user)){
komuid=ob1.user;
callMethod(this,komuIds,_125[52],[komuid]);

}

}

}

}

}
cb5();

}

}

};
_app_chat_Chat[_125[113]]=function(id){
var a=callMethod(this,this,_125[70],[GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER]);
var i=0;
while((i < a.size)){
var r=a[i];
if((r.userid == id)){
return r;

}
i++;
}
return null;

};
_app_chat_Chat[_125[360]]=function(id){
var th=this;
var t=GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER;
var i=0;
while((i < th.chatRooms.size)){
var el=th.chatRooms[i];
if((el.stype == t)){
if((el.userid == id)){
callMethod(this,th.chatRooms,_125[93],[i]);
return !0;

}

}
i++;
}
return !1;

};
_app_chat_Chat[_125[115]]=function(u){
if(u){
var room=callMethod(this,this,_125[113],[u.id]);
if(!room){
var r=ctorObject(_125[55],[0,_125[361],0]);
r.stype=GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER;
r.userid=u.id;
r.users=[u,GLOBAL.$app.user];
r.countUsers=r.users.size;
callMethod(this,this.chatRooms,_125[52],[r]);
room=r;

}

}

};
_app_chat_Chat[_125[63]]=function(room){
var isWeb=!0;

var scrollLast=this.chatCnt.cnt.scrollTop;
if(room){
callMethod(this,this.chatCnt,_125[99]);
callMethod(this,this.onlineUsers,_125[43]);
var i=0;
while((i < room.messages.size)){
var el=room.messages[i];
callMethod(this,this,_125[100],[el]);
i++;
}

}
if(!isWeb){
this.chatCnt.isUpd=!0;
callMethod(this,this.chatCnt,_125[43]);

}
if((scrollLast > 0)){
this.chatCnt.cnt.scrollTop=scrollLast;

}

};
_app_chat_Chat[_125[100]]=function(o,isV1){
if(o){
var t=o.type;
var MessageType=GLOBAL.app.chat.MessageType;
if((t == MessageType.MSG_USER)){
callMethod(this,this,_125[362],[o]);

}else if((t == MessageType.EVENT_MSG)){
callMethod(this,this,_125[339],[o,isV1]);

}else if((t == MessageType.SYSTEM_MSG)){
o.hideOt=!0;
callMethod(this,this,_125[362],[o]);

}else if((t == MessageType.BUILDER)){
if(o){
if(checkIn(o,_125[363])){
var bb=o.o;
var ren=callMethod(this,bb,_125[364]);
callMethod(this,this,_125[109],[ren,!0]);

}

}

}




}

};
_app_chat_Chat[_125[226]]=function(ts){
var s2='';
if((ts > 0)){
var dateObj1=callMethod(this,GLOBAL.AppUtils,_125[225],[ts]);
var dt=ctorObject(_125[365]);
var dayV=callMethod(this,dt,_125[366]);
if((dateObj1.date == dayV)){
s2=_125[367];

}else if((dateObj1.date == (dayV - 1))){
s2=_125[368];

}else{
var month1=(dateObj1.month - 1);
var monthStr=GLOBAL.Config.monthsList1[month1];
s2=((('' + dateObj1.date) + _125[154]) + monthStr);

}


}
return s2;

};
_app_chat_Chat[_125[231]]=function(spr,ts){
if((ts > 0) && this.activeRoom){
var dateObj1=callMethod(this,GLOBAL.AppUtils,_125[225],[ts]);
var s5=dateObj1.s;
if(checkIn(this.activeRoom.dateChatObj1,s5)){

}else{
this.activeRoom.dateChatObj1[s5]=1;
var sp2=ctorObject(lang.display.Sprite);
sp2.position=_125[237];
var s2=callMethod(this,this,_125[226],[ts]);
if((s2 != '')){
sp2.html+=(('<span class="noSelect" style="color:#FD92FE;text-align:center;">' + s2) + _125[184]);
callMethod(this,spr,_125[3],[sp2]);

}

}

}

};
_app_chat_Chat[_125[390]]=function(sprChat,mm,o){
var th=this;
if(sprChat){
if(!mm){
mm='';

}
var msgObb=callMethod(this,th,_125[254],[mm]);
var msg=msgObb.msg;
var smileM=GLOBAL.$app.smilesMaster;
var xmlObj=callMethod(this,XML,_125[369],[msg]);
if(xmlObj){
var list1=xmlObj.list;
if((list1.size > 0)){
var i=0;
while((i < list1.size)){
var el=list1[i];
var attrObj={};
var isTxt=!1;
var idd='';
if(checkIn(el,_125[54])){
if((el.type == _125[370])){
isTxt=!0;

}

}
if(isTxt){
msg=el.value;
idd=_125[370];

}else{
var k=0;
while((k < el.attr.size)){
var el1=el.attr[k];
var attrName=el1.key;
var attrV=el1.value;
attrObj[attrName]=attrV;
k++;
}
idd=el.id;

}
if((idd == _125[371])){
var smName='';
if(checkIn(attrObj,_125[372])){
smName=attrObj.name;

}else if(checkIn(attrObj,_125[373])){
smName=attrObj.url;

}

if((attrObj.t == _125[374])){
var smileInfo2=null;
if(checkIn(smileM.emojiFrames,smName)){
smileInfo2=smileM.emojiFrames[smName];

}
if(smileInfo2){
var bmm=ctorObject(lang.display.Bitmap);
bmm.async=!1;
bmm.src=smileM.emoji1Bitmap;
bmm.sourceRect=smileInfo2;
if((bmm.naturalWidth > 0)){
var img1=ctorObject(lib.chat.Bitmap,[bmm]);
img1.x=2;
img1.y=3;
img1.scaleX=0.5;
img1.scaleY=0.5;
callMethod(this,sprChat,_125[196],[img1]);

}

}

}
if((attrObj.t == _125[375])){

}else{
var smileInfo=null;
if(checkIn(smileM.objNames,smName)){
smileInfo=smileM.objNames[smName];

}
if(smileInfo){
if(smileInfo.bm){
if((smileInfo.bm.naturalWidth > 0)){
var img1=ctorObject(lib.chat.Bitmap,[smileInfo.bm]);
callMethod(this,sprChat,_125[196],[img1]);

}

}

}

}

}else if((idd == _125[376])){
var tfMsg=ctorObject(lib.chat.Text);
tfMsg.bold=!0;
tfMsg.fontSize=16;
tfMsg.text=_125[377];
tfMsg.color=16618238;
tfMsg.x=3;
tfMsg.buttonMode=!0;
tfMsg.vid=attrObj.id;
callMethod(this,tfMsg,_125[10],[_125[198],function(){
var videoid=this.itemData.vid;

callMethod(this,System,_125[378],[('open https://www.youtube.com/watch?v=' + videoid)]);

}]);
callMethod(this,sprChat,_125[196],[tfMsg]);

}else if((idd == _125[379])){
var tfMsg=ctorObject(lib.chat.Text);
tfMsg.bold=!0;
tfMsg.fontSize=16;
tfMsg.text=_125[380];
tfMsg.color=16618238;
tfMsg.x=3;
tfMsg.buttonMode=!0;
tfMsg.vid=attrObj.id;
callMethod(this,tfMsg,_125[10],[_125[198],function(){
var videoid=this.itemData.vid;

callMethod(this,System,_125[378],[(_125[381] + videoid)]);

}]);
callMethod(this,sprChat,_125[196],[tfMsg]);

}else if((idd == _125[382])){
var tfMsg=ctorObject(lib.chat.Text);
tfMsg.bold=!0;
tfMsg.fontSize=16;
tfMsg.text=('' + attrObj.name);
tfMsg.color=16618238;
tfMsg.x=3;
tfMsg.buttonMode=!0;
tfMsg.vv=attrObj.value;

callMethod(this,tfMsg,_125[10],[_125[198],function(){
var vvStr=this.itemData.vv;

callMethod(this,System,_125[378],[(_125[384] + vvStr)]);

}]);
callMethod(this,sprChat,_125[196],[tfMsg]);

}else if((idd == _125[385])){
var tfMsg=ctorObject(lib.chat.Text);
tfMsg.bold=!0;
tfMsg.fontSize=16;
tfMsg.text=('' + attrObj.title);
tfMsg.color=16618238;
tfMsg.x=3;
tfMsg.buttonMode=!0;
tfMsg.vv=attrObj.argsStr;

callMethod(this,tfMsg,_125[10],[_125[198],function(){

var vvStr=this.itemData.vv;
var argsArr=callMethod(this,vvStr,_125[210],[_125[386]]);
var tt1=null;
if((argsArr.size > 0)){
tt1=callMethod(this,argsArr,_125[387]);

}
if(tt1){
callMethod(this,GLOBAL.$app,_125[388],[tt1,argsArr]);

}

}]);
callMethod(this,sprChat,_125[196],[tfMsg]);

}else if((idd == _125[370])){
var tfMsg=ctorObject(lib.chat.Text);
tfMsg.bold=!0;
tfMsg.fontSize=16;
tfMsg.text=msg;
tfMsg.color=13232031;
tfMsg.x=3;
if(checkIn(o,_125[389])){
tfMsg.color=o.textColor;

}
callMethod(this,sprChat,_125[196],[tfMsg]);

}





i++;
}

}else{
var tfMsg=ctorObject(lib.chat.Text);
tfMsg.bold=!0;
tfMsg.fontSize=16;
tfMsg.text=msg;
tfMsg.color=13232031;
tfMsg.x=3;
if(checkIn(o,_125[389])){
tfMsg.color=o.textColor;

}
callMethod(this,sprChat,_125[196],[tfMsg]);

}

}

}

};
_app_chat_Chat[_125[140]]=function(o,isScroll){
if(!isScroll){
isScroll=!0;

}
var th=this;
var ts=0;
if(o){
if(checkIn(o,_125[224])){
ts=o.time;

}

}
if(o){
if(checkIn(o,_125[111])){
var spr=o.spr;
spr.html='';
var ot=o.ot;
if(checkIs(ot,_125[125])){

}else if(checkIn(ot,_125[128])){
var uid1=ot.id;
var u2=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[uid1]);
if(u2){
u2.popularLevel=ot.popularLevel;
u2.popular=ot.popular;

}
ot=uid1;

}

if(checkIs(ot,_125[125])){
ot=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[ot]);

}
if(!ot){
ot=GLOBAL.$app.noUser;

}
var komuList=[];
var komu=o.komu;
if(komu){
if(checkIs(komu,_125[126])){
var i=0;
while((i < komu.size)){
var id2=komu[i];
if(checkIs(id2,_125[125])){
if((id2 != ot.id)){
var komuUser=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[id2]);
if(!komuUser){
komuUser=GLOBAL.$app.noUser;

}
callMethod(this,komuList,_125[52],[komuUser]);

}

}else{
if((id2.id != ot.id)){
callMethod(this,komuList,_125[52],[id2]);

}

}
i++;
}

}else if(checkIs(komu,_125[125])){
if((komu != ot.id)){
if((komu != 0)){
var komuUser=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[komu]);
if(!komuUser){
komuUser=GLOBAL.$app.noUser;

}
callMethod(this,komuList,_125[52],[komuUser]);

}

}

}else{
if(checkIn(komu,_125[128])){
var uid2=komu.id;
var u3=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[uid2]);
if(u3){
u3.popularLevel=komu.popularLevel;
u3.popular=komu.popular;

}

}
callMethod(this,komuList,_125[52],[komu]);

}


}
var msg=o.msg;
msg=callMethod(this,GLOBAL.AppUtils,_125[391],[msg]);
msg=callMethod(this,null,_125[160],[msg]);
var modDelID=0;
var isReportDel=!1;
if(checkIn(o,_125[232])){
if(o.modAction){
var modAct=o.modAction;
if((o.modAction.t == _125[93])){
if(checkIn(o.modAction,_125[343])){
modDelID=o.modAction.user;

}
var clr3=callMethod(this,GLOBAL.AppUtils,_125[86],[GLOBAL.UserMode.MODERATOR_M]);
var tx5=_125[392];
if((modDelID == GLOBAL.$app.systemUser.id)){
tx5=('' + GLOBAL.$app.systemUser.nick);
clr3=callMethod(this,GLOBAL.AppUtils,_125[86],[GLOBAL.UserMode.SYSTEM]);

}
msg=(((((('<span style="color:#ffcc00;">смс удалено</span> <span style="cursor:pointer;color:' + clr3) + ';" onclick="cbArgs(\'openPopUpUserInfo\',') + modDelID) + _125[180]) + tx5) + _125[184]);
if(checkIn(modAct,_125[393])){
if(modAct.desc){
if((modAct.desc.size > 0)){
msg=(((msg + '<span> </span><span style="color:#ffcc00;">(') + modAct.desc) + _125[302]);

}

}

}

}else if((o.modAction.t == _125[394])){
isReportDel=!0;
msg='<span style="color:#ffcc00;">смс удалено по жалобе</span>';

}


}

}
if(checkIn(o,_125[228])){
msg=callMethod(this,GLOBAL.$app.smilesMaster,_125[258],[msg]);
msg=callMethod(this,this,_125[254],[msg]);

}
callMethod(this,this,_125[236],[spr,o]);
var chainBM=callMethod(this,GLOBAL.$app.moviesReader,_125[16],[_125[395]]);
var timeStr=callMethod(this,GLOBAL.AppUtils,_125[229],[ts]);
var nickStr=callMethod(this,null,_125[191],[ot]);
var sz1=komuList.size;
if((sz1 > 0)){
nickStr+=' <span style="color:#ffcc00;">для</span> ';
var i=0;
while((i < sz1)){
var uu=komuList[i];
var komuStr=callMethod(this,null,_125[191],[uu]);
nickStr+=('' + komuStr);
if((i != (sz1 - 1))){
nickStr+=((((((_125[396] + chainBM.src) + ');display:inline-block;position:relative;top:4px;width:') + chainBM.width) + _125[397]) + chainBM.height) + _125[398]);

}
i++;
}

}
var msgid=((('' + this.activeRoom.id) + _125[222]) + o.id);
var txtColor=_125[399];
if(checkIn(o,_125[389])){
txtColor=o.textColor;

}
spr.html+=(((((('' + nickStr) + _125[400]) + txtColor) + _125[185]) + msg) + _125[184]);
if(checkIn(o,_125[228])){
var flags=callMethod(this,this.activeRoom,_125[227]);
var isReports=!1;
if(((GLOBAL.app.chat.ChatRoomFlags.MSG_REPORT_ACCESS & flags) > 0)){
if((modDelID == 0)){
if(!isReportDel){

}

}

}
var otid=ot;
var checkReports=callMethod(this,GLOBAL.$app.flagsSettings,_125[122],[2,1]);
if(checkReports){
isReports=!1;

}
var isMod=callMethod(this,GLOBAL.UserMode,_125[168],[GLOBAL.$app.user.mode]);
if(isMod){
if((modDelID != 0)){
var url4=callMethod(this,GLOBAL.$app.moviesReader,_125[177],[_125[401]]);
spr.html+=(((('<span style="position:relative;left:2px;top:4px;cursor:pointer;" class="noSelect" onclick="cbArgs(\'chatMsgEyeAct\',\'' + msgid) + _125[233]) + url4) + '" width="24" height="15"></span>  ');

}

}
if(isReports){
spr.html+=((((' <span style="position:relative;top:7px;cursor:pointer;" title="пожаловаться" class="noSelect" onclick="cbArgs(\'reportChatMsg\',\'' + msgid) + _125[233]) + GLOBAL.Config.warnIconBM.src) + '" width="30" height="30"></span>');

}

}
if(isReports){
if((o.reportsCount > 0)){
var tf=ctorObject(lang.text.TextField);
tf.fontName=_125[87];
tf.bold=!0;
callMethod(this,spr,_125[3],[tf]);
tf.selectable=!1;
tf.position=_125[237];
tf.color=16763904;
tf.text=((_125[402] + o.reportsCount) + _125[403]);

}

}
if(checkIn(o,_125[404])){
var tf=ctorObject(lang.text.TextField);
tf.selectable=!1;
tf.fontName=_125[87];
tf.bold=!0;
callMethod(this,spr,_125[3],[tf]);
tf.position=_125[237];
tf.color=16763904;
var ss=_125[405];
if(o.errorSendTxt){
if((o.errorSendTxt.size > 0)){
ss+=((_125[406] + o.errorSendTxt) + _125[403]);

}

}
tf.text=(_125[154] + ss);

}

}

}


};
_app_chat_Chat[_125[194]]=function(u,html5,firstClick){
var th=this;
var uMaster=GLOBAL.$app.userMaster;
if(u){
if(checkIs(u,GLOBAL.User)){

}else{
var uu=ctorObject(_125[407]);
callMethod(this,uu,_125[66],[u]);
u=uu;

}
var menuList=[[_125[408],function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_125[409],[_125[410]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_125[411],[u.id]);

}

}]];
var r5=GLOBAL.$app.connect.isConnect;
if(r5){
callMethod(this,menuList,_125[52],[[_125[412],function(){
var r3=GLOBAL.$app.connect.isConnect;
if(r3){
callMethod(this,GLOBAL.$app.scenesMaster,_125[15]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_125[413],[u.id]);

}

}]]);

}
if((u.id == GLOBAL.$app.user.id)){
callMethod(this,menuList,_125[52],[[_125[414],function(){
callMethod(this,GLOBAL.$app.popup,_125[415]);

}]]);
callMethod(this,menuList,_125[52],[[_125[416],function(){
callMethod(this,GLOBAL.$app.popupHtml,_125[417]);

}]]);
if((GLOBAL.$app.user.nickColorFlag > 0)){
callMethod(this,menuList,_125[52],[[_125[418],function(){
callMethod(this,GLOBAL.$app.popup,_125[419]);

}]]);

}
callMethod(this,menuList,_125[52],[[_125[420],function(){
callMethod(this,GLOBAL.$app.popup,_125[421],['']);

}]]);
callMethod(this,menuList,_125[52],[[_125[422],function(){
callMethod(this,GLOBAL.$app.popup,_125[423]);

}]]);
if(GLOBAL.$app.connect.isConnect){

}

}
if((u.id != GLOBAL.$app.user.id)){
callMethod(this,menuList,_125[52],[[_125[424],function(){
callMethod(this,GLOBAL.$app.popup,_125[425],[u.id,null]);

}]]);

}
var isAdminMod=callMethod(this,GLOBAL.UserMode,_125[168],[GLOBAL.$app.user.mode]);
var flags=0;
if(isAdminMod){
var banList=[];
var i=0;
while((i < uMaster.banList.size)){
var ell=uMaster.banList[i];
if((ell.access > 0)){
if(((ell.access & GLOBAL.$app.user.mode) > 0)){
callMethod(this,banList,_125[52],[ell]);

}

}else{
callMethod(this,banList,_125[52],[ell]);

}
i++;
}
callMethod(this,menuList,_125[52],[[_125[426],function(){
callMethod(this,GLOBAL.$app.popup,_125[427],[_125[428],function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(v){
if((v == GLOBAL.ErrorType.OK)){

}else if((v == GLOBAL.ErrorType.EXISTS)){
callMethod(this,GLOBAL.$app.popupHtml,_125[134],['<br /><br />НЛО уже в гостях, подождите пока НЛО улетит<br />или отправьте его другому игроку']);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_125[134],['<br /><br />Невозможно выполнить действие']);

}


},_125[429],u.id]);

}]);

}]]);
callMethod(this,menuList,_125[52],[[_125[430],function(){
var menuList=[];
var i=0;
while((i < banList.size)){
var ob2=banList[i];
callMethod(this,menuList,_125[52],[[ob2.name,function(ob){
if(checkIn(ob,_125[431])){
callMethod(this,ob,_125[431]);

}else{
callMethod(this,GLOBAL.$app.connect,_125[45],[function(res){
if((res == GLOBAL.ErrorType.OK)){

}else{
callMethod(this,GLOBAL.$app.popupHtml,_125[134],['<br /><br />Невозможно выполнить действие']);

}

},_125[432],ob.id,u.id]);

}

},ob2]]);
i++;
}
callMethod(this,th,_125[433],[menuList,_125[430],u.id,!0]);

}]]);

}
if((GLOBAL.$app.user.id != u.id)){
callMethod(this,menuList,_125[52],[[_125[434],function(){
callMethod(this,th,_125[91],[_125[358],u]);

}]]);
callMethod(this,menuList,_125[52],[[_125[435],function(){
callMethod(this,th,_125[115],[u]);
var room=callMethod(this,th,_125[113],[u.id]);
if(room){
callMethod(this,th,_125[75],[room]);

}

}]]);
var isFriend=callMethod(this,GLOBAL.$app.user,_125[436],[u.id]);
if(!isFriend){
callMethod(this,menuList,_125[52],[[_125[437],function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[438]]);
callMethod(this,GLOBAL.$app.user,_125[439],[function(){

}]);

}

},_125[440],_125[196],u.id]);

}]]);

}

}
callMethod(this,menuList,_125[52],[[_125[441],function(){
var isShow=callMethod(this,GLOBAL.$app.chat,_125[72]);
if(isShow){
callMethod(this,GLOBAL.$app.chat,_125[19]);

}
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_125[442],[u.id]);

}]]);
if((GLOBAL.$app.user.id == u.id)){

}
if(isAdminMod){
callMethod(this,menuList,_125[52],[[_125[443],function(){
var menuList2=[];
var isModM=callMethod(this,GLOBAL.UserMode,_125[444],[GLOBAL.$app.user.mode]);
if(isModM){

}else{
callMethod(this,menuList2,_125[52],[[_125[445],function(){
callMethod(this,GLOBAL.$app.popup,_125[427],[((_125[446] + u.id) + _125[447]),function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[448]]);

}else{
callMethod(this,GLOBAL.$app.popup,_125[134],['\n\nНевозможно выполнить действие']);

}

},_125[449],u.id]);

}]);

}]]);

}
callMethod(this,menuList2,_125[52],[[_125[450],function(){
callMethod(this,GLOBAL.$app.popup,_125[427],[_125[451],function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[448]]);

}else if((v == 2)){
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[452]]);

}else{
callMethod(this,GLOBAL.$app.popup,_125[134],['\n\nНевозможно выполнить действие']);

}


},_125[453],u.id]);

}]);

}]]);
callMethod(this,menuList2,_125[52],[[_125[454],function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(arr){
if((arr.size > 0)){
callMethod(this,GLOBAL.$app.popup,_125[455],[u.id,arr]);

}else{
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[456]]);

}

},_125[457],_125[458],u.id]);

}]]);
callMethod(this,th,_125[433],[menuList2,_125[443],u.id,!0]);

}]]);

}
if((GLOBAL.$app.user.id == u.id)){


}
if(this.curMenuUserSpr){
if(this.curMenuUserSpr.parent){
callMethod(this,this.curMenuUserSpr.parent,_125[73],[this.curMenuUserSpr]);

}

}
var q=ctorObject(_125[459],[menuList]);
var pos=callMethod(this,System,_125[460]);
callMethod(this,this,_125[461],[pos,q]);
this.curMenuUserSpr=q;
callMethod(this,q,_125[462],[u.nick,u.id]);
q.firstClick=firstClick;

callMethod(this,this,_125[463],[q,q.firstClick]);

}

};
_app_chat_Chat[_125[463]]=function(q,firstClick,noSound){
var html5=!1;
q.scaleX=GLOBAL.$app.domScaleV;
q.scaleY=GLOBAL.$app.domScaleV;
q.firstClick=firstClick;

if(noSound){

}else{
callMethod(this,GLOBAL.$app,_125[123],[_125[198]]);

}
if(!html5){
callMethod(this,GLOBAL.$app,_125[3],[q]);

}else{
callMethod(this,GLOBAL.$app.cnv,_125[3],[q]);

}

};
_app_chat_Chat[_125[461]]=function(poss,q){
var pos=callMethod(this,GLOBAL.AppUtils,_125[464],[GLOBAL.$app.stage,poss.x,poss.y]);
q.x=((pos.x * GLOBAL.$app.domScaleV) - ((q.w * GLOBAL.$app.domScaleV) / 2));
q.y=((pos.y * GLOBAL.$app.domScaleV) - ((q.h * GLOBAL.$app.domScaleV) / 2));
if((q.x <= 0)){
q.x=5;

}
if((q.y <= 0)){
q.y=5;

}
if(((q.x + q.w) >= (GLOBAL.$app.stageScaleWidth * GLOBAL.$app.domScaleV))){
q.x=((GLOBAL.$app.stageScaleWidth * GLOBAL.$app.domScaleV) - (q.w * GLOBAL.$app.domScaleV));

}
if(((q.y + q.h) >= (GLOBAL.$app.stageScaleHeight * GLOBAL.$app.domScaleV))){
q.y=((GLOBAL.$app.stageScaleHeight * GLOBAL.$app.domScaleV) - (q.h * GLOBAL.$app.domScaleV));

}

};
_app_chat_Chat[_125[472]]=function(u){
var th=this;
if(u){
var menuList=[];
var dialogID=u.room.id;
var nm2=u.room.name;
var idd=u.id;
callMethod(this,menuList,_125[52],[[_125[465],function(){
if((u.room.type == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
callMethod(this,th,_125[75],[u.room.chatRoom]);

}else{
th.dialogsMaster.activeRoom=u;
th.activeRoom=u.room.chatRoom;
callMethod(this,th,_125[98],[th.activeRoom]);
callMethod(this,u,_125[466]);

}

}]]);
var isOwner=callMethod(this,u.room,_125[467],[GLOBAL.$app.user.id]);
if(isOwner){
callMethod(this,menuList,_125[52],[[_125[468],function(){
var menuList2=[];
callMethod(this,menuList2,_125[52],[[_125[408],function(){

}]]);
callMethod(this,menuList2,_125[52],[[_125[469],function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(res){
if((res == GLOBAL.ErrorType.OK)){

}else{

}

},_125[470],u.id]);

}]]);
callMethod(this,th,_125[433],[menuList2,nm2,idd,!0]);

}]]);

}else{
callMethod(this,menuList,_125[52],[[_125[408],function(){

}]]);

}
if((u.room.type == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
nm2=u.uu.nick;
idd=u.uu.id;
callMethod(this,menuList,_125[52],[[_125[469],function(){
callMethod(this,u.room.chatRoom,_125[107]);
callMethod(this,th,_125[63],[u.room.chatRoom]);
callMethod(this,GLOBAL.$app.popupHtml,_125[134],['<br /><br />История сообщений очищена']);

}]]);
callMethod(this,menuList,_125[52],[[_125[471],function(){
var res=callMethod(this,th,_125[94],[u.room.chatRoom]);
if(res){
th.activeRoom=null;
callMethod(this,th,_125[75],[th.dialogRoomSpr.room]);

}

}]]);

}
if(this.curMenuUserSpr){
if(this.curMenuUserSpr.parent){
callMethod(this,this.curMenuUserSpr.parent,_125[73],[this.curMenuUserSpr]);

}

}
var firstClick=!1;
var q=ctorObject(_125[459],[menuList]);
callMethod(this,q,_125[462],[nm2,idd]);
callMethod(this,q,_125[103]);
var pos=callMethod(this,System,_125[460]);
callMethod(this,this,_125[461],[pos,q]);
this.curMenuUserSpr=q;
firstClick=!0;

callMethod(this,this,_125[463],[q,firstClick]);

}

};
_app_chat_Chat[_125[483]]=function(roomid,msgid){
var th=this;
callMethod(this,GLOBAL.$app.connect,_125[45],[function(o){
if(o){
if(o && checkIn(o,_125[473])){
var ss=(_125[474] + o.msg);
if(o.users && (o.users.size > 0)){
callMethod(this,o.users,_125[475],[function(a,b){
return (b.n - a.n);

}]);
ss+=((_125[476] + o.users.size) + _125[477]);
var i=0;
while((i < o.users.size)){
var el=o.users[i];
if(el){
ss+=((((((_125[478] + el.id) + _125[406]) + el.nick) + _125[479]) + el.n) + _125[480]);

}
i++;
}

}
callMethod(this,GLOBAL.$app.popup,_125[481],[ss,{wordBreak:1}]);

}

}

},_125[482],roomid,msgid]);

};
_app_chat_Chat[_125[490]]=function(roomid,msgid,userid){
var th=this;
var menuList=[];
var isMod=callMethod(this,GLOBAL.UserMode,_125[168],[GLOBAL.$app.user.mode]);
if(isMod){
callMethod(this,menuList,_125[52],[[_125[484],function(){
callMethod(this,GLOBAL.$app.popup,_125[427],['Удалить все сообщения этого игрока?',function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(arr){
if(arr){
var ids=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
if((el.type == 1)){
callMethod(this,ids,_125[52],[el.id]);

}
i++;
}
if((ids.size > 0)){
var i=0;
while((i < ids.size)){
var msgidd=ids[i];
callMethod(this,GLOBAL.$app.connect,_125[45],[_125[130],roomid,msgidd]);
i++;
}

}

}

},_125[485],roomid,userid]);

}]);

}]]);

}
var isAdmin=callMethod(this,GLOBAL.UserMode,_125[50],[GLOBAL.$app.user.mode]);
if(isAdmin){
callMethod(this,menuList,_125[52],[[_125[486],function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[_125[487],roomid,msgid]);

}]]);
callMethod(this,menuList,_125[52],[[_125[488],function(){
callMethod(this,GLOBAL.$app.popup,_125[427],['Удалить навсегда сообщения этого игрока?',function(){
callMethod(this,GLOBAL.$app.connect,_125[45],[function(arr){
if(arr){
var ids=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
if((el.type == 1)){
callMethod(this,ids,_125[52],[el.id]);

}
i++;
}
if((ids.size > 0)){
var i=0;
while((i < ids.size)){
var msgidd=ids[i];
callMethod(this,GLOBAL.$app.connect,_125[45],[_125[487],roomid,msgidd]);
i++;
}

}

}

},_125[485],roomid,userid]);

}]);

}]]);

}
if((menuList.size > 0)){
callMethod(this,th,_125[433],[menuList,_125[489],0,!1]);

}

};
_app_chat_Chat[_125[254]]=function(msg,isWebb){
var th=this;
var isV=!1;
if(msg){
if((msg.size > 0)){
isV=!0;

}

}
var noWeb=!1;
var pt=System.platform.type;
if(GLOBAL.$app.isStandalone){
noWeb=!0;

}
if(isWebb){
noWeb=!1;

}
if(isV){
var items=[];
var screensType=GLOBAL.Config.screensTypeArr;
if(noWeb){
msg=callMethod(this,GLOBAL.$app.smilesMaster,_125[491],[msg]);

}
var i=0;
while((i < screensType.size)){
var o=screensType[i];
var nm=o.name;
var posT=o.tPos;
var posV=o.vPos;
var urlV=o.urlStart;
var idService=null;
if(checkIn(o,_125[128])){
idService=o.id;

}
var a=callMethod(this,o.reg,_125[492],[msg]);
if(a){
var k=0;
while((k < a.size)){
var el=a[k];
if((el.size > 3)){
var a3=el[0];
var t=el[posT];
var v=el[posV];
var vUrl=((urlV + '') + v);
var isServiceQ=!1;
if((pt != _125[29])){
if(idService){
isServiceQ=!0;
if((idService != _125[493])){
v=((v + _125[222]) + idService);

}

}

}
if(isServiceQ){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[495],args:[v],repl:a3,title:nm,urlValue:vUrl}]);

}else{
callMethod(this,items,_125[52],[{type:_125[382],repl:a3,title:nm,v:vUrl}]);

}

}
k++;
}

}
i++;
}
var a=callMethod(this,GLOBAL.Config.kolobangaLink1Reg,_125[492],[msg]);
if(a){
var k=0;
while((k < a.size)){
var el=a[k];
if((el.size > 0)){
var a3=el[0];
callMethod(this,items,_125[52],[{type:_125[382],repl:a3,title:_125[496],v:a3}]);

}
k++;
}

}
var ob4={};
var a=callMethod(this,GLOBAL.Config.belkiURLReg,_125[492],[msg]);
if(a){
var k=0;
while((k < a.size)){
var el=a[k];
if((el.size > 0)){
var a3=el[0];
var nm=_125[497];
if(!checkIn(ob4,nm)){
ob4[nm]=1;
callMethod(this,items,_125[52],[{type:_125[382],repl:a3,title:_125[498],v:'https://ag6.ru/games/play/53210',one:!0}]);

}

}
k++;
}

}
var a=callMethod(this,GLOBAL.Config.chatRegexLinkYoutubeVideo,_125[492],[msg]);
if(a){
var ob3={};
var i=0;
while((i < a.size)){
var el=a[i];
if((el.size > 1)){
var a3=el[0];
var videoid=el[1];
callMethod(this,items,_125[52],[{type:_125[376],id:videoid,repl:a3,title:''}]);

}
i++;
}

}
var a=callMethod(this,GLOBAL.Config.chatRegexLinkYoutubeVideoBE,_125[492],[msg]);
if(a){
var ob3={};
var i=0;
while((i < a.size)){
var el=a[i];
if((el.size > 1)){
var a3=el[0];
var videoid=el[1];
callMethod(this,items,_125[52],[{type:_125[376],id:videoid,repl:a3,title:''}]);

}
i++;
}

}
var a=callMethod(this,GLOBAL.Config.chatRegexVideoVK,_125[492],[msg]);
if(a){
var ob3={};
var i=0;
while((i < a.size)){
var el=a[i];
if((el.size > 1)){
var a3=el[0];
var videoid=el[1];
callMethod(this,items,_125[52],[{type:_125[379],id:videoid,repl:a3,title:''}]);

}
i++;
}

}
var a=callMethod(this,GLOBAL.Config.chatRegexViewMaps,_125[492],[msg]);
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
if((el.size > 1)){
var a3=el[0];
var mapid=el[1];
mapid=castInt(mapid);
if((mapid > 0)){
if((mapid < 100000)){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[499],args:[mapid],repl:a3,title:(_125[287] + mapid)}]);

}

}

}
i++;
}

}
var a=callMethod(this,GLOBAL.Config.chatRegexItemUrlIT,_125[492],[msg]);
if(a){
var ob3={};
var i=0;
while((i < a.size)){
var el=a[i];
if((el.size > 1)){
var a3=el[0];
var t=el[2];
if((t.size > 3)){
var s1=callMethod(this,t,_125[80],[0,3]);
if((s1 == _125[500])){
var mapid=callMethod(this,t,_125[80],[3]);
mapid=castInt(mapid);
if((mapid > 0)){
if((mapid < 100000)){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[499],args:[mapid],repl:a3,title:(_125[287] + mapid)}]);

}

}

}
if((t.size > 6)){
var s1=callMethod(this,t,_125[80],[0,6]);
if((s1 == _125[501])){
var id2=callMethod(this,t,_125[80],[6]);
id2=castInt(id2);
if((id2 > 0)){
var idd3=GLOBAL.Config.vkAppGroupID;
var url7=(((((_125[502] + idd3) + _125[503]) + idd3) + _125[222]) + id2);
callMethod(this,items,_125[52],[{type:_125[382],repl:a3,title:_125[504],v:(_125[505] + url7)}]);

}

}else if((s1 == _125[506])){
var idScreen=callMethod(this,t,_125[80],[6]);
if(idScreen && (idScreen.length <= 20)){
var vUrl2=(_125[507] + idScreen);
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[495],args:[idScreen],repl:a3,title:_125[508],urlValue:vUrl2}]);

}

}


}
if((t == _125[509])){
var url2=(_125[510] + GLOBAL.Config.vkAppGroupID);
callMethod(this,items,_125[52],[{type:_125[382],repl:a3,title:_125[511],v:url2}]);

}else if((t == _125[512])){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[513],args:[],repl:a3,title:_125[514]}]);

}else if((t == _125[515])){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[516],args:[],repl:a3,title:_125[517]}]);

}else if((t == _125[518])){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[519],args:[],repl:a3,title:_125[520]}]);

}else if((t == _125[521])){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[522],args:[],repl:a3,title:_125[523]}]);

}else if((t == _125[524])){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[525],args:[],repl:a3,title:_125[526]}]);

}





if((t.size > 4)){
var s1=callMethod(this,t,_125[80],[0,4]);
if((s1 == _125[343])){
var userid=callMethod(this,t,_125[80],[4]);
userid=castInt(userid);
if((userid > 0)){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[527],args:[userid],repl:a3,title:(_125[528] + userid)}]);

}

}
var s2=callMethod(this,t,_125[80],[0,5]);
if((s2 == _125[529])){
var url7=callMethod(this,t,_125[80],[5]);
if((url7.size > 0)){
var chh=callMethod(this,url7,_125[213],[0]);
if((chh == _125[346])){
url7=callMethod(this,url7,_125[80],[1]);

}

}
callMethod(this,items,_125[52],[{type:_125[382],repl:a3,title:_125[530],v:(_125[531] + url7)}]);

}else if((s2 == _125[532])){
var pid=callMethod(this,t,_125[80],[5]);
pid=castInt(pid);
if((pid > 0)){
callMethod(this,items,_125[52],[{type:_125[494],actName:_125[533],args:[pid],repl:a3,title:_125[534]}]);

}

}


}

}

}
i++;
}
var msg2=msg;
var sz1=items.size;
var ob3={};
if((sz1 > 0)){
var i=0;
while((i < sz1)){
var el=items[i];
var tt=el.type;
var replValue=null;
if((tt == _125[382])){
if(noWeb){
replValue=((((_125[535] + el.title) + _125[536]) + el.v) + _125[537]);

}else{
replValue=((((_125[538] + el.v) + '" class="chatLink" style="text-decoration:none;" target="_blank">') + el.title) + _125[539]);

}

}else if((tt == _125[494])){
var funcName=el.actName;
var argsA=el.args;
var argsStr=((_125[540] + funcName) + _125[540]);
if(noWeb){
argsStr=('' + funcName);

}
var sz2=argsA.size;
if((sz2 > 0)){
argsStr+=_125[386];
var k=0;
while((k < sz2)){
var el1=argsA[k];
if(noWeb){
argsStr+=el1;

}else{
if(checkIs(el1,_125[541])){
argsStr=(((argsStr + _125[540]) + el1) + _125[540]);

}else{
argsStr+=el1;

}

}
if((k != (sz2 - 1))){
argsStr+=_125[386];

}
k++;
}

}
if(noWeb){
replValue=((((_125[542] + el.title) + _125[543]) + argsStr) + _125[544]);
if(checkIn(el,_125[545])){
replValue=(((replValue + _125[546]) + el.urlValue) + _125[544]);

}
replValue+=_125[547];

}else{
replValue=(((('<span class="chatLink" style="cursor:pointer;" onclick="cbArgs(' + argsStr) + _125[180]) + el.title) + _125[548]);

}

}else if((tt == _125[376])){
if(noWeb){
replValue=((_125[549] + el.id) + _125[537]);

}else{
replValue=(('<span class="chatLink" style="text-decoration:none;cursor:pointer;" target="_blank" onclick="cbArgs(\'chatOpenVideo1\',\'' + el.id) + '\')">видео youtube</span><span> </span>');

}

}else if((tt == _125[379])){
if(noWeb){
replValue=((_125[550] + el.id) + _125[537]);

}else{
replValue=((_125[551] + el.id) + '" class="chatLink" style="text-decoration:none;" target="_blank">видео вк</a>');

}

}



if(replValue){
var replNm=el.repl;
if(checkIn(ob3,replNm)){

}else{
ob3[replNm]=1;
var isOneV=!1;
if(checkIn(el,_125[552])){
if(el.one){
isOneV=!0;

}

}
if(isOneV){
msg2=callMethod(this,msg2,_125[317],[el.repl,'']);
msg=callMethod(this,msg,_125[317],[el.repl,replValue]);

}else{
msg2=callMethod(this,msg2,_125[151],[el.repl,'']);
msg=callMethod(this,msg,_125[151],[el.repl,replValue]);

}

}

}
i++;
}

}

}

}
if(noWeb){
var ob={};
ob.msg=msg;
ob.msg2=msg2;
return ob;

}
return msg;

};
_app_chat_Chat[_125[564]]=function(roomid,msgid){
var th=this;
var menuList=[];
callMethod(this,menuList,_125[52],[[_125[553],function(){
callMethod(this,GLOBAL.$app.popup,_125[481],[(('<br />Вы можете пожаловаться на каждое сообщение в чате один раз<br />вам нужно выбрать причину.<br />Когда набирается жалоб (' + GLOBAL.Config.chatMsgReportsMax) + ') с той же причиной, сообщение автоматически удаляется из чата без участия модераторов.<br /><br />Вы можете смотреть кто пожаловался на сообщение выбрав Результаты<br /><br />Обратите внимание что за ложные жалобы доступ к этой возможности может быть закрыт.')]);

}]]);
callMethod(this,menuList,_125[52],[[_125[554],function(){
var reportsTxtObj=GLOBAL.Config.chatReportsInfoListObj;
callMethod(this,GLOBAL.$app.connect,_125[45],[function(aa){
var isRes=!1;
if(aa){
if((aa.size > 0)){
isRes=!0;

}

}
if(isRes){
if(aa){
var usersIds=[];
var i=0;
while((i < aa.size)){
var el=aa[i];
callMethod(this,usersIds,_125[52],[el.id]);
i++;
}
callMethod(this,GLOBAL.$app.cacheUsers,_125[68],[usersIds,function(){
var ss2='';
var i=0;
while((i < aa.size)){
var el=aa[i];
var idv=el.t;
var txt1=_125[294];
var nickTxt='';
if(checkIn(reportsTxtObj,idv)){
txt1=reportsTxtObj[idv];

}
var uu=callMethod(this,GLOBAL.$app.cacheUsers,_125[114],[el.id]);
if(uu){
nickTxt=uu.nick;

}
ss2+=((((((_125[555] + el.id) + _125[556]) + nickTxt) + _125[557]) + txt1) + _125[558]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_125[481],[(_125[559] + ss2)]);

}]);

}

}else{
callMethod(this,GLOBAL.$app.popup,_125[134],[_125[560]]);

}

},_125[561],roomid,msgid]);

}]]);
var arr=GLOBAL.Config.chatReportsInfoList;
var i=0;
while((i < arr.size)){
var el=arr[i];
var idd=el.id;
callMethod(this,menuList,_125[52],[[((_125[562] + el.name) + ''),function(ob){
callMethod(this,th,_125[138],[roomid,msgid,ob.id]);

},{id:idd}]]);
i++;
}
callMethod(this,th,_125[433],[menuList,_125[563],0,!1]);

};
_app_chat_Chat[_125[109]]=function(spr,isadd){
callMethod(this,this.chatCnt,_125[196],[spr]);

callMethod(this,this.chatCnt,_125[76]);

};
_app_chat_Chat[_125[362]]=function(o){
var spr=ctorObject(lang.display.Sprite);
spr.rq=1;
spr.position=_125[237];
o.spr=spr;

callMethod(this,this,_125[140],[o]);
callMethod(this,this,_125[109],[spr]);

};
_app_chat_Chat[_125[433]]=function(menuList,nm,lvl,firstClick,firstClick2,noSound){
if(this.curMenuUserSpr){
if(this.curMenuUserSpr.parent){
callMethod(this,this.curMenuUserSpr.parent,_125[73],[this.curMenuUserSpr]);

}

}
var q=ctorObject(_125[459],[menuList]);
callMethod(this,q,_125[462],[nm,lvl]);
callMethod(this,q,_125[103]);
var pos=callMethod(this,System,_125[460]);
callMethod(this,this,_125[461],[pos,q]);
this.curMenuUserSpr=q;
q.firstClick=firstClick;

callMethod(this,this,_125[463],[q,q.firstClick,noSound]);

};
_app_chat_Chat[_125[565]]=function(menuList,nm,lvl,firstClick){
if(this.curMenuUserSpr){
if(this.curMenuUserSpr.parent){
callMethod(this,this.curMenuUserSpr.parent,_125[73],[this.curMenuUserSpr]);

}

}
var q=ctorObject(_125[459],[menuList]);
callMethod(this,q,_125[462],[nm,lvl]);
callMethod(this,q,_125[103]);
var pos=callMethod(this,System,_125[460]);
callMethod(this,this,_125[461],[pos,q]);
this.curMenuUserSpr=q;
q.firstClick=firstClick;

callMethod(this,this,_125[463],[q,q.firstClick]);

};
_app_chat_Chat[_125[13]]=function(w,h){
var maxChatH=(h - 80);
var isChatRedraw=!1;
if((w != this.lastW)){
isChatRedraw=!0;

}else if((this.chatH != this.lastH)){
isChatRedraw=!0;

}else if((this.bgImg != this.lastChatBG)){
isChatRedraw=!0;

}


this.lastW=w;
this.lastChatBG=this.bgImg;
w=(w - this.margin);
this.x=(this.margin / 2);
var checkPanel1=callMethod(this,GLOBAL.$app.flagsSettings,_125[122],[2,2]);
if(checkPanel1){
this.onlineUsers.visible=!1;

}else{
this.onlineUsers.visible=!0;

}
if(this.onlineUsers.visible){
this.bg.x=(this.onlineUsers.w - 2);
this.m1.x=(this.onlineUsers.w - 2);
if(GLOBAL.$app.isStandalone){
this.m1.x+=4;

}
this.roomsSpr.x=177;

}else{
this.bg.x=0;
this.m1.x=0;
this.roomsSpr.x=10;

}
var ww=((w - this.m1.x) - this.rightPanelW);
if((this.chatH > maxChatH)){
this.chatH=(maxChatH - 3);

}
this.lastH=this.chatH;
this.y=(h - this.chatH);
this.closeBut.x=(w - 40);
this.closeBut.y=-20;
this.infoButtons.x=(w - 190);
var inpX=3;
var downButtonsX=145;
if(this.komuUserSpr){
var uw=this.komuUserSpr.allW;
this.komuUserSpr.x=-uw;
inpX+=uw;
downButtonsX+=uw;

}
this.chatTI.x=inpX;
callMethod(this,this.chatTI,_125[13],[((ww - this.chatTI.x) - 145),h]);
this.chatTI.y=((this.chatH - this.chatTI.h) - 2);
if(isChatRedraw){
callMethod(this,this.bg.painter,_125[15]);
callMethod(this,this.bg.painter,_125[566],[1,0]);
callMethod(this,this.bg.painter,_125[567],[0,0,ww,this.chatH,this.bgImg,15]);
callMethod(this,this.chatCnt,_125[13],[((ww - this.cnt.x) - 4),(((this.chatH - this.chatTI.h) - this.roomsH) - 8)]);

}
if(this.banSpr){
this.banSpr.x=(ww - 260);
this.banSpr.y=40;

}
if(this.smilesPanel){
this.smilesPanel.x=((ww - this.smilesPanel.w) - 20);
this.smilesPanel.y=((this.chatH - this.smilesPanel.h) - 55);

}
this.chatDownButtons.x=(ww - downButtonsX);
this.chatDownButtons.y=-9;
callMethod(this,this.onlineUsers,_125[13],[ww,this.chatH]);

};
vm.registerClass(_125[568],_125[569],_app_chat_Chat);
})(window);



(function(window){
var _155=["css","1px solid #000000","#CCCCCC","addChild","relative","#000000","text-align","center","4px","on","click","cb","rollover","#FF0000","rollout","remove","off","removeChild","resize","MenuSpr1","lang.display.Sprite"];
var _MenuSpr1={};
_MenuSpr1["ctor"]=function(arr){
var th=this;
this.w=0;
this.h=0;
this.spr=ctorObject(lang.display.Sprite);
this.spr.selectable=!1;
callMethod(this,this.spr,_155[0],[{border:_155[1],background:_155[2]}]);
callMethod(this,null,_155[3],[this.spr]);
this.ev=ctorObject(lang.events.EventsObjectMaster);
var allW=0;
var allH=0;
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var nm=el[0];
var cb=el[1];
var tf1=ctorObject(lang.text.TextField);
tf1.text=nm;
allH=((allH + tf1.height) + 4);
if((allW < (tf1.width + 4))){
allW=(tf1.width + 84);

}
var sp=ctorObject(lang.display.Sprite);
sp.mouseChildren=!1;
sp.buttonMode=!0;
sp.position=_155[4];
sp.html=('' + nm);
sp.cb=cb;
callMethod(this,sp,_155[0],[{color:_155[5],'text-align':_155[7],margin:_155[8]}]);
callMethod(this,sp,_155[9],[_155[10],function(e){
if(this.cb){
callMethod(this,this,_155[11]);

}

}]);
callMethod(this,sp,_155[9],[_155[12],function(e){
callMethod(this,this,_155[0],[{color:_155[13]}]);

}]);
callMethod(this,sp,_155[9],[_155[14],function(e){
callMethod(this,this,_155[0],[{color:_155[5]}]);

}]);
callMethod(this,th.spr,_155[3],[sp]);
i++;
}

}
if((allW > 0)){
this.w=allW;

}
this.h=allH;
this.cb2=function(e){
callMethod(this,th,_155[15]);

};
callMethod(this,stage,_155[9],[_155[10],this.cb2]);

};
_MenuSpr1[_155[15]]=function(){
callMethod(this,stage,_155[16],[_155[10],this.cb2]);
if(this.parent){
callMethod(this,this.parent,_155[17],[this]);

}

};
_MenuSpr1[_155[18]]=function(w,h){
this.spr.width=this.w;
this.spr.height=this.h;

};
vm.registerClass(_155[19],_155[20],_MenuSpr1);
})(window);

(function(window){
var _117=["dup","web","getNaturalSize","div","getNaturalSize2","setScale","min","getAspectRatioSize","getAspectRatio","BitmapUtils"];
var _BitmapUtils={};
_BitmapUtils["ctor"]=function(){

};
_BitmapUtils[_117[0]]=function(bm){
if(bm){
var c=ctorObject(lang.display.Bitmap);
c.scaleX=bm.scaleX;
c.scaleY=bm.scaleY;
c.src=bm.src;
return c;

}
return null;

};
_BitmapUtils[_117[2]]=function(bm){
var ob={width:0,height:0};
if(bm){
ob.width=bm.naturalWidth;
ob.height=bm.naturalHeight;
return ob;

var w=bm.width;
var h=bm.height;
ob.width=w;
ob.height=h;

}
return ob;

};
_BitmapUtils[_117[4]]=function(bm){
var ob={width:0,height:0};
if(bm){
var w=bm.width;
var h=bm.height;
if(checkIn(bm,_117[3])){
w=bm.div.naturalWidth;
h=bm.div.naturalHeight;

}
ob.width=w;
ob.height=h;

}
return ob;

};
_BitmapUtils[_117[5]]=function(sz,bm,w,h){
if(bm){
bm.scaleX=(w / sz.width);
bm.scaleY=(h / sz.height);

}

};
_BitmapUtils[_117[7]]=function(sz,maxWidth,maxHeight){
var ratio=callMethod(this,Math,_117[6],[(maxWidth / sz.width),(maxHeight / sz.height)]);
var o={width:0,height:0};
o.width=(sz.width * ratio);
o.height=(sz.height * ratio);
return o;

};
_BitmapUtils[_117[8]]=function(w,h,maxWidth,maxHeight){
var ratio=callMethod(this,Math,_117[6],[(maxWidth / w),(maxHeight / h)]);
var o={width:0,height:0};
o.width=(w * ratio);
o.height=(h * ratio);
if((ratio > 1)){
ratio=1;

}
o.ratio=ratio;
return o;

};
vm.registerClass(_117[9],'',_BitmapUtils);
})(window);

(function(window){
var _189=["randomInt","rgb(",",",")","randomRGBColor","rgbToHex","randomHexColor","toString","0","componentToHex","#","ColorUtils"];
var _ColorUtils={};
_ColorUtils["ctor"]=function(){

};
_ColorUtils[_189[4]]=function(){
var r=callMethod(this,Math,_189[0],[255]);
var g=callMethod(this,Math,_189[0],[255]);
var b=callMethod(this,Math,_189[0],[255]);
return ((((((_189[1] + r) + _189[2]) + g) + _189[2]) + b) + _189[3]);

};
_ColorUtils[_189[6]]=function(){
var r=callMethod(this,Math,_189[0],[255]);
var g=callMethod(this,Math,_189[0],[255]);
var b=callMethod(this,Math,_189[0],[255]);
var clr=callMethod(this,null,_189[5],[r,g,b]);
return clr;

};
_ColorUtils[_189[9]]=function(c){
var hex=callMethod(this,c,_189[7],[16]);
return (hex.length == 1) ? (_189[8] + hex) : hex;

};
_ColorUtils[_189[5]]=function(r,g,b){
return (((_189[10] + callMethod(this,null,_189[9],[r])) + callMethod(this,null,_189[9],[g])) + callMethod(this,null,_189[9],[b]));

};
vm.registerClass(_189[11],'',_ColorUtils);
})(window);

(function(window){
var _24=["MainUI","checkUpdateApp","removeChild","check","addChild","checkUpdate","web","CheckUTF16","callRecursiveMethod","cut","cutTextField"," ","declination","localToGlobal","getGlobalMousePos","readUTFBytes","decode","bytesToJSONObj","min","max","rectIntersect","isDirectory","listFiles","deleteFolder","/","isFile","delete"," собачку"," собачки"," собачек","GetDogsNumStr","push","createFramesImage","exec","user","getUserField1","replace","parseTextFunc1","setPointRegistration","replaceAll","&lt;","<","&gt;",">","replaceHTMLSymbols1","http","indexOf","://","split","https:","https",":","parseURL1","init","start","tweenIntValueUpdate","writeUTFBytes","</title></head><body>","</body></html>","createURL","text/html","createPageHTML","Array","animAlphaSprite","on","rollover","rollout","Date","setTime","getMonth","getDate","_","getInfoDayAndMonthByTS","getSeconds","getMinutes","getHours","0","[","]","createChatTimeInfo","setTarget","createSpritePainter","#FD92FE","#FFFFFF","#b7d2ec","#000000","isSuperAdmin","#ffdf52","isAdmin","isModeratorM","#54EFF7","isModeratorMapsM","#68ff5d","isModerator","isModeratorMaps","#fcdbaa","getNickColor","nickMode","A","floor","%",", ",");","-webkit-background-clip:text;","background-clip:text;",".","{","}","<style>","</style>","getGradientNickColor","getSocialTypeByLogin","getSocialIDByLogin","getSocialObjByLogin","vk","od","mm","fb","random","charAt","genRandomPass","imgSize","BitmapNaturalSize","BitmapResize","BitmapPosCenter","div","BitmapSetScale","randomInt","createWordsRandom","createWordStrArr","AppUtils"];
var _AppUtils={};
_AppUtils["ctor"]=function(){

};
_AppUtils[_24[5]]=function(){
var q=null;
var gl=GLOBAL;
if(checkIn(gl,_24[0])){
if(checkIn(MainUI,_24[1])){
q=callMethod(this,MainUI,_24[1],[GLOBAL.Config.packageName,function(v){
if(q.parent){
callMethod(this,q.parent,_24[2],[q]);

}

}]);

}

}
if(q){
callMethod(this,q,_24[3]);
callMethod(this,GLOBAL.$app.cnv,_24[4],[q]);

}

};
_AppUtils[_24[7]]=function(){
return !0;


};
_AppUtils[_24[8]]=function(nm,o,args){


};
_AppUtils[_24[10]]=function(tf,w){
if((w > 0)){
if(tf){
var vv=(tf.width > w);
while(vv){
var txt=tf.text;
if((txt.size > 0)){
if((tf.width > w)){
tf.text=callMethod(this,txt,_24[9],[0,(txt.size - 1)]);

}else{
vv=!1;

}

}else{
vv=!1;

}

}

}

}

};
_AppUtils[_24[12]]=function(n,titles){
var cases=[2,0,1,1,1,2];
var n2=2;
var n4=(n % 100);
if((n4 > 4) && (n4 < 20)){
n2=2;

}else{
n2=cases[5];
if(((n % 10) < 5)){
var n3=(n % 10);
n2=cases[n3];

}

}
var s1=titles[n2];
return ((n + _24[11]) + s1);

};
_AppUtils[_24[14]]=function(disp,x,y){
x=((x / disp.scaleX) / GLOBAL.$app.scaleFactor);
y=((y / disp.scaleY) / GLOBAL.$app.scaleFactor);
var ob={x:x,y:y};
if(disp){
var pos=callMethod(this,disp,_24[13],[ob]);
if(pos){
return pos;

}

}
return ob;

};
_AppUtils[_24[17]]=function(ba){
if(ba){
if((ba.size > 0)){
var s=callMethod(this,ba,_24[15],[ba.size]);
if(s){
var ob=callMethod(this,JSON,_24[16],[s]);
return ob;

}

}

}
return null;

};
_AppUtils[_24[20]]=function(r,posx,posy){
var minX=callMethod(this,Math,_24[18],[r.x,(r.x + r.width)]);
var maxX=callMethod(this,Math,_24[19],[r.x,(r.x + r.width)]);
var minY=callMethod(this,Math,_24[18],[r.y,(r.y + r.height)]);
var maxY=callMethod(this,Math,_24[19],[r.y,(r.y + r.height)]);
if((posx >= minX)){
if((posx < maxX)){
if((posy >= minY)){
if((posy < maxY)){
return !0;

}

}

}

}
return !1;

};
_AppUtils[_24[23]]=function(path,recursive){
if(path){
var fi=ctorObject(lang.io.File,[path]);
var isDir=callMethod(this,fi,_24[21]);
if(isDir){
var files=callMethod(this,fi,_24[22]);
if(files){
var i=0;
while((i < files.length)){
var el=files[i];
if(recursive){
callMethod(this,this,_24[23],[((path + _24[24]) + el.name)]);

}else{
var isFileV=callMethod(this,el,_24[25]);
if(isFileV){
callMethod(this,el,_24[26]);

}

}
i++;
}

}

}
callMethod(this,fi,_24[26]);

}

};
_AppUtils[_24[30]]=function(v){
var cnt=(v % 10);
if((cnt == 1)){
return (v + _24[27]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _24[28]);

}

}
return (v + _24[29]);

};
_AppUtils[_24[32]]=function(img,w,h,c){
var a=[];
if(img){
var cw=(img.naturalWidth / w);
var ch=(img.naturalHeight / h);
var xx=0;
var yy=0;
var i=0;
while((i < c)){
callMethod(this,a,_24[31],[[(xx * w),(yy * h),w,h]]);
++xx;i++;
}

}
return a;

};
_AppUtils[_24[37]]=function(s,obj){
var ss=s;
var r=/\{([\w]+)\.([\w_]+)\}/g;
if(s){
var arr=[];
while(arr){
arr=callMethod(this,r,_24[33],[s]);
if(arr){
var m=arr[0];
var t1=arr[1];
var tt=arr[2];
if((t1 == _24[34])){
if(GLOBAL.$app.user){
var vv=callMethod(this,GLOBAL.$app.user,_24[35],[tt]);
if(vv){
ss=callMethod(this,ss,_24[36],[m,vv]);

}

}else{
ss=callMethod(this,ss,_24[36],[m,'']);

}

}else{
if(obj){
if(checkIn(obj,t1)){
var oo=obj[t1];
if(checkIn(oo,tt)){
var vv=oo[tt];
ss=callMethod(this,ss,_24[36],[m,vv]);

}

}

}

}

}

}

}
return ss;

};
_AppUtils[_24[38]]=function(mov,x,y){
if(mov){
mov.point={x:x,y:y};
mov.x=(mov.x + x);
mov.y=(mov.y + y);

}

};
_AppUtils[_24[44]]=function(v){
v=callMethod(this,v,_24[39],[_24[40],_24[41]]);
v=callMethod(this,v,_24[39],[_24[42],_24[43]]);
return v;

};
_AppUtils[_24[52]]=function(url1){
var ob={domain:'',protocol:_24[45]};
var pos1=callMethod(this,url1,_24[46],[_24[47]]);
if((pos1 > -1)){
var spl=callMethod(this,url1,_24[48],[_24[24]]);
if((spl.size > 2)){
if((spl[0] == _24[49])){
ob.protocol=_24[50];

}
ob.domain=spl[2];
var pos3=callMethod(this,ob.domain,_24[46],[_24[51]]);
if((pos3 > -1)){
ob.domain=callMethod(this,ob.domain,_24[9],[0,pos3]);

}

}

}
return ob;

};
_AppUtils[_24[55]]=function(cb,time,v,lastV){
if(!lastV){
lastV=0;

}
if((lastV <= 0)){
lastV=0;

}
var ob={vv:lastV};
var tween=ctorObject(lib.Tween,[ob]);
callMethod(this,tween,_24[53],[{vv:v},time,function(){
var nn=castInt(ob.vv);
if(cb){
cb(nn);

}

},function(){

}]);
callMethod(this,tween,_24[54]);

};
_AppUtils[_24[61]]=function(title,s){
var ba=ctorObject(lang.utils.ByteArray);
callMethod(this,ba,_24[56],[(((('<html><head><style>body,html{margin:0;}</style><title>' + title) + _24[57]) + s) + _24[58])]);
var v=callMethod(this,URL,_24[59],[ba,_24[60]]);
return v;

};
_AppUtils[_24[63]]=function(spr,overAlpha,outAlpha){
if(spr){
if(checkIs(spr,_24[62])){
var i=0;
while((i < spr.size)){
callMethod(this,null,_24[63],[spr[i],overAlpha,outAlpha]);
i++;
}

}else{
callMethod(this,spr,_24[64],[_24[65],function(e){
this.alpha=overAlpha;

}]);
callMethod(this,spr,_24[64],[_24[66],function(e){
this.alpha=outAlpha;

}]);

}

}

};
_AppUtils[_24[72]]=function(ts){
var date=ctorObject(_24[67]);
callMethod(this,date,_24[68],[(ts * 1000)]);
var monthV=callMethod(this,date,_24[69]);
var dateV=callMethod(this,date,_24[70]);
var m2=(monthV + 1);
var strDate1=((('' + dateV) + _24[71]) + m2);
return {month:m2,date:dateV,s:strDate1};

};
_AppUtils[_24[79]]=function(ts){
var date=ctorObject(_24[67]);
callMethod(this,date,_24[68],[(ts * 1000)]);
var strsec='';
var strmin='';
var strhour='';
var sec=callMethod(this,date,_24[73]);
var min=callMethod(this,date,_24[74]);
var hours=callMethod(this,date,_24[75]);
if((sec < 10)){
strsec=(_24[76] + sec);

}else{
strsec=("" + sec);

}
if((min < 10)){
strmin=(_24[76] + min);

}else{
strmin=("" + min);

}
if((hours < 10)){
strhour=(_24[76] + hours);

}else{
strhour=("" + hours);

}
return ((((((_24[77] + strhour) + _24[51]) + strmin) + _24[51]) + strsec) + _24[78]);

};
_AppUtils[_24[81]]=function(){
var spr=ctorObject(lang.display.Sprite);
var p=ctorObject(lang.display.Painter);
spr.painter=p;
callMethod(this,p,_24[80],[spr]);
return spr;

};
_AppUtils[_24[96]]=function(mode,colorPos){
var sysColor=_24[82];
if(colorPos){
if((colorPos > -1)){
colorPos-=1;
if((colorPos > -1)){
if((colorPos < GLOBAL.Config.nickColorsList.size)){
var clrV=GLOBAL.Config.nickColorsList[colorPos];
return clrV;

}

}

}

}
if((mode == -3)){
return _24[83];

}
if((mode == -4)){
return _24[84];

}
if((mode == GLOBAL.UserMode.UNDEFINED)){
return _24[85];

}
if((mode == GLOBAL.UserMode.SYSTEM)){
return sysColor;

}
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_24[86],[mode]);
if(isSuperAdmin){
return _24[87];

}
var isAdmin=callMethod(this,GLOBAL.UserMode,_24[88],[mode]);
if(isAdmin){
return _24[87];

}
var isModM=callMethod(this,GLOBAL.UserMode,_24[89],[mode]);
if(isModM){
return _24[90];

}
var isModMapsM=callMethod(this,GLOBAL.UserMode,_24[91],[mode]);
if(isModMapsM){
return _24[92];

}
var isMod=callMethod(this,GLOBAL.UserMode,_24[93],[mode]);
if(isMod){
return sysColor;

}
var isModMaps=callMethod(this,GLOBAL.UserMode,_24[94],[mode]);
if(isModMaps){
return sysColor;

}
return _24[95];

};
_AppUtils[_24[110]]=function(mode,noweb){
var arr=[];
var sysColor=_24[82];
var sysPush=!1;
if((mode == GLOBAL.UserMode.SYSTEM)){
callMethod(this,arr,_24[31],[sysColor]);

}else{
var isSuperAdmin=callMethod(this,GLOBAL.UserMode,_24[86],[mode]);
if(isSuperAdmin){
callMethod(this,arr,_24[31],[_24[87]]);

}
var isMod=callMethod(this,GLOBAL.UserMode,_24[93],[mode]);
var isModM=callMethod(this,GLOBAL.UserMode,_24[89],[mode]);
if(isMod){
if(!sysPush && !isModM){
callMethod(this,arr,_24[31],[sysColor]);
sysPush=!0;

}
callMethod(this,arr,_24[31],[_24[90]]);

}else{
if(isModM){
callMethod(this,arr,_24[31],[_24[90]]);

}

}
var isModMaps=callMethod(this,GLOBAL.UserMode,_24[94],[mode]);
var isModMapsM=callMethod(this,GLOBAL.UserMode,_24[91],[mode]);
if(isModMaps){
if(!sysPush && !isModMapsM){
callMethod(this,arr,_24[31],[sysColor]);
sysPush=!0;

}
callMethod(this,arr,_24[31],[_24[92]]);

}else{
if(isModMapsM){
callMethod(this,arr,_24[31],[_24[92]]);

}

}

}
var uMode=mode;
var isWeb=!1;
isWeb=!0;

if(noweb){
isWeb=!1;

}
if((arr.size > 1)){
var ob=GLOBAL.Config.nickGradientsObj;
var nm=(_24[97] + mode);
if(noweb){
nm+=_24[98];

}
if(checkIn(ob,nm)){
var vv=ob[nm];
if(isWeb){
return nm;

}
return vv;

}
var sz3=arr.size;
if(isWeb){
var str2='';
var i=0;
while((i < sz3)){
var qq=arr[i];
var perc=callMethod(this,Math,_24[99],[(((i + 1) / (sz3 + 1)) * 100)]);
str2=((((str2 + qq) + _24[11]) + perc) + _24[100]);
if((i != (sz3 - 1))){
str2+=_24[101];

}
i++;
}
var strGrad='';
strGrad+=(('background:-webkit-linear-gradient(to right, ' + str2) + _24[102]);
strGrad+=(('background:-moz-linear-gradient(to right, ' + str2) + _24[102]);
strGrad+=(('background:-o-linear-gradient(to right, ' + str2) + _24[102]);
strGrad+=(('background:linear-gradient(to right, ' + str2) + _24[102]);
strGrad+=_24[103];
strGrad+=_24[104];
strGrad+='-webkit-text-fill-color:transparent;';
ob[nm]=strGrad;
var str3=((((_24[105] + nm) + _24[106]) + strGrad) + _24[107]);
var st1=ctorObject(lang.display.Sprite);
st1.html=(((_24[108] + str3) + '@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.noIE{background:none;}}') + _24[109]);
callMethod(this,GLOBAL.$app.styleSpr,_24[4],[st1]);
return nm;

}else{
var res={colors:[],ratios:[]};
var i=0;
while((i < sz3)){
var qq=arr[i];
var kk=((i + 1) / (sz3 + 1));
callMethod(this,res.colors,_24[31],[qq]);
callMethod(this,res.ratios,_24[31],[kk]);
i++;
}
ob[nm]=res;
return res;

}

}
return null;

};
_AppUtils[_24[113]]=function(login){
if(login){
var t=callMethod(this,null,_24[111],[login]);
if(t){
var uid=callMethod(this,null,_24[112],[login]);
return {id:uid,type:t};

}

}
return null;

};
_AppUtils[_24[111]]=function(login){
if(login){
if((login.size > 2)){
var t=callMethod(this,login,_24[9],[0,2]);
if((t == _24[114])){
return _24[114];

}
if((t == _24[115])){
return _24[115];

}
if((t == _24[116])){
return _24[116];

}
if((t == _24[117])){
return _24[117];

}

}

}
return null;

};
_AppUtils[_24[112]]=function(login){
if(login){
if((login.size > 2)){
var t=callMethod(this,login,_24[9],[0,2]);
var res=!1;
var i=0;
while((i < GLOBAL.Config.socialsList.size)){
var el=GLOBAL.Config.socialsList[i];
if((t == el)){
res=!0;

}
i++;
}
if(res){
var id=callMethod(this,login,_24[9],[2]);
return id;

}

}

}
return '';

};
_AppUtils[_24[120]]=function(n){
var s='';
var q='abcdefghijklmnopqrstuvwxyz1234567890';
if((n > 0)){
var i=0;
while((i < n)){
var rnd=callMethod(this,Math,_24[118]);
var pos=callMethod(this,Math,_24[99],[(rnd * q.size)]);
var el=callMethod(this,q,_24[119],[pos]);
s+=el;
i++;
}

}
return s;

};
_AppUtils[_24[123]]=function(bm,w,h){
if(bm){
if(checkIn(bm,_24[121]) && bm.imgSize){
bm.scaleX=(w / bm.imgSize.width);
bm.scaleY=(h / bm.imgSize.height);

}else{
var sz=callMethod(this,this,_24[122],[bm]);
bm.scaleX=(w / sz.width);
bm.scaleY=(h / sz.height);

}

}

};
_AppUtils[_24[124]]=function(bm){
if(bm){
if(checkIn(bm,_24[121])){
var sz=bm.imgSize;
bm.point={x:(sz.width / 2),y:(sz.height / 2)};

}

}

};
_AppUtils[_24[122]]=function(bm){
var ob={width:0,height:0};
ob.width=bm.naturalWidth;
ob.height=bm.naturalHeight;
return ob;

if(bm){
var w=bm.width;
var h=bm.height;
if(checkIn(bm,_24[125])){
w=bm.div.naturalWidth;
h=bm.div.naturalHeight;

}
ob.width=w;
ob.height=h;

}
return ob;

};
_AppUtils[_24[126]]=function(sz,bm,w,h){
if(bm){
bm.scaleX=(w / sz.width);
bm.scaleY=(h / sz.height);

}

};
_AppUtils[_24[128]]=function(nums){
var ss='';
var q='абвгдежзийклмнопрстуфхцчшщъыьэюя';
if((nums > 0)){
var k=0;
while((k < nums)){
var n=callMethod(this,Math,_24[127],[q.size]);
var ch=callMethod(this,q,_24[119],[n]);
ss+=ch;
k++;
}

}
return ss;

};
_AppUtils[_24[129]]=function(s,arr){
var maxNum=2;
if(s){
var i=0;
while((i < s.size)){
var rnd=(1 + callMethod(this,Math,_24[127],[maxNum]));
var ss=callMethod(this,s,_24[9],[i,rnd]);
callMethod(this,arr,_24[31],[ss]);
i+=(rnd - 1);
i++;
}

}

};
vm.registerClass(_24[130],'',_AppUtils);
})(window);



(function(window){
var _123=["BIP","web","indexOf","CompileAppInfo_","packageID","compileTime","init1","wall","static","wall2","wallWinter","wallIce","wallRest0","wallRest1","wallRest2","ball","circle","dynamic","emoji","boxItem","heavyboxItem","pers","sensorItem","sensorItem2","dynItem","barkPers","trampolineItem","staticItem","krutilkaItem","krutilkaCircle","cactusItem","getObjByArr","push","getAssetByName","greenTile.png","#005D00","#059E05","#088208","#11880f","#186416","preloader1.png","createFramesImage","plashka_main.png","chatBG.png","logo50.jpg","a25.png","a26.png","warningIcon.png","getAssetURL","a34Min.png","a34.png","DeleteMsg.png","logo1.png","refreshIcon2.png","adminNickIcon.png","modImg2.png","modMapsIcon.png","modChatIcon.png","getAssetBitmap","dressItems.png","PlayerPlaylist","забег","игра","/assets/bg","Город","bg8","/8.png","Деревья","/3.png","/9.jpg","/6.jpg","Вечер","/bg5.png","Лес","/13.png","Лес 2","/bg14.jpg","Улица 1","/bg15.jpg","/bg20.jpg","/bg21.jpg","/bg22.jpg","/bgwinter1.jpg?rnd=567","/bg17.jpg","/bg18.png","#f1a0b3","#a0ccf1","#88de79","#f367ee","#ffee0d","#3efbf4","#ffffff","#ffac15","#daff46","#49ff46","#46ffa1","https://ag6.ru","addItem","Мелодия 1","/musics/b/1.mp3","Мелодия 2","/musics/b/2.mp3","Из сюжета","/project/dogs/musics/18.mp3","Мелодия 3","/project/dogs/musics/1.mp3","Мелодия 4","/project/dogs/musics/2.mp3","Мелодия 5","/project/dogs/musics/3.mp3","Мелодия 6","/project/dogs/musics/4.mp3","Мелодия 7","/project/dogs/musics/15.mp3","Мелодия 8","/project/dogs/musics/16.mp3","Мелодия 9","/project/dogs/musics/20.mp3","init","ru.animalsgame.dogsgame3",":","vk","od","mm","fb","января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря","флуд, спам","тематика 18+","оскорбления","https://vk.com/app6787147","175397689","def","Солнышки","sunItem2.png","солнышки","солнышко","солнышка","солнышек","ag6","скрин ag6","https://ag6.ru/ss/","lightshot","скрин lightshot","https://prnt.sc/","skr","скрин skr","https://skr.sh/","pastenow","скрин pastenow","https://pastenow.ru/","joxi","скрин joxi","http://joxi.ru/","id","name","type","ot","komu","ownerid","flags","login","sex","popular","nick","mode","shadow","#000000","#4B7180","#733110","shadow1","/dogsgame3","graphicsDogsGame35","7974534","/mfiles/","?rnd=","/ava100.png","random","getBackgroundInfoByID","getGameRoomBGImage","Config"];
var _Config={};
_Config["ctor"]=function(){

};
_Config[_123[6]]=function(){
var txtProps={fontName:_123[0],color:16777215,textOffsetY:-7,textAutoWidth:!0};

lang.display.Bitmap.defPropsObject={noSelectable:!0,noRClick:!0};
txtProps.noSelectable=!0;

lang.text.TextField.defPropsObject=txtProps;
this.CONNECT_HOST=GLOBAL.$app.domain;
this.chatSettingsFlags=0;
this.settingsFlags=0;
this.updateFileTS=0;
var gg=GLOBAL;
for(var n in gg){
var pos1=callMethod(this,n,_123[2],[_123[3]]);
if((pos1 > -1)){
var ob1=gg[n];
if(checkIn(ob1,_123[4])){
if((this.packageName.size == 0)){
if((ob1.packageID.size > 0)){
if(checkIn(ob1,_123[5])){
this.updateFileTS=ob1.compileTime;

}

}

}

}

}

}

};
_Config[_123[118]]=function(){
this.isTestAuth=!1;
this.ssServiceKey=null;
this.screenUploadURL='https://ag6.ru/mainApi.php?c=service.uploadSS';
this.SCENE_WIDTH=780;
this.SCENE_HEIGHT=360;
this.lastPageMapsAlbum=-1;
this.notifyPopUpSize=[480,370];
this.lastGameRoomMapID=0;
this.lastMapAlbumMapPos=0;
this.isXMLV2=!1;
this.chatRegexViewMaps=/карта&#32;([0-9]+)/gi;

var worldScale=30;
var ballRadiusScale=((30 / worldScale) / 2);
var persRadiusScale=((27 / worldScale) / 2);
this.physicsItemsBody=[[_123[7],{friction:0,density:1,restitution:0,bodyType:_123[8],allowCollision:!0}],[_123[9],{friction:20,density:0,restitution:0,bodyType:_123[8],allowCollision:!0}],[_123[10],{friction:10,density:0,restitution:0,bodyType:_123[8],allowCollision:!0}],[_123[11],{friction:0,density:0,restitution:0,bodyType:_123[8],allowCollision:!0}],[_123[12],{friction:0.1,restitution:1.5,bodyType:_123[8],allowCollision:!0}],[_123[13],{friction:0.1,restitution:2.5,bodyType:_123[8],allowCollision:!0}],[_123[14],{friction:0.1,restitution:3.5,bodyType:_123[8],allowCollision:!0}],[_123[15],{type:_123[16],radius:ballRadiusScale,friction:0.6,density:0.7,restitution:0.8,bodyType:_123[17],isSensor:!1,fixedRotation:!1,allowCollision:!0}],[_123[18],{type:_123[16],radius:ballRadiusScale,friction:0.6,density:0.7,restitution:0.8,bodyType:_123[17],isSensor:!1,fixedRotation:!1,allowCollision:!0}],[_123[19],{friction:0,density:7,restitution:0,bodyType:_123[17],isSensor:!1,fixedRotation:!1,allowCollision:!0}],[_123[20],{friction:0,density:15,restitution:0,bodyType:_123[17],isSensor:!1,fixedRotation:!1,allowCollision:!0}],[_123[21],{allowSleep:!1,groupIndex:-1,friction:2,density:1,restitution:0,bodyType:_123[17],allowCollision:!0}],[_123[22],{bodyType:_123[8],isSensor:!0,allowCollision:!0}],[_123[23],{bodyType:_123[8],isSensor:!0,allowCollision:!0}],[_123[24],{bodyType:_123[17],allowCollision:!0}],[_123[25],{bodyType:_123[17],isSensor:!0}],[_123[26],{friction:0,density:1,restitution:0,bodyType:_123[8],allowCollision:!0}],[_123[27],{friction:0,density:1,restitution:0,bodyType:_123[8],allowCollision:!0}],[_123[28],{friction:0,density:1,restitution:0,bodyType:_123[17],allowCollision:!0,fixedRotation:!1}],[_123[29],{type:_123[16],radius:((10 / worldScale) / 2),friction:1,density:1,restitution:0,bodyType:_123[17],fixedRotation:!1}],[_123[30],{bodyType:_123[8],allowCollision:!0}]];
Array.getObjByArr=function(v){
var arr=this;
var o={};
if((arr.size <= v.size)){
var i=0;
while((i < arr.size)){
var k=v[i];
o[k]=arr[i];
i++;
}

}
return o;

};
Array.getObjByArrList=function(qq){
var a=[];
var i=0;
while((i < this.size)){
var q=this[i];
var ob=callMethod(this,q,_123[31],[qq]);
callMethod(this,a,_123[32],[ob]);
i++;
}
return a;

};
this.cacheMainMapItemsURL={};
this.greenTile1=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[34]]);
this.mapsEditorRulesFlag=!1;
this.sendChatColorMsgFlag=!1;
this.timePrestartRoom=5;
this.menu1Styles={bg:_123[35],selectItem:_123[36],noSelectItem:_123[37]};
this.chatInputBGColor=_123[38];
this.audioPlayerBG=_123[39];
this.Preloader1Img=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[40]]);
this.framesPreloader1=callMethod(this,GLOBAL.AppUtils,_123[41],[this.Preloader1Img,64,64,20]);
this.plashkaBM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[42]]);
this.bgImg=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[43]]);
this.defaultAvaBM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[44]]);
this.roomActiveBM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[45]]);
this.roomNoActiveBM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[46]]);
this.warnIconBM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[47]]);
this.warnIcon=this.warnIconBM.src;
this.settingsIcon1Min=callMethod(this,GLOBAL.$app.moviesReader,_123[48],[_123[49]]);
this.settingsIcon1=callMethod(this,GLOBAL.$app.moviesReader,_123[48],[_123[50]]);
this.delIcon1=callMethod(this,GLOBAL.$app.moviesReader,_123[48],[_123[51]]);
this.delIcon1BM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[51]]);
this.logoAppIcon=callMethod(this,GLOBAL.$app.moviesReader,_123[48],[_123[52]]);
this.refreshIcon2=callMethod(this,GLOBAL.$app.moviesReader,_123[48],[_123[53]]);
this.adminIcon1BM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[54]]);
this.modIcon1BM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[55]]);
this.modMapsIcon1BM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[56]]);
this.modChatIcon1BM=callMethod(this,GLOBAL.$app.moviesReader,_123[33],[_123[57]]);
this.dressBM=callMethod(this,GLOBAL.$app.moviesReader,_123[58],[_123[59]]);
this.nickColorRainbowBmd=null;
this.adminIcon1=this.adminIcon1BM.src;
this.modIcon1=this.modIcon1BM.src;
this.modMapsIcon1=this.modMapsIcon1BM.src;
this.musicList=ctorObject(_123[60],[1,_123[61]]);
this.worldAudioPlaylist=ctorObject(_123[60],[2,_123[62]]);
this.audioPlaylists=[this.worldAudioPlaylist];
var urlBg=(this.path + _123[63]);

this.backgroundsGameRoom=[{id:2,name:_123[64],assetName:_123[65],assetURL:(urlBg + _123[66]),size:[1920,1080]},{id:3,name:_123[67],assetURL:(urlBg + _123[68]),size:[800,600]},{id:6,name:'',assetURL:(urlBg + _123[69]),size:[1280,640]},{id:7,name:'',assetURL:(urlBg + _123[70]),size:[1279,720]},{id:5,name:_123[71],assetURL:(urlBg + _123[72]),size:[1750,1167]},{id:8,name:_123[73],assetURL:(urlBg + _123[74]),size:[1366,768]},{id:9,name:_123[75],assetURL:(urlBg + _123[76]),size:[1280,743]},{id:10,name:_123[77],assetURL:(urlBg + _123[78]),size:[1280,883]},{id:11,name:'',assetURL:(urlBg + _123[79]),size:[1121,713]},{id:12,name:'',assetURL:(urlBg + _123[80]),size:[2000,1125]},{id:13,name:'',assetURL:(urlBg + _123[81]),size:[1920,1080]},{id:14,name:'',assetURL:(urlBg + _123[82]),size:[1575,700]},{id:17,name:'',assetURL:(urlBg + _123[83]),size:[1366,640]},{id:18,name:'',assetURL:(urlBg + _123[84]),size:[1360,640]}];
this.nickColorsList=[_123[85],_123[86],_123[87],_123[88],_123[89],_123[90],_123[91],_123[92],_123[93],_123[94],_123[95]];

var ag6URL=_123[96];

callMethod(this,this.worldAudioPlaylist,_123[97],[1,_123[98],(ag6URL + _123[99])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[2,_123[100],(ag6URL + _123[101])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[3,_123[102],(ag6URL + _123[103])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[4,_123[104],(ag6URL + _123[105])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[5,_123[106],(ag6URL + _123[107])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[6,_123[108],(ag6URL + _123[109])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[7,_123[110],(ag6URL + _123[111])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[8,_123[112],(ag6URL + _123[113])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[9,_123[114],(ag6URL + _123[115])]);
callMethod(this,this.worldAudioPlaylist,_123[97],[10,_123[116],(ag6URL + _123[117])]);

};
_Config[_123[8]]=function(){
this.versionsInfo={popular:2};
this.PercGameRoomScale=100;
this.PercGameRoomGamePadScale=100;
this.packageName=_123[119];
this.defaultAvaURL='';
this.chatMsgReportsMax=0;
this.defLengthNick=0;
this.chatNickDelim=_123[120];
this.socialsList=[_123[121],_123[122],_123[123],_123[124]];
this.chatTextColorList=[];
this.nickGradientsObj={};
this.isLoadBox2D=!1;
this.authType='';
this.monthsList1=[_123[125],_123[126],_123[127],_123[128],_123[129],_123[130],_123[131],_123[132],_123[133],_123[134],_123[135],_123[136]];
var arr3=[{id:1,name:_123[137]},{id:2,name:_123[138]},{id:3,name:_123[139]}];
this.chatReportsInfoList=arr3;
var reportsTxtObj={};
var i=0;
while((i < arr3.size)){
var el=arr3[i];
var idd=el.id;
reportsTxtObj[idd]=el.name;
i++;
}
this.chatReportsInfoListObj=reportsTxtObj;
this.smilesRegexp1=/[[\]{}()*+?.,\\^$|#\s]/g;
this.chatRegexLinkScreens=/http:\/\/((ssmaker.ru)\/([a-z0-9\/]+))/gi;
this.chatRegexLinkSkrSh=/(http|https):\/\/((skr.sh)\/([a-z0-9\/]+))/gi;
this.chatRegexLinkScreensPrntSC=/(http|https):\/\/((prnt.sc)\/([a-z0-9\/]+))/gi;
this.chatRegexLinkScreensPastenow=/(http|https):\/\/((pastenow.ru)\/([a-z0-9\/]+))/gi;
this.chatRegexLinkYoutubeVideo=/https:\/\/www\.youtube\.com\/watch\?v=([a-z0-9_\-\/]+)/gi;
this.chatRegexLinkYoutubeVideoBE=/https:\/\/youtu\.be\/([a-z0-9_\-\/]+)/gi;
this.chatRegexVideoVK=/https:\/\/vk\.com\/(video[0-9]+_[0-9]+)/gi;
this.chatAnimalsGameSSLink=/(http|https):\/\/((ag6.ru)\/ss\/([a-z0-9]+))/gi;
this.chatAnimalsGameSSLink2=/(https:\/\/ag6.ru)\/ss\/([\w+\/]+)/gi;
this.chatJoxiLink=/(http|https):\/\/((joxi.ru)\/([\w+\/]+))/gi;
this.kolobangaLink1Reg=/https:\/\/kolobanga\.ru\/smileypak/g;
this.belkiURLReg=/(опг|белочки)/gi;
this.chatRegexItemUrlIT=/(\/|it:\/\/)([a-z0-9_\.\-\/]+)/gi;
this.vkAppURL=_123[140];
this.vkAppGroupID=_123[141];
this.eventsItemsList=[];
callMethod(this,this.eventsItemsList,_123[32],[{id:1,t:_123[142],name:_123[143],icon:_123[144],iconX:10,textY:-2,scaleIcon:0.9,gameItem:{name:_123[145],titles:[_123[146],_123[147],_123[148]]}}]);
this.screensTypeArr=[{id:_123[149],name:_123[150],tPos:3,vPos:4,urlStart:_123[151],reg:GLOBAL.Config.chatAnimalsGameSSLink},{id:_123[152],name:_123[153],tPos:3,vPos:4,urlStart:_123[154],reg:GLOBAL.Config.chatRegexLinkScreensPrntSC},{id:_123[155],name:_123[156],tPos:3,vPos:4,urlStart:_123[157],reg:GLOBAL.Config.chatRegexLinkSkrSh},{id:_123[158],name:_123[159],tPos:3,vPos:4,urlStart:_123[160],reg:GLOBAL.Config.chatRegexLinkScreensPastenow},{id:_123[161],name:_123[162],tPos:3,vPos:4,urlStart:_123[163],reg:GLOBAL.Config.chatJoxiLink}];
this.serversList=[];
this.prizesHourArr=[];
this.prizesDayArr=[];
this.dialogsStruct=[_123[164],_123[165],_123[166],_123[167],_123[168],_123[169],_123[170]];
this.cacheUserWebStruct=[_123[164],_123[171],_123[172],_123[173],_123[174],_123[175]];
this.roomEv1Data1=[];
GLOBAL.Config.socialsList=[_123[121],_123[122],_123[123],_123[124]];
this.filterBlue1=[{id:_123[176],color:_123[177],blur:2,offsetX:1,offsetY:1},{id:_123[176],color:_123[178],blur:8,offsetX:0,offsetY:0},{id:_123[176],color:_123[178],blur:5,offsetX:0,offsetY:0}];
this.shadowText1=[{id:_123[176],color:_123[179],blur:2,offsetX:1,offsetY:1},{id:_123[176],color:_123[177],blur:4,offsetX:0,offsetY:0}];
this.shadowText2=[{id:_123[176],color:_123[179],blur:2,offsetX:1,offsetY:1},{id:_123[176],color:_123[177],blur:4,offsetX:0,offsetY:0}];
this.filterBlue1=[{id:_123[180],color:_123[177],blur:2,offsetX:1,offsetY:0}];

this.MAX_ROOM_MESSAGES=30;
this.APP_VERSION=3;
this.CONNECT_PORT_NOSSL=9052;
this.CONNECT_PORT=this.CONNECT_PORT_NOSSL;
this.backgroundsList=[];
this.mapItemAlbumSize={w:300,h:130};
this.dressPersItemsFrames=[[1,1,40,16,0,0,0],[43,1,17,12,0,0,0],[62,1,27,18,0,0,0],[91,1,25,21,0,0,0]];
this.persFramesBig=[[1,1,161,114,0,-9,-12],[164,1,161,116,0,-9,-17],[327,1,162,116,0,-8,-19],[1,119,164,115,0,-7,-21],[167,119,165,120,0,-6,-21],[334,119,166,123,0,-5,-20],[1,244,166,118,0,-5,-20],[169,244,166,117,0,-5,-17],[337,244,166,119,0,-5,-13],[1,365,165,122,0,-5,-11],[168,365,165,128,0,-5,-9],[335,365,164,130,0,-6,-7],[1,497,163,130,0,-7,-5],[166,497,163,121,0,-7,-7],[331,497,162,112,0,-8,-9]];
this.persFrames=[[1,1,94,70,0,-2,-3],[97,1,94,73,0,-2,-5],[193,1,95,72,0,-1,-7],[290,1,96,71,0,-1,-8],[388,1,96,74,0,0,-8],[1,77,97,76,0,0,-7],[100,77,96,73,0,0,-7],[198,77,97,73,0,0,-5],[297,77,97,73,0,0,-4],[396,77,96,76,0,0,-2],[1,155,96,78,0,0,-1],[99,155,96,80,0,0,0],[197,155,95,79,0,-1,0],[294,155,95,75,0,-1,0],[391,155,95,70,0,-1,-1]];
var pr1='';
this.path=_123[181];
this.pathImages='';
this.pathMain='';
this.pathA=this.path;
this.pathApi='';

var mfileName=_123[182];
this.movieFileName=mfileName;
this.movieFileRnd=_123[183];
this.pathMoviesFile=((((pr1 + _123[184]) + mfileName) + _123[185]) + this.movieFileRnd);
this.defaultAvaURL=(this.path + _123[186]);
this.textShadow1=[];
this.maxMessagesRoom=30;

};
_Config[_123[188]]=function(id){
var i=0;
while((i < GLOBAL.Config.backgroundsGameRoom.size)){
var el=GLOBAL.Config.backgroundsGameRoom[i];
if((el.id == id)){
return el;

}
i++;
}
if((GLOBAL.Config.backgroundsGameRoom.size > 0)){
var ell=callMethod(this,GLOBAL.Config.backgroundsGameRoom,_123[187]);
return ell;

}
return null;

};
_Config[_123[189]]=function(id){
var a=GLOBAL.Config.backgroundsGameRoom;
var i=0;
while((i < a.size)){
var el=a[i];
if((el.id == id)){
var url=el.assetURL;
var bm=ctorObject(lang.display.Bitmap);
bm.src=url;
var sz={width:0,height:0};
sz.width=el.size[0];
sz.height=el.size[1];
bm.imgSize=sz;
return bm;

}
i++;
}
return null;

};
vm.registerClass(_123[190],'',_Config);
})(window);



(function(window){
var _223=["app.ui.UI","lang.display.Sprite"];
var _app_ui_UI={};
_app_ui_UI["ctor"]=function(){

};
vm.registerClass(_223[0],_223[1],_app_ui_UI);
})(window);

(function(window){
var _143=["#fcdbaa","setTarget","addChild","resize","mouseY","updateAfterEvent","getAbsolutePos","android","on","mousedown","mousemove","mouseup","off","floor","redraw","clear","remove","rect","#000000","setMaxValue","app.ui.VScrollBar1","lang.display.Sprite"];
var _app_ui_VScrollBar1={};
_app_ui_VScrollBar1["ctor"]=function(target){
var th=this;
th.target=target;
this.maxValue=0;
this.minValue=0;
this.startY1=target.y;
this.minScrollH=15;
this.scaleTarget=1;
this.scrollH=this.minScrollH;
this._scrollColor=_143[0];
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.w1=0;
this.h1=0;
this.posDrag=0;
this.bgScrollSize={x:0,w:0};
var bgScroll=ctorObject(lang.display.Sprite);
this.pBG=ctorObject(lang.display.Painter);
callMethod(this,this.pBG,_143[1],[bgScroll]);
var spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_143[2],[spr]);
var p=ctorObject(lang.display.Painter);
this.p=p;
callMethod(this,p,_143[1],[spr]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_143[2],[spr2]);
this.spr2=spr2;
var p2=ctorObject(lang.display.Painter);
this.p2=p2;
callMethod(this,p2,_143[1],[spr2]);
this.spr2=spr2;
callMethod(this,null,_143[3],[10,this.scrollH]);
var func1=function(e){
var my=e.mouseY;
if(checkIn(spr2,_143[4])){
my=(spr2.mouseY + spr2.y);

}
var xx=(my - th.posDrag);
th.value=xx;
if(checkIn(e,_143[5])){
callMethod(this,e,_143[5]);

}

};
var sp1=10;
var funcWheel=function(e){
var pos1=callMethod(this,target,_143[6]);
var x2=(e.mouseX - pos1.x);
var y2=((e.mouseY - pos1.y) + th.target.y);
if((x2 > 0)){
if((y2 > 0)){
if((x2 < (th.target.width - th.w1))){
if((y2 < (th.scrollH + th.h1))){
var v1=spr2.y;
if((e.deltaY > 0)){
var v3=(v1 + sp1);
th.value=v3;

}else{
th.value=(v1 - sp1);

}

}

}

}

}

};
th.func1=func1;
var getScaleV=function(spr){
var par=spr;
var v=1;
while(par){
v=(v * par.scaleX);
par=par.parent;

}
return v;

};
callMethod(this,spr2,_143[8],[_143[9],function(e){
var ratio=getScaleV(target);
th.scaleTarget=ratio;
var mxx=(e.mouseX / ratio);
var myy=(e.mouseY / ratio);
var my=(myy - spr2.y);
if(checkIn(spr2,_143[4])){
my=spr2.mouseY;

}
th.posDrag=my;
callMethod(this,th.stage,_143[8],[_143[10],func1]);
var thh=th;
callMethod(this,th.stage,_143[8],[_143[11],function(e){
callMethod(this,thh.stage,_143[12],[_143[11],arguments.callee]);
callMethod(this,thh.stage,_143[12],[_143[10],thh.func1]);

}]);

}]);
callMethod(this,spr,_143[8],[_143[9],function(e){
var ratio=getScaleV(target);
var pos3=callMethod(this,spr2,_143[6]);
var pos2=(((e.mouseY / ratio) - pos3.y) + spr2.y);
var qq=callMethod(this,Math,_143[13],[((pos2 / (th.scrollH - (th.h1 / 2))) * (th.scrollH - (th.h1 / 2)))]);
th.value=qq;

}]);


};
_app_ui_VScrollBar1[_143[3]]=function(w,h){
this.w1=w;
this.h1=0;
this.scrollH=(h - this.minScrollH);
if((this.scrollH <= this.minScrollH)){
this.scrollH=this.minScrollH;

}
this.value=0;
callMethod(this,this,_143[14]);

};
_app_ui_VScrollBar1[_143[16]]=function(){
callMethod(this,this.ev,_143[15]);
callMethod(this,this.ev2,_143[15]);

};
_app_ui_VScrollBar1[_143[14]]=function(){
callMethod(this,this.pBG,_143[15]);
var w2=this.target.width;
if((this.bgScrollSize.w > 0)){
w2=this.bgScrollSize.w;

}
var x1=-(this.target.width - this.w1);
if((this.bgScrollSize.w > 0)){
x1=(-this.bgScrollSize.w + this.bgScrollSize.x);

}
var allScrollH=(this.scrollH + this.minScrollH);
if(this.target){
callMethod(this,this.pBG,_143[17],[x1,0,(w2 - this.w1),allScrollH,_143[18]]);

}
callMethod(this,this.p,_143[15]);
callMethod(this,this.p2,_143[15]);
callMethod(this,this.p,_143[17],[0,0,this.w1,allScrollH,_143[18]]);
var sc=1;
if((this.maxValue > 0)){
sc=(this.scrollH / this.maxValue);

}
var hh=(this.scrollH * sc);
var marg=0;
this.visible=(hh < this.scrollH);
hh=this.minScrollH;
this.h1=this.minScrollH;
callMethod(this,this.p2,_143[17],[marg,marg,(this.w1 - (marg * 2)),(hh - (marg * 2)),this._scrollColor]);

};
_app_ui_VScrollBar1[_143[19]]=function(v){
this.maxValue=v;
this.h1=0;
this.value=0;
callMethod(this,this,_143[14]);

};
_app_ui_VScrollBar1["_set"]={value:function(v){
if((v <= 0)){
v=0;

}
var xx=0;
var maxH=(this.scrollH - this.h1);
if((v > this.scrollH)){
v=this.scrollH;

}
if((this.h1 > 0)){
xx=callMethod(this,Math,_143[13],[((v / maxH) * maxH)]);

}
this.spr2.y=xx;
var xx2=callMethod(this,Math,_143[13],[((v / this.scrollH) * this.maxValue)]);
this.target.y=(this.startY1 - xx2);

}};
vm.registerClass(_143[20],_143[21],_app_ui_VScrollBar1);
})(window);

(function(window){
var _223=["#fcdbaa","setTarget","addChild","resize","on","mousedown","mousemove","mouseup","off","getAbsolutePos","web","rectIntersect","clear","push","reload","setMaxValue","redraw","update","remove","upd2","rect","#000000","floor","app.ui.VScrollBar2","lang.display.Sprite"];
var _app_ui_VScrollBar2={};
_app_ui_VScrollBar2["ctor"]=function(target,startH){
var th=this;
th.target=target;
this.origW=0;
this.origH=0;
this.isVis=!0;
this.noSetWidth=!1;
this.scrollPosChange=!0;
this.maxValue=0;
this.minValue=0;
this.posY2=0;
this.scaleTarget=1;
this.scrollRatio=1;
if(!startH){
startH=0;

}
this.targetStartH=startH;
this.targetStartW=target.width;
this.startY1=target.scrollTop;
this.minScrollH=15;
this.scrollH=this.minScrollH;
this._scrollColor=_223[0];
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.w1=0;
this.h1=0;
this.posDrag=0;
this.bgScrollSize={x:0,w:0};
var bgScroll=ctorObject(lang.display.Sprite);
this.pBG=ctorObject(lang.display.Painter);
callMethod(this,this.pBG,_223[1],[bgScroll]);
var getScaleV=function(spr){
var par=spr;
var v=1;
while(par){
v=(v * par.scaleX);
par=par.parent;

}
return v;

};
var spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_223[2],[spr]);
var p=ctorObject(lang.display.Painter);
this.p=p;
callMethod(this,p,_223[1],[spr]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_223[2],[spr2]);
this.spr2=spr2;
var p2=ctorObject(lang.display.Painter);
this.p2=p2;
callMethod(this,p2,_223[1],[spr2]);
this.spr2=spr2;
callMethod(this,null,_223[3],[10,this.scrollH]);
var func1=function(e){
var xx=((e.mouseY / th.scaleTarget) - th.posDrag);
th.value=xx;

};
this.func1=func1;
var sp1=10;
if(!GLOBAL.$app.isMobile){
callMethod(this,spr2,_223[4],[_223[5],function(e){
var ratio=getScaleV(target);
th.scaleTarget=ratio;
var mxx=(e.mouseX / ratio);
var myy=(e.mouseY / ratio);
var my=(myy - spr2.y);
th.posDrag=my;
callMethod(this,th.stage,_223[4],[_223[6],func1]);
var thh=th;
callMethod(this,th.stage,_223[4],[_223[7],function(e){
callMethod(this,thh.stage,_223[8],[_223[7],arguments.callee]);
callMethod(this,thh.stage,_223[8],[_223[6],thh.func1]);

}]);

}]);
callMethod(this,spr,_223[4],[_223[5],function(e){
var thh=th;
var ratio=getScaleV(target);
var pos3=callMethod(this,spr2,_223[9]);
var pos2=(((e.mouseY / ratio) - pos3.y) + spr2.y);
var qq=(pos2 - (th.scrollH / 2));
th.value=qq;
th.posDrag=((e.mouseY / ratio) - spr2.y);
callMethod(this,th.stage,_223[4],[_223[6],func1]);
callMethod(this,th.stage,_223[4],[_223[7],function(e){
callMethod(this,thh.stage,_223[8],[_223[7],arguments.callee]);
callMethod(this,thh.stage,_223[8],[_223[6],thh.func1]);

}]);

}]);

}else{
callMethod(this,th.ev,_223[4],[GLOBAL.$app.stage,_223[5],function(e){
var ratio=getScaleV(target);
ratio=(ratio / GLOBAL.$app.domScaleV);

th.scaleTarget=ratio;
var mxx=(e.mouseX / ratio);
var myy=(e.mouseY / ratio);
var my=(myy - -spr2.y);
th.posDrag=my;
var pos1=callMethod(this,target,_223[9]);
var pos2=callMethod(this,spr,_223[9]);
var rect=ctorObject(lang.geom.Rectangle,[pos1.x,pos2.y,th.target.width,th.h1]);
var r2=callMethod(this,GLOBAL.AppUtils,_223[11],[rect,mxx,myy]);
callMethod(this,th.ev2,_223[12]);
callMethod(this,GLOBAL.$app.mouseUpEventsOne,_223[13],[function(){
callMethod(this,th.ev2,_223[12]);

}]);
if(r2){
var w2=th.target.width;
callMethod(this,th.ev2,_223[4],[GLOBAL.$app.stage,_223[6],function(e){
var xx=((e.mouseY / ratio) - th.posDrag);
th.value=-xx;

}]);

}

}]);

}
callMethod(this,this,_223[14]);

};
_app_ui_VScrollBar2[_223[14]]=function(tt){
var cntWW=this.target.width;
if((cntWW < this.targetStartW)){
cntWW=this.targetStartW;

}
if(!this.noSetWidth){
this.target.width=(cntWW + this.origW);

}
var y3=0;
var vv=(this.target.height - y3);
callMethod(this,this,_223[15],[vv,tt]);
if(!tt){
callMethod(this,this,_223[3],[this.origW,this.origH]);

}
callMethod(this,this,_223[16]);

};
_app_ui_VScrollBar2[_223[3]]=function(w,h){
this.origW=w;
this.origH=h;
var w2=(this.targetStartW - w);
this.x=0;
this.y=0;
if(this.scrollPosChange){
this.x=w2;
this.y=this.target.y;

}
this.w1=w;
this.h1=h;
this.scrollH=h;
callMethod(this,this,_223[16]);

};
_app_ui_VScrollBar2[_223[17]]=function(){
var th=this;
if(th.target){
var hh=(th.h1 + th.target.scrollHeight);
th.maxValue=hh;
callMethod(this,th,_223[16]);

}

};
_app_ui_VScrollBar2[_223[18]]=function(){
callMethod(this,this.ev,_223[12]);
callMethod(this,this.ev2,_223[12]);

};
_app_ui_VScrollBar2[_223[19]]=function(){
var th=this;
var lastRatio=th.scrollRatio;
if((th.maxValue != 0)){
th.scrollRatio=(th.h1 / th.maxValue);

}else{
th.scrollRatio=1;

}
th.scrollH=castInt((th.h1 * th.scrollRatio));
if((th.scrollH < 30)){
th.scrollH=30;

}
var sc=this.scrollRatio;
if((sc >= 1)){
this.visible=!1;

}else{
this.visible=!0;

}
if(!this.isVis){
this.visible=!1;

}

};
_app_ui_VScrollBar2[_223[16]]=function(){
callMethod(this,this,_223[19]);
var marg=0;
var allScrollH=this.scrollH;
callMethod(this,this.p,_223[12]);
callMethod(this,this.p2,_223[12]);
callMethod(this,this.p,_223[20],[0,0,this.w1,this.h1,_223[21]]);
callMethod(this,this.p2,_223[20],[marg,marg,(this.w1 - (marg * 2)),(allScrollH - (marg * 2)),this._scrollColor]);

};
_app_ui_VScrollBar2[_223[15]]=function(v,isReset){
if((v < 0)){
v=0;

}
this.scrollRatio=1;
this.maxValue=v;
if((this.maxValue < 0)){
this.maxValue=0;

}
if(!isReset){
this.value=0;

}
callMethod(this,this,_223[16]);

};
_app_ui_VScrollBar2["_set"]={value:function(v){
if((v <= 0)){
v=0;

}
var allScrollH=this.scrollH;
var allContentH=(this.maxValue - this.h1);
var maxH=(this.h1 - allScrollH);
if((this.scrollRatio >= 1)){
this.spr2.y=0;
this.target.scrollTop=0;

}else{
var k1=(v / maxH);
if((k1 >= 1)){
k1=1;

}
maxH=(this.h1 - allScrollH);
var xx=callMethod(this,Math,_223[22],[(k1 * maxH)]);
var xx2=callMethod(this,Math,_223[22],[(k1 * allContentH)]);
this.spr2.y=xx;
this.target.scrollTop=(this.startY1 + xx2);

}
callMethod(this,this,_223[19]);

}};
vm.registerClass(_223[23],_223[24],_app_ui_VScrollBar2);
})(window);

(function(window){
var _298=["#fcdbaa","setTarget","addChild","resize","on","mousedown","mousemove","mouseup","off","getAbsolutePos","web","rectIntersect","clear","push","reload","setMaxValue","redraw","update","remove","upd2","rect","#000000","floor","app.ui.VScrollBar3","lang.display.Sprite"];
var _app_ui_VScrollBar3={};
_app_ui_VScrollBar3["ctor"]=function(target,startH){
var th=this;
th.target=target;
this.origW=0;
this.origH=0;
this.isVis=!0;
this.noSetWidth=!1;
this.scrollPosChange=!0;
this.maxValue=0;
this.minValue=0;
this.posY2=0;
this.scaleTarget=1;
this.scrollRatio=1;
if(!startH){
startH=0;

}
this.targetStartH=startH;
this.targetStartW=target.width;
this.startY1=target.y;
this.minScrollH=15;
this.scrollH=this.minScrollH;
this._scrollColor=_298[0];
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.w1=0;
this.h1=0;
this.posDrag=0;
this.bgScrollSize={x:0,w:0};
var bgScroll=ctorObject(lang.display.Sprite);
this.pBG=ctorObject(lang.display.Painter);
callMethod(this,this.pBG,_298[1],[bgScroll]);
var getScaleV=function(spr){
var par=spr;
var v=1;
while(par){
v=(v * par.scaleX);
par=par.parent;

}
return v;

};
var spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_298[2],[spr]);
var p=ctorObject(lang.display.Painter);
this.p=p;
callMethod(this,p,_298[1],[spr]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_298[2],[spr2]);
this.spr2=spr2;
var p2=ctorObject(lang.display.Painter);
this.p2=p2;
callMethod(this,p2,_298[1],[spr2]);
this.spr2=spr2;
callMethod(this,null,_298[3],[10,this.scrollH]);
var func1=function(e){
var xx=((e.mouseY / th.scaleTarget) - th.posDrag);
th.value=xx;

};
this.func1=func1;
var sp1=10;
if(!GLOBAL.$app.isMobile){
callMethod(this,spr2,_298[4],[_298[5],function(e){
var ratio=getScaleV(target);
th.scaleTarget=ratio;
var mxx=(e.mouseX / ratio);
var myy=(e.mouseY / ratio);
var my=(myy - spr2.y);
th.posDrag=my;
callMethod(this,th.stage,_298[4],[_298[6],func1]);
var thh=th;
callMethod(this,th.stage,_298[4],[_298[7],function(e){
callMethod(this,thh.stage,_298[8],[_298[7],arguments.callee]);
callMethod(this,thh.stage,_298[8],[_298[6],thh.func1]);

}]);

}]);
callMethod(this,spr,_298[4],[_298[5],function(e){
var thh=th;
var ratio=getScaleV(target);
var pos3=callMethod(this,spr2,_298[9]);
var pos2=(((e.mouseY / ratio) - pos3.y) + spr2.y);
var qq=(pos2 - (th.scrollH / 2));
th.value=qq;
th.posDrag=((e.mouseY / ratio) - spr2.y);
callMethod(this,th.stage,_298[4],[_298[6],func1]);
callMethod(this,th.stage,_298[4],[_298[7],function(e){
callMethod(this,thh.stage,_298[8],[_298[7],arguments.callee]);
callMethod(this,thh.stage,_298[8],[_298[6],thh.func1]);

}]);

}]);

}else{
callMethod(this,th.ev,_298[4],[GLOBAL.$app.stage,_298[5],function(e){
var ratio=getScaleV(target);
ratio=(ratio / GLOBAL.$app.domScaleV);

th.scaleTarget=ratio;
var mxx=(e.mouseX / ratio);
var myy=(e.mouseY / ratio);
var my=(myy - -spr2.y);
th.posDrag=my;
var pos1=callMethod(this,target,_298[9]);
var pos2=callMethod(this,spr,_298[9]);
var rect=ctorObject(lang.geom.Rectangle,[pos1.x,pos2.y,th.target.width,th.h1]);
var r2=callMethod(this,GLOBAL.AppUtils,_298[11],[rect,mxx,myy]);
callMethod(this,th.ev2,_298[12]);
callMethod(this,GLOBAL.$app.mouseUpEventsOne,_298[13],[function(){
callMethod(this,th.ev2,_298[12]);

}]);
if(r2){
var w2=th.target.width;
callMethod(this,th.ev2,_298[4],[GLOBAL.$app.stage,_298[6],function(e){
var xx=((e.mouseY / ratio) - th.posDrag);
th.value=-xx;

}]);

}

}]);

}
callMethod(this,this,_298[14]);

};
_app_ui_VScrollBar3[_298[14]]=function(tt){
var cntWW=this.target.width;
if((cntWW < this.targetStartW)){
cntWW=this.targetStartW;

}
if(!this.noSetWidth){
this.target.width=(cntWW + this.origW);

}
var y3=0;
var vv=(this.target.height - y3);
callMethod(this,this,_298[15],[vv,tt]);
if(!tt){
callMethod(this,this,_298[3],[this.origW,this.origH]);

}
callMethod(this,this,_298[16]);

};
_app_ui_VScrollBar3[_298[3]]=function(w,h){
this.origW=w;
this.origH=h;
var w2=(this.targetStartW - w);
this.x=0;
this.y=0;
if(this.scrollPosChange){
this.x=w2;
this.y=this.target.y;

}
this.w1=w;
this.h1=h;
this.scrollH=h;
callMethod(this,this,_298[16]);

};
_app_ui_VScrollBar3[_298[17]]=function(){
var th=this;
if(th.target){
var hh=(th.h1 + th.target.scrollHeight);
th.maxValue=hh;
callMethod(this,th,_298[16]);

}

};
_app_ui_VScrollBar3[_298[18]]=function(){
callMethod(this,this.ev,_298[12]);
callMethod(this,this.ev2,_298[12]);

};
_app_ui_VScrollBar3[_298[19]]=function(){
var th=this;
var lastRatio=th.scrollRatio;
if((th.maxValue != 0)){
th.scrollRatio=(th.h1 / th.maxValue);

}else{
th.scrollRatio=1;

}
th.scrollH=castInt((th.h1 * th.scrollRatio));
if((th.scrollH < 30)){
th.scrollH=30;

}
var sc=this.scrollRatio;
if((sc >= 1)){
this.visible=!1;

}else{
this.visible=!0;

}
if(!this.isVis){
this.visible=!1;

}

};
_app_ui_VScrollBar3[_298[16]]=function(){
callMethod(this,this,_298[19]);
var marg=0;
var allScrollH=this.scrollH;
callMethod(this,this.p,_298[12]);
callMethod(this,this.p2,_298[12]);
callMethod(this,this.p,_298[20],[0,0,this.w1,this.h1,_298[21]]);
callMethod(this,this.p2,_298[20],[marg,marg,(this.w1 - (marg * 2)),(allScrollH - (marg * 2)),this._scrollColor]);

};
_app_ui_VScrollBar3[_298[15]]=function(v,isReset){
if((v < 0)){
v=0;

}
this.scrollRatio=1;
this.maxValue=v;
if((this.maxValue < 0)){
this.maxValue=0;

}
if(!isReset){
this.value=0;

}
callMethod(this,this,_298[16]);

};
_app_ui_VScrollBar3["_set"]={value:function(v){
if((v <= 0)){
v=0;

}
var allScrollH=this.scrollH;
var allContentH=(this.maxValue - this.h1);
var maxH=(this.h1 - allScrollH);
if((this.scrollRatio >= 1)){
this.spr2.y=0;
this.target.y=this.startY1;

}else{
var k1=(v / maxH);
if((k1 >= 1)){
k1=1;

}
maxH=(this.h1 - allScrollH);
var xx=callMethod(this,Math,_298[22],[(k1 * maxH)]);
var xx2=callMethod(this,Math,_298[22],[(k1 * allContentH)]);
this.spr2.y=xx;
this.target.y=(this.startY1 - xx2);

}
callMethod(this,this,_298[19]);

}};
vm.registerClass(_298[23],_298[24],_app_ui_VScrollBar3);
})(window);

(function(window){
var _228=["setTarget","rect","#000000","addChild","redraw","_selectFunc","callback","clear","#00FFFF","#CCCCCC","app.ui.CheckBox","lang.display.Sprite"];
var _app_ui_CheckBox={};
_app_ui_CheckBox["ctor"]=function(){
var th=this;
this._isSelected=!1;
this.callback=0;
var w=30;
var h=30;
this.w=w;
this.h=h;
var q=ctorObject(lang.display.Sprite);
q.mouseChildren=!1;
var p1=ctorObject(lang.display.Painter);
var p2=ctorObject(lang.display.Painter);
var spr=ctorObject(lang.display.Sprite);
spr.alpha=0.8;
callMethod(this,p1,_228[0],[spr]);
callMethod(this,p1,_228[1],[0,0,(w - 5),(h - 5),_228[2]]);
callMethod(this,q,_228[3],[spr]);
var spr2=ctorObject(lang.display.Sprite);
spr2.x=((w - (w - 5)) / 2);
spr2.y=((h - (h - 5)) / 2);
callMethod(this,q,_228[3],[spr2]);
callMethod(this,p2,_228[0],[spr2]);
this.p2=p2;
callMethod(this,this,_228[4]);
callMethod(this,null,_228[3],[q]);
q.click=function(e){
callMethod(this,th,_228[5]);

};

};
_app_ui_CheckBox[_228[5]]=function(){
this._isSelected=this._isSelected ? !1 : !0;
if((this.callback != 0)){
callMethod(this,this,_228[6],[this._isSelected]);

}
callMethod(this,this,_228[4]);

};
_app_ui_CheckBox[_228[4]]=function(){
callMethod(this,this.p2,_228[7]);
var color=this._isSelected ? _228[8] : _228[9];
callMethod(this,this.p2,_228[1],[0,0,(this.w - 10),(this.h - 10),color]);

};
vm.registerClass(_228[10],_228[11],_app_ui_CheckBox);
})(window);

(function(window){
var _96=["#CACACA","#EFEFEF","setTarget","addChild","border","rect","keyboardEventHandlerFunc","floor","getAbsolutePos","on","mousemove","mouseup","off","cb","app.ui.HSlider","lang.display.Sprite"];
var _app_ui_HSlider={};
_app_ui_HSlider["ctor"]=function(w,maxValue,cb){
this.w=w;
this.minValue=0;
this.posDrag=0;
this.maxValue=maxValue;
this.cb=cb;
this.w1=10;
this.h1=10;
this.h=6;
this.lastValue=-1;
this.scaleRatio=1;
var th=this;
this.clr1=_96[0];
this.clr2=_96[1];
var bg=ctorObject(lang.display.Sprite);
var p1=ctorObject(lang.display.Painter);
callMethod(this,p1,_96[2],[bg]);
callMethod(this,null,_96[3],[bg]);
callMethod(this,p1,_96[4],[1,0]);
callMethod(this,p1,_96[5],[0,0,w,this.h,this.clr1]);
var sliderSpr=ctorObject(lang.display.Sprite);
var p2=ctorObject(lang.display.Painter);
this.sliderSpr=sliderSpr;
callMethod(this,p2,_96[2],[sliderSpr]);
callMethod(this,null,_96[3],[sliderSpr]);
callMethod(this,p2,_96[4],[1,0]);
callMethod(this,p2,_96[5],[0,-2,this.w1,this.h1,this.clr2]);
sliderSpr.keyboardEventHandler=function(e){
callMethod(this,th,_96[6],[e]);

};
var func1=function(e){
var xx=((e.mouseX / th.scaleRatio) - th.posDrag);
if((xx <= 0)){
xx=0;

}
if((xx >= (th.w - th.w1))){
xx=(th.w - th.w1);

}
var qq=callMethod(this,Math,_96[7],[((xx / (th.w - th.w1)) * th.maxValue)]);
th.value=qq;

};
var getScaleV=function(spr){
var par=spr;
var v=1;
while(par){
v=(v * par.scaleX);
par=par.parent;

}
return v;

};
th.func1=func1;
bg.mousedown=function(e){
var ratio=getScaleV(th);
th.scaleRatio=ratio;
var pos5=callMethod(this,sliderSpr,_96[8]);
var pos2=(((e.mouseX / ratio) - pos5.x) + sliderSpr.x);
var qq=callMethod(this,Math,_96[7],[((pos2 / th.w) * th.maxValue)]);
th.value=qq;
th.posDrag=((e.mouseX / ratio) - pos2);
callMethod(this,th.stage,_96[9],[_96[10],func1]);
callMethod(this,th.stage,_96[9],[_96[11],function(e){
callMethod(this,th.stage,_96[12],[_96[11],arguments.callee]);
callMethod(this,th.stage,_96[12],[_96[10],th.func1]);

}]);

};
sliderSpr.mousedown=function(e){
var ratio=getScaleV(th);
th.scaleRatio=ratio;
th.posDrag=((e.mouseX / ratio) - sliderSpr.x);
callMethod(this,th.stage,_96[9],[_96[10],func1]);
callMethod(this,th.stage,_96[9],[_96[11],function(e){
callMethod(this,th.stage,_96[12],[_96[11],arguments.callee]);
callMethod(this,th.stage,_96[12],[_96[10],th.func1]);

}]);

};

};
_app_ui_HSlider[_96[6]]=function(e){
var th=this;
if((e.keyCode == lang.ui.Keyboard.LEFT)){
th.value=(th.lastValue - 1);

}else if((e.keyCode == lang.ui.Keyboard.RIGHT)){
th.value=(th.lastValue + 1);

}


};
_app_ui_HSlider["_get"]={value:function(){
return this.lastValue;

}};
_app_ui_HSlider["_set"]={value:function(v){
if((v <= this.minValue)){
v=this.minValue;

}
if((v >= this.maxValue)){
v=this.maxValue;

}
var xx=callMethod(this,Math,_96[7],[((v / this.maxValue) * (this.w - this.w1))]);
this.sliderSpr.x=xx;
if((v != this.lastValue)){
callMethod(this,this,_96[13],[v]);

}
this.lastValue=v;

}};
vm.registerClass(_96[14],_96[15],_app_ui_HSlider);
})(window);

(function(window){
var _230=["setTarget","addChild","rect","#E3DDD8","border","#00FFFF","floor","getAbsolutePos","on","mousemove","mouseup","off","cb","clear","#00CC00","app.ui.HSliderAudioVolume","lang.display.Sprite"];
var _app_ui_HSliderAudioVolume={};
_app_ui_HSliderAudioVolume["ctor"]=function(cb){
var w=40;
var maxValue=100;
this.w=w;
this.minValue=0;
this.posDrag=0;
this.scaleRatio=1;
this.maxValue=maxValue;
this.cb=cb;
this.w1=10;
this.h1=10;
this.h=5;
this.lastValue=-1;
var th=this;
var getScaleV=function(spr){
var par=spr;
var v=1;
while(par){
v=(v * par.scaleX);
par=par.parent;

}
return v;

};
var bg=ctorObject(lang.display.Sprite);
var p1=ctorObject(lang.display.Painter);
callMethod(this,p1,_230[0],[bg]);
callMethod(this,null,_230[1],[bg]);
callMethod(this,p1,_230[2],[0,0,w,this.h,_230[3]]);
var bg2=ctorObject(lang.display.Sprite);
var p3=ctorObject(lang.display.Painter);
callMethod(this,p3,_230[0],[bg2]);
callMethod(this,null,_230[1],[bg2]);
this.p3=p3;
var sliderSpr=ctorObject(lang.display.Sprite);
var p2=ctorObject(lang.display.Painter);
this.sliderSpr=sliderSpr;
callMethod(this,p2,_230[0],[sliderSpr]);
callMethod(this,null,_230[1],[sliderSpr]);
callMethod(this,p2,_230[4],[1,0]);
callMethod(this,p2,_230[2],[0,-2,this.w1,this.h1,_230[5]]);
var func1=function(e){
var xx=((e.mouseX / th.scaleRatio) - th.posDrag);
if((xx <= 0)){
xx=0;

}
if((xx >= (th.w - th.w1))){
xx=(th.w - th.w1);

}
var qq=callMethod(this,Math,_230[6],[((xx / (th.w - th.w1)) * th.maxValue)]);
th.value=qq;

};
th.func1=func1;
bg.mousedown=function(e){
var ratio=getScaleV(th);
th.scaleRatio=ratio;
var pos5=callMethod(this,sliderSpr,_230[7]);
var pos2=(((e.mouseX / ratio) - pos5.x) + sliderSpr.x);
var qq=callMethod(this,Math,_230[6],[((pos2 / (th.w - th.w1)) * th.maxValue)]);
th.value=qq;

};
bg2.mousedown=function(e){
var ratio=getScaleV(th);
th.scaleRatio=ratio;
var pos5=callMethod(this,sliderSpr,_230[7]);
var pos2=(((e.mouseX / ratio) - pos5.x) + sliderSpr.x);
var qq=callMethod(this,Math,_230[6],[((pos2 / (th.w - th.w1)) * th.maxValue)]);
th.value=qq;

};
sliderSpr.mousedown=function(e){
var ratio=getScaleV(th);
th.scaleRatio=ratio;
th.posDrag=((e.mouseX / ratio) - sliderSpr.x);
callMethod(this,th.stage,_230[8],[_230[9],func1]);
var thh=th;
callMethod(this,th.stage,_230[8],[_230[10],function(e){
callMethod(this,thh.stage,_230[11],[_230[10],arguments.callee]);
callMethod(this,thh.stage,_230[11],[_230[9],thh.func1]);

}]);

};

};
_app_ui_HSliderAudioVolume["_get"]={value:function(){
return this.lastValue;

}};
_app_ui_HSliderAudioVolume["_set"]={value:function(v){
if((v <= this.minValue)){
v=this.minValue;

}
if((v > this.maxValue)){
v=this.maxValue;

}
var xx=callMethod(this,Math,_230[6],[((v / this.maxValue) * (this.w - this.w1))]);
this.sliderSpr.x=xx;
if((v != this.lastValue)){
callMethod(this,this,_230[12],[v]);

}
this.lastValue=v;
var ww=callMethod(this,Math,_230[6],[((this.lastValue / this.maxValue) * this.w)]);
callMethod(this,this.p3,_230[13]);
callMethod(this,this.p3,_230[2],[0,0,ww,this.h,_230[14]]);

}};
vm.registerClass(_230[15],_230[16],_app_ui_HSliderAudioVolume);
})(window);



(function(window){
var _87=["gameRoomScene","web","createPainter","Стандартный (круглый)","Квадратный (3 кнопки)","addDomCanvas","check","visPlashkaPanel","GameRoomMovie1","clear","left","right","up","keyup","down","keydown","keyHandler","removeChild","Arial","addChild","мир: ","openPopUpUserInfoSpr","0:00","app.game.BackgroundSprite","tutorial","border","rect","#FFFFFF","setTextPartTutorial1","или клавишами W A D","world","AppButtonExit2","on","rollover","rollout","endRoomCallback","endGameFunc1","openPopUpConfirmMsgYesNo","groundBody","create","QueryPoint","userData","x","y","pop","weld","init","addJoint","revolute","setDebug","start","app.game.CollisionMaster","collision","addOne","sensorItem2","begin","body","push","pers","wallType","wallIce","wallRest0","wallRest1","wallRest2","wallRest3","setState","idle","isSensorItem","end","add","sensorItem","cb","dynItem","uData","cactusItem","now","lastTimeCactusV","trampolineItem","gotoAndStop","jumpLevel","springBoardTimer1","stop","setZoomContent","setZoomGamePad","checkMapOptimize","createMap","drawStream","draw","persXY","addPers","itemsProps","item1","visKey","item2","isViewer","setViewerModeUser","getChildAt","setSettingsFlags","createJoystick2","hand","send","getGameItem","preventDefault","removeAllChilds","getChildIndex","destroy","up_left","up_right","down_left","down_right","gamepadID","jump","cb866","f1","t","close","playOnlineRoom","winner","getPersByID","openPopUpWinUserZabeg","openPopUpSetNewScoreMap","move","persMove","addUser","User","parseObj","popup","noResetPos","openPopUpMinText1","noViewerAccess","addChatMsgByUserID","popupMsg","changeWorldName","chatMsg","chatMsgStart","addChatMsgAnimByUserID","bark","PersBarkHandler","removeUser","removePersByID","setViewerMode","addGameItem","playSFX","magic1","resetAllPersPos","no","resetPersPos","resetKeyItem","resetAllKeys","getItem","key1","getCageItemByID","createCagePersItem","setStateAnim","open","ufoFunc2","getGameItemByID","Нужна магическая рука","GameItemResetByID","GameRoomMiniChatPanel","painter","attr","spellcheck","maxLength","input","sendMiniChatMsg","animAlphaSprite","openMiniPanelSmiles","app.game.GameRoomDebugInfo","setDebugInfoV","действия","карте","мире","О ","scenes.mapsAlbum.MapRenderSprite","addMapInfoRect","anim1","startTween","navWorldRoom","Перезайти в мир","Управление","ownerCmd","Изменить имя","openPopUpInputOne","Имя для мира","Изменить","changeName","Изменить карту","Укажите ID карты","Создать","worldCreate","Вернуть на начало","Вернуть всех на начало карты?","resetPos","Забрать у всех ключ","Хотите забрать у всех ключ?","Выгнать всех","Выгнать всех игроков из мира?","kickUsers","Удалить мир","Точно хотите удалить мир?","deleteWorld","openMenuList1","Редактировать карту","navMapEditor","Начать заново","Вернуться на начало карты?","Стать зрителем","Хотите стать зрителем?","setViewer","closePopUpByName","PopUpSetNewScoreMap","PopUpWinUserZabeg1","PopUpWinUserZabeg2","resize","initStream","closeMiniPanelSmiles","closePanelSmiles","app.chat.ChatSmilesPanel","getChatInput","SetPosition","getTimestamp","sendChatMsg","app.game.GameItemSprite","getGameItemSpriteByID","getGameItemInfoByType","remove","keyV","sendMove","isPersGround","Возьми ключ","removeDialog","tutorialSkip","openPopUpWinnersListZabeg","navSceneMenu","persOutHandler","cageID","app.game.items.ExitItem","createPersNums","bg","changeBG","id карты: ","load","getUserID","хозяин: ","app.game.items.DecorItemWorld","createWorldItemByBodyDef","st","getGameItemByType","app.game.items.UniversalActionItem1","createWorldItemByObj1Disp","emoji","app.game.items.DecorItem","w","h","restType","addPlatform","app.game.items.TextItem","app.game.items.TrampolineItem","app.game.items.KeyItem","visAnim1","addSensorItemCB","Молодец!","winnerZabeg","endRoomWinnerCallback","getAssetURL","Key1.png","\" />","tt","app.game.items.PointItem","app.game.items.TeleportItem","teleportItemA","app.game.CollisionItem","getBodyInfoByName","createBodyByName","dynamic","createWorldItemPolygon","circle","ball","allowCollision","itemWorld","removeWorldItem","addMessageAnimQ","addMessage","nick_itemid","setUser","updateUserInfo","updateTimeMap","navHome","app.game.items.WallItem","wall","wall2","wallRest","app.game.PersGameRoom","createMask","setNickCallback","clickChatUser","GetPosition","debugRayLines","lineStyle","beginFill","moveTo","lineTo","endFill","RayCastOne","isPersItem","GetLinearVelocity","update","setLeft","SetLinearVelocity","run","GetLocalCenter","ApplyForce","floor","setBG","plusTimeMap","showNickUsersNoInitiator","setZoom","testPingInfo","autoResize","max","updateBarTimeStr","toMinSec","playSFXLoop","timertick1","addVisKeyAnimBM","dispose","isShowChat","show","unbind","removeDomCanvas","removeScene","scenes.game.GameRoom","lang.display.Sprite"];
var _scenes_game_GameRoom={};
_scenes_game_GameRoom["ctor"]=function(roomType,users,map,initiatorid){
this.sceneName=_87[0];
this.roomType=roomType;
this.tutorialSpr=ctorObject(lang.display.Sprite);
this.w=0;
this.h=0;
this.PreviousTime=0;
this.ElapsedTime=0;
this.gravityY=15;
this.cageCurNums=3;
this.isBallOptimize=!0;
this.isResetCamera=!1;
this.koef=1;
this.sceneSize={};
this.lastSceneSize={w:0,h:0};
this.isPause=!1;
this.setPosItemsArr=[];
this.visKeyAnimList=[];
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.mapSize={};
this.bmdMap=null;
this.isWeb=!1;
this.isWeb=!0;

this.RoomRectangle=ctorObject(lang.geom.Rectangle);
this.mapSize.width=GLOBAL.Config.SCENE_WIDTH;
this.mapSize.height=GLOBAL.Config.SCENE_HEIGHT;
this.spr1=ctorObject(lang.display.Sprite);
this.msk=ctorObject(lang.display.Sprite);
this.sceneSize={width:0,height:0};
this.margin=5;
this.worldInfo=null;
this.debugInfo=null;
this.keyItemSpr=null;
this.cageItemSpr=null;
this.smilesPanel=null;
this.ufoItemIDCur=0;
this.bg1=ctorObject(lang.display.Sprite);
callMethod(this,this.bg1,_87[2]);
this.bg1.alpha=0.5;
this.drawMapSpr=null;
this.users=users;
this.initiatorid=initiatorid;
this.players=[];
this.winnerUsersList=[];
this.cageItemsListArr=[];
this.pointsItemsList=[];
this.player=null;
this.expTime=0;
this.tsPersInfo1=0;
this.lastMiniChatTS=0;
this.map=map;
if(map){
map.time=(60 * 5);

}
this.bmMap=null;
this.stream=null;
this.timer1=null;
this.endRoomCallback=null;
this.endRoomWinnerCallback=null;
this.camera=null;
this.timerSfx=null;
this.downPanel2=null;
this.bindList=[];
this.gItemsList=[];
var joy2=GLOBAL.app.game.GamePad1;
this.joysticksArr=[{id:0,name:_87[3],cl:GLOBAL.Joystick},{id:1,name:_87[4],cl:joy2}];
this.w=GLOBAL.Config.SCENE_WIDTH;
this.h=GLOBAL.Config.SCENE_HEIGHT;
this.persContainer=ctorObject(lang.display.Sprite);
this.ufoContainer=ctorObject(lang.display.Sprite);
this.wallItemsSpr=ctorObject(lang.display.Sprite);
this.sp3=ctorObject(lang.display.Sprite);
this.mapBitmap=ctorObject(lang.display.Bitmap);
callMethod(this,GLOBAL.$app,_87[5]);
var checkv7=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,12]);
if(checkv7){
callMethod(this,GLOBAL.$app.scene,_87[7],[!1]);

}
this.isOptimizeDraw=!1;
this.isEnableBorderWall=!0;
var flagEnableBorderWall=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[4,4]);
if(flagEnableBorderWall){
this.isEnableBorderWall=!1;

}
var th=this;
this.mov=ctorObject(_87[8]);
callMethod(this,this.mov.cnt.painter,_87[9]);
this.isDrawText=!0;
var flagDrawText=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[4,2]);
if(!flagDrawText){

}else{
this.isDrawText=!1;

}

this.gamePad=null;
this.joy=null;
var keyboardCodes=lang.ui.Keyboard;
var cb866=function(key,isdown){
var keyCodeV=0;
if((key == _87[10])){
keyCodeV=keyboardCodes.LEFT;

}else if((key == _87[11])){
keyCodeV=keyboardCodes.RIGHT;

}else if((key == _87[12])){
keyCodeV=keyboardCodes.UP;

}else if((key == _87[13])){
keyCodeV=keyboardCodes.UP;

}else if((key == _87[14])){
keyCodeV=keyboardCodes.DOWN;

}else if((key == _87[15])){
keyCodeV=keyboardCodes.DOWN;

}





var ob={keyCode:keyCodeV,keyV:key};
ob.type=isdown ? _87[15] : _87[13];
callMethod(this,th,_87[16],[ob]);

};
this.gamePad=null;
if(GLOBAL.$app.vm2Service){
GLOBAL.$app.vm2Service.gamePadCB=cb866;

}
var wi=null;
if(map.worldInfo){
wi=map.worldInfo;

}
this.timerSpr=this.mov.timerSpr;
callMethod(this,this.mov,_87[17],[this.timerSpr]);
this.mapInfoTxtSpr=ctorObject(lang.display.Sprite);
this.mapInfoTxtSpr.x=100;
this.mapInfoTxtSpr.y=8;
this.mapInfoTxtID=ctorObject(lang.text.TextField);
this.mapInfoTxtID.fontName=_87[18];
this.mapInfoTxtID.bold=!0;
this.mapInfoTxtID.color=16777215;
this.mapInfoTxtID.fontSize=14;
callMethod(this,this.mapInfoTxtSpr,_87[19],[this.mapInfoTxtID]);
this.mapInfoTxtID.filters=GLOBAL.Config.shadowText2;
this.mapInfoTxtUser=ctorObject(lang.text.TextField);
this.mapInfoTxtUser.fontName=_87[18];
this.mapInfoTxtUser.bold=!0;
this.mapInfoTxtUser.color=16777215;
this.mapInfoTxtUser.fontSize=14;
callMethod(this,this.mapInfoTxtSpr,_87[19],[this.mapInfoTxtUser]);
this.mapInfoTxtUser.buttonMode=!0;
this.mapInfoTxtUser.filters=GLOBAL.Config.shadowText2;
this.txtWorldName=null;
if(wi){
this.mapInfoTxtUser.y=20;
this.mapInfoTxtSpr.x=20;
this.txtWorldName=ctorObject(lang.text.TextField);
this.txtWorldName.fontName=_87[18];
this.txtWorldName.bold=!0;
this.txtWorldName.text=(_87[20] + wi.name);
this.txtWorldName.color=16777215;
this.txtWorldName.fontSize=14;
callMethod(this,this.mapInfoTxtSpr,_87[19],[this.txtWorldName]);
this.txtWorldName.filters=GLOBAL.Config.shadowText2;

}
this.mapInfoTxtUser.click=function(){
var uid=map.user;
if(map.worldInfo){
uid=map.worldInfo.user;

}
callMethod(this,GLOBAL.$app.popup,_87[21],[uid]);

};
var timerTxtV=ctorObject(lang.text.TextField);
timerTxtV.fontName=_87[18];
timerTxtV.bold=!0;
timerTxtV.fontSize=19;
timerTxtV.color=16777215;
timerTxtV.text=_87[22];
timerTxtV.x=20;
timerTxtV.y=27;

callMethod(this,this.timerSpr,_87[19],[timerTxtV]);
this.timerSpr.txt=timerTxtV;
var th=this;
this.bg=ctorObject(_87[23]);
callMethod(this,null,_87[19],[this.bg,this.mov,this.tutorialSpr]);
this.tutorialRectSize=ctorObject(lang.geom.Rectangle,[0,0,550,100]);
this.resetMyPersPos=null;
this.tutorialState=0;
if((this.roomType == _87[24])){
this.tutorialRect=ctorObject(lang.display.Sprite);
this.tutorialRect.alpha=0.7;
callMethod(this,this.tutorialRect,_87[2]);
callMethod(this,this.tutorialRect.painter,_87[25],[1,0]);
callMethod(this,this.tutorialRect.painter,_87[26],[0,0,this.tutorialRectSize.width,this.tutorialRectSize.height,_87[27]]);
this.tutorialTFSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.tutorialSpr,_87[19],[this.tutorialRect,this.tutorialTFSpr]);
callMethod(this,this,_87[28],[['Управляй собачкой с помощью клавиш со стрелками',_87[29],'прыжок - стрелка вверх, или клавиша W']]);

}
this.chatTI=null;
this.downPanel1=ctorObject(lang.display.Sprite);
this.downPanel3=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.cntSpr3,_87[19],[this.downPanel3]);
this.timerSpr.x=90;
this.timerSpr.y=24;
if((this.roomType == _87[30])){

}else{
callMethod(this,this.downPanel1,_87[19],[this.timerSpr]);

}
callMethod(this,this.downPanel1,_87[19],[this.mapInfoTxtSpr]);
this.exitBut=ctorObject(_87[31]);
callMethod(this,this.ev,_87[32],[this.exitBut.msk,_87[33],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.ev,_87[32],[this.exitBut.msk,_87[34],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
if(th.stream){
var cb87=function(){
if(th.endRoomCallback){
callMethod(this,th,_87[35]);

}else{
callMethod(this,th,_87[36]);

}

};
var isV7=!1;
if(th.myPers){
if(th.myPers.isOut){
isV7=!0;

}
if(th.myPers.isWinner){
isV7=!0;

}

}
if((th.roomType == _87[30])){
isV7=!0;

}
if((th.persContainer.numChildren <= 1)){
isV7=!0;

}
if(isV7){
cb87();

}else{
callMethod(this,GLOBAL.$app.popup,_87[37],['Вы действительно хотите выйти из забега?',cb87]);

}

}else{
if(th.endRoomCallback){
callMethod(this,th,_87[35]);

}else{
callMethod(this,th,_87[36]);

}

}

};
if((this.roomType == _87[24])){

}else{
callMethod(this,this.downPanel1,_87[19],[this.exitBut]);

}
callMethod(this,GLOBAL.$app.scene.menuDownCont,_87[19],[this.downPanel1]);
this.debugCheckboxSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.downPanel1,_87[19],[this.debugCheckboxSpr]);
this.debugCheckboxSpr.x=90;
this.debugCheckboxSpr.y=2;
this.sp=this.mov.cnt;
this.sp.updateDOM=!1;
this.world=ctorObject(lang.game.engines.box2d.Box2D);
this.world.optimized=!0;
var box2dWW=lang.game.engines.box2d;
var groundBody=ctorObject(box2dWW.Body,[{}]);
groundBody.type=_87[38];
var scaleWorld=this.world.scale;
callMethod(this,this.world,_87[32],[_87[39],function(){
var thh=this;
var i=0;
while((i < th.pointsItemsList.size)){
var el=th.pointsItemsList[i];
var xx1=(el.x + 1);
var yy1=(el.y + 1);
var ar2=callMethod(this,thh,_87[40],[{x:(xx1 / thh.scale),y:(yy1 / thh.scale)}]);
if((ar2.size > 0)){
var el1=ar2[0];
var locX=0;
var locY=0;
var xItem1Orig=0;
var yItem1Orig=0;
if(checkIn(el1,_87[41])){
var mv1=el1.userData;
if(mv1){
mv1.qqq5=!0;

}
if(checkIn(mv1,_87[42])){
if(checkIn(mv1,_87[43])){
var w2=3;
xItem1Orig=mv1.x;
yItem1Orig=mv1.y;
locX=(mv1.x - el.x);
locY=((mv1.y - el.y) + w2);

}

}

}
var elEnd=callMethod(this,ar2,_87[44]);
var k=0;
while((k < ar2.size)){
var el1=ar2[k];
if(el1){
if(checkIn(el1,_87[41]) && el1.userData){
el1.userData.qqq5=!0;

}

}
var prr=ctorObject(box2dWW.Joint,[_87[45]]);
callMethod(this,prr,_87[46],[elEnd,el1,{x:(el.x / scaleWorld),y:(el.y / scaleWorld)},{x:(xItem1Orig / scaleWorld),y:(yItem1Orig / scaleWorld)}]);
callMethod(this,thh,_87[47],[prr]);
k++;
}
if((el.tt == 1)){
var prr=ctorObject(box2dWW.Joint,[_87[48]]);
callMethod(this,prr,_87[46],[groundBody,elEnd,{x:(el.x / scaleWorld),y:(el.y / scaleWorld)},{x:(locX / scaleWorld),y:(locY / scaleWorld)}]);
callMethod(this,thh,_87[47],[prr]);

}

}
i++;
}

}]);
this.camera=null;
this.stream=null;
this.isOne=!0;
this.gameItemsInfo=[{t:1,imgSize:[50,50],imgScaleX:0.8,imgScaleY:0.8},{t:2,imgSize:[30,30]},{t:3,imgSize:[30,30]},{t:4,imgSize:[50,50],imgScaleX:0.8,imgScaleY:0.8},{t:100,imgSize:[95,100],imgScaleX:0.6,imgScaleY:0.6},{t:105,imgSize:[95,100],imgScaleX:0.6,imgScaleY:0.6}];
var persSpeed=5;
var persJump=145;
var jumpSpringboard=210;

persJump=(persJump / GLOBAL.$app.koefFps);
jumpSpringboard=(jumpSpringboard / GLOBAL.$app.koefFps);
this.jumpSpringDef=jumpSpringboard;
var th=this;
this.pCfgArgs=[persSpeed,persJump,jumpSpringboard];
this.itemsListBodyCfg=GLOBAL.Config.physicsItemsBody;
callMethod(this,this.world,_87[46],[{x:0,y:this.gravityY},((1 / 25) * GLOBAL.$app.koefFps),!0]);
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.DEBUG_PHYSICS) > 0)){
callMethod(this,this.world,_87[49]);

}
callMethod(this,this.world,_87[50]);
this.collisionMaster=ctorObject(_87[51]);
callMethod(this,this.world,_87[32],[_87[52],function(t,a,b){
callMethod(this,th.collisionMaster,_87[6],[t,a,b]);

}]);
callMethod(this,this.collisionMaster,_87[53],[_87[54],function(t,a,b){
if((t == _87[55])){
var bodyA=null;
if(checkIn(b,_87[56])){
bodyA=b.body;

}
if(bodyA){
var posX1=(a.a.bmOut.x + (a.a.w / 2));
var posY1=(a.a.bmOut.y + (a.a.h / 2));
callMethod(this,th.setPosItemsArr,_87[57],[{x:posX1,y:posY1,body:bodyA}]);

}

}

}]);
callMethod(this,this.collisionMaster,_87[53],[_87[58],function(t,a,b){
var isWallIce=!1;
var isWallRest=!1;
if(checkIn(b,_87[59])){
if((b.wallType == _87[60])){
isWallIce=!0;

}else if((b.wallType == _87[61])){
isWallRest=!0;

}else if((b.wallType == _87[62])){
isWallRest=!0;

}else if((b.wallType == _87[63])){
isWallRest=!0;

}else if((b.wallType == _87[64])){
isWallRest=!0;

}





}
if((t == _87[55])){
callMethod(this,a,_87[65],[_87[66]]);
if(isWallRest){
a.isIceMode=!0;

}else{
var qq1=!0;
if(checkIn(b,_87[67])){
if(b.isSensorItem){
qq1=!1;

}

}
if(checkIs(b,GLOBAL.app.game.CollisionItem)){
qq1=!1;

}
if(qq1){
a.isIceMode=!1;

}

}
if(isWallIce){
a.isIceMode=!0;

}else{
var qq1=!0;
if(isWallRest){
qq1=!1;

}
if(checkIn(b,_87[67])){
if(b.isSensorItem){
qq1=!1;

}

}
if(checkIs(b,GLOBAL.app.game.CollisionItem)){
qq1=!1;

}
if(qq1){
a.isIceMode=!1;

}

}
a.lastItemCollision=b;

}else if((t == _87[68])){
if((a.lastItemCollision == b)){
a.lastItemCollision=null;

}

}


}]);
callMethod(this,this.collisionMaster,_87[69],[_87[58],_87[70],function(t,a,b){
if((t == _87[55])){
if(checkIs(b,GLOBAL.app.game.CollisionItem)){
if((a.user.id == GLOBAL.$app.user.id)){
if(b.cb){
callMethod(this,b,_87[71],[b.a]);

}

}

}

}else if((t == _87[68])){

}


}]);
callMethod(this,this.collisionMaster,_87[69],[_87[58],_87[72],function(t,a,b){
if((t == _87[55])){
if(checkIn(b,_87[73])){
b=b.uData;

}
if(checkIs(b,GLOBAL.app.game.CollisionItem)){
if((a.user.id == GLOBAL.$app.user.id)){
if(b.cb){
callMethod(this,b,_87[71],[b.a]);

}

}

}

}else if((t == _87[68])){

}


}]);
callMethod(this,this.collisionMaster,_87[69],[_87[58],_87[74],function(t,a,b){
if((t == _87[55])){
var persX=th.map.persObj.x;
var persY=th.map.persObj.y;
var dt=callMethod(this,Date,_87[75]);
if(!checkIn(a,_87[76])){
a.lastTimeCactusV=0;

}
if((dt >= a.lastTimeCactusV)){
a.resetPersPos={x:(persX / th.world.scale),y:(persY / th.world.scale)};
a.lastTimeCactusV=(dt + 200);

}

}else if((t == _87[68])){

}


}]);
callMethod(this,this.collisionMaster,_87[69],[_87[58],_87[77],function(t,a,b){
if((t == _87[55])){
callMethod(this,b.bmc,_87[78],[1]);
a.isJumpSpring=!0;
if(checkIn(b,_87[79])){
a.jumpLevel=b.jumpLevel;

}

}else{
if(checkIn(b,_87[80]) && b.springBoardTimer1){

}else{
b.springBoardTimer1=callMethod(this,Timer,_87[46],[1000,function(){
callMethod(this,this,_87[81]);
b.springBoardTimer1=null;
callMethod(this,b.bmc,_87[78],[0]);

}]);

}

}

}]);
this.itemsSpr=ctorObject(lang.display.Sprite);
this.itemsSpr.mouseEnabled=!1;
this.mainContainer=ctorObject(lang.display.Sprite);
this.gameItemsContainer=ctorObject(lang.display.Sprite);
this.cb866=cb866;
callMethod(this,this,_87[82],[(GLOBAL.Config.PercGameRoomScale / 100)]);
callMethod(this,this,_87[83],[(GLOBAL.Config.PercGameRoomGamePadScale / 100)]);
var isMapOptimize=callMethod(this,this,_87[84],[map]);
if(isMapOptimize){
this.isOptimizeDraw=!0;

}

if(map){
callMethod(this,th,_87[85],[map]);
var scaleW=th.world.scale;

}
var v5=!1;
callMethod(this,this.mainContainer,_87[19],[this.itemsSpr]);
if(this.isOptimizeDraw){
if(GLOBAL.$app.isDrawBitmapStream){
v5=!0;
var sw=GLOBAL.$app.stageScaleWidth;
var sh=GLOBAL.$app.stageScaleHeight;
var bmd=ctorObject(lang.display.BitmapData,[sw,sh,0,!0]);
callMethod(this,bmd,_87[86],[this.wallItemsSpr]);
this.lastSceneSize.w=sw;
this.lastSceneSize.h=sh;
this.mapBitmap.src=bmd;
this.bmdMap=bmd;
this.bmMap=this.mapBitmap;

}else{
var bmd=ctorObject(lang.display.BitmapData,[((map.width + 50) * (GLOBAL.$app.stage.pixelRatio * GLOBAL.$app.scaleFactor)),((map.height + 50) * (GLOBAL.$app.stage.pixelRatio * GLOBAL.$app.scaleFactor)),0,!0]);
bmd.resolution=(GLOBAL.$app.stage.pixelRatio * GLOBAL.$app.scaleFactor);
callMethod(this,bmd,_87[87],[this.wallItemsSpr]);
this.mapBitmap.noBase64=!0;
this.mapBitmap.src=bmd;
callMethod(this,this.mainContainer,_87[19],[this.mapBitmap]);

}

}
callMethod(this,this.sp,_87[19],[this.mainContainer]);
if(v5){
callMethod(this,this.sp,_87[19],[this.mapBitmap]);

}
callMethod(this,this.sp,_87[19],[this.sp3]);
callMethod(this,this.sp3,_87[19],[this.ufoContainer]);
callMethod(this,this.sp3,_87[19],[this.persContainer]);
callMethod(this,this.sp3,_87[19],[this.gameItemsContainer]);
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.HIDE_MAP) > 0)){
m.cnt.visible=!1;

}
this.myPers=null;
if(users){
var i=0;
while((i < users.size)){
var u=users[i];
var persX=map.persObj.x;
var persY=map.persObj.y;
if(checkIn(u,_87[88])){
if(u.persXY){
if((u.persXY.size > 1)){
persX=u.persXY[0];
persY=u.persXY[1];

}

}

}
var pers=callMethod(this,this,_87[89],[u,persX,persY]);
if((th.roomType != _87[30])){
if((u.id != th.initiatorid)){
pers.nickTxt.alpha=0;

}

}
if(checkIn(u,_87[90])){
var pr3=u.itemsProps;
if(pr3){
if(checkIn(pr3,_87[91]) && (pr3.item1 == 1)){
pr3.item1=1;
callMethod(this,pers,_87[92],[!0]);

}
if(checkIn(pr3,_87[93]) && (pr3.item2 == 1)){
pr3.item2=1;

}
if(checkIn(pr3,_87[94]) && pr3.isViewer){
callMethod(this,th,_87[95],[u.id]);

}

}

}
if((u.id == th.initiatorid)){
this.myPers=pers;
this.camera=pers;

}
i++;
}

}
if((th.roomType != _87[30])){
var i=0;
while((i < th.persContainer.numChildren)){
var el=callMethod(this,th.persContainer,_87[96],[i]);
if(el){
if((el.user.id != th.initiatorid)){
var tween=ctorObject(lib.Tween,[el.nickTxt]);
callMethod(this,tween,_87[46],[{alpha:1},5500,function(){

},function(){

}]);
callMethod(this,tween,_87[50]);

}

}
i++;
}

}
var checkAllNicks=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,3]);
if(checkAllNicks){
callMethod(this,this,_87[97],[3,!0]);

}
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.GAMEPAD) > 0)){
callMethod(this,th,_87[98],[!1]);

}
this.collisionItemCB=function(tt,item){
item.alpha=0.5;
var isHand=0;
if((tt == _87[99])){
isHand=1;

}
if(th.stream){
callMethod(this,th.stream,_87[100],[_87[101],item.itemid,isHand]);

}

};
callMethod(this,this.ev,_87[32],[GLOBAL.$app.stage,_87[15],function(e){
var r2=!1;
if((e.keyCode == lang.ui.Keyboard.UP)){
r2=!0;

}else if((e.keyCode == lang.ui.Keyboard.DOWN)){
r2=!0;

}

if(r2){
callMethod(this,e,_87[102]);

}

callMethod(this,th,_87[16],[e]);

}]);
callMethod(this,this.ev,_87[32],[GLOBAL.$app.stage,_87[13],function(e){
callMethod(this,th,_87[16],[e]);

}]);
callMethod(this,this,_87[46]);
this.PreviousTime=callMethod(this,Date,_87[75]);

};
_scenes_game_GameRoom[_87[28]]=function(arr){
if(arr){
if((this.roomType == _87[24])){
var yy=0;
callMethod(this,this.tutorialTFSpr,_87[103]);
var i=0;
while((i < arr.size)){
var v=arr[i];
var tx=ctorObject(lang.text.TextField);
tx.fontName=_87[18];
tx.bold=!0;
tx.color=0;
tx.fontSize=16;
tx.text=('' + v);
tx.x=((this.tutorialRectSize.width - tx.width) / 2);
tx.y=yy;
callMethod(this,this.tutorialTFSpr,_87[19],[tx]);
yy+=15;
i++;
}
this.tutorialTFSpr.y=((this.tutorialRectSize.height - yy) / 2);

}

}

};
_scenes_game_GameRoom[_87[98]]=function(isUfo){
var th=this;
if(th.joy){
var ind1=callMethod(this,th,_87[104],[th.joy]);
if((ind1 > -1)){
callMethod(this,th.joy,_87[105]);
callMethod(this,th,_87[17],[th.joy]);
th.joy=null;

}

}
if(!th.joy){
var ob={N:_87[12],NW:_87[10],E:_87[11],NE:_87[11],W:_87[10],SW:_87[10],S:_87[14],SE:_87[11],left:_87[10],right:_87[11]};
var ob2={N:_87[12],NW:_87[106],E:_87[11],NE:_87[107],W:_87[10],SW:_87[108],S:_87[14],SE:_87[109],left:_87[10],right:_87[11]};
var cll=GLOBAL.Joystick;
var gamepadV=0;
if(GLOBAL.$app.cfgDataObj){
if(checkIn(GLOBAL.$app.cfgDataObj,_87[110])){
gamepadV=GLOBAL.$app.cfgDataObj.gamepadID;

}

}
if(!isUfo){
var i=0;
while((i < th.joysticksArr.length)){
var el=th.joysticksArr[i];
if((el.id == gamepadV)){
if(el.cl){
cll=el.cl;

}

}
i++;
}

}else{
gamepadV=0;

}
var joy=ctorObject(cll,[function(vv){
if(th.myPers){
var isdown=!0;
var kk='';
var obvv=ob;
if(th.myPers.viewerModeV){
obvv=ob2;

}
if(checkIn(obvv,vv)){
kk=obvv[vv];
if(!th.myPers.viewerModeV){
if((kk == _87[12])){
kk='';

}

}

}else{
isdown=!1;
kk=th.myPers.key;

}
var isJump=!1;
if((vv == _87[111])){
isJump=!0;
kk=_87[12];
isdown=!0;

}
callMethod(this,th,_87[112],[kk,isdown]);
if(isJump){
callMethod(this,th,_87[112],[kk,!1]);

}

}

}]);
if((gamepadV == 0)){
joy.alpha=0.6;

}
callMethod(this,th,_87[19],[joy]);
th.joy=joy;
callMethod(this,th,_87[83],[(GLOBAL.Config.PercGameRoomGamePadScale / 100)]);

}

};
_scenes_game_GameRoom[_87[84]]=function(map){
var vv=!0;
if(map){
if((map.width > 0)){
if((map.width > 8000)){
return !1;

}
if((map.height > 8000)){
return !1;

}

}
if((map.items.size > 0)){
var arr=map.items;
var i=0;
while((i < arr.size)){
var el=arr[i];
if(checkIn(el,_87[113])){
if((el.f1 > 0)){
vv=!1;

}

}
if(checkIn(el,_87[114])){
if((el.t == 21)){
this.isBallOptimize=!1;

}

}
i++;
}

}

}
return vv;

};
_scenes_game_GameRoom[_87[215]]=function(_stream){
var th=this;
this.stream=_stream;
callMethod(this,this.stream,_87[32],[_87[115],function(){
callMethod(this,th,_87[36]);
if((th.roomType == '')){
var autoZabeg=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,5]);
if(!autoZabeg){
callMethod(this,GLOBAL.$app.gameMaster,_87[116]);

}

}

}]);
callMethod(this,this.stream,_87[32],[_87[117],function(user,pos,arr,updScoreInfo){
var perss=callMethod(this,th,_87[118],[user]);
if(perss){
perss.isWinner=!0;
perss.winnerPos=pos;
callMethod(this,th.winnerUsersList,_87[57],[perss]);

}
if((user == GLOBAL.$app.user.id)){
var time_opyt=arr[0];
var opyt_prize=arr[1];
var opyt_top=arr[2];
var moneyV=0;
if((arr.size > 3)){
moneyV=arr[3];

}
var isOpenWin=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,16]);
if(!isOpenWin){
callMethod(this,GLOBAL.$app.popup,_87[119],[pos,time_opyt,opyt_prize,opyt_top,moneyV]);

}
var mapidd=0;
if(th.map){
mapidd=th.map.id;

}
if(updScoreInfo){
callMethod(this,GLOBAL.$app.popup,_87[120],[mapidd,user,updScoreInfo.score,updScoreInfo.prize]);

}

}

}]);
callMethod(this,this.stream,_87[32],[_87[121],function(user,t,x,y){
callMethod(this,th,_87[122],[user,t,x,y]);

}]);
callMethod(this,this.stream,_87[32],[_87[123],function(u){
if(u){
var uu=ctorObject(_87[124]);
callMethod(this,uu,_87[125],[u]);
callMethod(this,th.users,_87[57],[uu]);
var persX=th.map.persObj.x;
var persY=th.map.persObj.y;
if(checkIn(uu,_87[88])){
if(uu.persXY){
if((uu.persXY.size > 1)){
persX=uu.persXY[0];
persY=uu.persXY[1];

}

}

}
callMethod(this,th,_87[89],[uu,persX,persY]);

}

}]);
callMethod(this,this.stream,_87[32],[_87[126],function(t){
if((t == _87[127])){
callMethod(this,GLOBAL.$app.popup,_87[128],['Вы уже взяли ключ, возврат на начало невозможен.']);

}else if((t == _87[129])){
callMethod(this,th,_87[130],[GLOBAL.$app.user.id,'Режим зрителя доступен тестерам.']);

}


}]);
callMethod(this,this.stream,_87[32],[_87[131],function(t){
if(t){
if((t.size > 0)){
callMethod(this,GLOBAL.$app.popup,_87[128],[t]);

}

}

}]);
callMethod(this,this.stream,_87[32],[_87[132],function(nm){
if(th.txtWorldName){
th.txtWorldName.text=(_87[20] + nm);
if(th.map){
if(th.map.worldInfo){
th.map.worldInfo.name=nm;

}

}

}

}]);
callMethod(this,this.stream,_87[32],[_87[133],function(user,txt){
callMethod(this,th,_87[130],[user,txt]);

}]);
callMethod(this,this.stream,_87[32],[_87[134],function(user){
callMethod(this,th,_87[135],[user]);

}]);
callMethod(this,this.stream,_87[32],[_87[136],function(user,xx,yy){
callMethod(this,th,_87[137],[user]);

}]);
callMethod(this,this.stream,_87[32],[_87[138],function(userid){
callMethod(this,th,_87[139],[userid]);

}]);
callMethod(this,this.stream,_87[32],[_87[140],function(userid){
callMethod(this,th,_87[95],[userid]);

}]);
callMethod(this,this.stream,_87[32],[_87[141],function(id,t,t1,x,y){
if((t == 100)){
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,10]);
if(!checkSound){
callMethod(this,GLOBAL.$app,_87[142],[_87[143]]);

}
var perss=callMethod(this,th,_87[118],[GLOBAL.$app.user.id]);
if(perss){
x=(perss.x - 50);
y=(perss.y - 50);

}
if((x < 50)){
x=50;

}

}else if((t == 105)){
var perss=callMethod(this,th,_87[118],[GLOBAL.$app.user.id]);
if(perss){
x=(perss.x - 100);
y=(perss.y - 100);

}
if((x < 50)){
x=50;

}

}

if((y < 150)){
y=150;

}
callMethod(this,th,_87[141],[id,t,t1,x,y]);

}]);
callMethod(this,this.stream,_87[32],[_87[144],function(userid){
if(th.map){
var persX=th.map.persObj.x;
var persY=th.map.persObj.y;
var i=0;
while((i < th.persContainer.numChildren)){
var el=callMethod(this,th.persContainer,_87[96],[i]);
if(el){
callMethod(this,th,_87[122],[el.userid,_87[145],persX,persY]);

}
i++;
}

}

}]);
callMethod(this,this.stream,_87[32],[_87[146],function(userid){
var perss=callMethod(this,th,_87[118],[userid]);
if(perss){
if(th.map){
callMethod(this,perss,_87[147]);
if((th.roomType == _87[30])){
perss.item1=0;
perss.item2=0;

}
var persX=th.map.persObj.x;
var persY=th.map.persObj.y;
callMethod(this,th,_87[122],[userid,_87[145],persX,persY]);

}

}

}]);
callMethod(this,this.stream,_87[32],[_87[148],function(){
var i=0;
while((i < th.persContainer.numChildren)){
var el=callMethod(this,th.persContainer,_87[96],[i]);
if(el){
callMethod(this,el,_87[147]);
el.item1=0;
el.item2=0;

}
i++;
}

}]);
callMethod(this,this.stream,_87[32],[_87[149],function(user,t,id1,arg2){
var perss=callMethod(this,th,_87[118],[user]);
if(perss){
if((t == 1)){
perss.item1=1;
callMethod(this,perss,_87[92],[!0]);
if((GLOBAL.$app.user.id == user)){
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,6]);
if(!checkSound){
callMethod(this,GLOBAL.$app,_87[142],[_87[150]]);

}

}

}else if((t == 2)){
th.ufoItemIDCur=th.gItemsList[2];
callMethod(this,perss,_87[92],[!1]);
var cageSpr=callMethod(this,th,_87[151],[id1]);
if(cageSpr){
cageSpr.curPers=perss;
cageSpr.cb3=function(){
var cageNext=callMethod(this,th,_87[152],[this.itemObb]);

};
callMethod(this,cageSpr,_87[153],[user,_87[154],function(){

}]);
if(cageSpr.ufoFunc2){
callMethod(this,cageSpr,_87[155]);

}

}

}else if((t == 3)){
var cageSpr=callMethod(this,th,_87[151],[arg2]);
if(cageSpr){
cageSpr.curPers=perss;
callMethod(this,cageSpr,_87[155]);

}

}



}

}]);
callMethod(this,this.stream,_87[32],[_87[101],function(user,idd,status,t,a2){
if((status == 1)){
callMethod(this,th,_87[156],[idd]);

}else{
callMethod(this,th,_87[130],[GLOBAL.$app.user.id,_87[157]]);
callMethod(this,th,_87[158],[idd]);

}

}]);
this.chatTI=ctorObject(_87[159]);
var el2=callMethod(this,this.chatTI,_87[96],[1]);
if(el2){
if(checkIn(el2,_87[160])){
var w5=el2.width;
var h5=el2.height;
el2.painter.fillData=GLOBAL.Config.chatInputBGColor;
callMethod(this,el2.painter,_87[9]);
callMethod(this,el2.painter,_87[26],[0,0,w5,h5,el2.painter.fillData]);

}

}
this.chatTI.ti.color=13232031;
this.chatTI.ti.y+=7;

this.tm3=null;
var maxLen=120;
var ind2=callMethod(this,this.chatTI,_87[96],[5]);
if(ind2){
ind2.filters=GLOBAL.Config.shadowText2;

}
callMethod(this,this.chatTI.ti,_87[161],[{'spellcheck':'','maxLength':maxLen}]);
callMethod(this,this.ev,_87[32],[this.chatTI.ti,_87[164],function(e){
if(!th.tm3){
if(th.stream){
callMethod(this,th.stream,_87[100],[_87[134]]);

}
th.tm3=callMethod(this,Timer,_87[46],[1500,function(){
callMethod(this,this,_87[81]);
th.tm3=null;

}]);

}

}]);
callMethod(this,this.ev,_87[32],[this.chatTI.ti,_87[13],function(e){
if((e.keyCode == 13)){
var txt=th.chatTI.ti.value;
callMethod(this,th,_87[165],[txt]);

}

}]);
callMethod(this,GLOBAL.AppUtils,_87[166],[this.chatTI.sendBut,0.7,1]);
callMethod(this,GLOBAL.AppUtils,_87[166],[this.chatTI.smilesBut,0.7,1]);
this.chatTI.sendBut.click=function(){
var txt=th.chatTI.ti.value;
callMethod(this,th,_87[165],[txt]);

};
this.chatTI.smilesBut.click=function(){
callMethod(this,th,_87[167]);

};
this.debugInfo=ctorObject(_87[168]);
callMethod(this,this.debugInfo,_87[46],[_stream]);
var isDebugTrace=!1;
var isDebugInfo=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,1]);
if(isDebugInfo){
callMethod(this,this,_87[169],[!0]);

}
if(this.isWeb){
callMethod(this,this.downPanel3,_87[19],[this.chatTI]);

}else{
callMethod(this,this.downPanel1,_87[19],[this.chatTI]);

}
this.chatTI.y=20;
this.downPanel2=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_87[19],[this.downPanel2]);
var nm3=_87[170];
var txtActionTxt1=ctorObject(lang.text.TextField);
txtActionTxt1.fontName=_87[18];
txtActionTxt1.bold=!0;
txtActionTxt1.color=16776960;
txtActionTxt1.buttonMode=!0;
txtActionTxt1.text=nm3;
txtActionTxt1.x=200;
if((th.roomType == _87[30])){
txtActionTxt1.x=124;

}
txtActionTxt1.y=50;
txtActionTxt1.filters=GLOBAL.Config.shadowText2;
callMethod(this,this.downPanel2,_87[19],[txtActionTxt1]);
var isViewMap=!1;
txtActionTxt1.click=function(){
var menuList=[];
var isWorld=!1;
var nm5=_87[171];
if(th.map.worldInfo){
nm5=_87[172];
isWorld=!0;

}
callMethod(this,menuList,_87[57],[[(_87[173] + nm5),function(){
if(!isViewMap){
isViewMap=!0;
var renderMap=ctorObject(_87[174]);
renderMap.map=th.map;
callMethod(this,renderMap,_87[175]);
callMethod(this,th.mov,_87[19],[renderMap.mapInfoSpr]);
if(renderMap.mapInfoSprCur){
callMethod(this,renderMap.mapInfoSprCur,_87[176]);

}
callMethod(this,Timer,_87[46],[4000,function(){
isViewMap=!1;
callMethod(this,this,_87[81]);
var tween=callMethod(this,null,_87[177],[renderMap.mapInfoSpr,{alpha:0},200,{ok:function(){
callMethod(this,th.mov,_87[17],[renderMap.mapInfoSpr]);

}}]);

}]);

}

}]]);
if(th.map.worldInfo){
var reloadWorld=function(){
if(th.map && th.map.worldInfo){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_87[178],[th.map.worldInfo.user]);

}

};
callMethod(this,menuList,_87[57],[[_87[179],function(){
reloadWorld();

}]]);
if((th.map.worldInfo.user == GLOBAL.$app.user.id)){
callMethod(this,menuList,_87[57],[[_87[180],function(){
var cmdOwn=function(tt,arg1,arg2){
if(th.stream){
callMethod(this,th.stream,_87[100],[_87[181],tt,arg1,arg2]);

}

};
var arr2=[];
callMethod(this,arr2,_87[57],[[_87[182],function(){
var nm5=('' + th.map.worldInfo.name);
callMethod(this,GLOBAL.$app.popup,_87[183],[_87[184],_87[185],nm5,function(ob){
var vv2=ob.name;
if((vv2.size > 0)){
if((nm5 != vv2)){
cmdOwn(_87[186],vv2);

}

}

}]);

}]]);
callMethod(this,arr2,_87[57],[[_87[187],function(){
callMethod(this,GLOBAL.$app.popup,_87[183],[_87[188],_87[189],'',function(ob){
var vv2=castInt(ob.name);
if((vv2 > 0)){
callMethod(this,GLOBAL.$app.gameMaster,_87[190],[vv2,null,function(){
callMethod(this,GLOBAL.$app.popup,_87[128],['ID карты обновлён, нужно перезайти в мир.']);

}]);

}

}]);

}]]);
callMethod(this,arr2,_87[57],[[_87[191],function(){
callMethod(this,GLOBAL.$app.popup,_87[37],[_87[192],function(){
cmdOwn(_87[193]);

}]);

}]]);
callMethod(this,arr2,_87[57],[[_87[194],function(){
callMethod(this,GLOBAL.$app.popup,_87[37],[_87[195],function(){
cmdOwn(_87[148]);

}]);

}]]);
callMethod(this,arr2,_87[57],[[_87[196],function(){
callMethod(this,GLOBAL.$app.popup,_87[37],[_87[197],function(){
cmdOwn(_87[198]);

}]);

}]]);
callMethod(this,arr2,_87[57],[[_87[199],function(){
callMethod(this,GLOBAL.$app.popup,_87[37],[_87[200],function(){
cmdOwn(_87[201]);

}]);

}]]);
callMethod(this,GLOBAL.$app.chat,_87[202],[arr2,nm3,0,!0]);

}]]);

}
if((th.map.user == GLOBAL.$app.user.id)){
callMethod(this,menuList,_87[57],[[_87[203],function(){
if(th.map){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_87[204],[th.map]);

}

}]]);

}

}
if(th.stream){
callMethod(this,menuList,_87[57],[[_87[205],function(){
callMethod(this,GLOBAL.$app.popup,_87[37],[_87[206],function(){
if(th.stream){
callMethod(this,th.stream,_87[100],[_87[146],!0]);

}

}]);

}]]);
if(th.myPers){
if(!th.myPers.viewerModeV){
callMethod(this,menuList,_87[57],[[_87[207],function(){
callMethod(this,GLOBAL.$app.popup,_87[37],[_87[208],function(){
if(th.stream){
callMethod(this,th.stream,_87[100],[_87[209]]);

}

}]);

}]]);

}

}

}
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.GAMEPAD) > 0)){


}
callMethod(this,GLOBAL.$app.chat,_87[202],[menuList,nm3,0,!0]);

};
callMethod(this,GLOBAL.$app.popup,_87[210],[_87[211]]);
callMethod(this,GLOBAL.$app.popup,_87[210],[_87[212]]);
callMethod(this,GLOBAL.$app.popup,_87[210],[_87[213]]);
callMethod(this,this,_87[214],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

};
_scenes_game_GameRoom[_87[216]]=function(){
var th=this;
if(th.smilesPanel){
if(th.smilesPanel.parent){
callMethod(this,th.smilesPanel.parent,_87[17],[th.smilesPanel]);

}
th.smilesPanel=null;

}

};
_scenes_game_GameRoom[_87[167]]=function(){
var th=this;
callMethod(this,GLOBAL.$app.chat,_87[217]);
if(th.smilesPanel){
callMethod(this,th,_87[216]);

}else{
var c=ctorObject(_87[218]);
c.chatInput=callMethod(this,th,_87[219]);
c.closeCB=function(){
callMethod(this,th,_87[216]);
c.closeCB=null;

};
th.smilesPanel=c;
callMethod(this,th,_87[214],[th.w,th.h]);
callMethod(this,th.chatTI,_87[19],[c]);

}

};
_scenes_game_GameRoom[_87[122]]=function(user,t,x,y){
var th=this;
var u=callMethod(this,this,_87[118],[user]);
if(u){
callMethod(this,u.body,_87[220],[{x:(x / th.world.scale),y:(y / th.world.scale)}]);
if(u.viewerModeV){
u.x=x;
u.y=y;

}
if((t != _87[111])){
u.key=t;

}
if((t == _87[111])){
u.isJump=!0;

}

}

};
_scenes_game_GameRoom[_87[219]]=function(){
var th=this;
if(th.chatTI){
return th.chatTI.ti;

}
return null;

};
_scenes_game_GameRoom[_87[95]]=function(userid){
var th=this;
var pers=callMethod(this,th,_87[118],[userid]);
if(pers){
if(!pers.viewerModeV){
callMethod(this,pers,_87[147]);
callMethod(this,pers,_87[140],[th]);
if((userid == GLOBAL.$app.user.id)){
callMethod(this,th,_87[98],[!0]);

}

}

}

};
_scenes_game_GameRoom[_87[165]]=function(txt){
callMethod(this,this,_87[216]);
var ts=callMethod(this,Date,_87[221]);
if((ts >= this.lastMiniChatTS)){
this.lastMiniChatTS=(ts + 1);
this.chatTI.ti.value='';
if(this.tm3){
callMethod(this,this.tm3,_87[81]);

}
this.tm3=null;
callMethod(this,this,_87[222],[txt]);

}

};
_scenes_game_GameRoom[_87[141]]=function(id,t,t1,x,y){
var q=ctorObject(_87[223],[t,id]);
q.t1=t1;
callMethod(this,q,_87[46],[GLOBAL.$app.user,this,x,y]);
callMethod(this,this.gameItemsContainer,_87[19],[q]);

};
_scenes_game_GameRoom[_87[158]]=function(id){
var item=callMethod(this,this,_87[224],[id]);
if(item){
item.isV=!1;
item.alpha=1;

}

};
_scenes_game_GameRoom[_87[225]]=function(id){
var th=this;
var i=0;
while((i < th.gameItemsInfo.size)){
var el=th.gameItemsInfo[i];
if((el.t == id)){
return el;

}
i++;
}
return null;

};
_scenes_game_GameRoom[_87[224]]=function(id){
var th=this;
var i=0;
while((i < th.gameItemsContainer.numChildren)){
var el=callMethod(this,th.gameItemsContainer,_87[96],[i]);
if(el){
if((el.itemid == id)){
return el;

}

}
i++;
}
return null;

};
_scenes_game_GameRoom[_87[156]]=function(id){
var th=this;
var el=callMethod(this,this,_87[224],[id]);
if(el){
callMethod(this,el.parent,_87[17],[el]);
if(th.world){
callMethod(this,th.world,_87[226],[el.body]);

}
return el;

}
return null;

};
_scenes_game_GameRoom[_87[16]]=function(e){
var th=this;
if(!th.myPers.isOut){
if(!th.isPause){
var key='';
if(checkIn(e,_87[227])){
key=e.keyV;

}
var Keyboard=lang.ui.Keyboard;
var isJumpKey=!1;
var code=e.keyCode;
var userid=th.myPers.user.id;
var isDown=!1;
var isViewerMode=th.myPers.viewerModeV;
if((e.type == _87[15])){
isDown=!0;

}
var isJump=!1;
if(!isViewerMode){
if((e.keyCode == Keyboard.UP)){
isJumpKey=!0;

}else if((e.keyCode == Keyboard.W)){
isJumpKey=!0;

}

if(isJumpKey){
if(!th.myPers.isPressJump){
th.myPers.isPressJump=!0;
isJump=!0;

}

}

}
if(!isJump){
if((e.keyCode == Keyboard.LEFT)){
key=_87[10];

}else if((e.keyCode == Keyboard.A)){
key=_87[10];

}else if((e.keyCode == Keyboard.RIGHT)){
key=_87[11];

}else if((e.keyCode == Keyboard.D)){
key=_87[11];

}



if(isViewerMode){
if((e.keyCode == Keyboard.UP)){
key=_87[13];

}else if((e.keyCode == Keyboard.W)){
key=_87[13];

}else if((e.keyCode == Keyboard.DOWN)){
key=_87[15];

}else if((e.keyCode == Keyboard.S)){
key=_87[15];

}




}

}
if((e.type == _87[13])){
if(isJumpKey){
if(th.myPers.keyJump){
th.myPers.keyJump=!1;

}
if(th.myPers.isPressJump){
th.myPers.isPressJump=!1;

}

}
if(isJumpKey && th.myPers.keyJump){
th.myPers.keyJump=!1;

}
if(!isJumpKey && (th.myPers.key == key)){
if((key != '')){
callMethod(this,th,_87[228],[_87[81]]);

}
th.myPers.key='';

}

}else if((e.type == _87[15])){
var isJumpVV=!1;
if(isJump && !th.myPers.isJump){
if(!isViewerMode){
isJumpVV=!0;

}

}
if(isJumpVV){
th.myPers.isJump=!0;
if(!th.myPers.keyJump){
var isGround=callMethod(this,th,_87[229],[th.myPers]);
th.myPers.keyJump=!0;
if(isGround){
callMethod(this,th,_87[228],[_87[111]]);

}

}

}else{
if((key != '')){
if((th.roomType == _87[24])){
if((th.tutorialState == 0)){
th.tutorialState=1;
callMethod(this,th,_87[28],[[_87[230]]]);

}

}
if((th.myPers.key != key)){
callMethod(this,th,_87[228],[key]);

}
th.myPers.key=key;

}

}

}


}

}

};
_scenes_game_GameRoom[_87[139]]=function(id){
var pers=callMethod(this,this,_87[118],[id]);
if(pers){
callMethod(this,pers.persDialog,_87[231]);
if(pers.parent){
callMethod(this,pers.parent,_87[17],[pers]);
if((this.roomType == _87[30])){
callMethod(this,this.world,_87[226],[pers.body]);

}

}

}

};
_scenes_game_GameRoom[_87[228]]=function(t){
if(this.stream){
var rr=!1;
if((this.users.size > 1)){
rr=!0;

}
if(rr){
if(this.myPers){
var t1=0;
if((t == _87[10])){
t1=1;

}else if((t == _87[11])){
t1=2;

}else if((t == _87[111])){
t1=3;

}


callMethod(this,this.stream,_87[100],[_87[121],t,this.myPers.x,this.myPers.y]);

}

}

}

};
_scenes_game_GameRoom[_87[137]]=function(userid){
var pers=callMethod(this,this,_87[118],[userid]);
if(pers){
callMethod(this,pers,_87[136]);

}

};
_scenes_game_GameRoom[_87[36]]=function(){
var th=this;
if((this.roomType == _87[24])){
callMethod(this,GLOBAL.$app.flagsMaster,_87[69],[1,4]);
callMethod(this,GLOBAL.$app.connect,_87[100],[_87[232]]);

}
var sz1=this.winnerUsersList.size;
var r1=!0;
if((sz1 > 0)){
if((sz1 == 1)){
if(th.myPers){
var el=th.winnerUsersList[0];
if(el.user){
if((el.user.id == th.initiatorid)){
r1=!1;

}

}

}

}
var check1=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,4]);
if(check1){
r1=!1;

}
if(r1){
callMethod(this,GLOBAL.$app.popup,_87[233],[this.winnerUsersList]);

}

}
callMethod(this,this,_87[234],['']);

};
_scenes_game_GameRoom[_87[235]]=function(p){
var th=this;
var persX=this.map.persObj.x;
var persY=this.map.persObj.y;
if(!this.stream){
if((this.roomType == _87[24])){
callMethod(this,p.body,_87[220],[{x:(persX / this.world.scale),y:(persY / this.world.scale)}]);

}else{
p.resetPersPos={x:(persX / th.world.scale),y:(persY / th.world.scale)};

}

}else{
p.resetPersPos={x:(persX / th.world.scale),y:(persY / th.world.scale)};

}

};
_scenes_game_GameRoom[_87[151]]=function(id){
var i=0;
while((i < this.cageItemsListArr.size)){
var el=this.cageItemsListArr[i];
if(checkIn(el,_87[236])){
if((el.cageID == id)){
return el;

}

}
i++;
}
return null;

};
_scenes_game_GameRoom[_87[152]]=function(ob){
var disp=ctorObject(_87[237]);
disp.cageID=this.cageCurNums;
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
disp.room=this;
callMethod(this,disp,_87[238],[this.cageCurNums]);
disp.itemObb=ob;
callMethod(this,this.itemsSpr,_87[19],[disp]);
callMethod(this,this.cageItemsListArr,_87[57],[disp]);
this.cageItemSpr=disp;
this.cageCurNums-=1;
if((this.cageCurNums < 1)){
this.cageCurNums=1;

}
return disp;

};
_scenes_game_GameRoom[_87[85]]=function(o){
if(o){
var th=this;
var itemType=GLOBAL.GameRoomItemType;
var box2d=lang.game.engines.box2d;
var bgid=0;
if(checkIn(o,_87[239])){
bgid=o.bg;

}
if((bgid == 1)){
bgid=6;

}else if((bgid == 4)){
bgid=6;

}

this.mapSize.width=o.width;
this.mapSize.height=o.height;
this.world.mapSize=this.mapSize;
callMethod(this,this,_87[240],[bgid]);
var mapUserID=o.user;
this.mapInfoTxtID.text=(_87[241] + o.id);
if((this.roomType == _87[30])){
this.mapInfoTxtID.visible=!1;

}
var wi=null;
if(this.map){
if(this.map.worldInfo){
wi=this.map.worldInfo;
mapUserID=this.map.worldInfo.user;

}

}
this.mapInfoTxtID.width=(this.mapInfoTxtID.width + 4);
this.mapInfoTxtUser.x=(this.mapInfoTxtID.width + 20);
if(this.txtWorldName){
this.txtWorldName.x=this.mapInfoTxtUser.x;

}
callMethod(this,GLOBAL.$app.cacheUsers,_87[242],[[mapUserID],function(){
var u=callMethod(this,GLOBAL.$app.cacheUsers,_87[243],[mapUserID]);
if(u){
if(wi){
th.mapInfoTxtUser.text=(_87[244] + u.nick);

}else{
th.mapInfoTxtUser.text=('' + u.nick);

}
th.mapInfoTxtUser.width=(th.mapInfoTxtUser.width + 4);

}

}]);
this.world.debugRectWidth=this.mapSize.width;
this.world.debugRectHeight=this.mapSize.height;
var items=o.items;
var timeMap=o.time;
var version=o.v;
var th=this;
var isWorld=!1;
if((this.roomType == _87[30])){
isWorld=!0;

}
var i=0;
while((i < items.size)){
var el=items[i];
var ob=el;
var ttt=el.t;
ob.type=ttt;
if((ob.type == 30)){
if(isWorld){
var flags1=0;
if(checkIn(ob,_87[113])){
flags1=ob.f1;

}
var disp=ctorObject(_87[245],[ob.id]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
if(this.isOptimizeDraw){
callMethod(this,this.wallItemsSpr,_87[19],[disp]);

}else{
callMethod(this,this.itemsSpr,_87[19],[disp]);

}
if((((1 << 1) & flags1) > 0)){
var bb=ctorObject(box2d.BodyDef);
var body=callMethod(this,th,_87[246],[bb,ob,disp,flags1]);
disp.body=body;

}

}

}else if((ob.type == itemType.DECOR)){
var flags1=0;
if(checkIn(ob,_87[113])){
flags1=ob.f1;

}
var ww=0;
var hh=0;
if(checkIn(ob,_87[247]) && (ob.st == 1)){
var itemV=callMethod(this,GLOBAL.$app.gameMaster,_87[248],[itemType.BALL]);
if(itemV){
var disp=ctorObject(_87[249],[itemType.BALL]);
disp.x=ob.x;
disp.y=ob.y;
if(checkIn(ob,_87[113])){
disp.flags1=ob.f1;

}
disp.rotation=ob.r;
if((((1 << 1) & flags1) > 0)){
var body=callMethod(this,th,_87[250],[_87[251],ob,disp]);
disp.body=body;

}
callMethod(this,this.itemsSpr,_87[19],[disp]);

}

}else{
var disp=ctorObject(_87[252],[ob.id]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
if(this.isOptimizeDraw){
callMethod(this,this.wallItemsSpr,_87[19],[disp]);

}else{
callMethod(this,this.itemsSpr,_87[19],[disp]);

}
if((((1 << 1) & flags1) > 0)){
var bb=ctorObject(box2d.BodyDef);
if(checkIn(ob,_87[253])){
ww=ob.w;

}
if(checkIn(ob,_87[254])){
hh=ob.h;

}
if((ww > 0)){
if((hh > 0)){
var body=callMethod(this,th,_87[246],[bb,ob,disp,flags1]);
disp.body=body;

}

}

}

}

}else if((ob.type == itemType.WALL)){
var flags1=0;
if(checkIn(ob,_87[113])){
flags1=ob.f1;

}
var restType=0;
if(checkIn(ob,_87[255])){
restType=ob.restType;

}
callMethod(this,th,_87[256],[ob.id,ob.x,ob.y,ob.w,ob.h,restType,ob.r,flags1,null]);

}else if((ob.type == itemType.TEXT)){
var disp=ctorObject(_87[257],[ob,!0]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
var isDraw2=th.isOptimizeDraw;
var flags1=0;
if(checkIn(ob,_87[113])){
flags1=ob.f1;

}
var ww=0;
var hh=0;
if((((1 << 1) & flags1) > 0)){
var bb=ctorObject(box2d.BodyDef);
if(checkIn(ob,_87[253])){
ww=ob.w;

}
if(checkIn(ob,_87[254])){
hh=ob.h;

}
if((ww > 0)){
if((hh > 0)){
var body=callMethod(this,th,_87[246],[bb,ob,disp,flags1]);
disp.body=body;

}

}

}
if(th.isDrawText){
if(isDraw2){
callMethod(this,th.wallItemsSpr,_87[19],[disp]);

}else{
callMethod(this,th.itemsSpr,_87[19],[disp]);

}

}

}else if((ob.type == itemType.TRAMPOLINE)){
var disp=ctorObject(_87[258]);
ob.w=80;
ob.h=8;
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
if(checkIn(ob,_87[79])){
disp.jumpLevel=ob.jumpLevel;

}
var itemm=callMethod(this,GLOBAL.$app.gameMaster,_87[248],[ob.type]);
var body=callMethod(this,th,_87[250],[itemm.bodyName,ob,disp]);
disp.body=body;
callMethod(this,this.itemsSpr,_87[19],[disp]);

}else if((ob.type == itemType.ITEM1)){
var rrkey=0;
var disp=ctorObject(_87[259]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,disp,_87[260],[th]);
if(checkIn(ob,_87[113])){
disp.flags1=ob.f1;

}
callMethod(this,this.itemsSpr,_87[19],[disp]);
this.keyItemSpr=disp;
var boneMaskX=ob.x;
var boneMaskY=ob.y;
if((((1 << 1) & disp.flags1) > 0)){
rrkey=ob.r;

}
var r1=callMethod(this,th,_87[261],[disp,{x:boneMaskX,y:boneMaskY,w:33,h:35,r:rrkey},function(dispp){
if((th.myPers.item1 == 0)){
if(th.stream){
var idd=th.gItemsList[0];
callMethod(this,th.stream,_87[100],[_87[149],idd]);

}else{
var perss=callMethod(this,th,_87[118],[th.initiatorid]);
th.myPers.item1=1;
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,6]);
if(!checkSound){
callMethod(this,GLOBAL.$app,_87[142],[_87[150]]);

}
if(th.isOne){
callMethod(this,perss,_87[92],[!0]);

}
if((th.tutorialState == 1)){
th.tutorialState=2;
callMethod(this,th,_87[28],[[_87[262],'Теперь подойди к клетке и спаси собачек']]);

}

}

}

},disp.flags1]);
disp.body=r1.body;

}else if((ob.type == itemType.EXIT)){
var disp=callMethod(this,th,_87[152],[ob]);
var budkaMaskX=(ob.x - 20);
var budkaMaskY=(ob.y - 3);
callMethod(this,th,_87[261],[disp,{x:budkaMaskX,y:budkaMaskY,w:40,h:70,r:ob.r},function(dispp){
if((th.myPers.item1 == 1)){
if((th.myPers.item2 == 0)){
th.myPers.item2=1;
if(!th.stream){
callMethod(this,th.myPers,_87[92],[!1]);
dispp.curPers=th.myPers;
if((th.tutorialState == 2)){
th.myPers.key='';
th.tutorialState=3;
callMethod(this,th,_87[28],[['Теперь прыгай к собачкам в летающую тарелку']]);

}
callMethod(this,dispp,_87[153],[GLOBAL.$app.user.id,_87[154],function(){
callMethod(this,GLOBAL.$app,_87[142],[_87[263]]);
if((th.tutorialState == 3)){
th.tutorialState=4;
callMethod(this,th,_87[28],[[_87[262],'теперь ты умеешь спасать собачек!']]);
callMethod(this,Timer,_87[46],[3000,function(){
callMethod(this,this,_87[81]);
callMethod(this,th,_87[36]);

}]);

}else{
if(th.endRoomCallback){
callMethod(this,th,_87[35]);

}else{
callMethod(this,th,_87[36]);

}
if(th.endRoomWinnerCallback){
callMethod(this,th,_87[264],[!0]);

}
th.endRoomWinnerCallback=null;

}

}]);
if(dispp.ufoFunc2){
callMethod(this,dispp,_87[155]);

}

}else{
var idd=th.gItemsList[1];
callMethod(this,th.stream,_87[100],[_87[149],idd,dispp.cageID]);

}

}

}else{
var ts=callMethod(this,Date,_87[221]);
if((ts >= th.tsPersInfo1)){
th.tsPersInfo1=(ts + 12);
var url5=callMethod(this,GLOBAL.$app.moviesReader,_87[265],[_87[266]]);
callMethod(this,th,_87[130],[GLOBAL.$app.user.id,(('нужен ключ <img scale="0.4" src="' + url5) + _87[267]),!0]);

}

}

},disp.flags1]);

}else if((ob.type == itemType.POINT)){
var ttype=0;
if(checkIn(ob,_87[268])){
ttype=ob.tt;

}
var disp=ctorObject(_87[269],[ttype]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.pointsItemsList,_87[57],[disp]);

}else if((ob.type == itemType.TELEPORT)){
var disp=ctorObject(_87[270]);
callMethod(this,disp,_87[271],[ob]);
callMethod(this,th.itemsSpr,_87[19],[disp]);
ob.w=(disp.w - 30);
ob.h=(disp.h - 30);
var xx2=(disp.bmIn.x + (disp.w / 2));
var yy2=(disp.bmIn.y + (disp.h / 2));
var q=ctorObject(_87[272],[disp,function(persObj,dispp){
var outX=(dispp.bmOut.x + (dispp.w / 2));
var outY=(dispp.bmOut.y + (dispp.h / 2));
if(persObj){
persObj.resetPersPos={x:(outX / th.world.scale),y:(outY / th.world.scale)};

}

}]);
var body=callMethod(this,th,_87[250],[_87[54],{x:xx2,y:yy2,w:40,h:50,r:0},q,0]);
q.body=body;

}else{
var itemV=callMethod(this,GLOBAL.$app.gameMaster,_87[248],[ob.type]);
if(itemV){
var disp=ctorObject(_87[249],[ob.type]);
disp.x=ob.x;
disp.y=ob.y;
if(checkIn(ob,_87[113])){
disp.flags1=ob.f1;

}
disp.rotation=ob.r;
var body=callMethod(this,th,_87[250],[itemV.bodyName,ob,disp,disp.flags1]);
disp.body=body;
callMethod(this,this.itemsSpr,_87[19],[disp]);

}

}








i++;
}

}

};
_scenes_game_GameRoom[_87[273]]=function(s){
var i=0;
while((i < this.itemsListBodyCfg.size)){
var el=this.itemsListBodyCfg[i];
var t=el[0];
var ob=el[1];
if((s == t)){
return ob;

}
i++;
}
return null;

};
_scenes_game_GameRoom[_87[274]]=function(s){
var box2d=lang.game.engines.box2d;
var bodyInfo=callMethod(this,this,_87[273],[s]);
if(bodyInfo){
var bb=ctorObject(box2d.BodyDef);
for(var n in bodyInfo){
bb[n]=bodyInfo[n];

}
return bb;

}
return null;

};
_scenes_game_GameRoom[_87[276]]=function(arr,xx,yy,disp,flags1){
var box2d=lang.game.engines.box2d;
var scale=this.world.scale;
var bodyDef=ctorObject(box2d.BodyDef);
bodyDef.density=1;
bodyDef.bodyType=_87[275];
if(flags1){
if((((1 << 1) & flags1) > 0)){
bodyDef.bodyType=_87[275];
bodyDef.density=1;

}
if((((1 << 2) & flags1) > 0)){
bodyDef.fixedRotation=!1;

}

}
bodyDef.position.x=(xx / scale);
bodyDef.position.y=(yy / scale);
bodyDef.points=arr;
var b=callMethod(this,this.world,_87[69],[bodyDef]);
b.allowCollision=!0;
b.bodyName='';
b.userData=disp;
return b;

};
_scenes_game_GameRoom[_87[250]]=function(nm,ob,disp,flags1){
var scale=this.world.scale;
var bodyDef=callMethod(this,this,_87[274],[nm]);
if(flags1){
if((((1 << 1) & flags1) > 0)){
bodyDef.bodyType=_87[275];
bodyDef.density=1;

}
if((((1 << 2) & flags1) > 0)){
bodyDef.fixedRotation=!1;

}

}
bodyDef.position.x=(ob.x / scale);
bodyDef.position.y=(ob.y / scale);
var check1=!1;
if(check1){
bodyDef.position.x=(ob.x / scale);
bodyDef.position.y=(ob.y / scale);
bodyDef.bodySize.width=((ob.cx / scale) / 2);
bodyDef.bodySize.height=((ob.cy / scale) / 2);

}else{
if((bodyDef.type == _87[277])){

}else{
bodyDef.bodySize.width=((ob.w / scale) / 2);
bodyDef.bodySize.height=((ob.h / scale) / 2);

}

}
bodyDef.rotation=ob.r;
var b=callMethod(this,this.world,_87[69],[bodyDef]);
b.bodyIndex=this.world.items.size;
if((nm == _87[278])){
if(!this.isBallOptimize){
b.allowCollision=!0;

}

}else{
if(checkIn(bodyDef,_87[279])){
b.allowCollision=bodyDef.allowCollision;

}

}
b.bodyName=nm;
b.userData=disp;
return b;

};
_scenes_game_GameRoom[_87[246]]=function(bodyDef,ob,disp,flags1){
var scale=this.world.scale;
if(flags1){
if((((1 << 1) & flags1) > 0)){
bodyDef.bodyType=_87[275];
bodyDef.density=1;

}
if((((1 << 2) & flags1) > 0)){
bodyDef.fixedRotation=!1;

}

}
bodyDef.position.x=(ob.x / scale);
bodyDef.position.y=(ob.y / scale);
if((bodyDef.type == _87[277])){

}else{
bodyDef.bodySize.width=((ob.w / scale) / 2);
bodyDef.bodySize.height=((ob.h / scale) / 2);

}
bodyDef.rotation=ob.r;
var b=callMethod(this,this.world,_87[69],[bodyDef]);
b.bodyIndex=this.world.items.size;
if(checkIn(bodyDef,_87[279])){
b.allowCollision=bodyDef.allowCollision;

}
b.bodyName=_87[280];
b.userData=disp;
return b;

};
_scenes_game_GameRoom[_87[281]]=function(o){
if(o){
if(checkIs(o,lang.display.DisplayObject)){
if(o.parent){
callMethod(this,o.parent,_87[17],[o]);

}

}
if(checkIn(o,_87[56])){
if(o.body){
callMethod(this,this.world,_87[226],[o.body]);

}

}

}

};
_scenes_game_GameRoom[_87[261]]=function(disp,o,cb,flags1){
var q=ctorObject(_87[272],[disp,cb]);
var nm=_87[70];
var uData=q;
if((((1 << 1) & flags1) > 0)){
nm=_87[72];
uData=disp;
disp.uData=q;

}
var body=callMethod(this,this,_87[250],[nm,o,uData,flags1]);
q.body=body;
return q;

};
_scenes_game_GameRoom[_87[222]]=function(msg){
if(this.stream){
if((msg.size > 0)){
callMethod(this,this.stream,_87[100],[_87[133],msg]);

}

}

};
_scenes_game_GameRoom[_87[118]]=function(id){
var i=0;
while((i < this.persContainer.numChildren)){
var el=callMethod(this,this.persContainer,_87[96],[i]);
if(el){
if((el.user.id == id)){
return el;

}

}
i++;
}
return null;

};
_scenes_game_GameRoom[_87[135]]=function(id){
var pers=callMethod(this,this,_87[118],[id]);
if(pers){
callMethod(this,pers,_87[282]);

}

};
_scenes_game_GameRoom[_87[130]]=function(id,txt,noParse){
var pers=callMethod(this,this,_87[118],[id]);
if(pers){
callMethod(this,pers,_87[283],[txt,noParse]);

}

};
_scenes_game_GameRoom[_87[286]]=function(id,u){
if(u){
var pl=callMethod(this,this,_87[118],[id]);
if(pl){
var vv=!0;
var uu=pl.user;
if(uu){
if(checkIn(uu,_87[284])){
if((uu.nick_itemid == 1)){
vv=!1;

}

}

}
if(vv){
callMethod(this,pl,_87[285],[u]);

}

}

}

};
_scenes_game_GameRoom[_87[46]]=function(){
var th=this;
var Keyboard=lang.ui.Keyboard;
if(th.map){
if((th.roomType == _87[30])){

}else{
callMethod(this,th,_87[287]);

}

}

};
_scenes_game_GameRoom[_87[234]]=function(t){
callMethod(this,GLOBAL.$app,_87[288]);

};
_scenes_game_GameRoom[_87[256]]=function(id,x,y,w,h,restType,r,flags1,img){
var item=ctorObject(_87[289],[id]);
if(!this.isEnableBorderWall){
item.isBorderEnable=!1;

}
if(this.isOptimizeDraw){
callMethod(this,this.wallItemsSpr,_87[19],[item]);

}else{
callMethod(this,this.itemsSpr,_87[19],[item]);

}
item.x=x;
item.y=y;
item.rotation=r;
item.item={w:w,h:h};
callMethod(this,item,_87[214],[w,h]);
var ob={x:x,y:y,w:w,h:h,r:r};
var nm3=_87[290];
if((id == 5)){
nm3=_87[291];

}else if((id == 2)){
nm3=_87[60];

}else if((id == 9)){
nm3=_87[61];
if((restType > 0)){
if((restType < 3)){
nm3=(_87[292] + restType);

}

}

}


var body=callMethod(this,this,_87[250],[nm3,ob,item,flags1]);
if((flags1 != 0)){
if((((1 << 1) & flags1) > 0)){
body.bodyDef.groupIndex=-2;

}

}
item.body=body;
item.wallType=nm3;
var th=this;

};
_scenes_game_GameRoom[_87[89]]=function(o,x,y){
var pers=ctorObject(_87[293],[null,o]);
pers.updateDOM=!1;
callMethod(this,pers,_87[46]);
pers.x=x;
pers.y=y;
callMethod(this,pers,_87[285],[o]);
callMethod(this,pers.persDialog,_87[46]);
callMethod(this,pers,_87[294]);
callMethod(this,pers,_87[295],[function(){
callMethod(this,GLOBAL.$app.chat,_87[296],[o,!1,!0]);

}]);
var ob={x:x,y:y,w:25,h:25,r:0};

var body=callMethod(this,this,_87[250],[_87[58],ob,pers]);
body.isPersItem=1;
pers.body=body;
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.DEBUG_PHYSICS) > 0)){
pers.debugRayLines=ctorObject(lang.display.Sprite);
callMethod(this,pers.debugRayLines,_87[2]);
callMethod(this,pers,_87[19],[pers.debugRayLines]);

}
callMethod(this,this.players,_87[57],[pers]);
callMethod(this,this.persContainer,_87[19],[pers]);
return pers;

};
_scenes_game_GameRoom[_87[229]]=function(player){
if(player.body){
var SCALE=this.world.scale;
var o=player.body;
var original=callMethod(this,o,_87[297]);
var down=callMethod(this,o,_87[297]);
var downLeft=callMethod(this,o,_87[297]);
var downRight=callMethod(this,o,_87[297]);
var downRight2=callMethod(this,o,_87[297]);
var downLeft2=callMethod(this,o,_87[297]);
var qw=18;
down.y+=(qw / SCALE);
downLeft.x+=(12 / SCALE);
downLeft.y+=(qw / SCALE);
downRight.x-=(12 / SCALE);
downRight.y+=(qw / SCALE);
downRight2.x-=(6 / SCALE);
downRight2.y+=(qw / SCALE);
downLeft2.x+=(6 / SCALE);
downLeft2.y+=(qw / SCALE);
var arr=[down,downLeft,downRight,downRight2,downLeft2];
var pp=null;
if(checkIn(player,_87[298])){
pp=player.debugRayLines.painter;
callMethod(this,pp,_87[9]);
callMethod(this,pp,_87[299],[2,16711680]);
callMethod(this,pp,_87[300]);

}
var i=0;
while((i < arr.size)){
var oo=arr[i];
if(pp){
callMethod(this,pp,_87[300]);
callMethod(this,pp,_87[301],[0,0]);
callMethod(this,pp,_87[301],[((original.x * SCALE) - player.x),((original.y * SCALE) - player.y)]);
callMethod(this,pp,_87[302],[((oo.x * SCALE) - player.x),((oo.y * SCALE) - player.y)]);
callMethod(this,pp,_87[303]);

}
var vv=callMethod(this,this.world,_87[304],[original,oo]);
if(vv){
if(checkIn(vv,_87[305])){
return !1;

}
if(!vv.isSensor){
return !0;

}

}
i++;
}

}
return !1;

};
_scenes_game_GameRoom[_87[307]]=function(){
var mapWOrig=this.mapSize.width;
var mapHOrig=this.mapSize.height;
var mapW=(mapWOrig * this.koef);
var mapH=(mapHOrig * this.koef);
var th=this;
if(!th.isPause){
var tm=callMethod(this,Date,_87[75]);
var i=0;
while((i < this.players.size)){
var persSpeed=this.pCfgArgs[0];
var persJump=this.pCfgArgs[1];
var persSpeed2=(persSpeed + 5);
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.SUPER_JUMP) > 0)){
persJump=(persJump * 2);

}
var jumpSpringboard=this.pCfgArgs[2];
var player=this.players[i];
var body=player.body;
var lv=callMethod(this,body,_87[306]);
if(!player.isStopPers){
var key=player.key;
var state=player.persState;
var isLeft=player.isLeft;
var isIce=player.isIceMode;
callMethod(this,player,_87[307]);
if(body){
var arrSetPos=th.setPosItemsArr;
var k=0;
while((k < arrSetPos.size)){
var ell=arrSetPos[k];
var xx1=(ell.x / th.world.scale);
var yy1=(ell.y / th.world.scale);
callMethod(this,ell.body,_87[220],[{x:xx1,y:yy1}]);
k++;
}
th.setPosItemsArr=[];
if(player.resetPersPos){
callMethod(this,body,_87[220],[{x:player.resetPersPos.x,y:player.resetPersPos.y}]);
player.resetPersPos=null;

}
if((key == _87[11])){
if((isLeft == 1)){
callMethod(this,player,_87[308],[0]);

}
player.x+=persSpeed2;
player.curLV.x=persSpeed;
player.curLV.y=lv.y;
callMethod(this,body,_87[309],[player.curLV]);
if(!player.viewerModeV){
if((state != _87[310]) && (state != _87[111])){
callMethod(this,player,_87[65],[_87[310]]);

}

}

}else if((key == _87[10])){
player.x-=persSpeed2;
player.curLV.x=-persSpeed;
player.curLV.y=lv.y;
if((isLeft == 0)){
callMethod(this,player,_87[308],[1]);

}
callMethod(this,body,_87[309],[player.curLV]);
if(!player.viewerModeV){
if((state != _87[310]) && (state != _87[111])){
callMethod(this,player,_87[65],[_87[310]]);

}

}

}else if((key == _87[108])){
player.x-=persSpeed2;
player.y+=persSpeed2;
if((isLeft == 0)){
callMethod(this,player,_87[308],[1]);

}

}else if((key == _87[106])){
player.x-=persSpeed2;
player.y-=persSpeed2;
if((isLeft == 0)){
callMethod(this,player,_87[308],[1]);

}

}else if((key == _87[109])){
player.x+=persSpeed2;
player.y+=persSpeed2;
if((isLeft == 1)){
callMethod(this,player,_87[308],[0]);

}

}else if((key == _87[107])){
player.x+=persSpeed2;
player.y-=persSpeed2;
if((isLeft == 1)){
callMethod(this,player,_87[308],[0]);

}

}else if((key == _87[13])){
player.y-=persSpeed2;

}else if((key == _87[15])){
player.y+=persSpeed2;

}else{
if((state != _87[66])){
player.key='';
if((state != _87[111])){
callMethod(this,player,_87[65],[_87[66]]);

}

}
if(!isIce){
player.curLV.x=0;
player.curLV.y=lv.y;
callMethod(this,body,_87[309],[player.curLV]);

}

}







if(player.isJump){
var isGround=callMethod(this,th,_87[229],[player]);
if(isGround){
var center=callMethod(this,body,_87[311]);
player.curLV.x=lv.x;
player.curLV.y=0;
callMethod(this,body,_87[309],[player.curLV]);
callMethod(this,body,_87[312],[{x:0,y:-persJump},center]);
if((state != _87[111])){
callMethod(this,player,_87[65],[_87[111]]);

}

}
player.isJump=!1;

}else{
if(player.isJumpSpring){
player.curLV.x=lv.x;
player.curLV.y=0;
callMethod(this,body,_87[309],[player.curLV]);
var center=callMethod(this,body,_87[311]);
if((player.jumpLevel == 1)){
jumpSpringboard=(th.jumpSpringDef + 50);

}else if((player.jumpLevel == 2)){
jumpSpringboard=(th.jumpSpringDef + 100);

}else if((player.jumpLevel == 3)){
jumpSpringboard=(th.jumpSpringDef + 200);

}


callMethod(this,body,_87[312],[{x:0,y:-jumpSpringboard},center]);
if((state != _87[310])){
callMethod(this,player,_87[65],[_87[111]]);

}
player.isJumpSpring=!1;
player.jumpLevel=0;

}

}

}
var ax=-500;
var ay=-500;
if(this.map && this.map.bounds){
ax=(this.map.bounds.x + ax);
ay=(this.map.bounds.y + ay);

}
if(!player.isOut){
var out=!1;
if((player.x < ax)){
out=!0;

}else if((player.x > (mapWOrig + 500))){
out=!0;

}else if((player.y < ay)){
out=!0;

}else if((player.y > (mapHOrig + 500))){
out=!0;

}



if(out){
callMethod(this,this,_87[235],[player]);

}

}

}else{
player.curLV.x=0;
player.curLV.y=lv.y;
callMethod(this,body,_87[309],[player.curLV]);

}
i++;
}
if(this.camera){
var bx=0;
var by=0;
var isBounds=!1;
if(this.map && this.map.bounds){
bx=this.map.bounds.x;
by=this.map.bounds.y;
isBounds=!0;

}
var appWidth=this.sceneSize.width;
var appHeight=this.sceneSize.height;
var scX=this.koef;
if(((this.RoomRectangle.width + bx) <= mapW)){
this.RoomRectangle.x=((this.camera.x * scX) - callMethod(this,Math,_87[313],[(this.RoomRectangle.width / 2)]));
if((bx > -1) && (this.RoomRectangle.x < -bx)){
this.RoomRectangle.x=-bx;

}
if((this.RoomRectangle.x > (mapW - this.RoomRectangle.width))){
this.RoomRectangle.x=(mapW - this.RoomRectangle.width);

}

}else{
if(isBounds){
this.RoomRectangle.x=(-((this.RoomRectangle.width - bx) - mapW) / 2);

}else{
this.RoomRectangle.x=0;

}

}
if(((this.RoomRectangle.height + by) <= mapH)){
this.RoomRectangle.y=((this.camera.y * scX) - callMethod(this,Math,_87[313],[(this.RoomRectangle.height / 2)]));
if((by > -1) && (this.RoomRectangle.y < -by)){
this.RoomRectangle.y=-by;

}
if((this.RoomRectangle.y > (mapH - this.RoomRectangle.height))){
this.RoomRectangle.y=(mapH - this.RoomRectangle.height);

}

}else{
if(isBounds){
this.RoomRectangle.y=(-((this.RoomRectangle.height - by) - mapH) / 2);

}else{
this.RoomRectangle.y=by;

}

}
if((this.RoomRectangle.x != -this.mainContainer.x) || (this.RoomRectangle.y != -this.mainContainer.y)){
this.mainContainer.x=-this.RoomRectangle.x;
this.mainContainer.y=-this.RoomRectangle.y;
this.sp3.x=this.mainContainer.x;
this.sp3.y=this.mainContainer.y;
if(this.bmMap){
this.bmMap.x=this.mainContainer.x;
this.bmMap.y=this.mainContainer.y;

}

}

}
this.world.debugPosX=(this.sp.x + this.mainContainer.x);
this.world.debugPosY=(this.sp.y + this.mainContainer.y);
if(this.myPers){
if(this.resetMyPersPos){
if(this.myPers.body){
callMethod(this,this.myPers.body,_87[220],[{x:this.resetMyPersPos.x,y:this.resetMyPersPos.y}]);
this.resetMyPersPos=null;

}

}

}
callMethod(this,this.world,_87[307]);
var i=0;
while((i < this.visKeyAnimList.size)){
var el=this.visKeyAnimList[i];
if(el){
el.updateDOM=!1;
el.rotation+=2;

}
i++;
}

}

};
_scenes_game_GameRoom[_87[240]]=function(id){
callMethod(this,this.bg,_87[314],[id]);

};
_scenes_game_GameRoom[_87[315]]=function(v){
this.expTime+=v;

};
_scenes_game_GameRoom[_87[97]]=function(pos,v){
if((pos == 1)){
callMethod(this,this,_87[169],[v]);

}else if((pos == 2)){
callMethod(this,this,_87[286],[GLOBAL.$app.user.id,GLOBAL.$app.user]);

}else if((pos == 3)){
callMethod(this,this,_87[316],[GLOBAL.$app.user.id,!v]);

}else if((pos == 13)){
var p1=callMethod(this,this,_87[104],[this.gamePad]);
if(v){
if((p1 == -1)){
callMethod(this,this,_87[19],[this.gamePad]);

}

}else{
if((p1 > -1)){
callMethod(this,this,_87[17],[this.gamePad]);

}

}

}




};
_scenes_game_GameRoom[_87[316]]=function(initiatorid,v){
var th=this;
var i=0;
while((i < th.persContainer.numChildren)){
var el=callMethod(this,th.persContainer,_87[96],[i]);
if(el){
if((el.user.id != initiatorid)){
el.nickTxt.visible=v;

}

}
i++;
}

};
_scenes_game_GameRoom[_87[83]]=function(v){
var th=this;
if(this.gamePad){
callMethod(this,this.gamePad,_87[317],[v]);

}
var sw=GLOBAL.$app.stageScaleWidth;
var sh=GLOBAL.$app.stageScaleHeight;
if(th.joy){
if(checkIn(th.joy,_87[317])){
callMethod(this,th.joy,_87[317],[v]);

}
callMethod(this,th.joy,_87[214],[sw,(sh - 90)]);

}

};
_scenes_game_GameRoom[_87[82]]=function(v){
var scV=v;
var perc=castInt((scV * 100));
this.mainContainer.scaleX=scV;
this.mainContainer.scaleY=scV;
this.sp3.scaleX=scV;
this.sp3.scaleY=scV;
this.wallItemsSpr.scaleX=scV;
this.wallItemsSpr.scaleY=scV;
this.koef=scV;
this.isResetCamera=!0;

};
_scenes_game_GameRoom[_87[169]]=function(v){
var th=this;
var isDebugTrace=!1;
if(th.debugInfo){
callMethod(this,th.debugInfo,_87[9]);

}
if(v){
if(th.debugInfo){
callMethod(this,th.debugInfo,_87[318]);
callMethod(this,th.downPanel1,_87[19],[th.debugInfo]);
callMethod(this,GLOBAL.$app,_87[319]);

}

}else if(!v){
if(th.debugInfo){
var pos2=callMethod(this,th.downPanel1,_87[104],[th.debugInfo]);
if((pos2 > -1)){
callMethod(this,th.debugInfo.parent,_87[17],[th.debugInfo]);

}

}

}


};
_scenes_game_GameRoom[_87[287]]=function(){
var th=this;
var timeMap=th.map.time;
var ts=callMethod(this,Date,_87[221]);
th.expTime=(ts + timeMap);
var tm=callMethod(this,Timer,_87[46],[1000,function(){
var ts=callMethod(this,Date,_87[221]);
var v=callMethod(this,Math,_87[320],[0,(th.expTime - ts)]);
var perc=callMethod(this,Math,_87[313],[((v / timeMap) * 100)]);
callMethod(this,th,_87[321],[v,perc]);
if((v <= 0)){
if(th.endRoomCallback){
callMethod(this,th,_87[35]);

}
if(th.endRoomWinnerCallback){
callMethod(this,th,_87[264],[!1]);

}
th.endRoomWinnerCallback=null;

}

}]);
this.timer1=tm;
callMethod(this,this,_87[321],[timeMap,100]);

};
_scenes_game_GameRoom[_87[321]]=function(v,perc){
var str1=callMethod(this,GLOBAL.DateUtils,_87[322],[v]);
this.timerSpr.txt.text=str1;
this.timerSpr.txt.x=((80 - this.timerSpr.txt.width) / 2);
var clr1=52224;
if((v <= 30)){
clr1=16776960;

}
if((v <= 10)){
clr1=13725293;
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_87[6],[3,9]);
if(!checkSound){
if(!this.timerSfx){
this.timerSfx=callMethod(this,GLOBAL.$app,_87[323],[_87[324]]);

}

}

}
if((this.timerSpr.txt.color != clr1)){
this.timerSpr.txt.color=clr1;

}

};
_scenes_game_GameRoom[_87[325]]=function(bm){
callMethod(this,this.visKeyAnimList,_87[57],[bm]);

};
_scenes_game_GameRoom[_87[214]]=function(w,h){
this.w=w;
this.h=h;
var mapW=this.mapSize.width;
var mapH=this.mapSize.height;
if(this.mapBitmap){
var v1=!1;
if((w != this.lastSceneSize.w)){
v1=!0;

}else if((h != this.lastSceneSize.h)){
v1=!0;

}

this.lastSceneSize.w=w;
this.lastSceneSize.h=h;


}
if(this.debugInfo){
callMethod(this,this.debugInfo,_87[214],[w,h]);
this.debugInfo.y=-this.debugInfo.h;

}
var ww=GLOBAL.Config.SCENE_WIDTH;
var hh=GLOBAL.Config.SCENE_HEIGHT;
hh=(h - 95);
callMethod(this,this.bg,_87[214],[w,h]);
if((this.roomType == _87[24])){
this.tutorialSpr.x=((w - this.tutorialRectSize.width) / 2);
this.tutorialSpr.y=((hh - this.tutorialRectSize.height) - 5);

}
if(this.drawMapSpr){
callMethod(this,this.drawMapSpr,_87[214],[w,hh]);

}
this.sceneSize.width=w;
this.sceneSize.height=hh;
this.RoomRectangle.width=w;
this.RoomRectangle.height=hh;
if(this.gamePad){
callMethod(this,this.gamePad,_87[214],[w,(h - 90)]);

}
if(this.joy){
callMethod(this,this.joy,_87[214],[w,(h - 90)]);

}
if(this.smilesPanel){
this.smilesPanel.x=-100;
this.smilesPanel.y=-(this.smilesPanel.h + 25);

}
if(this.chatTI){
this.chatTI.scaleX=GLOBAL.$app.domScaleV;
this.chatTI.scaleY=GLOBAL.$app.domScaleV;
this.chatTI.x=(((w - 35) * GLOBAL.$app.domScaleV) / 2);
if(this.isWeb){
this.chatTI.y=(h - 78);

}else{
this.chatTI.y=16;

}
this.chatTI.y=(this.chatTI.y * GLOBAL.$app.domScaleV);

}
this.exitBut.x=(w - 190);
this.exitBut.y=16;

};
_scenes_game_GameRoom[_87[331]]=function(){
callMethod(this,this.ev,_87[9]);
if(this.timer1){
callMethod(this,this.timer1,_87[81]);

}
if(this.timerSfx){
callMethod(this,this.timerSfx,_87[81]);

}
if(this.stream){
callMethod(this,this.stream,_87[9]);

}
if(this.bmdMap){
callMethod(this,this.bmdMap,_87[326]);

}
this.bmdMap=null;
callMethod(this,this.world,_87[105]);
this.timer1=null;
if(this.gamePad){
callMethod(this,this.gamePad,_87[226]);

}
if(GLOBAL.$app.chat.isFlagLastChatVis){
GLOBAL.$app.chat.isFlagLastChatVis=!1;
var cc=callMethod(this,GLOBAL.$app.chat,_87[327]);
if(!cc){
callMethod(this,GLOBAL.$app.chat,_87[328]);

}

}
var i=0;
while((i < this.bindList.size)){
var el=this.bindList[i];
callMethod(this,BindingUtils,_87[329],[el]);
i++;
}
var i=0;
while((i < this.persContainer.numChildren)){
var el=callMethod(this,this.persContainer,_87[96],[i]);
if(el){
callMethod(this,el,_87[105]);

}
i++;
}
callMethod(this,GLOBAL.$app,_87[330]);
if(this.debugInfo){
callMethod(this,this.debugInfo,_87[9]);

}
if(this.downPanel1.parent){
callMethod(this,this.downPanel1.parent,_87[17],[this.downPanel1]);

}
if(this.downPanel2){
if(this.downPanel2.parent){
callMethod(this,this.downPanel2.parent,_87[17],[this.downPanel2]);

}

}
if(this.downPanel3){
if(this.downPanel3.parent){
callMethod(this,this.downPanel3.parent,_87[17],[this.downPanel3]);

}

}
if(this.joy){
callMethod(this,this.joy,_87[105]);

}
if((GLOBAL.$app.gameRoom == this)){
GLOBAL.$app.gameRoom=null;

}

};
vm.registerClass(_87[332],_87[333],_scenes_game_GameRoom);
})(window);



(function(window){
var _14=["idle","app.game.DialogPers","addChild","persAnimImgMin1","persBlack","nick_itemid","getAssetByName",".png","Arial","app.game.PersDressSprite","getPopularIconBitmap","boar1.png","createPainter","rect","#000000","setState","visKey","resetKeyItem","run","gotoAndPlay","gotoAndStop","web","clear","setLeft","nickColor_pos","NickColor","nickColor","dressItems","setDressItemsList","updateFrame","check","nickRainbow","getGradientNickColor","createLinearGradient","removeChild","iconEmoji","getEmojiIconBitmap","setUser","Key1.png","init","start","createMask","playSFX","bark1","barkImg.png","app.game.CollisionItem","createWorldItemByObj1Disp","barkPers","bark","app.game.DialogPersMsg","setFontSize","setText","печатает...","addSprite","stop","removeSprite","addMessageAnimQ","addMessage","SetPosition","remove","update","boarInfo","send","ok","exists","Хрю, приз уже был выдан!","game.boarActCl","setNickCallback","ufoImg1.png","setChildIndex","setViewerMode","destroy","removeDialog","app.game.PersGameRoom","lang.display.Sprite"];
var _app_game_PersGameRoom={};
_app_game_PersGameRoom["ctor"]=function(room,u){
this.room=room;
this.user=u;
this.uniq=0;
this.body=null;
this.evList=null;
this.popularIcon=null;
this.item1=0;
this.moveType='';
this.isWinner=!1;
this.curUfoImg1=null;
this.viewerModeV=!1;
this.bodyDestroy=!1;
this.nickItemID=0;
this.winnerPos=0;
this.jumpLevel=0;
this.jetPack=null;
this.lastBarkTS=0;
this.resetPersPos=null;
this.isStopPers=!1;
this.isPersBark=!1;
this.isPersJump=!1;
this.curEmojiIcon=null;
this.barkSpr=null;
this.barkBody=null;
this.maxNickWidth=150;
this.barkSprX=7;
this.isLeft=0;
this.isOut=!1;
this.isPlay=!1;
this.curTween=null;
this.isJumpSpring=!1;
this.isIceMode=!1;
this.key='';
this.keyJump=!1;
this.isPressJump=!1;
this.persState=_14[0];
this.groundCActive=0;
this.lastItemCollision=null;
this.ballCollisionNums=0;
this.isGroundC=0;
this.persScale=1;
this.isJump=!1;
this.curLV={x:0,y:0};
this.popularIcon=null;
this.item2=0;
this.persMsgAnimSpr1=null;
this.persDialog=ctorObject(_14[1]);
this.persDialog.y=-60;
callMethod(this,null,_14[2],[this.persDialog]);
this.msk=ctorObject(lang.display.Sprite);
callMethod(this,null,_14[2],[this.msk]);
var nickItemID=0;
var pt=GLOBAL.scenes.world.PersType;
var nm1=_14[3];
if(u){
if((u.pers == pt.DOG_GRAY)){

}else if((u.pers == pt.DOG_BLACK)){
nm1=_14[4];

}

if(checkIn(u,_14[5])){
nickItemID=u.nick_itemid;

}

}
var persImg1=callMethod(this,GLOBAL.$app.moviesReader,_14[6],[(nm1 + _14[7])]);
var tfNick=ctorObject(lang.text.TextField);
tfNick.mouseEnabled=!1;
tfNick.fontName=_14[8];
tfNick.bold=!0;
var persW=41;
var persH=32;
this.dressContainer=ctorObject(_14[9]);
this.bmPersIcon1=null;
this.bmPersObj1=null;
this.boarRectSpr=null;
this.persW=persW;
this.persH=persH;
tfNick.mouseEnabled=!1;
this.nickTxt=tfNick;
tfNick.fontSize=15;
var spr3=ctorObject(lang.display.Sprite);
var spr4=ctorObject(lang.display.Sprite);
this.sprr4=spr4;
tfNick.filters=GLOBAL.Config.shadowText2;
tfNick.y=-(persH + 25);
if(u){
if((u.vip == 1)){
var popularIcon=callMethod(this,GLOBAL.$app.userMaster,_14[10],[u.popularLevel,u.popular,u.popularIcon]);
this.popularIcon=popularIcon;
if(popularIcon){
popularIcon.y=-68;
if(GLOBAL.$app.isStandalone){
popularIcon.y+=4;

}
callMethod(this,spr3,_14[2],[popularIcon]);

}

}

}
this.nickItemID=nickItemID;
if((nickItemID == 1)){
var bmNickIcon=callMethod(this,GLOBAL.$app.moviesReader,_14[6],[_14[11]]);
this.bmPersObj1={x:-30,y:-23,bm:bmNickIcon,scaleX:(0.5 * 0.7),scaleY:(0.5 * 0.7),nx:30};
this.boarRectSpr=ctorObject(lang.display.Sprite);
this.boarRectSpr.alpha=0;
callMethod(this,this.boarRectSpr,_14[12]);
callMethod(this,this.boarRectSpr.painter,_14[13],[0,0,60,40,_14[14]]);

}
if(this.bmPersObj1){
var bm7=this.bmPersObj1.bm;
bm7.scaleX=this.bmPersObj1.scaleX;
bm7.scaleY=this.bmPersObj1.scaleY;
bm7.x=this.bmPersObj1.x;
bm7.y=this.bmPersObj1.y;
this.boarRectSpr.x=bm7.x;
this.boarRectSpr.y=bm7.y;
callMethod(this,spr3,_14[2],[bm7,this.boarRectSpr]);

}
this.mskNick=ctorObject(lang.display.Sprite);
callMethod(this,this.mskNick,_14[12]);
this.rectNick=ctorObject(lang.display.Sprite);
callMethod(this,this.rectNick,_14[12]);
this.rectNick.alpha=0;
callMethod(this,null,_14[2],[this.mskNick]);
var persAnim=ctorObject(lang.display.BitmapMovieClip,[persImg1]);
persAnim.mouseEnabled=!1;
if((nm1 == _14[3])){
this.persScale=0.5;
persAnim.scaleY=0.5;

}
var framess=GLOBAL.Config.persFrames;
persAnim.frames=framess;
var pp={x:50,y:40};
persAnim.point=pp;
var ksp=0;
if((GLOBAL.$app.koefFps < 1)){
ksp=GLOBAL.$app.koefFps;

}
persAnim.speed=ksp;
this.spr=persAnim;
var fr1=persAnim.frames[0];
var fr11=persAnim.frames[11];
var allW=fr1[2];
var allH=fr1[3];
persAnim.scaleX=this.persScale;
persAnim.x=-1;
persAnim.y=-4;
if((nickItemID == 0)){
callMethod(this,spr3,_14[2],[persAnim,this.dressContainer]);

}
callMethod(this,spr4,_14[2],[this.rectNick,tfNick]);
callMethod(this,null,_14[2],[spr3,spr4]);
callMethod(this,this,_14[15],[_14[0]]);
this.item1Spr=null;

};
_app_game_PersGameRoom[_14[17]]=function(){
callMethod(this,this,_14[16],[!1]);
this.item1=0;

};
_app_game_PersGameRoom[_14[15]]=function(t){
if((t == _14[18])){
if((this.persState != t)){
callMethod(this,this.spr,_14[19],[1]);
this.isPlay=!0;

}

}else if((t == _14[0])){
callMethod(this,this.spr,_14[20],[11]);
this.isPlay=!1;

}

this.persState=t;

};
_app_game_PersGameRoom[_14[23]]=function(v){
var ww=this.nickTxt.width;
if((v == 1)){
this.isLeft=1;
this.nickTxt.x=(((this.persW - 50) - ww) / 2);
this.spr.scaleX=-this.persScale;
this.dressContainer.scaleX=-1;
if(this.curUfoImg1){
this.curUfoImg1.x=-45;

}
if(this.barkSpr){
this.barkSpr.scaleX=-1;
this.barkSpr.x=-(23 - this.barkSprX);

}
if(this.bmPersObj1){
this.bmPersObj1.bm.scaleX=-this.bmPersObj1.scaleX;
this.bmPersObj1.bm.x=this.bmPersObj1.nx;

}

}else{
this.isLeft=0;
this.nickTxt.x=(((this.persW - 36) - ww) / 2);
this.spr.scaleX=this.persScale;
this.dressContainer.scaleX=1;
if(this.barkSpr){
this.barkSpr.scaleX=1;
this.barkSpr.x=this.barkSprX;

}
if(this.curUfoImg1){
this.curUfoImg1.x=-50;

}
if(this.bmPersObj1){
this.bmPersObj1.bm.scaleX=this.bmPersObj1.scaleX;
this.bmPersObj1.bm.x=this.bmPersObj1.x;

}

}
if(this.popularIcon){
this.popularIcon.x=(this.nickTxt.x - 33);

}
if(this.curEmojiIcon){
this.curEmojiIcon.x=(this.nickTxt.x + this.nickTxt.width);
var yy9=8;

this.curEmojiIcon.y=(this.nickTxt.y - yy9);

}
callMethod(this,this.rectNick.painter,_14[22]);
callMethod(this,this.rectNick.painter,_14[13],[(this.nickTxt.x - 5),(this.nickTxt.y - 3),(ww + 10),24,_14[14]]);

};
_app_game_PersGameRoom[_14[37]]=function(u){
if(u){
this.userid=u.id;
this.nickTxt.text=('' + u.nick);
var nickClrPos=-1;
if(checkIn(u,_14[24])){
nickClrPos=u.nickColor_pos;

}
var clr1=callMethod(this,GLOBAL.$app,_14[25],[u.mode,nickClrPos]);
if(checkIn(u,_14[26])){
clr1=u.nickColor;

}
this.nickTxt.color=clr1;
var ww=this.nickTxt.width;
if((this.nickTxt.width > this.maxNickWidth)){
ww=this.maxNickWidth;

}
if(checkIn(u,_14[27])){
callMethod(this,this.dressContainer,_14[28],[u.dressItems]);
callMethod(this,this.dressContainer,_14[29],[this.spr.currentFrame]);

}
if(GLOBAL.$app.user){
if((u.id == GLOBAL.$app.user.id)){
var isMyNickColor=callMethod(this,GLOBAL.$app.flagsSettings,_14[30],[3,2]);
if(!isMyNickColor){
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.MY_NICK_COLOR) > 0)){

}else{
this.nickTxt.color=12895428;

}

}

}

}
var isRainbow=!1;
if(checkIn(u,_14[31])){
if((u.nickRainbow == 1)){
isRainbow=!0;

}

}
var clrGrad=null;
var gradNickVal=null;
if((u.nickColor_pos > 0)){

}else{
if(!isRainbow){
gradNickVal=callMethod(this,GLOBAL.AppUtils,_14[32],[u.mode,!0]);

}

}
if(gradNickVal){
clrGrad=callMethod(this,lang.display.Painter,_14[33],[0,0,ww,0,gradNickVal.colors,gradNickVal.ratios]);

}
if(isRainbow){
clrGrad=callMethod(this,lang.display.Painter,_14[33],[0,0,ww,0,GLOBAL.$app.rainbowColorsArr,GLOBAL.$app.rainbowColorsRatios]);

}
if(clrGrad){
this.nickTxt.color=clrGrad;

}
if(checkIn(u,_14[5])){
if((u.nick_itemid == 1)){
this.nickTxt.color=4848165;
if(this.popularIcon){
if(this.popularIcon.parent){
callMethod(this,this.popularIcon.parent,_14[34],[this.popularIcon]);

}

}

}

}
if(this.curEmojiIcon){
if(this.curEmojiIcon.parent){
callMethod(this,this.curEmojiIcon.parent,_14[34],[this.curEmojiIcon]);

}
this.curEmojiIcon=null;

}
var checkv7=callMethod(this,GLOBAL.$app.flagsSettings,_14[30],[3,17]);
if(!checkv7){
if(checkIn(u,_14[35])){
if((u.iconEmoji > 0)){
var emojiBM=callMethod(this,GLOBAL.$app.userMaster,_14[36],[u.iconEmoji]);
if(emojiBM){
this.curEmojiIcon=emojiBM;
callMethod(this,this.sprr4,_14[2],[emojiBM]);

}

}

}

}
if((this.nickTxt.width < 20)){
this.nickTxt.width=90;

}
callMethod(this,this,_14[23],[(this.isLeft == 1) ? 1 : 0]);

}

};
_app_game_PersGameRoom[_14[16]]=function(v){
if(v){
if(!this.item1Spr){
var scV=(0.5 - 0.1);
var bm1=ctorObject(lang.display.Bitmap);
bm1.x=(12 * scV);
bm1.y=6;
var bmm=callMethod(this,GLOBAL.$app.moviesReader,_14[6],[_14[38]]);
bm1.scaleX=scV;
bm1.scaleY=scV;
bm1.alpha=0;
bm1.rotation=52;
bm1.src=bmm.src;
this.item1Spr=bm1;
callMethod(this,this.persDialog,_14[2],[bm1]);
var obb={v:0};
var tween=ctorObject(lib.Tween,[obb]);
callMethod(this,tween,_14[39],[{v:100},300,function(){
bm1.alpha=(obb.v / 100);

},function(){

}]);
callMethod(this,tween,_14[40]);

}

}else{
if(this.item1Spr){
callMethod(this,this.item1Spr.parent,_14[34],[this.item1Spr]);

}
this.item1Spr=null;

}

};
_app_game_PersGameRoom[_14[41]]=function(){

};
_app_game_PersGameRoom[_14[39]]=function(){

};
_app_game_PersGameRoom[_14[48]]=function(){
var th=this;
callMethod(this,GLOBAL.$app,_14[42],[_14[43]]);
if(!th.barkSpr){
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_14[6],[_14[44]]);
bm1.y=-22;
var room=GLOBAL.$app.gameRoom;
if((th.user.id == GLOBAL.$app.user.id)){
var o={x:th.x,y:th.y,w:45,h:30,r:0};
var q=ctorObject(_14[45],[null,function(){

}]);
var body=callMethod(this,room,_14[46],[_14[47],o,q]);
q.body=body;
th.barkBody=body;

}
th.barkSpr=bm1;
callMethod(this,th,_14[23],[th.isLeft]);
callMethod(this,null,_14[2],[bm1]);

}

};
_app_game_PersGameRoom[_14[56]]=function(){
var th=this;
if(!this.persMsgAnimSpr1){
var m=ctorObject(_14[49]);
callMethod(this,m,_14[50],[14]);
m.v1=2;
this.persMsgAnimSpr1=m;
callMethod(this,m,_14[51],[_14[52]]);
if(th.persDialog){
callMethod(this,th.persDialog,_14[53],[m]);

}
m.tm=callMethod(this,Timer,_14[39],[3000,function(){
m.v1-=1;
if((m.v1 <= 0)){
callMethod(this,this,_14[54]);
if(th.persDialog){
callMethod(this,th.persDialog,_14[55],[m,!0]);

}
th.persMsgAnimSpr1=null;

}

}]);

}else{
this.persMsgAnimSpr1.v1=2;

}

};
_app_game_PersGameRoom[_14[57]]=function(txt,noParse){
if(txt){
var p2=this.persMsgAnimSpr1;
if(p2){
if(p2.tm){
callMethod(this,p2.tm,_14[54]);
p2.tm=null;

}

}
callMethod(this,this.persDialog,_14[55],[p2,!0]);
this.persMsgAnimSpr1=null;
if((txt.size > 0)){
callMethod(this,this.persDialog,_14[57],[txt,noParse]);

}

}

};
_app_game_PersGameRoom[_14[60]]=function(){
var th=this;
var isEnd=!1;
var x1=0;
callMethod(this,th.dressContainer,_14[29],[th.spr.currentFrame]);
if(this.barkSpr){
if((this.isLeft == 1)){
this.barkSpr.x-=4;
x1=(this.barkSpr.x - 40);
if((-this.barkSpr.x > 50)){
isEnd=!0;

}

}else{
this.barkSpr.x+=4;
x1=this.barkSpr.x;
if((this.barkSpr.x > 40)){
isEnd=!0;

}

}
var room=GLOBAL.$app.gameRoom;
if(this.barkBody){
var posX=(((this.x + x1) + 18) / room.world.scale);
var posY=((this.y - 7) / room.world.scale);
callMethod(this,this.barkBody,_14[58],[{x:posX,y:posY}]);

}
if(isEnd){
callMethod(this,this.barkSpr.parent,_14[34],[this.barkSpr]);
if(this.barkBody){
callMethod(this,room.world,_14[59],[this.barkBody]);
this.barkBody=null;

}
this.barkSpr=null;

}

}

};
_app_game_PersGameRoom[_14[67]]=function(cb){
var th=this;
if(cb){
if((this.nickItemID == 1)){
if(th.user){
if(checkIn(th.user,_14[61])){
var binfo=th.user.boarInfo;
if(binfo){
var cb2=function(){
th.rectNick.buttonMode=!1;
th.rectNick.click=function(){

};
if(th.boarRectSpr){
th.boarRectSpr.buttonMode=!1;
th.boarRectSpr.click=function(){

};

}
callMethod(this,GLOBAL.$app.connect,_14[62],[function(v){
if((v == _14[63])){
callMethod(this,th,_14[57],['Хрю, тебе удалось поймать меня!']);

}else if((v == _14[64])){
callMethod(this,th,_14[57],[_14[65]]);

}


},_14[66],binfo.id]);

};
this.rectNick.buttonMode=!0;
this.rectNick.click=cb2;
if(th.boarRectSpr){
th.boarRectSpr.buttonMode=!0;
th.boarRectSpr.click=cb2;

}

}

}

}

}else{
this.rectNick.buttonMode=!0;
this.rectNick.click=cb;

}

}

};
_app_game_PersGameRoom[_14[70]]=function(room){
var th=this;
if(!th.viewerModeV){
th.viewerModeV=!0;
if(th.body){
if(!th.bodyDestroy){
th.bodyDestroy=!0;
callMethod(this,room.world,_14[59],[th.body]);

}

}
var ufoImg=callMethod(this,GLOBAL.$app.moviesReader,_14[6],[_14[68]]);
th.curUfoImg1=ufoImg;
if(ufoImg){
ufoImg.scaleX=0.35;
ufoImg.scaleY=0.35;
ufoImg.x=-50;
ufoImg.y=-10;
callMethod(this,th,_14[23],[th.isLeft]);
callMethod(this,null,_14[2],[ufoImg]);
callMethod(this,null,_14[69],[ufoImg,0]);

}

}

};
_app_game_PersGameRoom[_14[59]]=function(){
callMethod(this,this,_14[71]);

};
_app_game_PersGameRoom[_14[71]]=function(){
this.body=null;
this.room=null;
if(this.persDialog){
callMethod(this,this.persDialog,_14[72]);
callMethod(this,null,_14[34],[this.persDialog]);

}
this.persDialog=null;

};
vm.registerClass(_14[73],_14[74],_app_game_PersGameRoom);
})(window);



(function(window){
var _43=["pc","createSpritePainter","addChild","app.ui.VScrollBar2","Arial","стоп","stopAudioPlayer","getAssetByName","a61.png","rect","viewPlaylistsFunc","app.ui.HSliderAudioVolume","resize","setPlaylist","playData","removeAllChilds","setMaxValue","cbList","добавить","openPopUpSelectFolderLocal","/","isDirectory","remove","песни","split","pop","openPopUpMapEditorInputOne","Имя плейлиста","Создать","cut","PlayerPlaylist","push","musicPlaylist","Array","saveCfg","getChildAt","selectActiveItem","stopAudio","del","playlistDel","readFolderNative","getCount","Плейлист - "," [","]","удалить","openPopUpConfirmMsgYesNo","Удалить плейлист?","web","reload","update","clear","border","#186416","removeChild","app.popup.PopUpAudioPlayerSpr1","lang.display.Sprite"];
var _app_popup_PopUpAudioPlayerSpr1={};
_app_popup_PopUpAudioPlayerSpr1["ctor"]=function(){
var th=this;
this.w=200;
this.h=230;

this.selectable=!1;
this.spr=callMethod(this,GLOBAL.AppUtils,_43[1]);
this.spr.alpha=0.7;
this.msk=callMethod(this,GLOBAL.AppUtils,_43[1]);
callMethod(this,null,_43[2],[this.spr]);
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,null,_43[2],[this.cnt]);
this.cnt.x=10;
this.cnt.y=43;
this.cnt.width=(this.w - this.cnt.x);
this.cnt.height=(this.h - 70);
this.cnt.scroll=!0;
var sc=ctorObject(_43[3],[this.cnt,(this.h - 70)]);
this.sc=sc;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontName=_43[4];
this.tf1.bold=!0;
this.tf1.fontSize=13;
this.tf1.y=4;
callMethod(this,null,_43[2],[this.tf1,this.sc]);
this.tfStop=ctorObject(lang.text.TextField);
this.tfStop.fontName=_43[4];
this.tfStop.bold=!0;
this.tfStop.fontSize=13;
this.tfStop.text=_43[5];
this.tfStop.color=16776960;
this.tfStop.x=9;
this.tfStop.y=23;
this.tfStop.buttonMode=!0;
this.tfStop.click=function(e){
callMethod(this,GLOBAL.$app,_43[6]);

};
callMethod(this,null,_43[2],[this.tfStop]);
var edit1BM=callMethod(this,GLOBAL.$app.moviesReader,_43[7],[_43[8]]);
if(edit1BM){
var a8=callMethod(this,GLOBAL.AppUtils,_43[1]);
callMethod(this,a8.painter,_43[9],[0,0,edit1BM.width,edit1BM.height,edit1BM]);
a8.x=(this.w - 20);
a8.y=2;
a8.buttonMode=!0;
a8.click=function(e){
callMethod(this,th,_43[10]);

};
callMethod(this,null,_43[2],[a8]);

}
var sliderVolume=ctorObject(_43[11],[function(perc){
GLOBAL.$app.audioPlayer.volume=perc;

}]);
sliderVolume.x=((this.w - sliderVolume.w) - 30);
sliderVolume.y=24;
sliderVolume.value=GLOBAL.$app.audioPlayer.volume;
callMethod(this,null,_43[2],[sliderVolume]);
callMethod(this,this,_43[12],[this.w,this.h]);
this.playlist=null;
callMethod(this,this,_43[13],[GLOBAL.$app.audioPlayer.playlist]);
if(!GLOBAL.$app.audioPlayer.playlist){
callMethod(this,this,_43[10]);

}

};
_app_popup_PopUpAudioPlayerSpr1[_43[14]]=function(o){
if(o){
this.tfStop.visible=!0;

}

};
_app_popup_PopUpAudioPlayerSpr1[_43[10]]=function(){
var th=this;
callMethod(this,this.cnt,_43[15]);
callMethod(this,this.sc,_43[16],[0]);
var h2=25;
var yy=0;
var i=0;
while((i < GLOBAL.Config.audioPlaylists.size)){
var el=GLOBAL.Config.audioPlaylists[i];
var spr=ctorObject(lang.text.TextField);
spr.fontName=_43[4];
spr.bold=!0;
spr.buttonMode=!0;
spr.click=function(){
if(checkIn(this.itemA,_43[17])){
callMethod(this,this.itemA,_43[17],[this.itemA]);

}
callMethod(this,th,_43[13],[this.itemA]);
callMethod(this,GLOBAL.$app.audioPlayer,_43[13],[this.itemA]);

};
spr.itemA=el;
var clr=16777215;
spr.fontSize=14;
spr.color=clr;
spr.text=('' + el.name);
spr.y=yy;
yy=(yy + h2);
callMethod(this,this.cnt,_43[2],[spr]);
i++;
}
if(GLOBAL.$app.isStandalone){
var spr=ctorObject(lang.text.TextField);
spr.fontName=_43[4];
spr.bold=!0;
spr.buttonMode=!0;
spr.fontSize=14;
spr.color=65535;
spr.text=_43[18];
spr.click=function(){
var fileV=callMethod(this,GLOBAL.$app.popup,_43[19],[_43[20],function(p6){

},function(path){
var fi=ctorObject(lang.io.File,[path]);
var isFolder=callMethod(this,fi,_43[21]);
callMethod(this,fileV,_43[22]);
if(isFolder){
var nm2=_43[23];
if((path.size > 0)){
var spl=callMethod(this,path,_43[24],[_43[20]]);
if((spl.size > 0)){
nm2=callMethod(this,spl,_43[25]);

}

}
callMethod(this,GLOBAL.$app.popup,_43[26],[_43[27],_43[28],function(ob){
var vv=ob.name;
if((vv.size > 0)){
nm2=vv;

}
if((vv.size > 20)){
vv=callMethod(this,vv,_43[29],[0,20]);

}
var obb={name:nm2,path:path};
var myMusicList2=ctorObject(_43[30],[(GLOBAL.Config.audioPlaylists.size + 30),nm2]);
myMusicList2.obData1=obb;
myMusicList2.nativePath=path;
callMethod(this,GLOBAL.Config.audioPlaylists,_43[31],[myMusicList2]);
callMethod(this,th,_43[10]);
var aa2=[];
if(checkIn(GLOBAL.$app.cfgDataObj,_43[32])){
aa2=GLOBAL.$app.cfgDataObj.musicPlaylist;

}
if(!checkIs(aa2,_43[33])){
aa2=[];

}
callMethod(this,aa2,_43[31],[obb]);
GLOBAL.$app.cfgDataObj.musicPlaylist=aa2;
callMethod(this,GLOBAL.$app,_43[34]);

}]);

}

}]);

};
spr.y=yy;
yy=(yy + h2);
callMethod(this,this.cnt,_43[2],[spr]);

}

};
_app_popup_PopUpAudioPlayerSpr1[_43[36]]=function(o){
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_43[35],[i]);
if(o){
if(el.itemPL){
el.color=16777215;

}
if((el.itemPL == this.playlist)){
if((el.itemAudio.id == o.id)){
el.color=65346;

}

}

}
i++;
}

};
_app_popup_PopUpAudioPlayerSpr1[_43[37]]=function(){
callMethod(this,this,_43[36],[null]);
this.tfStop.visible=!1;

};
_app_popup_PopUpAudioPlayerSpr1[_43[39]]=function(o){
var th=this;
if(o){
if(o.obData1){
if(checkIn(GLOBAL.$app.cfgDataObj,_43[32])){
var aa2=GLOBAL.$app.cfgDataObj.musicPlaylist;
if(checkIs(aa2,_43[33])){
var i=0;
while((i < aa2.size)){
var el=aa2[i];
if((el == o.obData1)){
callMethod(this,aa2,_43[38],[i]);

}
i++;
}
var a3=GLOBAL.Config.audioPlaylists;
var i=0;
while((i < a3.size)){
var el1=a3[i];
if((el1 == o)){
callMethod(this,a3,_43[38],[i]);

}
i++;
}
callMethod(this,GLOBAL.$app,_43[34]);

}

}

}

}

};
_app_popup_PopUpAudioPlayerSpr1[_43[13]]=function(o){
var th=this;
this.tf1.text='';
if(o){
this.playlist=o;
callMethod(this,this.cnt,_43[15]);
callMethod(this,this.sc,_43[16],[0]);
if((o.list.size == 0)){
callMethod(this,o,_43[40]);

}
var nums=callMethod(this,o,_43[41]);
this.tf1.text=((((_43[42] + o.name) + _43[43]) + nums) + _43[44]);
this.tf1.x=((this.w - this.tf1.width) / 2);
this.tf1.width=(this.tf1.width + 4);
var h2=25;
var yy2=0;
if(GLOBAL.$app.isStandalone){
if(o.nativePath){
var spr=ctorObject(lang.text.TextField);
spr.fontName=_43[4];
spr.bold=!0;
spr.buttonMode=!0;
spr.fontSize=14;
spr.color=65535;
spr.text=_43[45];
spr.itemPL=null;
spr.click=function(){
callMethod(this,GLOBAL.$app.popup,_43[46],[_43[47],function(){
callMethod(this,th,_43[39],[o]);
callMethod(this,th,_43[37]);
callMethod(this,GLOBAL.$app,_43[6]);
callMethod(this,th,_43[13],[null]);
callMethod(this,th,_43[10]);

}]);

};
spr.y=yy2;
yy2=(yy2 + (spr.height + 5));
callMethod(this,this.cnt,_43[2],[spr]);

}

}
var i=0;
while((i < o.list.size)){
var el=o.list[i];
var spr=ctorObject(lang.text.TextField);
spr.fontName=_43[4];
spr.bold=!0;
spr.fontSize=14;
spr.buttonMode=!0;
spr.click=function(){
callMethod(this,GLOBAL.$app.audioPlayer,_43[14],[this.itemAudio]);
callMethod(this,th,_43[36],[this.itemAudio]);
th.tfStop.visible=!0;

};
spr.itemAudio=el;
spr.itemPL=o;
var clr=16777215;
if(o.currentItem){
if((o.currentItem.id == el.id)){
clr=65346;

}

}
spr.color=clr;
spr.maxWidth=(th.w - 30);
spr.text=('' + el.name);
spr.width=(spr.width + 4);

spr.y=yy2;
yy2=(yy2 + (spr.height + 5));
spr.y+=4;

callMethod(this,this.cnt,_43[2],[spr]);
i++;
}

}
callMethod(this,this.sc,_43[49]);

};
_app_popup_PopUpAudioPlayerSpr1[_43[50]]=function(){
callMethod(this,this,_43[13],[GLOBAL.$app.audioPlayer.playlist]);

};
_app_popup_PopUpAudioPlayerSpr1[_43[12]]=function(w,h){
callMethod(this,this.sc,_43[12],[7,(h - 70)]);
callMethod(this,this.spr.painter,_43[51]);
callMethod(this,this.spr.painter,_43[52],[2,1525580]);
var clr=_43[53];
clr=GLOBAL.Config.audioPlayerBG;
callMethod(this,this.spr.painter,_43[9],[0,0,this.w,this.h,clr]);

};
_app_popup_PopUpAudioPlayerSpr1[_43[22]]=function(){
callMethod(this,this.parent,_43[54],[this]);

};
vm.registerClass(_43[55],_43[56],_app_popup_PopUpAudioPlayerSpr1);
})(window);



(function(window){
var _161=["app.game.items.AllItems","lang.display.Sprite"];
var _app_game_items_AllItems={};
_app_game_items_AllItems["ctor"]=function(){

};
vm.registerClass(_161[0],_161[1],_app_game_items_AllItems);
})(window);

(function(window){
var _197=["createPainter","addChild","wallGameT",".png","getAssetBitmap","rect","draw","clear","border","resize","app.game.items.WallItem","lang.display.Sprite"];
var _app_game_items_WallItem={};
_app_game_items_WallItem["ctor"]=function(id,isWorld,isNoCache){
this.uniq=0;
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,this.spr,_197[0]);
callMethod(this,null,_197[1],[this.spr]);
this.isBorderEnable=!1;
this.isScaleImg=!1;
this.scaleImg=0.5;
this.isNoCache=isNoCache;
this.spr.scaleX=this.scaleImg;
this.spr.scaleY=this.scaleImg;
this.isWorld=isWorld;
this.bm=null;
this.w=0;
this.h=0;
this.flags1=0;
this.type=2;
this.itemid=id;
this.id2=id;
if((id == 0)){
id=1;

}else if((id == 8)){
id=1;

}

this.id2=id;
this.editorItemSpr=this;
this.mouseChildren=!1;
this.bm1=null;
var nm=((_197[2] + id) + _197[3]);
var cacheObj=GLOBAL.$app.gameMaster.bitmapCache;
if(checkIn(cacheObj,nm)){
this.bm=cacheObj[nm];

}else{
this.bm=callMethod(this,GLOBAL.$app.moviesReader,_197[4],[nm]);
if(this.bm){
cacheObj[nm]=this.bm;

}

}
if(this.isScaleImg){
callMethod(this,null,_197[1],[this.bm]);

}
if(GLOBAL.$app.isWallOptimize){
this.bm1=ctorObject(lang.display.Bitmap);
callMethod(this,this.spr,_197[1],[this.bm1]);

}

};
_app_game_items_WallItem[_197[9]]=function(w,h){
this.w=w;
this.h=h;
if((this.itemid == 0)){

}else{
this.spr.alpha=1;

}
var isNoVis=!1;
if(this.isWorld){

}
if(isNoVis){

}else{
this.spr.x=(-w / 2);
this.spr.y=(-h / 2);
w=(w / this.scaleImg);
h=(h / this.scaleImg);
var isOpt=!1;
if(GLOBAL.$app.isWallOptimize){
isOpt=!0;
var idd=this.id2;
var chh2=GLOBAL.$app.gameMaster.wallCache;
if(!checkIn(chh2,idd)){
var wallImgW=GLOBAL.$app.mapEditor.maxWallW;
var wallImgH=GLOBAL.$app.mapEditor.maxWallH;
var nm=((_197[2] + idd) + _197[3]);
var bmWall=callMethod(this,GLOBAL.$app.moviesReader,_197[4],[nm]);
if(!GLOBAL.$app.isStandalone){
if(bmWall && !bmWall.isLoad){
isOpt=null;
bmWall=null;

}

}
if(bmWall){
var rr=ctorObject(lang.display.Sprite);
callMethod(this,rr,_197[0]);
callMethod(this,rr.painter,_197[5],[0,0,(wallImgW * 2),(wallImgH * 2),bmWall]);
var bmd=ctorObject(lang.display.BitmapData,[(wallImgW * 2),(wallImgH * 2),0,!0]);
callMethod(this,bmd,_197[6],[rr]);
chh2[idd]=bmd;

}

}
if(((w * this.scaleImg) > GLOBAL.$app.mapEditor.maxWallW)){
isOpt=!1;

}
if(((h * this.scaleImg) > GLOBAL.$app.mapEditor.maxWallH)){
isOpt=!1;

}

}
if(this.isNoCache){
isOpt=!1;

}
if(isOpt){
var idd=this.id2;
var chh=GLOBAL.$app.gameMaster.wallCache;
if(checkIn(chh,idd)){
if(this.bm1){
var bmd=chh[idd];
this.bm1.sourceRect={x:0,y:0,w:w,h:h};
this.bm1.noBase64=!0;
this.bm1.src=bmd;

}

}

}else{
callMethod(this,this.spr.painter,_197[7]);
if(this.isBorderEnable){
callMethod(this,this.spr.painter,_197[8],[1,0,0.5]);

}
if(this.isScaleImg){
this.bm.x=this.spr.x;
this.bm.y=this.spr.y;
this.bm.scaleX=(w / 128);
this.bm.scaleY=(h / 128);

}else{
callMethod(this,this.spr.painter,_197[5],[0,0,w,h,this.bm]);

}

}

}

};
vm.registerClass(_197[10],_197[11],_app_game_items_WallItem);
})(window);

(function(window){
var _178=["setID","ActivateAlpha","Deactivate","getDecorItemByID","isMovieClip","addChild","getAssetBitmap","scaleX","scaleY","web","app.game.items.DecorItem","cloneItem","lang.display.Sprite"];
var _app_game_items_DecorItem={};
_app_game_items_DecorItem["ctor"]=function(id){
this.type=1;
this.itemid=0;
this.w=0;
this.h=0;
this.flags1=0;
this.isSensorItem=!0;
this.imgSize={width:0,height:0};
this.bm=null;
this.isEditorItem2=!0;
this.editorItemSpr=this;
callMethod(this,this,_178[0],[id]);

};
_app_game_items_DecorItem[_178[1]]=function(){
this.alpha=0.5;

};
_app_game_items_DecorItem[_178[2]]=function(){
this.alpha=1;

};
_app_game_items_DecorItem[_178[0]]=function(id){
this.itemid=id;
var decorObj=callMethod(this,GLOBAL.$app.gameMaster,_178[3],[id]);
if(decorObj){
if(checkIn(decorObj,_178[4])){
var nmm=decorObj.bmName;
if(checkIn(GLOBAL,nmm)){
var cl=GLOBAL[nmm];
var mvv=ctorObject(cl);
mvv.mouseChildren=!1;
this.bm=mvv;
this.rectSpr=this.bm;
var sz={};
sz.width=decorObj.w;
sz.height=decorObj.h;
this.w=sz.width;
this.h=sz.height;
mvv.x=(-sz.width / 2);
mvv.y=(-sz.height / 2);
callMethod(this,null,_178[5],[mvv]);

}

}else{
var bmm=callMethod(this,GLOBAL.$app.moviesReader,_178[6],[decorObj.bmName]);
if(bmm){
var bm=ctorObject(lang.display.Bitmap);
bm.src=bmm;
this.bm=bm;
this.rectSpr=this.bm;
var scX=1;
var scY=1;
if(checkIn(decorObj,_178[7])){
scX=decorObj.scaleX;

}
if(checkIn(decorObj,_178[8])){
scY=decorObj.scaleY;

}
bm.scaleX=scX;
bm.scaleY=scY;
var sz={};
sz.width=castInt((bm.width * scX));
sz.height=castInt((bm.height * scY));
this.w=sz.width;
this.h=sz.height;
bm.point={x:(sz.width / 2),y:(sz.height / 2)};

callMethod(this,null,_178[5],[bm]);

}

}

}

};
_app_game_items_DecorItem[_178[11]]=function(){
var q=ctorObject(_178[10],[this.itemid]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
return q;

};
vm.registerClass(_178[10],_178[12],_app_game_items_DecorItem);
})(window);

(function(window){
var _236=["setID","getAssetByID","bm","scale","web","addChild","app.game.items.DecorItemWorld","cloneItem","lang.display.Sprite"];
var _app_game_items_DecorItemWorld={};
_app_game_items_DecorItemWorld["ctor"]=function(id){
this.uniq=0;
this.type=30;
this.itemid=0;
this.w=0;
this.h=0;
this.flags1=0;
this.isSensorItem=!0;
this.imgSize={width:0,height:0};
this.bm=null;
this.editorItemSpr=this;
this.mouseChildren=!1;
callMethod(this,this,_236[0],[id]);

};
_app_game_items_DecorItemWorld[_236[0]]=function(id){
this.itemid=id;
var decorObj=callMethod(this,GLOBAL.$app.worldMaster,_236[1],[id]);
if(decorObj){
if(checkIn(decorObj,_236[2])){
var bmm=decorObj.bm;
if(bmm){
var bm=ctorObject(lang.display.Bitmap);
bm.src=bmm;
this.bm=bm;
var scV=1;
if(checkIn(decorObj,_236[3])){
scV=decorObj.scale;

}
bm.scaleX=scV;
bm.scaleY=scV;
var sz={};
sz.width=castInt((bm.width * scV));
sz.height=castInt((bm.height * scV));
this.w=sz.width;
this.h=sz.height;
bm.point={x:(sz.width / 2),y:(sz.height / 2)};

callMethod(this,null,_236[5],[bm]);

}

}

}

};
_app_game_items_DecorItemWorld[_236[7]]=function(){
var q=ctorObject(_236[6],[this.itemid]);
q.x=this.x;
q.y=this.y;
q.flags1=this.flags1;
q.rotation=this.rotation;
return q;

};
vm.registerClass(_236[6],_236[8],_app_game_items_DecorItemWorld);
})(window);

(function(window){
var _1=["addChild","GameRoomItemFinish","app.game.PersGameRoom","setLeft","push","createPersNums","cbUfo2","ufoFunc2","removeChild","UFOGameRoomPersMov","clear","getChildIndex","setChildIndex","remove","setUser","init","start","UFOFunc1","pop","setState","idle","persCageRunAnim","cb3","open","check","playSFX","unlock","setStateAnim","ActivateAlpha","Deactivate","app.game.items.ExitItem","lang.display.Sprite"];
var _app_game_items_ExitItem={};
_app_game_items_ExitItem["ctor"]=function(){
this.w=0;
this.h=0;
this.type=10;
this.itemid=0;
this.x1=0;
this.cb3=null;
this.isMyExit=!1;
this.isEditorItem2=!0;
this.curPers=null;
this.cageID=0;
this.flags1=0;
this.isSensorItem=!0;
this.cbUfo2=null;
this.editorItemSpr=this;
this.mouseChildren=!1;
this.room=null;
this.sp1=ctorObject(lang.display.Sprite);
callMethod(this,null,_1[0],[this.sp1]);
var bm1=ctorObject(_1[1]);
this.mov=bm1;
this.persCageList=[];
this.persCageListDup=[];
this.sp1.x=-(120 / 2);
this.sp1.y=-(110 / 2);
callMethod(this,this.sp1,_1[0],[bm1]);

};
_app_game_items_ExitItem[_1[5]]=function(v){
if((v > 0)){
var startPos=30;
if((v == 1)){
startPos=50;

}
var i=0;
while((i < v)){
var p=ctorObject(_1[2],[null,null]);
callMethod(this,p,_1[3],[1]);
p.x=77;
p.y=startPos;
startPos+=15;
callMethod(this,this.persCageList,_1[4],[p]);
callMethod(this,this.persCageListDup,_1[4],[p]);
callMethod(this,this.mov.q1,_1[0],[p]);
i++;
}

}

};
_app_game_items_ExitItem[_1[7]]=function(){
if(this.cbUfo2){
callMethod(this,this,_1[6]);

}

};
_app_game_items_ExitItem[_1[17]]=function(cb){
var th=this;
if(th.room){
callMethod(this,th,_1[8],[th.sp1]);
var m=th.room.ufoContainer;
var p=ctorObject(_1[9]);
callMethod(this,p.cnt.painter,_1[10]);
p.a1.alpha=0;
p.x=(th.x - 90);
p.y=(th.y - 30);
var x2=70;
var i=0;
while((i < th.persCageListDup.size)){
var ell=th.persCageListDup[i];
if(ell){
callMethod(this,ell,_1[3],[!1]);
ell.x=x2;
ell.y-=10;
x2+=24;

}
i++;
}
callMethod(this,p.cnt,_1[0],[th.sp1]);
callMethod(this,m,_1[0],[p]);
var ind=callMethod(this,m,_1[11],[p]);
callMethod(this,m,_1[12],[p,(ind - 1)]);
var aa3=null;
th.cbUfo2=function(){
if(!th.isMyExit){
th.isMyExit=!0;

}
if(th.curPers){
callMethod(this,th.room.world,_1[13],[th.curPers.body]);
th.curPers.visible=!1;
var pp=ctorObject(_1[2],[null,null]);
callMethod(this,pp,_1[14],[th.curPers.user]);
pp.x=22;
pp.y=2;
callMethod(this,p.cnt,_1[0],[pp]);

}
var tween=ctorObject(lib.Tween,[p.a1]);
callMethod(this,tween,_1[15],[{alpha:1},400,function(){

},function(){
var x3=(th.room.mapSize.width + 1000);
var tween=ctorObject(lib.Tween,[p]);
callMethod(this,tween,_1[15],[{x:x3},700,function(){

},function(){
callMethod(this,p.parent,_1[8],[p]);
if(cb){
cb();

}

}]);
callMethod(this,tween,_1[16]);

}]);
callMethod(this,tween,_1[16]);

};

}

};
_app_game_items_ExitItem[_1[21]]=function(cb){
var th=this;
var sz2=th.persCageList.size;
if((sz2 > 0)){
var el=callMethod(this,th.persCageList,_1[18]);
var x2=30;
callMethod(this,el.parent,_1[8],[el]);
el.x+=13;
el.y+=15;
th.x1+=30;
callMethod(this,th.sp1,_1[0],[el]);
callMethod(this,el,_1[19],[_1[20]]);
if((th.persCageList.size > 0)){
var el1=th.persCageList[0];
if(el1){
el1.y+=15;

}

}
if((sz2 == 2)){
el.y+=15;

}
callMethod(this,th,_1[21],[cb]);

}else{
th.x1=0;
if(th.cb3){
callMethod(this,th,_1[22]);

}
var tween=ctorObject(lib.Tween,[th.mov]);
callMethod(this,th,_1[17],[cb]);
callMethod(this,tween,_1[15],[{alpha:0},100,function(){

},function(){

}]);
callMethod(this,tween,_1[16]);

}

};
_app_game_items_ExitItem[_1[27]]=function(userid,t,cb){
var th=this;
if(cb){
if((t == _1[23])){
th.mov.a3.visible=!1;
if((userid == GLOBAL.$app.user.id)){
var checkSound=callMethod(this,GLOBAL.$app.flagsSettings,_1[24],[3,7]);
if(!checkSound){
callMethod(this,GLOBAL.$app,_1[25],[_1[26]]);

}

}
var ob={v:61,alp:1};
callMethod(this,th.mov.a1.painter,_1[10]);
callMethod(this,th,_1[21],[cb]);

}

}

};
_app_game_items_ExitItem[_1[28]]=function(){
this.alpha=0.5;

};
_app_game_items_ExitItem[_1[29]]=function(){
this.alpha=1;

};
vm.registerClass(_1[30],_1[31],_app_game_items_ExitItem);
})(window);

(function(window){
var _90=["getAssetBitmap","Key1.png","web","addChild","a80.png","addVisKeyAnimBM","addChildAt","visAnim1","app.game.items.KeyItem","cloneItem","ActivateAlpha","Deactivate","lang.display.Sprite"];
var _app_game_items_KeyItem={};
_app_game_items_KeyItem["ctor"]=function(){
this.w=0;
this.h=0;
this.type=11;
this.itemid=0;
this.isSensorItem=!0;
this.editorItemSpr=this;
this.isEditorItem2=!0;
this.flags1=0;
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_90[0],[_90[1]]);
if(bm2){
var scV=0.5;
this.w=(bm2.naturalWidth * scV);
this.h=(bm2.naturalHeight * scV);
var bm=ctorObject(lang.display.Bitmap);
bm.scaleX=scV;
bm.scaleY=scV;
bm.src=bm2.src;
bm.point={x:(this.w / 2),y:(this.h / 2)};

this.rectSpr=bm;
callMethod(this,null,_90[3],[bm]);

}

};
_app_game_items_KeyItem[_90[7]]=function(room){
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_90[0],[_90[4]]);
if(bm2){
var scaleV=0.7;
var spp=ctorObject(lang.display.Bitmap);
spp.scaleX=scaleV;
spp.scaleY=scaleV;
spp.src=bm2.src;
var ww=(bm2.naturalWidth * scaleV);
var hh=(bm2.naturalHeight * scaleV);
if(GLOBAL.$app.isNormalRotPos){
ww=bm2.naturalWidth;
hh=bm2.naturalHeight;

}
spp.point={x:(ww / 2),y:(hh / 2)};
callMethod(this,room,_90[5],[spp]);
callMethod(this,null,_90[6],[spp,0]);

}

};
_app_game_items_KeyItem[_90[9]]=function(){
var q=ctorObject(_90[8]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
return q;

};
_app_game_items_KeyItem[_90[10]]=function(){
this.alpha=0.5;

};
_app_game_items_KeyItem[_90[11]]=function(){
this.alpha=1;

};
vm.registerClass(_90[8],_90[12],_app_game_items_KeyItem);
})(window);

(function(window){
var _240=["getAssetBitmap","krutilkaItem.png","addChild","app.game.items.KrutilkaItem","cloneItem","lang.display.Sprite"];
var _app_game_items_KrutilkaItem={};
_app_game_items_KrutilkaItem["ctor"]=function(){
this.w=0;
this.h=0;
this.type=8;
this.itemid=0;
this.isSensorItem=!0;
this.editorItemSpr=this;
this.mouseChildren=!1;
this.flags1=0;
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_240[0],[_240[1]]);
if(bm2){
this.w=bm2.naturalWidth;
this.h=bm2.naturalHeight;
var bm=ctorObject(lang.display.Bitmap);
bm.src=bm2.src;
bm.x=(-this.w / 2);
bm.y=(-this.h / 2);
callMethod(this,null,_240[2],[bm]);

}

};
_app_game_items_KrutilkaItem[_240[4]]=function(){
var q=ctorObject(_240[3]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
return q;

};
vm.registerClass(_240[3],_240[5],_app_game_items_KrutilkaItem);
})(window);

(function(window){
var _195=["setType","PointRed","PointYellow","bitmap",".png","addChild","app.game.items.PointItem","cloneItem","lang.display.Sprite"];
var _app_game_items_PointItem={};
_app_game_items_PointItem["ctor"]=function(tt){
this.uniq=0;
this.w=0;
this.h=0;
this.type=20;
this.itemid=0;
this.tt=tt;
this.isSensorItem=!0;
this.editorItemSpr=this;
this.isEditorItem2=!0;
this.bm=null;
callMethod(this,this,_195[0],[tt]);

};
_app_game_items_PointItem[_195[0]]=function(t){
this.tt=t;
var nm1=_195[1];
if((t == 2)){
nm1=_195[2];

}
var bm2=callMethod(this,null,_195[3],[(nm1 + _195[4])]);
if(bm2){
this.w=(bm2.naturalWidth * bm2.scaleX);
this.h=(bm2.naturalHeight * bm2.scaleY);
if(!this.bm){
this.bm=ctorObject(lang.display.Bitmap);
this.bm.scaleX=bm2.scaleX;
this.bm.scaleY=bm2.scaleY;
this.bm.x=(-this.w / 2);
this.bm.y=(-this.h / 2);
callMethod(this,null,_195[5],[this.bm]);
this.bm=this.bm;
this.rectSpr=this.bm;

}
this.bm.src=bm2.src;

}

};
_app_game_items_PointItem[_195[7]]=function(){
var q=ctorObject(_195[6],[this.tt]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
return q;

};
vm.registerClass(_195[6],_195[8],_app_game_items_PointItem);
})(window);

(function(window){
var _67=["bitmap","teleportIn.png","teleportOut.png","a","b","addChild","teleportItemA","removeChild","teleportItemEditorBM","app.game.items.TeleportItem","cloneItem","ActivateAlpha","Deactivate","lang.display.Sprite"];
var _app_game_items_TeleportItem={};
_app_game_items_TeleportItem["ctor"]=function(){
this.w=0;
this.h=0;
this.type=21;
this.itemid=0;
this.tt=0;
this.ob=null;
this.isSensorItem=!0;
this.isEditorItem2=!0;
this.bm=null;
this.bmIn=null;
this.bmOut=null;
var scV=0.5;
var bm=callMethod(this,null,_67[0],[_67[1]]);
if(bm){
this.w=(bm.naturalWidth * bm.scaleX);
this.h=(bm.naturalHeight * bm.scaleY);
bm.x=(-this.w / 2);
bm.y=(-this.h / 2);
this.bmIn=bm;

}
var bm=callMethod(this,null,_67[0],[_67[2]]);
if(bm){
this.w=(bm.naturalWidth * bm.scaleX);
this.h=(bm.naturalHeight * bm.scaleY);
this.bmOut=bm;

}

};
_app_game_items_TeleportItem[_67[6]]=function(ob){
this.ob=ob;
if(ob){
if(checkIn(ob,_67[3])){
if(this.bmIn){
this.bmIn.x=ob.a[0];
this.bmIn.y=ob.a[1];

}

}
if(checkIn(ob,_67[4])){
if(this.bmOut){
this.bmOut.x=ob.b[0];
this.bmOut.y=ob.b[1];

}

}

}
if(this.bmIn){
callMethod(this,null,_67[5],[this.bmIn]);

}
if(this.bmOut){
callMethod(this,null,_67[5],[this.bmOut]);

}

};
_app_game_items_TeleportItem[_67[8]]=function(){
if(this.bm){
if(this.bm.parent){
callMethod(this,this.bm.parent,_67[7],[this.bm]);

}

}
if(this.bmIn){
callMethod(this,null,_67[5],[this.bmIn]);

}

};
_app_game_items_TeleportItem[_67[10]]=function(){
var th=this;
var q=ctorObject(_67[9]);
var obb={a:[th.bmIn.x,th.bmIn.y],b:[th.bmOut.x,th.bmOut.y]};
callMethod(this,q,_67[6],[obb]);
return q;

};
_app_game_items_TeleportItem[_67[11]]=function(){
this.alpha=0.5;

};
_app_game_items_TeleportItem[_67[12]]=function(){
this.alpha=1;

};
vm.registerClass(_67[9],_67[13],_app_game_items_TeleportItem);
})(window);

(function(window){
var _196=["web","BIP","text","текст","fontSize","fill","color","addChild","updateObj","shadow","#000000","tc","rainbow","createLinearGradient","draw","clone","app.game.items.TextItem","cloneItem","ActivateAlpha","Deactivate","lang.display.Sprite"];
var _app_game_items_TextItem={};
_app_game_items_TextItem["ctor"]=function(ob,iscache,isEditor){
this.w=0;
this.h=0;
this.ob=ob;
this.isCache=!1;
if(!isEditor){
isEditor=!1;

}
this.isEditor=isEditor;
if(iscache){
this.isCache=!1;


}
this.type=15;
this.itemid=0;
this.flags1=0;
this.isSensorItem=!0;
this.editorItemSpr=this;
this.isEditorItem2=!0;
this.defFontSize=16;
this.tf=ctorObject(lang.text.TextField);
this.tf.fontName=_196[1];
this.rectSpr=this.tf;
if(ob){
if(!checkIn(ob,_196[2])){
ob.text=_196[3];

}
if(!checkIn(ob,_196[4])){
ob.fontSize=this.defFontSize;

}
if(!checkIn(ob,_196[5])){
ob.fill={t:_196[6],color:16777215};

}

}
callMethod(this,null,_196[7],[this.tf]);
callMethod(this,this,_196[8]);

};
_app_game_items_TextItem[_196[8]]=function(){
var th=this;
var o=this.ob;
if(o){
var fontSizeV=o.fontSize;
this.tf.fontSize=fontSizeV;
this.tf.text='';
this.tf.text=('' + o.text);
this.tf.filters=[{id:_196[9],color:_196[10],blur:4,offsetX:0,offsetY:0}];
var ww=this.tf.width;
var hh=this.tf.height;
var textHH=castInt(((fontSizeV / 200) * 150));
hh=textHH;
th.tf.offsetY=-16;
th.tf.textOffsetDraw=16;

if(!th.isEditor){
if(checkIn(o,_196[11])){
if((o.tc == 1)){

th.tf.x=(-o.w / 2);
th.tf.y=(-o.h / 2);

}

}

}
if((o.fill.t == _196[6])){
this.tf.color=o.fill.color;

}else if((o.fill.t == _196[12])){
this.tf.color=callMethod(this,lang.display.Painter,_196[13],[0,0,(ww + 4),0,GLOBAL.$app.rainbowColorsArr,GLOBAL.$app.rainbowColorsRatios]);

}

this.w=ww;
this.h=hh;
if(this.isCache){
var bmd=ctorObject(lang.display.BitmapData,[(ww + 10),(this.tf.height + 10),!0,0]);
this.tf.x=3;
this.tf.y=3;
callMethod(this,bmd,_196[14],[this.tf]);
this.bm.x=-this.tf.x;
this.bm.y=-this.tf.y;
this.bm.src=bmd;

}

}

};
_app_game_items_TextItem[_196[17]]=function(){
var params=callMethod(this,Object,_196[15],[this.ob]);
var q=ctorObject(_196[16],[params]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
return q;

};
_app_game_items_TextItem[_196[18]]=function(){
this.alpha=0.5;

};
_app_game_items_TextItem[_196[19]]=function(){
this.alpha=1;

};
vm.registerClass(_196[16],_196[20],_app_game_items_TextItem);
})(window);

(function(window){
var _282=["GameTrampoline1","getChildAt","gotoAndStop","addChild","app.game.items.TrampolineItem","cloneItem","ActivateAlpha","Deactivate","lang.display.Sprite"];
var _app_game_items_TrampolineItem={};
_app_game_items_TrampolineItem["ctor"]=function(){
this.uniq=0;
this.w=0;
this.h=0;
this.type=6;
this.itemid=0;
this.jumpLevel=0;
this.flags1=0;
this.editorItemSpr=this;
this.isSensorItem=!1;
this.isEditorItem2=!0;
var spp=ctorObject(_282[0]);
spp.bmcObject=callMethod(this,spp,_282[1],[0]);
callMethod(this,spp.bmcObject,_282[2],[0]);
this.bmc=spp.bmcObject;
this.rectSpr=this.bmc;
var curFrame=spp.bmcObject.frames[0];
callMethod(this,null,_282[3],[spp]);
var w1=curFrame[2];
var h1=curFrame[3];
w1=castInt((w1 * spp.bmcObject.scaleX));
h1=castInt((h1 * spp.bmcObject.scaleY));
this.w=w1;
this.h=h1;
spp.x=(-w1 / 2);
spp.y=(-h1 / 2);

};
_app_game_items_TrampolineItem[_282[5]]=function(){
var q=ctorObject(_282[4]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
q.jumpLevel=this.jumpLevel;
return q;

};
_app_game_items_TrampolineItem[_282[6]]=function(){
this.alpha=0.5;

};
_app_game_items_TrampolineItem[_282[7]]=function(){
this.alpha=1;

};
vm.registerClass(_282[4],_282[8],_app_game_items_TrampolineItem);
})(window);

(function(window){
var _102=["getGameItemByType","getAssetByName","web","addChild","app.game.items.UniversalActionItem1","cloneItem","ActivateAlpha","Deactivate","lang.display.Sprite"];
var _app_game_items_UniversalActionItem1={};
_app_game_items_UniversalActionItem1["ctor"]=function(type){
this.w=0;
this.h=0;
this.uniq=0;
this.type=type;
this.itemid=0;
this.flags1=0;
this.isEditorItem2=!0;
this.editorItemSpr=this;
this.isSensorItem=!0;
var ob=callMethod(this,GLOBAL.$app.gameMaster,_102[0],[type]);
if(ob){
this.bm=callMethod(this,GLOBAL.$app.moviesReader,_102[1],[ob.bmName]);
if(this.bm){
this.rectSpr=this.bm;
var isScale05=!1;
if((type == 8)){
this.bm.scaleX=0.7;
this.bm.scaleY=0.7;

}else if((type == 3)){
isScale05=!0;

}else if((type == 4)){
isScale05=!0;

}else if((type == 7)){
isScale05=!0;

}else if((type == 5)){
isScale05=!0;

}




if(isScale05){
this.bm.scaleX=0.5;
this.bm.scaleY=0.5;

}
this.w=(this.bm.width * this.bm.scaleX);
this.h=(this.bm.height * this.bm.scaleY);
if((type == 3)){
this.h-=1;

}
this.bm.point={x:(this.w / 2),y:(this.h / 2)};

callMethod(this,null,_102[3],[this.bm]);

}

}

};
_app_game_items_UniversalActionItem1[_102[5]]=function(){
var q=ctorObject(_102[4],[this.type]);
q.x=this.x;
q.y=this.y;
q.rotation=this.rotation;
return q;

};
_app_game_items_UniversalActionItem1[_102[6]]=function(){
this.alpha=0.5;

};
_app_game_items_UniversalActionItem1[_102[7]]=function(){
this.alpha=1;

};
vm.registerClass(_102[4],_102[8],_app_game_items_UniversalActionItem1);
})(window);



(function(window){
var _23=["gi_",".png","getURLByID","on","load","addChild","click","collisionItemCB","main","addSensorItemCB","getGameItemInfoByType","sunItem2.png","random","getAssetByName","hand","halloween","hwItem","push","imgScaleX","imgScaleY","init","app.game.GameItemSprite","lang.display.Sprite"];
var _app_game_GameItemSprite={};
_app_game_GameItemSprite["ctor"]=function(t,itemid){
this.t=t;
this.t1=0;
this.itemid=itemid;
this.isV=!1;
this.cb=null;

};
_app_game_GameItemSprite[_23[20]]=function(user,room,x,y){
var th=this;
var nm=((_23[0] + th.t) + _23[1]);
var r4=!0;
this.x=x;
this.y=y;
if(room){
if((th.t == 200)){
r4=!1;
var idd=th.t1;
var url2=callMethod(this,GLOBAL.$app.giftsMaster,_23[2],[idd]);
if((url2.size > 0)){
var mv=ctorObject(lang.display.Bitmap);
callMethod(this,mv,_23[3],[_23[4],function(){
var ww=this.naturalWidth;
var hh=this.naturalHeight;
this.x=(-ww / 2);
this.y=(-hh / 2);
callMethod(this,th,_23[5],[this]);
if((user.id == GLOBAL.$app.user.id)){
callMethod(this,mv,_23[3],[_23[6],function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[8],th]);

}

}

}]);
var oo={x:x,y:y,w:ww,h:hh,r:0};
var rr=callMethod(this,room,_23[9],[th,oo,function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[8],th]);

}

}

}]);
th.body=rr.body;

}

}]);
mv.src=url2;

}

}
if(r4){
var info=callMethod(this,room,_23[10],[th.t]);
if(info){
if((th.t == 100)){
var w2=65;
var h2=65;
var scVV=0.5;
var arr3=[_23[11]];
var nm=callMethod(this,arr3,_23[12]);
var mv=callMethod(this,GLOBAL.$app.moviesReader,_23[13],[nm]);
mv.scaleX=scVV;
mv.scaleY=scVV;
mv.buttonMode=!0;
if((user.id == GLOBAL.$app.user.id)){
callMethod(this,mv,_23[3],[_23[6],function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[14],th]);

}

}

}]);
var oo={x:x,y:y,w:w2,h:h2,r:0};
var rr=callMethod(this,room,_23[9],[th,oo,function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[8],th]);

}

}

}]);
th.body=rr.body;

}
mv.x=(-w2 / 2);
mv.y=(-h2 / 2);
callMethod(this,null,_23[5],[mv]);

}else if((th.t == 105)){
var w2=50;
var h2=60;
var scVV=0.5;
if(GLOBAL.$app.eventCur1){
var curT=GLOBAL.$app.eventCur1.type;
var arr3=[];
if((curT == _23[15])){
var i=0;
while((i < 4)){
var nm5=(_23[16] + (i + 1));
callMethod(this,arr3,_23[17],[nm5]);
i++;
}
w2=70;
h2=50;

}
if((arr3.size > 0)){
var nm=callMethod(this,arr3,_23[12]);
var nm2=(nm + _23[1]);
var mv=callMethod(this,GLOBAL.$app.moviesReader,_23[13],[nm2]);
if(mv){
mv.scaleX=scVV;
mv.scaleY=scVV;
mv.buttonMode=!0;
if((user.id == GLOBAL.$app.user.id)){
callMethod(this,mv,_23[3],[_23[6],function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[14],th]);

}

}

}]);
var oo={x:x,y:y,w:w2,h:h2,r:0};
var rr=callMethod(this,room,_23[9],[th,oo,function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[8],th]);

}

}

}]);
th.body=rr.body;

}
mv.x=(-w2 / 2);
mv.y=(-h2 / 2);
callMethod(this,null,_23[5],[mv]);

}

}

}

}else{
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_23[13],[nm]);
if(bm2){
var bm1=ctorObject(lang.display.Bitmap);
bm1.src=bm2.src;
if((user.id == GLOBAL.$app.user.id)){
bm1.buttonMode=!0;
callMethod(this,bm1,_23[3],[_23[6],function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[14],th]);

}

}

}]);

}

}
var scX=1;
var scY=1;
if(checkIn(info,_23[18])){
scX=info.imgScaleX;

}
if(checkIn(info,_23[19])){
scY=info.imgScaleY;

}
var imgW=info.imgSize[0];
var imgH=info.imgSize[1];
imgW-=10;
imgH-=20;
imgW=(imgW * scX);
imgH=(imgH * scY);
bm1.scaleX=scX;
bm1.scaleY=scY;
bm1.x=(-imgW / 2);
bm1.y=(-imgH / 2);
callMethod(this,null,_23[5],[bm1]);
var oo={x:x,y:y,w:imgW,h:imgH,r:0};
if((user.id == GLOBAL.$app.user.id)){
var rr=callMethod(this,room,_23[9],[th,oo,function(){
if(room.collisionItemCB){
if(!th.isV){
th.isV=!0;
callMethod(this,room,_23[7],[_23[8],th]);

}

}

}]);
th.body=rr.body;

}

}


}

}

}

};
vm.registerClass(_23[21],_23[22],_app_game_GameItemSprite);
})(window);



(function(window){
var _270=["scenes.home.AllScenes","lang.display.Sprite"];
var _scenes_home_AllScenes={};
_scenes_home_AllScenes["ctor"]=function(){

};
vm.registerClass(_270[0],_270[1],_scenes_home_AllScenes);
})(window);

(function(window){
var _186=["addDomCanvas","PrestartGameRoomMov2","bg","removeChild","logo","addChild","PawsAnimationMovie","Arial","Подключение к серверу","world_disconnect","errorConnect","disconnect","resize","setText","blockAccount","autoResize","removeAllChilds","world","Соединение с сервером потеряно","web","noapp_connect","error_version","Версия не совпадает с текущей","Страница заблокирована","разблокировать","buyItemByID","errorMsg","Ошибка подключения к серверу","обновить страницу","обновить","повторить","navWorldScenePreload","clear","navConnectServer","connectFunc","removeDomCanvas","removeScene","update","scenes.home.ConnectServerScene","lang.display.Sprite"];
var _scenes_home_ConnectServerScene={};
_scenes_home_ConnectServerScene["ctor"]=function(t){
callMethod(this,GLOBAL.$app,_186[0]);
this.mov=ctorObject(_186[1]);
if(checkIn(this.mov,_186[2])){
callMethod(this,this.mov,_186[3],[this.mov.bg]);

}
if(checkIn(this.mov,_186[4])){
callMethod(this,this.mov,_186[3],[this.mov.logo]);

}
this.hideBut1=!1;
callMethod(this,null,_186[5],[this.mov]);
this.startTxtY=340;
this.t=t;
this.spr1=ctorObject(lang.display.Sprite);
callMethod(this,null,_186[5],[this.spr1]);
this.mov.logo.y+=50;
this.mov.logo.scaleX=0.7;
this.mov.logo.scaleY=0.7;
this.pawsAnim=ctorObject(_186[6],[10]);
this.pawsAnim.x=70;
this.pawsAnim.y=380;
callMethod(this,this.spr1,_186[5],[this.pawsAnim]);
this.tf4=ctorObject(lang.text.TextField);
var tf3=ctorObject(lang.text.TextField);
this.tf3=tf3;
var tf2=ctorObject(lang.text.TextField);
this.tf2=tf2;
tf2.fontName=_186[7];
tf2.bold=!0;
tf2.filters=GLOBAL.Config.shadowText1;
tf2.color=16777215;
var tf1=ctorObject(lang.text.TextField);
this.tf1=tf1;
tf1.fontName=_186[7];
tf1.filters=GLOBAL.Config.shadowText1;
tf1.bold=!0;
tf1.color=16777215;
tf1.fontSize=25;
tf1.text=_186[8];
tf1.y=this.startTxtY;
callMethod(this,this.spr1,_186[5],[tf1]);
if((t == _186[9])){
callMethod(this,this,_186[10]);

}else if((t == _186[11])){
callMethod(this,this,_186[10]);

}


};
_scenes_home_ConnectServerScene[_186[12]]=function(w,h){
this.mov.bg.scaleX=(w / 1366);
this.mov.bg.scaleY=(h / 640);
this.spr1.y=(h - 580);
this.tf1.x=((w - this.tf1.width) / 2);
this.tf2.x=((w - this.tf2.width) / 2);
this.tf3.x=((w - this.tf3.width) / 2);
this.tf4.x=((w - this.tf4.width) / 2);
this.mov.logo.x=((w - 210) / 2);
this.pawsAnim.x=((w - this.pawsAnim.w) / 2);

};
_scenes_home_ConnectServerScene[_186[13]]=function(v){
var w=GLOBAL.$app.stageScaleWidth;
this.tf1.text=('' + v);
this.tf1.x=((w - this.tf1.width) / 2);

};
_scenes_home_ConnectServerScene[_186[14]]=function(){
this.t=_186[14];
this.hideBut1=!0;
callMethod(this,this,_186[10]);
callMethod(this,GLOBAL.$app,_186[15]);

};
_scenes_home_ConnectServerScene[_186[10]]=function(){
callMethod(this,this.spr1,_186[16]);
var th=this;
if((this.t == _186[17])){

}else if((this.t == _186[11])){
this.tf1.fontSize=20;
this.tf1.text=_186[18];
this.tf1.y=(this.startTxtY - 50);
callMethod(this,this.spr1,_186[5],[this.tf1]);
if(GLOBAL.$app.reconnectEnable){
this.tf2.fontSize=20;
this.tf2.text='переподключение через несколько секунд';
this.tf2.y=(this.tf1.y + 22);
callMethod(this,this.spr1,_186[5],[this.tf2]);

}else{
this.tf2.fontSize=20;
this.tf2.text='обновите страничку и повторите попытку';
this.tf2.y=(this.tf1.y + 22);
callMethod(this,this.spr1,_186[5],[this.tf2]);


}

}else if((this.t == _186[9])){

}else if((this.t == _186[20])){
this.tf1.fontSize=20;
this.tf1.text='Серверное приложение не найдено';
this.tf1.y=(this.startTxtY - 50);
callMethod(this,this.spr1,_186[5],[this.tf1]);

}else if((this.t == _186[21])){
this.tf1.fontSize=20;
this.tf1.text=_186[22];
this.tf1.y=(this.startTxtY - 50);
callMethod(this,this.spr1,_186[5],[this.tf1]);

}else if((this.t == _186[14])){
this.tf1.fontSize=20;
this.tf1.text=_186[23];
this.tf1.y=(this.startTxtY - 50);
callMethod(this,this.spr1,_186[5],[this.tf1]);
this.tf4.filters=GLOBAL.Config.shadowText1;
this.tf4.color=65535;
this.tf4.fontSize=22;
this.tf4.text=_186[24];
this.tf4.buttonMode=!0;
this.tf4.y=(this.startTxtY + 4);
callMethod(this,this.spr1,_186[5],[this.tf4]);
this.tf4.click=function(){
callMethod(this,GLOBAL.$app.shopMaster,_186[25],[7,function(){
document.location.href='';


}]);

};

}else if(checkIn(th,_186[26])){
this.tf1.fontSize=20;
this.tf1.text=th.errorMsg;
this.tf1.y=(this.startTxtY - 50);
callMethod(this,this.spr1,_186[5],[this.tf1]);

}else{
this.tf1.fontSize=20;
this.tf1.text=_186[27];
this.tf1.y=(this.startTxtY - 50);
callMethod(this,this.spr1,_186[5],[this.tf1]);
this.tf2.fontSize=20;
if(!GLOBAL.$app.reconnectEnable){
this.tf2.text='обновите страничку и повторите попытку';


}else{
this.tf2.text='переподключение через несколько секунд';

}
this.tf2.y=(this.tf1.y + 22);
callMethod(this,this.spr1,_186[5],[this.tf2]);



}






this.tf3.filters=GLOBAL.Config.shadowText1;
this.tf3.color=65535;
this.tf3.fontSize=25;
if((th.t == _186[21])){
this.tf3.text=_186[28];

}else{
var isWeb3=!1;
isWeb3=!0;

if((th.t == _186[11]) && isWeb3){
this.tf3.text=_186[29];

}else{
if(!GLOBAL.$app.reconnectEnable){
this.tf3.text=_186[30];

}

}

}
this.tf3.buttonMode=!0;
this.tf3.y=(this.startTxtY + 10);
if(!th.hideBut1){
if(!GLOBAL.$app.reconnectEnable){
callMethod(this,this.spr1,_186[5],[this.tf3]);

}

}
this.tf3.click=function(){
var isWeb2=!1;
isWeb2=!0;

if((th.t == _186[11]) && isWeb2){
document.location.href='';

}else if((th.t == _186[21])){
document.location.href='';


}else if((th.t == _186[17])){
callMethod(this,GLOBAL.$app.scenesMaster,_186[31]);

}else if((th.t == _186[9])){
callMethod(this,GLOBAL.$app.scenesMaster,_186[31]);

}else{
callMethod(this,GLOBAL.$app.scenesMaster,_186[32]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_186[33]);
callMethod(this,GLOBAL.$app,_186[34]);

}




};

};
_scenes_home_ConnectServerScene[_186[36]]=function(){
callMethod(this,GLOBAL.$app,_186[35]);

};
_scenes_home_ConnectServerScene[_186[37]]=function(){
callMethod(this,this.pawsAnim,_186[37]);

};
vm.registerClass(_186[38],_186[39],_scenes_home_ConnectServerScene);
})(window);

(function(window){
var _167=["app.master.CacheUsersMaster","createSpritePainter","getAssetByName","KostiBG.png","addChild","Arial","AppTopSceneMov","clear","remove","animAlphaSprite","b27.png","ЗА ЧАС","ЗА ДЕНЬ","ОПЫТНЫЕ","ПОПУЛЯРНЫЕ","РЕКОРДЫ","ПО КАРТАМ","bitmap","b19.png","navMenu","push","removeAllChilds","loadTopHour","loadTopDay","loadTopOpyt","loadTopPopular","loadTopScores","loadTopMapsUsers","Идёт загрузка...","hour","send","setTime","посмотреть призы","GetKostiStr"," место: ","<br />","Нет информации о призах","openPopUpMinText1","removeChild","load","parseList","MainMenuButton","Play","playOnlineRoom","app.getTop","day","opyt","popular","scores","data","allCount","Array","Нет рекордов","maps1","Для этого обновления","нужна перезагрузка сервера","attr","scroll1","css","overflow-x","hidden","getUserID",": "," (вы)","white-space","nowrap","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","собачек ","Спасено собачек в забегах: ","web","опыта ","getPopularIconBitmap","dup","назад","ID ","карта ","navMapsAlbumType","viewMap","loadMapByID","toMinSec","время ","reload","list","top.getScoresUser","всего рекордов: ","nums","рекордов ","карт ","Создано карт: "," косточка"," косточки"," косточек","getTimestamp","initTimer","stopTimer","updateTimeV","init","toHourMinSecTxt2","До обновления ","До выдачи призов ","stop","rect","#000000","resize","scenes.home.TopScene","lang.display.Sprite"];
var _scenes_home_TopScene={};
_scenes_home_TopScene["ctor"]=function(){
var th=this;
this.cacheUsers=ctorObject(_167[0]);
var spr=callMethod(this,GLOBAL.AppUtils,_167[1]);
this.spr=spr;
this.bg=callMethod(this,GLOBAL.AppUtils,_167[1]);
this.bg.alpha=0.2;
this.a1=callMethod(this,GLOBAL.$app.moviesReader,_167[2],[_167[3]]);
callMethod(this,null,_167[4],[this.bg,spr]);
this.tm=null;
this.endTS=0;
this.tt='';
this.sc=null;
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=14;
this.tf2.filters=GLOBAL.Config.filterBlue1;
this.tf2.fontName=_167[5];
this.tf2.bold=!0;
this.mov=ctorObject(_167[6]);
callMethod(this,this.mov.cnt.painter,_167[7]);
this.c=this.mov;
this.mov.close.click=function(){
callMethod(this,th,_167[8]);

};
callMethod(this,GLOBAL.AppUtils,_167[9],[this.mov.close,0.8,1]);
callMethod(this,spr,_167[4],[this.mov]);
this.curMenu=0;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_167[2],[_167[10]]);
this.curMenuArr=[];
var sp5=ctorObject(lang.display.Sprite);
sp5.x=28;
sp5.y=90;
callMethod(this,this.mov,_167[4],[sp5]);
var menuArr=[_167[11],_167[12],_167[13],_167[14],_167[15],_167[16]];
var scV=1.2;
var i=0;
while((i < menuArr.length)){
var el=menuArr[i];
var idd=(i + 1);
var bm1=callMethod(this,null,_167[17],[_167[18]]);
bm1.menuID=idd;
bm1.scaleX*=scV;
bm1.buttonMode=!0;
bm1.click=function(){
callMethod(this,th,_167[19],[this.menuID]);

};
var txt1=ctorObject(lang.text.TextField);
txt1.mouseEnabled=!1;
txt1.fontSize=14;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=('' + el);
txt1.x=(((110 * scV) - txt1.width) / 2);
txt1.y=15;
if(GLOBAL.$app.isStandalone){
txt1.x-=4;
txt1.y-=2;

}
txt1.filters=GLOBAL.Config.filterBlue1;
var sp7=ctorObject(lang.display.Sprite);
sp7.menuID=idd;
sp7.icon1=bm1;
sp7.origIconSrc=bm1.src;
callMethod(this,sp7,_167[4],[bm1,txt1]);
sp7.y=(i * (50 + 5));
callMethod(this,sp5,_167[4],[sp7]);
callMethod(this,this.curMenuArr,_167[20],[sp7]);
i++;
}
callMethod(this,this,_167[19],[1]);

};
_scenes_home_TopScene[_167[19]]=function(id){
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
i++;
}
callMethod(this,this.c.cnt,_167[21]);
if((id == 1)){
callMethod(this,this,_167[22]);

}else if((id == 2)){
callMethod(this,this,_167[23]);

}else if((id == 3)){
callMethod(this,this,_167[24]);

}else if((id == 4)){
callMethod(this,this,_167[25]);

}else if((id == 5)){
callMethod(this,this,_167[26]);

}else if((id == 6)){
callMethod(this,this,_167[27]);

}






}
this.curMenu=id;

};
_scenes_home_TopScene[_167[22]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_167[4],[txt1]);
this.tt=_167[29];
callMethod(this,GLOBAL.$app.connect,_167[30],[function(ob){
if(ob){
callMethod(this,th,_167[31],[ob.time]);
callMethod(this,th.c.cnt,_167[4],[th.tf2]);
var txt3=ctorObject(lang.text.TextField);
txt3.fontSize=14;
txt3.fontName=_167[5];
txt3.bold=!0;
txt3.text=_167[32];
txt3.x=((340 - txt3.width) / 2);
txt3.y=30;
txt3.filters=GLOBAL.Config.shadowText1;
txt3.buttonMode=!0;
txt3.click=function(){
var st='';
var arrList=GLOBAL.Config.prizesHourArr;
if((arrList.size > 0)){
var i=0;
while((i < arrList.size)){
var el1=arrList[i];
var posV=(i + 1);
var prefV=callMethod(this,th,_167[33],[el1]);
st=(((((st + '') + posV) + _167[34]) + prefV) + _167[35]);
i++;
}
st=(st + 'остальные 5 мест: подарок<br />');

}else{
st=_167[36];

}
callMethod(this,GLOBAL.$app.popup,_167[37],[st]);

};
callMethod(this,th.c.cnt,_167[4],[txt3]);
if((ob.items.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_167[38],[txt1]);

}
callMethod(this,th.cacheUsers,_167[39],[ob.users,function(){
callMethod(this,th,_167[40],[_167[29],ob.items]);

}]);

}else{
txt1.text='Нет спасателей в топе, стань первым!';
txt1.x=((340 - txt1.width) / 2);
var playBut=ctorObject(_167[41],[_167[42],function(){
callMethod(this,th,_167[8]);
callMethod(this,GLOBAL.$app.gameMaster,_167[43]);

}]);
playBut.x=120;
playBut.y=180;
callMethod(this,th.c.cnt,_167[4],[playBut]);

}

}

},_167[44],_167[29]]);

};
_scenes_home_TopScene[_167[23]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_167[4],[txt1]);
this.tt=_167[45];
callMethod(this,GLOBAL.$app.connect,_167[30],[function(ob){
if(ob){
callMethod(this,th,_167[31],[ob.time]);
callMethod(this,th.c.cnt,_167[4],[th.tf2]);
var txt3=ctorObject(lang.text.TextField);
txt3.fontSize=14;
txt3.fontName=_167[5];
txt3.bold=!0;
txt3.text=_167[32];
txt3.x=((340 - txt3.width) / 2);
txt3.y=30;
txt3.filters=GLOBAL.Config.shadowText1;
txt3.buttonMode=!0;
txt3.click=function(){
var st='';
var arrList=GLOBAL.Config.prizesDayArr;
if((arrList.size > 0)){
var i=0;
while((i < arrList.size)){
var el1=arrList[i];
var posV=(i + 1);
var prefV=callMethod(this,th,_167[33],[el1]);
st=(((((st + '') + posV) + _167[34]) + prefV) + _167[35]);
i++;
}
st=(st + 'остальные 5 мест: подарок<br />');

}else{
st=_167[36];

}
callMethod(this,GLOBAL.$app.popup,_167[37],[st]);

};
callMethod(this,th.c.cnt,_167[4],[txt3]);
if((ob.items.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_167[38],[txt1]);

}
callMethod(this,th.cacheUsers,_167[39],[ob.users,function(){
callMethod(this,th,_167[40],[_167[29],ob.items]);

}]);

}else{
txt1.text='Нет спасателей в топе, стань первым!';
txt1.x=((340 - txt1.width) / 2);
var playBut=ctorObject(_167[41],[_167[42],function(){
callMethod(this,th,_167[8]);
callMethod(this,GLOBAL.$app.gameMaster,_167[43]);

}]);
playBut.x=120;
playBut.y=180;
callMethod(this,th.c.cnt,_167[4],[playBut]);

}

}

},_167[44],_167[45]]);

};
_scenes_home_TopScene[_167[24]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_167[4],[txt1]);
this.tt=_167[46];
callMethod(this,GLOBAL.$app.connect,_167[30],[function(ob){
if(ob){
callMethod(this,th,_167[31],[ob.time]);
callMethod(this,th.c.cnt,_167[4],[th.tf2]);
if((ob.items.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_167[38],[txt1]);

}
callMethod(this,th.cacheUsers,_167[39],[ob.users,function(){
callMethod(this,th,_167[40],[_167[46],ob.items]);

}]);

}else{
txt1.text='';

}

}

},_167[44],_167[46]]);

};
_scenes_home_TopScene[_167[25]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_167[4],[txt1]);
this.tt=_167[47];
callMethod(this,GLOBAL.$app.connect,_167[30],[function(ob){
if(ob){
callMethod(this,th,_167[31],[ob.time]);
callMethod(this,th.c.cnt,_167[4],[th.tf2]);
if((ob.items.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_167[38],[txt1]);

}
callMethod(this,th.cacheUsers,_167[39],[ob.users,function(){
callMethod(this,th,_167[40],[_167[47],ob.items]);

}]);

}else{
txt1.text='';

}

}

},_167[44],_167[47]]);

};
_scenes_home_TopScene[_167[26]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_167[4],[txt1]);
this.tt=_167[48];
callMethod(this,GLOBAL.$app.connect,_167[30],[function(ob){
if(ob){
if(checkIn(ob,_167[49])){
callMethod(this,th,_167[31],[ob.time]);
callMethod(this,th.c.cnt,_167[4],[th.tf2]);
if(!ob.data){
ob.data=[];

}
var qq1=null;
if(checkIn(ob.data,_167[50])){
qq1={};
qq1.allCount=ob.data.allCount;

}
if(checkIs(ob.data,_167[51])){

}else if(checkIn(ob.data,_167[49])){
ob.data=ob.data.data;

}

if((ob.data.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_167[38],[txt1]);

}
var usersIds=[];
var i=0;
while((i < ob.data.size)){
var el=ob.data[i];
callMethod(this,usersIds,_167[20],[el.user]);
i++;
}
callMethod(this,th.cacheUsers,_167[39],[usersIds,function(){
callMethod(this,th,_167[40],[_167[48],ob.data,qq1]);

}]);

}else{
txt1.text=_167[52];
txt1.x=((340 - txt1.width) / 2);

}

}

}

},_167[44],_167[48]]);

};
_scenes_home_TopScene[_167[27]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_167[4],[txt1]);
this.tt=_167[48];
callMethod(this,GLOBAL.$app.connect,_167[30],[function(ob){
if(ob){
if(checkIn(ob,_167[49])){
callMethod(this,th,_167[31],[ob.time]);
callMethod(this,th.c.cnt,_167[4],[th.tf2]);
if(!ob.data){
ob.data=[];

}
if((ob.data.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_167[38],[txt1]);

}
var usersIds=[];
var i=0;
while((i < ob.data.size)){
var el=ob.data[i];
callMethod(this,usersIds,_167[20],[el.user]);
i++;
}
callMethod(this,th.cacheUsers,_167[39],[usersIds,function(){
callMethod(this,th,_167[40],[_167[53],ob.data]);

}]);

}else{
txt1.text=_167[52];
txt1.x=((340 - txt1.width) / 2);

}

}else{
txt1.text='';
var yy=0;
var sp2=ctorObject(lang.display.Sprite);
sp2.y=100;
callMethod(this,th.c.cnt,_167[4],[sp2]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_167[54];
tf1.x=((340 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_167[4],[tf1]);
yy+=30;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_167[55];
tf1.x=((340 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_167[4],[tf1]);
yy+=30;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text='Перезагрузка назначена на завтра.';
tf1.x=((340 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_167[4],[tf1]);

}

}

},_167[44],_167[53]]);

};
_scenes_home_TopScene[_167[40]]=function(t,arr,qq1){
var th=this;
var ww=384;
var prizesSpr=ctorObject(lang.display.Sprite);
if(th.sc){
callMethod(this,th.sc,_167[8]);

}
th.sc=null;
var sp=ctorObject(lang.display.Sprite);
sp.y=50;
sp.width=ww;
var h2=(300 - sp.y);
sp.height=h2;
sp.scroll=!0;
sp.blendModeColor=0;
callMethod(this,sp,_167[56],[{className:_167[57]}]);
callMethod(this,sp,_167[58],[{'overflow-x':_167[60]}]);
callMethod(this,this.c.cnt,_167[4],[prizesSpr,sp]);
if((t == _167[29])){
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var pos=(i + 1);
var nn=el.v;
var user=callMethod(this,th.cacheUsers,_167[61],[el.id]);
if(user){
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=16777215;
tf.fontName=_167[5];
tf.bold=!0;
var txt2=((('' + pos) + _167[62]) + user.nick);
if((GLOBAL.$app.user.id == user.id)){
txt2+=_167[63];
tf.color=16776960;

}
tf.text=txt2;
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=user;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_167[66],[_167[67]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_167[68],[this.userObj.id]);

}

};
var q=ctorObject(lang.display.Sprite);
var tf2=ctorObject(lang.text.TextField);
tf2.color=16777215;
tf2.fontName=_167[5];
tf2.bold=!0;
tf2.text=(_167[69] + nn);
tf2.buttonMode=!0;
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf2,_167[58],[{'white-space':_167[65]}]);
tf2.x=(ww - 120);
tf2.numV=nn;
tf2.click=function(){
callMethod(this,GLOBAL.$app.popup,_167[37],[(_167[70] + this.numV)]);

};
callMethod(this,q,_167[4],[tf,tf2]);
q.y=yy;
callMethod(this,sp,_167[4],[q]);
yy+=25;

}
i++;
}


}else if((t == _167[46])){
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var iduser=el[0];
var nn=el[1];
var levelUser=el[2];
var pos=(i + 1);
var user=callMethod(this,th.cacheUsers,_167[61],[iduser]);
if(user){
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=16777215;
tf.fontName=_167[5];
tf.bold=!0;
var txt2=((('' + pos) + _167[62]) + user.nick);
if((GLOBAL.$app.user.id == user.id)){
txt2+=_167[63];
tf.color=16776960;

}
tf.text=txt2;
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=user;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_167[66],[_167[67]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_167[68],[this.userObj.id]);

}

};
var q=ctorObject(lang.display.Sprite);
var tf2=ctorObject(lang.text.TextField);
tf2.color=16777215;
tf2.text=(_167[72] + nn);
tf2.fontName=_167[5];
tf2.bold=!0;
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf2,_167[58],[{'white-space':_167[65]}]);
tf2.x=(ww - 140);
tf2.numV=nn;
callMethod(this,q,_167[4],[tf,tf2]);
q.y=yy;
callMethod(this,sp,_167[4],[q]);
yy+=25;

}
i++;
}


}else if((t == _167[47])){
var yy=10;
var i=0;
while((i < arr.size)){
var el=arr[i];
var iduser=el[0];
var nn=el[1];
var levelUser=el[2];
var pos=(i + 1);
var user=callMethod(this,th.cacheUsers,_167[61],[iduser]);
if(user){
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=16777215;
tf.fontName=_167[5];
tf.bold=!0;
tf.text=((('' + pos) + _167[62]) + user.nick);
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=user;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_167[66],[_167[67]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_167[68],[this.userObj.id]);

}

};
var popularIcon=null;
var popularIconBM=callMethod(this,GLOBAL.$app.userMaster,_167[73],[levelUser,nn]);
if(popularIconBM){
popularIcon=callMethod(this,GLOBAL.BitmapUtils,_167[74],[popularIconBM]);

}
var q=ctorObject(lang.display.Sprite);
if(popularIcon){
popularIcon.x=((tf.x + tf.width) + 10);
popularIcon.y=-4;
popularIcon.y=-8;

callMethod(this,q,_167[4],[popularIcon]);

}
callMethod(this,q,_167[4],[tf]);
q.y=yy;
callMethod(this,sp,_167[4],[q]);
yy+=40;

}
i++;
}


}else if((t == _167[48])){
var yy=0;
var cbNav2=function(oo){
callMethod(this,sp,_167[21]);
if(oo){
var uu=oo.userObj;
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=65535;
tf.fontName=_167[5];
tf.bold=!0;
tf.text=_167[75];
tf.filters=GLOBAL.Config.shadowText1;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var lastMenu=th.curMenu;
th.curMenu=-1;
callMethod(this,th,_167[19],[lastMenu]);

};
tf.x=5;
tf.y=30;
callMethod(this,th.c.cnt,_167[4],[tf]);
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=16777215;
tf.fontName=_167[5];
tf.bold=!0;
tf.text=(((_167[76] + uu.id) + _167[62]) + uu.nick);
tf.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_167[66],[_167[67]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_167[68],[oo.userObj.id]);

}

};
tf.x=((340 - tf.width) / 2);
tf.y=30;
callMethod(this,th.c.cnt,_167[4],[tf]);
var parseScoresCB=function(ar2){
if(ar2){
var lastMapID=0;
var yy=0;
var i=0;
while((i < ar2.size)){
var ell=ar2[i];
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=16777215;
tf.fontName=_167[5];
tf.bold=!0;
tf.text=(_167[77] + ell.id);
tf.filters=GLOBAL.Config.filterBlue1;
tf.mapid=ell.id;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var mapidd=this.mapid;
if((lastMapID != mapidd)){
lastMapID=mapidd;
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_167[78],[_167[79]]);
var sc2=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(sc2,GLOBAL.scenes.mapsAlbum.MapsAlbum)){
callMethod(this,sc2,_167[80],[mapidd]);

}

}

};
var q=ctorObject(lang.display.Sprite);
var tf2=ctorObject(lang.text.TextField);
tf2.color=16777215;
tf2.fontName=_167[5];
tf2.bold=!0;
var ss3=callMethod(this,GLOBAL.DateUtils,_167[81],[ell.v]);
tf2.text=(_167[82] + ss3);
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf2,_167[58],[{'white-space':_167[65]}]);
tf2.x=(ww - 120);
callMethod(this,q,_167[4],[tf,tf2]);
q.y=yy;
callMethod(this,sp,_167[4],[q]);
yy+=25;
i++;
}

}
if(th.sc){
callMethod(this,th.sc,_167[83]);

}

};
if(!checkIn(oo,_167[84])){
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_167[5];
txt1.bold=!0;
txt1.text=_167[28];
txt1.x=((340 - txt1.width) / 2);
txt1.y=((240 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp,_167[4],[txt1]);
callMethod(this,GLOBAL.$app.connect,_167[30],[function(aa){
callMethod(this,sp,_167[21]);
parseScoresCB(aa);

},_167[85],uu.id]);

}else{
parseScoresCB(oo.list);

}

}

};
if(qq1){
if(checkIn(qq1,_167[50])){
var tf=ctorObject(lang.text.TextField);
tf.color=16777215;
tf.fontName=_167[5];
tf.bold=!0;
tf.text=(_167[86] + qq1.allCount);
tf.filters=GLOBAL.Config.filterBlue1;
tf.x=((340 - tf.width) / 2);
callMethod(this,sp,_167[4],[tf]);
yy+=30;

}

}
var i=0;
while((i < arr.size)){
var el=arr[i];
var pos=(i + 1);
var nn=0;
var clrText1=16777215;
if((i == 0)){
clrText1=16776960;

}else if((i == 1)){
clrText1=14011852;

}else if((i == 2)){
clrText1=16755712;

}


if(checkIn(el,_167[87])){
nn=el.nums;

}
var user=callMethod(this,th.cacheUsers,_167[61],[el.user]);
if(user){
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=clrText1;
tf.fontName=_167[5];
tf.bold=!0;
tf.x=2;

tf.text=((('' + pos) + _167[62]) + user.nick);
tf.filters=GLOBAL.Config.filterBlue1;
el.userObj=user;
tf.elObj=el;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
cbNav2(this.elObj);

};
var q=ctorObject(lang.display.Sprite);
var tf2=ctorObject(lang.text.TextField);
tf2.color=16777215;
tf2.fontName=_167[5];
tf2.bold=!0;
tf2.text=(_167[88] + nn);
tf2.buttonMode=!0;
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf2,_167[58],[{'white-space':_167[65]}]);
tf2.x=(ww - (tf2.width + 20));
tf2.numV=nn;
tf2.click=function(){
callMethod(this,GLOBAL.$app.popup,_167[37],[('Поставлено рекордов на картах: ' + this.numV)]);

};
callMethod(this,q,_167[4],[tf,tf2]);
q.y=yy;
callMethod(this,sp,_167[4],[q]);
yy+=25;

}
i++;
}


}else if((t == _167[53])){
var yy=0;
var colorsA=[16776960,14866647,16759378];
var i=0;
while((i < arr.size)){
var el=arr[i];
var pos=(i + 1);
var nn=0;
var clrText1=16777215;
if((i < colorsA.size)){
clrText1=colorsA[i];

}
if(checkIn(el,_167[87])){
nn=el.nums;

}
var user=callMethod(this,th.cacheUsers,_167[61],[el.user]);
if(user){
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=clrText1;
tf.fontName=_167[5];
tf.bold=!0;
tf.x=2;

tf.text=((('' + pos) + _167[62]) + user.nick);
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=user;
tf.elObj=el;
callMethod(this,tf,_167[58],[{'white-space':_167[65]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_167[66],[_167[67]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_167[68],[this.userObj.id]);

}

};
var q=ctorObject(lang.display.Sprite);
var tf2=ctorObject(lang.text.TextField);
tf2.color=16777215;
tf2.fontName=_167[5];
tf2.bold=!0;
tf2.text=(_167[89] + nn);
tf2.buttonMode=!0;
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf2,_167[58],[{'white-space':_167[65]}]);
tf2.x=(ww - 120);
tf2.numV=nn;
tf2.click=function(){
callMethod(this,GLOBAL.$app.popup,_167[37],[(_167[90] + this.numV)]);

};
callMethod(this,q,_167[4],[tf,tf2]);
q.y=yy;
callMethod(this,sp,_167[4],[q]);
yy+=25;

}
i++;
}


}





};
_scenes_home_TopScene[_167[33]]=function(v){
var cnt=(v % 10);
if((cnt == 1)){
return (v + _167[91]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _167[92]);

}

}
return (v + _167[93]);

};
_scenes_home_TopScene[_167[31]]=function(v){
var th=this;
if((v > 0)){
var ts=callMethod(this,Date,_167[94]);
th.endTS=(ts + v);
callMethod(this,th,_167[95]);

}

};
_scenes_home_TopScene[_167[95]]=function(){
var th=this;
callMethod(this,th,_167[96]);
var tss=callMethod(this,Date,_167[94]);
var allV=(th.endTS - tss);
callMethod(this,th,_167[97],[allV]);
this.tm=callMethod(this,Timer,_167[98],[1000,function(){
var tss=callMethod(this,Date,_167[94]);
var allV=(th.endTS - tss);
if((allV <= 0)){
allV=0;

}
callMethod(this,th,_167[97],[allV]);

}]);

};
_scenes_home_TopScene[_167[97]]=function(allV){
var th=this;
var str5=callMethod(this,GLOBAL.DateUtils,_167[99],[allV]);
if((th.tt == _167[46])){
this.tf2.text=(_167[100] + str5);

}else if((th.tt == _167[47])){
this.tf2.text=(_167[100] + str5);

}else if((th.tt == _167[48])){
this.tf2.text=(_167[100] + str5);

}else{
this.tf2.text=(_167[101] + str5);

}


this.tf2.x=((360 - this.tf2.width) / 2);
if((allV <= 0)){
callMethod(this,th,_167[96]);

}

};
_scenes_home_TopScene[_167[96]]=function(){
if(this.tm){
callMethod(this,this.tm,_167[102]);

}
this.tm=null;

};
_scenes_home_TopScene[_167[8]]=function(){
callMethod(this,this,_167[96]);
callMethod(this,this.cacheUsers,_167[7]);
if(this.sc){
callMethod(this,this.sc,_167[8]);

}
if(this.parent){
callMethod(this,this.parent,_167[38],[this]);

}

};
_scenes_home_TopScene[_167[105]]=function(w,h){
this.mov.x=((w - 600) / 2);
this.mov.y=((h - 470) / 2);
callMethod(this,this.bg.painter,_167[7]);
callMethod(this,this.bg.painter,_167[103],[0,0,w,h,_167[104]]);

};
vm.registerClass(_167[106],_167[107],_scenes_home_TopScene);
})(window);



(function(window){
var _223=["createPainter","addChild","Arial","timestampToStrDate2","обновлено ","loadAsset","a1.png","plashka_main.png","resize","preloader/","assets/","load","bitmap","setText","clear","rect","#FFFFFF","PreloaderAssetsScene","lang.display.Sprite"];
var _PreloaderAssetsScene={};
_PreloaderAssetsScene["ctor"]=function(){
var th=this;
this.w=0;
this.h=0;
this.cacheBMObj={};
this.downH=92;
this.bm1=null;
this.bg=ctorObject(lang.display.Sprite);
callMethod(this,this.bg,_223[0]);
this.downSpr=ctorObject(lang.display.Sprite);
this.downBG=ctorObject(lang.display.Sprite);
callMethod(this,this.downBG,_223[0]);
callMethod(this,this.downSpr,_223[1],[this.downBG]);
this.spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_223[1],[this.bg,this.spr2,this.downSpr]);
this.logoBM=ctorObject(lang.display.Bitmap);
this.logoBM.scaleX=0.5;
this.logoBM.scaleY=0.5;
var tf1=ctorObject(lang.text.TextField);
this.tf1=tf1;
tf1.fontName=_223[2];
tf1.bold=!0;
tf1.fontSize=20;
tf1.color=11296321;
callMethod(this,this.spr2,_223[1],[tf1,this.logoBM]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontName=_223[2];
this.tf2.bold=!0;
this.tf2.fontSize=14;
this.tf2.filters=GLOBAL.Config.shadowText2;
this.tf2.color=16777215;
callMethod(this,this.downSpr,_223[1],[this.tf2]);
this.tw1=0;
if((GLOBAL.Config.updateFileTS > 0)){
var ss=callMethod(this,GLOBAL.DateUtils,_223[3],[GLOBAL.Config.updateFileTS]);
this.tf2.text=(_223[4] + ss);
this.tw1=(this.tf2.width + 4);
this.tf2.width=(this.tw1 + 20);

}
callMethod(this,null,_223[5],[_223[6],function(bm){
th.logoBM.src=bm;

}]);
callMethod(this,null,_223[5],[_223[7],function(bm){
th.bm1=bm;
callMethod(this,th,_223[8],[th.w,th.h]);

}]);

};
_PreloaderAssetsScene[_223[5]]=function(name,cb){
var th=this;
var p1=(_223[9] + name);
var url=(_223[10] + p1);
callMethod(this,GLOBAL.$app.assetsDownloader,_223[11],[url,_223[12],function(bm){
if(checkIs(bm,lang.io.File)){
var bmm=ctorObject(lang.display.Bitmap);
bmm.src=bm;
bm=bmm;

}
th.cacheBMObj[name]=bm;
if(cb){
cb(bm);

}

}]);

};
_PreloaderAssetsScene[_223[13]]=function(v){
this.tf1.text=('' + v);
this.tf1.x=((this.w - this.tf1.width) / 2);

};
_PreloaderAssetsScene[_223[8]]=function(w,h){
this.w=w;
this.h=h;
this.logoBM.x=((w - 400) / 2);
this.logoBM.y=17;
this.tf1.x=((w - this.tf1.width) / 2);
this.tf1.y=290;
this.spr2.y=((h - 400) / 2);
this.tf2.x=((w - this.tw1) / 2);
this.tf2.y=((this.downH - 20) / 2);
callMethod(this,this.bg.painter,_223[14]);
callMethod(this,this.bg.painter,_223[15],[0,0,w,h,_223[16]]);
this.downSpr.y=(h - this.downH);
callMethod(this,this.downBG.painter,_223[14]);
if(this.bm1){
callMethod(this,this.downBG.painter,_223[15],[0,0,w,this.downH,this.bm1]);

}

};
vm.registerClass(_223[17],_223[18],_PreloaderAssetsScene);
})(window);



(function(window){
var _103=["app.master.CacheUsersMaster","createPainter","startDrag","push","setZoomContent","addDomCanvas","addChild","getAllMapsIds","AppButtonExit2","on","rollover","rollout","navHome","getAssetByName","navleft.png","navright.png","back","next","Arial","действия","поиск карт","по id","openPopUpMapEditorInputOne","id карты","Открыть","loadMapByID","по коллекции","имя коллекции","Найти","send","maps.findByTT","reload","openPopUpMinText1","<br /><br />Карты не найдены.","isModeratorMaps","по тексту","текст (мин 2 символа)","maps.findByText","по кол-ву предметов","мин. кол-во предметов","maps.findByCountItems","с математикой","по статусу","Одобрены","navMapsAlbumType","allmaps","Отклонены","cancelmaps","Заблокированы","blockmaps","openMenuList1","Выбор статуса","Укажите страницу","Перейти","Играть","playMap","allmapsm2","isUnlockM2Edit","isModeratorMapsM","Создать мир","worldCreate","playMyWorld","Вернуть на модерацию","changeMapStatus","<br /><br />Действие выполнено","Редактировать","navMapEditor","Простая карта","changeMapStatusLevel","<br /><br />Карта ID "," помечена как простая","Сложная карта"," помечена как сложная","Заблокировать","openPopUpInputOne","комментарий","ОК","<br /><br />Карта id "," заблокирована","Разблокировать"," разблокирована","isSuperAdmin","Удалить","openPopUpConfirmMsgYesNo","<br /><br />Карта удалена","maps.deletemap","Действия","maps.changestatus","maps.changestatusLevel","init","removeAllChilds","clear","keyup","loadIds","Nav","карта "," из ","<br /><br />Нет карт","validateMap","navGameRoom","viewMap","getMapByID","loadMap","mapsm2.get","app.game.ParseMapM2","parse","app.game.GameMap","parseMap","<br /><br />Карта не найдена","getMapByIdWeb","scenes.mapsAlbum.MapRenderSprite","check","draw","addMapInfoRect","bitmap","successIcon1.png","DeleteMsg.png"," одобрена","openPopUpModMapEditorCancelMap"," отклонена","removeChild","autoResize","maps.getMapsIdsStatus","maps.getAllIdsStatus","albumuser","maps.getMapsByUser","maps.getAllIdsM2","removeDomCanvas","removeScene","resize","rect","#000000","scenes.mapsAlbum.MapsAlbum","lang.display.Sprite"];
var _scenes_mapsAlbum_MapsAlbum={};
_scenes_mapsAlbum_MapsAlbum["ctor"]=function(type){
var th=this;
this.type=type;
this.mapsIds=null;
this.cacheUsers=ctorObject(_103[0]);
this.spr=ctorObject(lang.display.Sprite);
this.spr2=ctorObject(lang.display.Sprite);
this.bgSpr=ctorObject(lang.display.Sprite);
this.curMapSpr=null;
this.curPage=0;
this.pages=0;
this.mapid=0;
this.nav=null;
this.mapsLocalIds=null;
this.noNavMenu=!1;
this.bgRect=ctorObject(lang.display.Sprite);
callMethod(this,this.bgRect,_103[1]);
this.bgRect.alpha=0;
this.bgRect.mousedown=function(){
callMethod(this,th.spr,_103[2]);
callMethod(this,GLOBAL.$app.dragList,_103[3],[th.spr]);

};
callMethod(this,this,_103[4],[(GLOBAL.Config.PercGameRoomScale / 100)]);
th.spr.onDragStop=function(){
if((-th.spr.x <= 0)){
th.spr.x=0;

}
if((-th.spr.y <= 0)){
th.spr.y=0;

}

};
this.ev=ctorObject(lang.events.EventsObjectMaster);
callMethod(this,GLOBAL.$app,_103[5]);
callMethod(this,null,_103[6],[this.bgSpr,this.spr,this.bgRect,this.spr2]);
if(GLOBAL.Config.isTestAuth){
if(GLOBAL.$app.mapsLocalMaster.ba){
this.mapsLocalIds=callMethod(this,GLOBAL.$app.mapsLocalMaster,_103[7]);

}

}
this.downPanel1=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_103[6],[this.downPanel1]);
this.exitBut=ctorObject(_103[8]);
callMethod(this,this.ev,_103[9],[this.exitBut.msk,_103[10],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.ev,_103[9],[this.exitBut.msk,_103[11],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
GLOBAL.Config.lastMapAlbumMapPos=0;
callMethod(this,GLOBAL.$app,_103[12]);

};
callMethod(this,this.downPanel1,_103[6],[this.exitBut]);
this.navSpr=ctorObject(lang.display.Sprite);
this.navSpr.x=100;
this.navSpr.y=30;
this.navSpr.visible=!1;
callMethod(this,this.downPanel1,_103[6],[this.navSpr]);
var navLeftImg=callMethod(this,GLOBAL.$app.moviesReader,_103[13],[_103[14]]);
var navRightImg=callMethod(this,GLOBAL.$app.moviesReader,_103[13],[_103[15]]);
callMethod(this,this.navSpr,_103[6],[navLeftImg,navRightImg]);
navLeftImg.buttonMode=!0;
navRightImg.buttonMode=!0;
navRightImg.x=80;
navLeftImg.click=function(){
if(th.nav){
callMethod(this,th.nav,_103[16]);

}

};
navRightImg.click=function(){
if(th.nav){
callMethod(this,th.nav,_103[17]);

}

};
this.navLeftImg=navLeftImg;
this.navRightImg=navRightImg;
this.userid=0;
this.txtActionTxt1=ctorObject(lang.text.TextField);
this.txtActionTxt1.fontName=_103[18];
this.txtActionTxt1.bold=!0;
this.txtActionTxt1.color=16777215;
this.txtActionTxt1.buttonMode=!0;
this.txtActionTxt1.text=_103[19];
this.txtActionTxt1.filters=GLOBAL.Config.shadowText2;
callMethod(this,this.downPanel1,_103[6],[this.txtActionTxt1]);
this.selectMapTxt1=ctorObject(lang.text.TextField);
this.selectMapTxt1.color=16777215;
this.selectMapTxt1.fontName=_103[18];
this.selectMapTxt1.bold=!0;
this.selectMapTxt1.buttonMode=!0;
this.selectMapTxt1.text=_103[20];
this.selectMapTxt1.filters=GLOBAL.Config.shadowText2;
callMethod(this,this.downPanel1,_103[6],[this.selectMapTxt1]);
this.selectMapTxt1.click=function(){
var menuList=[];
callMethod(this,menuList,_103[3],[[_103[21],function(){
callMethod(this,GLOBAL.$app.popup,_103[22],[_103[23],_103[24],function(ob){
var mapid=castInt(ob.name);
callMethod(this,th,_103[25],[mapid]);

}]);

}]]);
callMethod(this,menuList,_103[3],[[_103[26],function(){
callMethod(this,GLOBAL.$app.popup,_103[22],[_103[27],_103[28],function(ob){
var vv=ob.name;
if((vv.size > 0)){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[30],{t:vv},function(aa){
var sz2=0;
if(aa){
sz2=aa.length;

}
if((sz2 > 0)){
th.mapsIds=aa;
callMethod(this,th,_103[31]);

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[33]]);

}

}]);

}

}]);

}]]);
var isModMapsV3=callMethod(this,GLOBAL.UserMode,_103[34],[GLOBAL.$app.user.mode]);
if(isModMapsV3){
callMethod(this,menuList,_103[3],[[_103[35],function(){
callMethod(this,GLOBAL.$app.popup,_103[22],[_103[36],_103[28],function(ob){
var txtV=('' + ob.name);
if((txtV.size > 1)){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[37],{txt:txtV},function(aa){
var sz2=0;
if(aa){
sz2=aa.length;

}
if((sz2 > 0)){
th.mapsIds=aa;
callMethod(this,th,_103[31]);

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[33]]);

}

}]);

}else{

}

}]);

}]]);
callMethod(this,menuList,_103[3],[[_103[38],function(){
callMethod(this,GLOBAL.$app.popup,_103[22],[_103[39],_103[28],function(ob){
var vv=castInt(ob.name);
if((vv > 0)){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[40],{v:vv},function(aa){
var sz2=0;
if(aa){
sz2=aa.length;

}
if((sz2 > 0)){
th.mapsIds=aa;
callMethod(this,th,_103[31]);

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[33]]);

}

}]);

}

}]);

}]]);
callMethod(this,menuList,_103[3],[[_103[41],function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Нужно выбрать "по коллекции" и указать имя nums']);

}]]);
callMethod(this,menuList,_103[3],[[_103[42],function(){
var menuList2=[];
callMethod(this,menuList2,_103[3],[[_103[43],function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[44],[_103[45]]);

}]]);
callMethod(this,menuList2,_103[3],[[_103[46],function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[44],[_103[47]]);

}]]);
callMethod(this,menuList2,_103[3],[[_103[48],function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[44],[_103[49]]);

}]]);
callMethod(this,GLOBAL.$app.chat,_103[50],[menuList2,_103[51],0,!0]);

}]]);

}
callMethod(this,GLOBAL.$app.chat,_103[50],[menuList,_103[28],0,!0]);

};
this.txt3=ctorObject(lang.text.TextField);
this.txt3.fontName=_103[18];
this.txt3.bold=!0;
this.txt3.color=16777215;
this.txt3.fontSize=13;
this.txt3.buttonMode=!0;
this.txt3.x=118;
this.txt3.y=17;
this.txt3.filters=GLOBAL.Config.shadowText2;
callMethod(this,this.downPanel1,_103[6],[this.txt3]);
this.txt3.click=function(){
callMethod(this,GLOBAL.$app.popup,_103[22],[_103[52],_103[53],function(ob){
var pagee=castInt(ob.name);
if((pagee > 0)){
if(((pagee - 1) < th.pages)){
th.nav.pos=(pagee - 2);
if((th.nav.pos < -1)){
th.nav.pos=-1;

}
callMethod(this,th.nav,_103[17]);

}

}

}]);

};
this.txtActionTxt1.x=230;
this.txtActionTxt1.y=50;
this.selectMapTxt1.x=((this.txtActionTxt1.x + this.selectMapTxt1.width) + 38);
this.selectMapTxt1.y=this.txtActionTxt1.y;
this.txtActionTxt1.click=function(){
var menuList=[];
var mm=null;
if(th.curMapSpr){
if(th.curMapSpr.map){
mm=th.curMapSpr.map;

}

}
callMethod(this,menuList,_103[3],[[_103[54],function(){
if(mm){
callMethod(this,th,_103[55],[mm]);

}

}]]);
var r7=!1;
if((th.type == _103[56])){
if(checkIn(GLOBAL.Config,_103[57])){

}else{
r7=!0;

}

}
if(r7){

}else{
if((th.type != _103[56])){
var isModMapsV=callMethod(this,GLOBAL.UserMode,_103[34],[GLOBAL.$app.user.mode]);
var isModMapsMV=callMethod(this,GLOBAL.UserMode,_103[58],[GLOBAL.$app.user.mode]);
callMethod(this,menuList,_103[3],[[_103[59],function(){
if(mm){
GLOBAL.Config.lastGameRoomMapID=mm.id;
callMethod(this,GLOBAL.$app.gameMaster,_103[60],[mm.id,null,function(){
callMethod(this,GLOBAL.$app.gameMaster,_103[61]);

}]);

}

}]]);
if(isModMapsV){
if((mm.status == 0)){

}else if((mm.status == 3)){
if(!isModMapsMV){
callMethod(this,menuList,_103[3],[[_103[62],function(){
if(mm){
callMethod(this,th,_103[63],[mm.id,0,'',function(){
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[64]]);
callMethod(this,th,_103[31]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}

}]]);

}

}


}

}
callMethod(this,menuList,_103[3],[[_103[65],function(){
var isEditV=!1;
if(mm){
if((mm.user == GLOBAL.$app.user.id)){
isEditV=!0;

}else if((GLOBAL.$app.user.modMapsAdv == 1)){
isEditV=!0;

}

if(isEditV){
if((GLOBAL.$app.user.isOwner == 0)){
isEditV=!1;

}

}

}
if((th.type == _103[56])){
if(checkIn(GLOBAL.Config,_103[57])){
isEditV=!0;

}

}
if(isEditV){
if(mm){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[66],[mm]);

}

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Только создатель может редактировать карту']);

}

}]]);
if((th.type != _103[56])){
var isModMaps=callMethod(this,GLOBAL.UserMode,_103[34],[GLOBAL.$app.user.mode]);
if(isModMaps){
if(mm){
if((mm.mapLevel != 1)){
callMethod(this,menuList,_103[3],[[_103[67],function(){
if(mm){
var idd=mm.id;
callMethod(this,th,_103[68],[idd,0,function(){
callMethod(this,th,_103[31]);
callMethod(this,GLOBAL.$app.popup,_103[32],[((_103[69] + idd) + _103[70])]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}

}]]);

}else{
callMethod(this,menuList,_103[3],[[_103[71],function(){
if(mm){
var idd=mm.id;
callMethod(this,th,_103[68],[idd,1,function(){
callMethod(this,th,_103[31]);
callMethod(this,GLOBAL.$app.popup,_103[32],[((_103[69] + idd) + _103[72])]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}

}]]);

}
if(!isModMapsMV){
if((mm.status == 1)){
callMethod(this,menuList,_103[3],[[_103[73],function(){
if(mm){
var idd=mm.id;
callMethod(this,GLOBAL.$app.popup,_103[74],[_103[75],_103[76],'',function(ob){
var tx8=ob.name;
callMethod(this,th,_103[63],[idd,3,tx8,function(){
callMethod(this,GLOBAL.$app.popup,_103[32],[((_103[77] + idd) + _103[78])]);
callMethod(this,th,_103[31]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}]);

}

}]]);

}else if((mm.status == 2)){
callMethod(this,menuList,_103[3],[[_103[79],function(){
if(mm){
var idd=mm.id;
callMethod(this,th,_103[63],[idd,4,'',function(){
callMethod(this,GLOBAL.$app.popup,_103[32],[((_103[77] + idd) + _103[80])]);
callMethod(this,th,_103[31]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}

}]]);

}


}

}

}
var isDelAccess=!1;
var isAdminV=callMethod(this,GLOBAL.UserMode,_103[81],[GLOBAL.$app.user.mode]);
if(isAdminV){
isDelAccess=!0;

}
if(mm){
if((mm.user == GLOBAL.$app.user.id)){
if((mm.status != 0)){
if((mm.status != 1)){
isDelAccess=!0;

}

}

}

}
if(isDelAccess){
callMethod(this,menuList,_103[3],[[_103[82],function(){
callMethod(this,GLOBAL.$app.popup,_103[83],['Вы действительно хотите удалить карту?',function(){
if(mm){
callMethod(this,GLOBAL.$app.connect,_103[29],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[84]]);
callMethod(this,th,_103[31]);

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка удаления карты']);

}

},_103[85],mm.id]);

}

}]);

}]]);

}

}

}
callMethod(this,GLOBAL.$app.chat,_103[50],[menuList,_103[86],0,!0]);

};

};
_scenes_mapsAlbum_MapsAlbum[_103[63]]=function(id,t,txt,cbok,cberr){
callMethod(this,GLOBAL.$app.connect,_103[29],[function(v){
if((v == 1)){
if(cbok){
cbok();

}

}else{
if(cberr){
cberr();

}

}

},_103[87],id,t,txt]);

};
_scenes_mapsAlbum_MapsAlbum[_103[68]]=function(id,t,cbok,cberr){
callMethod(this,GLOBAL.$app.connect,_103[29],[function(v){
if((v == 1)){
if(cbok){
cbok();

}

}else{
if(cberr){
cberr();

}

}

},_103[88],id,t]);

};
_scenes_mapsAlbum_MapsAlbum[_103[31]]=function(){
callMethod(this,this,_103[89]);

};
_scenes_mapsAlbum_MapsAlbum[_103[89]]=function(userid){
var th=this;
if(userid){
this.userid=userid;

}
this.spr.x=0;
this.spr.y=0;
callMethod(this,this.bgSpr,_103[90]);
callMethod(this,this.spr2,_103[90]);
callMethod(this,this.spr,_103[90]);
this.curMapSpr=null;
callMethod(this,this.ev,_103[91]);
callMethod(this,th.ev,_103[9],[GLOBAL.$app.stage,_103[92],function(e){
if((e.keyCode == lang.ui.Keyboard.ENTER)){
if(th.curMapSpr){
if(th.curMapSpr.map){
callMethod(this,th,_103[55],[th.curMapSpr.map]);

}

}

}

}]);
th.pages=0;
callMethod(this,th,_103[93],[function(aa){
th.pages=aa.size;
if((aa.size > 0)){
th.navSpr.visible=!0;
th.nav=ctorObject(_103[94],[aa,function(idd){
th.txt3.text=(((_103[95] + (th.nav.pos + 1)) + _103[96]) + th.pages);
GLOBAL.Config.lastMapAlbumMapPos=th.nav.pos;
callMethod(this,th,_103[25],[idd]);

}]);
th.nav.repeat=!0;
if((GLOBAL.Config.lastMapAlbumMapPos != 0)){
if((GLOBAL.Config.lastMapAlbumMapPos < th.nav.arr.size)){
th.nav.pos=(GLOBAL.Config.lastMapAlbumMapPos - 1);

}else{
th.nav.pos=-1;

}

}
callMethod(this,th.nav,_103[17]);

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[97]]);
callMethod(this,GLOBAL.$app,_103[12]);

}

}]);

};
_scenes_mapsAlbum_MapsAlbum[_103[55]]=function(o){
var th=this;
if(o){
var isValid=callMethod(this,o,_103[98]);
if(isValid){
callMethod(this,GLOBAL.$app.scenesMaster,_103[91]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[99],['',[GLOBAL.$app.user],o,GLOBAL.$app.user.id]);
if(GLOBAL.$app.gameRoom){
GLOBAL.$app.gameRoom.endRoomCallback=function(){
callMethod(this,th.ev,_103[91]);
if(th.noNavMenu){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[44],[th.type]);
var sc2=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(sc2,GLOBAL.scenes.mapsAlbum.MapsAlbum)){
sc2.noNavMenu=th.noNavMenu;
callMethod(this,sc2,_103[25],[o.id]);

}

}else{
if((th.type == _103[100])){
callMethod(this,GLOBAL.$app,_103[12]);

}else{
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_103[44],[th.type,th.userid]);

}

}

};

}

}

}

};
_scenes_mapsAlbum_MapsAlbum[_103[25]]=function(id){
if(this.noNavMenu){
this.exitBut.visible=!1;

}
var th=this;
if(th.mapsLocalIds){
var mm=callMethod(this,GLOBAL.$app.mapsLocalMaster,_103[101],[id]);
if(mm){
callMethod(this,th,_103[102],[mm]);

}

}else{
if((this.type == _103[56])){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[103],{id:id},function(aa){
var ob1=null;
if(aa){
if((aa.size > 0)){
ob1=aa[0];

}

}
var mm1=null;
if(ob1){
var mapStr=ob1.map;
if(mapStr){
var q2=ctorObject(_103[104]);
callMethod(this,q2,_103[105],[mapStr]);
if(q2.data){
var mm3=ctorObject(_103[106]);
mm3.id=ob1.id;
callMethod(this,mm3,_103[107],[q2.data]);
var isValid=callMethod(this,mm3,_103[98]);
if(isValid){
mm1=mm3;

}

}

}

}
if(mm1){
callMethod(this,th,_103[102],[mm1]);

}else{
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[108]]);

}

}]);

}else{
callMethod(this,GLOBAL.$app.gameMaster,_103[109],[id,function(m){
callMethod(this,th,_103[102],[m]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],[_103[108]]);
callMethod(this,GLOBAL.$app,_103[12]);

}]);

}

}

};
_scenes_mapsAlbum_MapsAlbum[_103[102]]=function(o){
var th=this;
this.spr.x=0;
this.spr.y=0;
callMethod(this,this.spr,_103[90]);
callMethod(this,this.spr2,_103[90]);
callMethod(this,this.bgSpr,_103[90]);
if(o){
var mm=o;
var s=ctorObject(_103[110]);
s.cacheUsers=th.cacheUsers;
var timeAnim=70;
var checkAnim=callMethod(this,GLOBAL.$app.flagsSettings,_103[111],[1,6]);
if(checkAnim){
timeAnim=0;

}
callMethod(this,s,_103[112],[o,timeAnim]);
callMethod(this,s,_103[113]);
if(s.mapInfoSprCur){
var isModMapsV3=callMethod(this,GLOBAL.UserMode,_103[34],[GLOBAL.$app.user.mode]);
if(isModMapsV3){
if((mm.status == 0)){
var sp5=ctorObject(lang.display.Sprite);
sp5.x=132;
sp5.y=215;
callMethod(this,s.mapInfoSprCur,_103[6],[sp5]);
var bm1=callMethod(this,null,_103[114],[_103[115]]);
var bm2=callMethod(this,null,_103[114],[_103[116]]);
bm2.x=80;
bm2.y=2;
callMethod(this,sp5,_103[6],[bm1,bm2]);
bm1.buttonMode=!0;
bm2.buttonMode=!0;
bm1.click=function(){
this.visible=!1;
if(mm){
callMethod(this,th,_103[63],[mm.id,1,'',function(){
callMethod(this,GLOBAL.$app.popup,_103[32],[((_103[77] + mm.id) + _103[117])]);
callMethod(this,th,_103[31]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}

};
bm2.click=function(){
var thh=this;
if(mm){
callMethod(this,GLOBAL.$app.popup,_103[118],[function(ob){
thh.visible=!1;
var txt2=ob.name;
callMethod(this,th,_103[63],[mm.id,2,txt2,function(){
callMethod(this,GLOBAL.$app.popup,_103[32],[((_103[77] + mm.id) + _103[119])]);
callMethod(this,th,_103[31]);

},function(){
callMethod(this,GLOBAL.$app.popup,_103[32],['<br /><br />Ошибка при выполнении действия']);

}]);

}]);

}

};

}

}

}
if((this.type == _103[56])){
o.id=0;

}
if(s.mapInfoSprCur){
if(s.mapInfoSprCur.parent){
callMethod(this,s.mapInfoSprCur.parent,_103[120],[s.mapInfoSprCur]);

}
callMethod(this,this.spr2,_103[6],[s.mapInfoSprCur]);

}
if(s.bg.parent){
callMethod(this,s.bg.parent,_103[120],[s.bg]);

}
callMethod(this,this.bgSpr,_103[6],[s.bg]);
this.curMapSpr=s;
callMethod(this,this.spr,_103[6],[s]);
callMethod(this,GLOBAL.$app,_103[121]);

}

};
_scenes_mapsAlbum_MapsAlbum[_103[93]]=function(cb){
var th=this;
var cmd=_103[122];
var statusV=-1;
var ob2={modmaps:0,cancelmaps:3,blockmaps:2,allmaps:1};
if(th.mapsLocalIds){
cb(th.mapsLocalIds);

}else{
var t2=th.type;
if(checkIn(ob2,t2)){
statusV=ob2[t2];

}
if(th.mapsIds){
cb(th.mapsIds);

}else if((statusV > -1)){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[123],{status:statusV},cb]);

}else if((this.type == _103[124])){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[125],{user:th.userid},cb]);

}else if((this.type == _103[56])){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[126],{},cb]);

}else if((this.type != _103[100])){
callMethod(this,GLOBAL.$app.webconnect,_103[29],[_103[123],{status:1},cb]);

}else if((this.type == _103[102])){
cb([th.userid]);

}






}

};
_scenes_mapsAlbum_MapsAlbum[_103[4]]=function(v){
this.spr.scaleX=v;
this.spr.scaleY=v;

};
_scenes_mapsAlbum_MapsAlbum[_103[128]]=function(){
callMethod(this,this.ev,_103[91]);
if(this.downPanel1.parent){
callMethod(this,this.downPanel1.parent,_103[120],[this.downPanel1]);

}
callMethod(this,GLOBAL.$app,_103[127]);

};
_scenes_mapsAlbum_MapsAlbum[_103[129]]=function(w,h){
if(this.curMapSpr){
callMethod(this,this.curMapSpr,_103[129],[w,h]);

}
this.exitBut.x=(w - 190);
this.exitBut.y=16;
callMethod(this,this.bgRect.painter,_103[91]);
callMethod(this,this.bgRect.painter,_103[130],[0,0,w,h,_103[131]]);

};
vm.registerClass(_103[132],_103[133],_scenes_mapsAlbum_MapsAlbum);
})(window);



(function(window){
var _0=["clear","send","shop.giftsList","obj","init","loadItems","floor","price_type","getPopularValueItem","getByID","getSellPriceByItemID","web","Array","/gifts/","push","isGiftNo","/gifts/gift.png","Object","id","name","int",".png","url","getURLByID","add","app.master.GiftsMaster"];
var _app_master_GiftsMaster={};
_app_master_GiftsMaster["ctor"]=function(){
this.arr=[];
this.isLoad=!1;

};
_app_master_GiftsMaster[_0[0]]=function(){
this.arr=[];
this.isLoad=!1;

};
_app_master_GiftsMaster[_0[5]]=function(cb){
var th=this;
if(!th.isLoad){
callMethod(this,GLOBAL.$app.webconnect,_0[1],[_0[2],{t:_0[3]},function(arr){
th.isLoad=!0;
callMethod(this,th,_0[4],[arr]);
callMethod(this,th,_0[5],[cb]);

}]);

}else{
if(cb){
cb();

}

}

};
_app_master_GiftsMaster[_0[8]]=function(ob){
var v=0;
if(ob){
v=callMethod(this,Math,_0[6],[(ob.price / 10)]);

}
if(checkIn(ob,_0[7])){
if((ob.price_type == 1)){
v=callMethod(this,Math,_0[6],[(ob.price * 2)]);

}

}
var vip=GLOBAL.$app.user.vip;
if((vip == 1)){
var q=callMethod(this,Math,_0[6],[(v * 0.3)]);
v=(v + q);

}else if((vip == 2)){
var q=callMethod(this,Math,_0[6],[(v * 0.2)]);
v=(v + q);

}

return v;

};
_app_master_GiftsMaster[_0[10]]=function(id,num){
if(!num){
num=1;

}
var v=-1;
var ob=callMethod(this,this,_0[9],[id]);
if(ob){
var pp=ob.price;
if(checkIn(ob,_0[7])){
if((ob.price_type == 1)){
pp=(pp * 10);

}

}
var koef=0.5;
if((GLOBAL.$app.user.vip == 1)){
koef=0.7;

}else if((GLOBAL.$app.user.vip == 2)){
koef=0.6;

}

v=callMethod(this,Math,_0[6],[((pp * num) * koef)]);

}
return v;

};
_app_master_GiftsMaster[_0[4]]=function(a){
this.arr=[];
var isWeb=!1;
isWeb=!0;

if(a){
var i=0;
while((i < a.size)){
var el=a[i];
if(checkIs(el,_0[12])){
var id=el[0];
var name=el[1];
var txt=el[2];
var price=el[3];
var price_type=el[4];
var urll=el[5];
var active=el[6];
var url=((GLOBAL.Config.path + _0[13]) + urll);
if(isWeb){
url=(GLOBAL.$app.domainUrl + url);

}
callMethod(this,this.arr,_0[14],[{id:id,name:name,price:price,price_type:price_type,url:url,txt:txt,active:active}]);

}else{
var id=el.id;
var name=el.name;
var price=el.price;
var price_type=el.price_type;
var txt=el.txt;
var urll=el.url;
var url=((GLOBAL.Config.path + _0[13]) + urll);
var isNo=callMethod(this,this,_0[15],[el]);
if(isNo){
url=(GLOBAL.Config.path + _0[16]);

}
if(isWeb){
url=(GLOBAL.$app.domainUrl + url);

}
callMethod(this,this.arr,_0[14],[{id:id,name:name,price:price,price_type:price_type,url:url,txt:txt,active:1}]);

}
i++;
}

}

};
_app_master_GiftsMaster[_0[15]]=function(idd){
var idV=0;
if(checkIs(idd,_0[17])){
if(checkIn(idd,_0[18])){
idV=idd.id;

}

}else{
idV=castInt(idd);

}
if((idV > 50)){
return !0;

}
return !1;

};
_app_master_GiftsMaster[_0[9]]=function(id){
if(checkIs(id,_0[17])){
if(checkIn(id,_0[19])){
return id;

}

}
var i=0;
while((i < this.arr.size)){
var el=this.arr[i];
if((el.id == id)){
return el;

}
i++;
}
return null;

};
_app_master_GiftsMaster[_0[23]]=function(id){
var idd=0;
if(checkIs(id,_0[20])){
idd=id;

}
var url=(((GLOBAL.Config.path + _0[13]) + idd) + _0[21]);
if(checkIs(id,_0[17])){
if(checkIn(id,_0[22])){
url=((GLOBAL.Config.path + _0[13]) + id.url);

}

}
var isNo=callMethod(this,this,_0[15],[id]);
if(isNo){
url=(GLOBAL.Config.path + _0[16]);

}
var isWeb=!1;
isWeb=!0;

if(isWeb){
url=(GLOBAL.$app.domainUrl + url);

}
return url;

};
_app_master_GiftsMaster[_0[24]]=function(id,name,price,url,txt){
if(!txt){
txt='';

}
callMethod(this,this.arr,_0[14],[{id:id,name:name,price:price,url:url,txt:txt}]);

};
vm.registerClass(_0[25],'',_app_master_GiftsMaster);
})(window);



(function(window){
var _211=["/smiles","web","645745859","relative","abb","replace","decode","addSmile",":-)","smile3.gif",":-(","sad.gif","*angel*","angel.gif","*crazy*","crazy.gif",":-[","blush2.gif",":D","big.gif","*kissing*","kiss3.gif","*yahoo*","yahoo.gif",":-*","kiss2.gif","*cray*","cray.gif","*rose*","give_rose.gif","*rofl*","rofl.gif","*dance*","dance4.gif","*good*","good.gif","*clapping*","clapping.gif","*bee*","beee.gif",":-P","blum3.gif","*music*","music.gif","*girl_crazy*","girl_crazy.gif","*diablo*","diablo.gif","*girl_blum*","girl_blum.gif",":-X","secret.gif","*read*","read.gif","*igra*","gamer4.gif","8-)","dirol.gif","*sorry*","sorry.gif","*dash*","dash1.gif","*help*","help.gif","*admin*","punish.gif","*wink*","wink.gif","join","|","RegExp","gi","/emojiPack1.png?v=2","on","load","initEmoji","replaceAll","е","e","match","*еm","*","removeEmojiStr","bitmap","openSmiles","frames","animations","push","sort","*emoji","cbArgs","clickEmojiItem","px;height:",");background-position:-","px -","px;width:","px;\"></div></div>","createPainter","rect","#000000","click","rollover","rollout","addChild","/preload/","?rnd=","/","attr","smileV noSelect","appendChatSmile","\\","\\$&","getSmileValueByID","addSmile1","parseArr","cutStringSmiles","check","split","<img src=\"","\" />","test","random","floor","*em","\" scale=\"0.5\" sourceRect=\""," ","px;\"></div></div> ","parseStringMsg","text","smile","parseStringMsg2","<smile t=\"smile\" name=\"","<smile t=\"emoji\" name=\"","<smile t=\"kolobanga\" url=\"","parseStringMsg3","parseURLItems","app.master.SmilesMaster"];
var _app_master_SmilesMaster={};
_app_master_SmilesMaster["ctor"]=function(){
var th=this;
this.emoji1ByteArray=null;
this.smileW=45;
this.arr=[];
this.obj={};
this.objNames={};
this.initDefSmiles=!1;
this.defSmilesListBitmap=[];
this.emojiWidth=24;
this.emojiFrames={};
this.emojiArr=[];
this.smilesPath=(GLOBAL.$app.pathAssets + _211[0]);
this.regexp2=/\*(emoji|em)([0-9]+)\*/gi;
this.kolobangaReg=/(https:\/\/smiles\.kolobanga\.ru\/([\w+\/.\-]+)\.gif)/g;
this.kolobangaDenyReg=/(ensored|feminist|spam_|hang|crigon_01|suici|vinsent|smoke|of_truce)/i;
this.str1='';
this.emojiY=0;
this.regexp=null;
this.smilesRegexStrArr=[];
this.maxSmilesV=5;
this.xx=0;
this.yy=0;
this.noWeb=!1;

this.smilesCacheV=_211[2];
this.spr2=ctorObject(lang.display.Sprite);
this.sprEmoji=ctorObject(lang.display.Sprite);
this.str2='';
this.curSmileSprOver=null;
this.isSmiles=!0;
if(!this.noWeb){
this.spr2.position=_211[3];
this.sprEmoji.position=_211[3];

}
var r8=/ab/;
var s99=_211[4];
this.isReplaceV=!1;
var repl=callMethod(this,s99,_211[5],[r8,'']);
if((repl != s99)){
this.isReplaceV=!0;

}
var strEmoji='{"frames":[[1,1,54,54,0,0,0],[57,1,54,54,0,0,0],[113,1,54,54,0,0,0],[169,1,54,54,0,0,0],[1,57,54,54,0,0,0],[57,57,54,54,0,0,0],[113,57,54,54,0,0,0],[169,57,54,54,0,0,0],[1,113,54,54,0,0,0],[57,113,54,54,0,0,0],[113,113,54,54,0,0,0],[169,113,54,54,0,0,0],[1,169,54,54,0,0,0],[57,169,54,54,0,0,0],[113,169,54,54,0,0,0],[169,169,54,54,0,0,0],[1,225,54,54,0,0,0],[57,225,54,54,0,0,0],[113,225,54,54,0,0,0],[169,225,54,54,0,0,0],[1,281,54,54,0,0,0],[57,281,54,54,0,0,0],[113,281,54,54,0,0,0],[169,281,54,54,0,0,0],[1,337,54,54,0,0,0],[57,337,54,54,0,0,0],[113,337,54,54,0,0,0],[169,337,54,54,0,0,0],[1,393,54,54,0,0,0],[57,393,54,54,0,0,0],[113,393,54,54,0,0,0],[169,393,54,54,0,0,0],[1,449,54,54,0,0,0],[57,449,54,54,0,0,0],[113,449,54,54,0,0,0],[169,449,54,54,0,0,0],[1,505,54,54,0,0,0],[57,505,54,54,0,0,0],[113,505,54,54,0,0,0],[169,505,54,54,0,0,0],[1,561,54,54,0,0,0],[57,561,54,54,0,0,0],[113,561,54,54,0,0,0],[169,561,54,54,0,0,0],[1,617,54,54,0,0,0],[57,617,54,54,0,0,0],[113,617,54,54,0,0,0],[169,617,54,54,0,0,0],[1,673,54,54,0,0,0],[57,673,54,54,0,0,0],[113,673,54,54,0,0,0],[169,673,54,54,0,0,0],[1,729,54,54,0,0,0],[57,729,54,54,0,0,0],[113,729,54,54,0,0,0],[169,729,54,54,0,0,0],[1,785,54,54,0,0,0],[57,785,54,54,0,0,0],[113,785,54,54,0,0,0],[169,785,54,54,0,0,0],[1,841,54,54,0,0,0],[57,841,54,54,0,0,0],[113,841,54,54,0,0,0],[169,841,54,54,0,0,0],[1,897,54,54,0,0,0],[57,897,54,54,0,0,0],[113,897,54,54,0,0,0],[169,897,54,54,0,0,0],[1,953,54,54,0,0,0],[57,953,54,54,0,0,0],[113,953,54,54,0,0,0],[169,953,54,54,0,0,0],[1,1009,54,54,0,0,0],[57,1009,54,54,0,0,0],[113,1009,54,54,0,0,0],[169,1009,54,54,0,0,0],[1,1065,54,54,0,0,0],[57,1065,54,54,0,0,0],[113,1065,54,54,0,0,0],[169,1065,54,54,0,0,0],[1,1121,54,54,0,0,0],[57,1121,54,54,0,0,0],[113,1121,54,54,0,0,0],[169,1121,54,54,0,0,0],[1,1177,54,54,0,0,0],[57,1177,54,54,0,0,0],[113,1177,54,54,0,0,0],[169,1177,54,54,0,0,0],[1,1233,54,54,0,0,0],[57,1233,54,54,0,0,0],[113,1233,54,54,0,0,0],[169,1233,54,54,0,0,0],[1,1289,54,54,0,0,0],[57,1289,54,54,0,0,0],[113,1289,54,54,0,0,0],[169,1289,54,54,0,0,0],[1,1345,54,54,0,0,0],[57,1345,54,54,0,0,0],[113,1345,54,54,0,0,0],[169,1345,54,54,0,0,0],[1,1401,54,54,0,0,0],[57,1401,54,54,0,0,0],[113,1401,54,54,0,0,0],[169,1401,54,54,0,0,0],[1,1457,54,54,0,0,0],[57,1457,54,54,0,0,0],[113,1457,54,54,0,0,0],[169,1457,54,54,0,0,0],[1,1513,54,54,0,0,0],[57,1513,54,54,0,0,0]],"animations":{"1":{"frames":[0]},"2":{"frames":[1]},"3":{"frames":[2]},"4":{"frames":[3]},"5":{"frames":[4]},"6":{"frames":[5]},"7":{"frames":[6]},"8":{"frames":[7]},"9":{"frames":[8]},"10":{"frames":[9]},"11":{"frames":[10]},"12":{"frames":[11]},"13":{"frames":[12]},"14":{"frames":[13]},"15":{"frames":[14]},"16":{"frames":[15]},"17":{"frames":[16]},"18":{"frames":[17]},"19":{"frames":[18]},"20":{"frames":[19]},"21":{"frames":[20]},"22":{"frames":[21]},"23":{"frames":[22]},"24":{"frames":[23]},"25":{"frames":[24]},"26":{"frames":[25]},"27":{"frames":[26]},"28":{"frames":[27]},"29":{"frames":[28]},"30":{"frames":[29]},"31":{"frames":[30]},"32":{"frames":[31]},"33":{"frames":[32]},"34":{"frames":[33]},"35":{"frames":[34]},"36":{"frames":[35]},"37":{"frames":[36]},"38":{"frames":[37]},"39":{"frames":[38]},"40":{"frames":[39]},"41":{"frames":[40]},"42":{"frames":[41]},"43":{"frames":[42]},"44":{"frames":[43]},"45":{"frames":[44]},"46":{"frames":[45]},"47":{"frames":[46]},"48":{"frames":[47]},"49":{"frames":[48]},"50":{"frames":[49]},"51":{"frames":[50]},"52":{"frames":[51]},"53":{"frames":[52]},"54":{"frames":[53]},"55":{"frames":[54]},"56":{"frames":[55]},"57":{"frames":[56]},"58":{"frames":[57]},"59":{"frames":[58]},"60":{"frames":[59]},"61":{"frames":[60]},"62":{"frames":[61]},"63":{"frames":[62]},"64":{"frames":[63]},"65":{"frames":[64]},"66":{"frames":[65]},"67":{"frames":[66]},"68":{"frames":[67]},"69":{"frames":[68]},"70":{"frames":[69]},"71":{"frames":[70]},"72":{"frames":[71]},"73":{"frames":[72]},"74":{"frames":[73]},"75":{"frames":[74]},"76":{"frames":[75]},"77":{"frames":[76]},"78":{"frames":[77]},"79":{"frames":[78]},"80":{"frames":[79]},"81":{"frames":[80]},"82":{"frames":[81]},"83":{"frames":[82]},"84":{"frames":[83]},"85":{"frames":[84]},"86":{"frames":[85]},"87":{"frames":[86]},"88":{"frames":[87]},"89":{"frames":[88]},"90":{"frames":[89]},"91":{"frames":[90]},"92":{"frames":[91]},"93":{"frames":[92]},"94":{"frames":[93]},"95":{"frames":[94]},"96":{"frames":[95]},"97":{"frames":[96]},"98":{"frames":[97]},"99":{"frames":[98]},"100":{"frames":[99]},"101":{"frames":[100]},"102":{"frames":[101]},"103":{"frames":[102]},"104":{"frames":[103]},"105":{"frames":[104]},"106":{"frames":[105]},"107":{"frames":[106]},"108":{"frames":[107]},"109":{"frames":[108]},"110":{"frames":[109]}}}';
var ob3=callMethod(this,JSON,_211[6],[strEmoji]);
this.emoji1Data=ob3;
strEmoji=null;
callMethod(this,null,_211[7],[_211[8],_211[9]]);
callMethod(this,null,_211[7],[_211[10],_211[11]]);
callMethod(this,null,_211[7],[_211[12],_211[13]]);
callMethod(this,null,_211[7],[_211[14],_211[15]]);
callMethod(this,null,_211[7],[_211[16],_211[17]]);
callMethod(this,null,_211[7],[_211[18],_211[19]]);
callMethod(this,null,_211[7],[_211[20],_211[21]]);
callMethod(this,null,_211[7],[_211[22],_211[23]]);
callMethod(this,null,_211[7],[_211[24],_211[25]]);
callMethod(this,null,_211[7],[_211[26],_211[27]]);
callMethod(this,null,_211[7],[_211[28],_211[29]]);
callMethod(this,null,_211[7],[_211[30],_211[31]]);
callMethod(this,null,_211[7],[_211[32],_211[33]]);
callMethod(this,null,_211[7],[_211[34],_211[35]]);
callMethod(this,null,_211[7],[_211[36],_211[37]]);
callMethod(this,null,_211[7],[_211[38],_211[39]]);
callMethod(this,null,_211[7],[_211[40],_211[41]]);
callMethod(this,null,_211[7],[_211[42],_211[43]]);
callMethod(this,null,_211[7],[_211[44],_211[45]]);
callMethod(this,null,_211[7],[_211[46],_211[47]]);
callMethod(this,null,_211[7],[_211[48],_211[49]]);
callMethod(this,null,_211[7],[_211[50],_211[51]]);
callMethod(this,null,_211[7],[_211[52],_211[53]]);
callMethod(this,null,_211[7],[_211[54],_211[55]]);
callMethod(this,null,_211[7],[_211[56],_211[57]]);
callMethod(this,null,_211[7],[_211[58],_211[59]]);
callMethod(this,null,_211[7],[_211[60],_211[61]]);
callMethod(this,null,_211[7],[_211[62],_211[63]]);
callMethod(this,null,_211[7],[_211[64],_211[65]]);
callMethod(this,null,_211[7],[_211[66],_211[67]]);
var str2=callMethod(this,this.smilesRegexStrArr,_211[68],[_211[69]]);
this.regexp=ctorObject(_211[70],[str2,_211[71]]);
this.smilesRegexStrArr=[];
this.emoji1URL=(GLOBAL.$app.pathAssets + _211[72]);
this.emoji1Bitmap=ctorObject(lang.display.Bitmap);
callMethod(this,this.emoji1Bitmap,_211[73],[_211[74],function(){
callMethod(this,th,_211[75]);

}]);
this.emoji1Bitmap.src=this.emoji1URL;

};
_app_master_SmilesMaster[_211[82]]=function(s){
if(s){
if(this.regexp2){
var s2=s;
s2=callMethod(this,s2,_211[76],[_211[77],_211[78]]);
var a=callMethod(this,this.regexp2,_211[79],[s2]);
if(a){
var i=0;
while((i < a.size)){
var aa=a[i];
var mm=castInt(aa[2]);
if((mm <= 150)){
s=callMethod(this,s,_211[5],[((_211[80] + mm) + _211[81]),'']);

}
i++;
}

}

}

}
return s;

};
_app_master_SmilesMaster[_211[84]]=function(){
var th=this;
var cb1=function(ell){
if(ell){
var bmm=ell.bm;
var url=ell.url;
if(GLOBAL.$app.isStandalone){
callMethod(this,GLOBAL.$app.assetsDownloader,_211[74],[url,_211[83],{ok:function(urlVV){
bmm.src=urlVV;

},fast:!0,async:!1}]);

}else{
bmm.src=url;

}

}

};
if(!th.initDefSmiles){
var i=0;
while((i < th.defSmilesListBitmap.length)){
var el=th.defSmilesListBitmap[i];
cb1(el);
i++;
}
th.initDefSmiles=!0;

}

};
_app_master_SmilesMaster[_211[75]]=function(){
var ob1=this.emoji1Data;
var framesObj={};
if(ob1){
if(checkIn(ob1,_211[85])){
var framesArr=ob1.frames;
if(checkIn(ob1,_211[86])){
var animObj=ob1.animations;
var ids=[];
for(var n in animObj){
var idd=castInt(n);
callMethod(this,ids,_211[87],[idd]);
var obb=animObj[n];
var framePos=obb.frames[0];
var frameA=framesArr[framePos];
var ob1={};
ob1.x=frameA[0];
ob1.y=frameA[1];
ob1.width=frameA[2];
ob1.height=frameA[3];
ob1.w=frameA[2];
ob1.h=frameA[3];
framesObj[n]=ob1;

}
this.emojiFrames=framesObj;
callMethod(this,ids,_211[88],[function(a,b){
return (a - b);

}]);
var scV=0.5;
var emojiWidth=this.emojiWidth;
var n2=ids.size;
var url2=this.emoji1URL;
var xx2=0;
var yy2=0;
var w2=(emojiWidth + 10);
var spr4=this.sprEmoji;
var cb4=function(e){
var nmm=((_211[89] + this.itemid) + _211[81]);
spr4.x=1;
spr4.x=0;
callMethod(this,null,_211[90],[_211[91],this.itemid]);

};
var i=0;
while((i < n2)){
var qq=ids[i];
if(checkIn(framesObj,qq)){
var frr=framesObj[qq];
callMethod(this,this.emojiArr,_211[87],[{id:qq,frame:frr}]);
if(!this.noWeb){
var s4=(((((((((((((((((('<div style="margin:5px;margin-top:0px;display:inline-block;width:' + emojiWidth) + _211[92]) + emojiWidth) + 'px;transform-origin:0 0;transform:scale(') + scV) + ')" onclick="cbArgs(\'clickEmojiItem\',') + qq) + ')"><div class="emojiV" style="position:relative;top:0px;background:url(') + url2) + _211[93]) + frr.x) + _211[94]) + frr.y) + _211[95]) + frr.width) + _211[92]) + frr.height) + _211[96]);
this.sprEmoji.html+=s4;

}else{
var sp=ctorObject(lang.display.Sprite);
sp.x=(xx2 + 5);
sp.y=yy2;
var bg=ctorObject(lang.display.Sprite);
bg.alpha=0;
callMethod(this,bg,_211[97]);
callMethod(this,bg.painter,_211[98],[0,0,emojiWidth,emojiWidth,_211[99]]);
var bmm=ctorObject(lang.display.Bitmap);
bmm.scaleX=scV;
bmm.scaleY=scV;
bmm.src=this.emoji1Bitmap;
bmm.sourceRect=frr;
bg.itemid=qq;
bg.bmm=bmm;
callMethod(this,bg,_211[73],[_211[100],cb4]);
bg.buttonMode=!0;
callMethod(this,bg,_211[73],[_211[101],function(e){
this.bmm.alpha=0.6;

}]);
callMethod(this,bg,_211[73],[_211[102],function(e){
this.bmm.alpha=1;

}]);
xx2+=w2;
if((xx2 >= (w2 * 9))){
xx2=0;
yy2+=w2;

}
this.xx=xx2;
this.yy=yy2;
this.emojiY=yy2;
callMethod(this,sp,_211[103],[bmm,bg]);
callMethod(this,this.sprEmoji,_211[103],[sp]);

}
this.emojiY+=w2;

}
i++;
}

}

}

}

};
_app_master_SmilesMaster[_211[7]]=function(name,v){
var th=this;
var idd=(this.arr.size + 1);
var o={name:name,v:v,id:idd};
callMethod(this,this.arr,_211[87],[o]);
this.obj[idd]=o;
this.objNames[name]=o;
var url=((((this.smilesPath + _211[104]) + v) + _211[105]) + th.smilesCacheV);
var url2=((((this.smilesPath + _211[106]) + v) + _211[105]) + th.smilesCacheV);

var sp=ctorObject(lang.display.Sprite);
sp.urlPreload=url;
sp.position=_211[3];
callMethod(this,sp,_211[107],[{className:_211[108]}]);
sp.x=th.xx;
sp.y=th.yy;
var w2=th.smileW;
if(th.noWeb){
th.xx+=w2;
if((th.xx > (w2 * 6))){
th.xx=0;
th.yy+=w2;

}

}
var bmm=ctorObject(lang.display.Bitmap);
bmm.position=_211[3];
callMethod(this,sp,_211[103],[bmm]);
o.bm=bmm;
callMethod(this,th.defSmilesListBitmap,_211[87],[{bm:bmm,url:url}]);
var cb4=function(e){
callMethod(this,GLOBAL.$app.chat,_211[109],[name]);

};
callMethod(this,sp,_211[73],[_211[100],cb4]);
if(th.noWeb){
bmm.buttonMode=!0;
callMethod(this,bmm,_211[73],[_211[100],cb4]);
callMethod(this,bmm,_211[73],[_211[101],function(e){

}]);
callMethod(this,bmm,_211[73],[_211[102],function(e){

}]);

}else{
callMethod(this,sp,_211[73],[_211[101],function(e){
if(th.curSmileSprOver){
th.curSmileSprOver.src=th.curSmileSprOver.urlPreload;

}
bmm.src=url2;
th.curSmileSprOver=this;

}]);
callMethod(this,sp,_211[73],[_211[102],function(e){
bmm.src=url;

}]);

}
callMethod(this,this.spr2,_211[103],[sp]);
if(this.noWeb){
var nm=name;
var ob={};
var aa2=[];
var a=callMethod(this,GLOBAL.Config.smilesRegexp1,_211[79],[name]);
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var k=0;
while((k < el.size)){
var el2=el[k];
callMethod(this,aa2,_211[87],[el2]);
k++;
}
i++;
}

}
var i=0;
while((i < aa2.size)){
var vv=aa2[i];
if(checkIn(ob,vv)){

}else{
ob[vv]=1;
nm=callMethod(this,nm,_211[76],[vv,(_211[110] + vv)]);

}
i++;
}
callMethod(this,this.smilesRegexStrArr,_211[87],[nm]);

}else{
var nm=callMethod(this,name,_211[5],[GLOBAL.Config.smilesRegexp1,_211[111]]);
callMethod(this,this.smilesRegexStrArr,_211[87],[nm]);

}

};
_app_master_SmilesMaster[_211[112]]=function(id){
if(checkIn(this.obj,id)){
var o=this.obj[id];
return o.name;

}
return '';

};
_app_master_SmilesMaster[_211[114]]=function(a){
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var id=el[0];
var name=el[1];
var v=el[2];
callMethod(this,this,_211[113],[id,name,v]);
i++;
}
var str2=callMethod(this,this.smilesRegexStrArr,_211[68],[_211[69]]);
this.regexp=ctorObject(_211[70],[str2,_211[71]]);
this.smilesRegexStrArr=[];

}

};
_app_master_SmilesMaster[_211[115]]=function(s){
if(this.regexp){
var nums=0;
var s1=s;
var a=callMethod(this,this.regexp,_211[79],[s]);
if(a){
var i=0;
while((i < a.size)){
var aa=a[i];
var m=aa[0];
if(checkIn(this.objNames,m)){
var ob=this.objNames[m];
if((nums >= this.maxSmilesV)){
s=callMethod(this,s,_211[5],[m,'']);

}

}
nums+=1;
i++;
}

}
if(this.regexp2){
var a=callMethod(this,this.regexp2,_211[79],[s]);
if(a){
var i=0;
while((i < a.size)){
var aa=a[i];
var m=aa[0];
if((nums >= this.maxSmilesV)){
s=callMethod(this,s,_211[5],[m,'']);

}
nums+=1;
i++;
}

}

}

}
return s;

};
_app_master_SmilesMaster[_211[127]]=function(s,isMiniChat){
if(s && (s.size > 0)){
var isSmiles=!0;
if(GLOBAL.$app.flagsSettings){
var checkv7=callMethod(this,GLOBAL.$app.flagsSettings,_211[116],[2,8]);
if(checkv7){
isSmiles=!1;

}

}
if(isMiniChat){
s=callMethod(this,this,_211[115],[s]);

}
var i=0;
while((i < this.arr.size)){
var el=this.arr[i];
var spl=callMethod(this,s,_211[117],[el.name]);
if(isSmiles){
s=callMethod(this,spl,_211[68],[((((((_211[118] + this.smilesPath) + _211[106]) + el.v) + _211[105]) + this.smilesCacheV) + _211[119])]);

}else{
s=callMethod(this,spl,_211[68],[el.name]);

}
i++;
}
var emojiWidth=this.emojiWidth;
var scV=0.5;
var s1=s;
var ob3={};
callMethod(this,this,_211[84]);
if(this.kolobangaReg){
var r4=callMethod(this,this.kolobangaReg,_211[79],[s1]);
if(r4){
var i=0;
while((i < r4.size)){
var el=r4[i];
var nm=el[0];
var isQQ=callMethod(this,this.kolobangaDenyReg,_211[120],[nm]);
if(isQQ){
var rnd=callMethod(this,Math,_211[121]);
var n3=callMethod(this,Math,_211[122],[(rnd * 10)]);
n3+=1;
s=callMethod(this,s,_211[76],[nm,((_211[89] + n3) + _211[81])]);

}else{
if(isSmiles){
if(checkIn(ob3,nm)){

}else{
ob3[nm]=1;
s=callMethod(this,s,_211[76],[nm,((_211[118] + nm) + _211[119])]);

}

}else{
s=callMethod(this,s,_211[76],[nm,'']);

}

}
i++;
}

}

}
s1=s;
if(this.regexp2){
var r4=callMethod(this,this.regexp2,_211[79],[s1]);
if(r4){
var i=0;
while((i < r4.size)){
var el=r4[i];
var idd=castInt(el[2]);
var nm=((_211[89] + idd) + _211[81]);
var nm2=((_211[123] + idd) + _211[81]);
if(isSmiles){
if(!checkIn(ob3,nm)){
ob3[nm]=1;
ob3[nm2]=1;
if(checkIn(this.emojiFrames,idd)){
var fr=this.emojiFrames[idd];
var url2=this.emoji1URL;
if(isMiniChat){
s=callMethod(this,s,_211[76],[nm,((((((((((_211[118] + url2) + _211[124]) + fr.x) + _211[125]) + fr.y) + _211[125]) + fr.width) + _211[125]) + fr.height) + _211[119])]);
s=callMethod(this,s,_211[76],[nm2,((((((((((_211[118] + url2) + _211[124]) + fr.x) + _211[125]) + fr.y) + _211[125]) + fr.width) + _211[125]) + fr.height) + _211[119])]);

}else{
var s7=(((((((((((((((('<div style="display:inline-block;width:' + emojiWidth) + _211[92]) + emojiWidth) + 'px;transform-origin:0 0;transform:scale(') + scV) + ')"><div style="position:relative;top:12px;background:url(') + url2) + _211[93]) + fr.x) + _211[94]) + fr.y) + _211[95]) + fr.width) + _211[92]) + fr.height) + _211[126]);
s=callMethod(this,s,_211[76],[nm,s7]);
s=callMethod(this,s,_211[76],[nm2,s7]);

}

}

}

}else{
s=callMethod(this,s,_211[76],[nm,'']);
s=callMethod(this,s,_211[76],[nm2,'']);

}
i++;
}

}

}

}
return s;

};
_app_master_SmilesMaster[_211[130]]=function(s){
var th=this;
var aa=[];
if(!th.isSmiles){
callMethod(this,aa,_211[87],[{type:_211[128],v:s}]);
return aa;

}
var isSmilesV=!0;
if(GLOBAL.$app.flagsSettings){
var checkv7=callMethod(this,GLOBAL.$app.flagsSettings,_211[116],[2,8]);
if(checkv7){
isSmilesV=!1;

}

}
if(this.regexp){
var nums=0;
var s1=s;
var spl=callMethod(this,s1,_211[117],[this.regexp]);
var nn=0;
if(spl){
var i=0;
while((i < spl.size)){
var el=spl[i];
var rr=!0;
var obb={type:_211[128],v:el};
if(checkIn(th.objNames,el)){
if((nn < th.maxSmilesV)){
if(isSmilesV){
var ob=th.objNames[el];
obb.type=_211[129];
obb.bm=ob.bm;

}else{
obb.v='';

}
nn+=1;

}else{
rr=!1;

}

}
if(rr){
callMethod(this,aa,_211[87],[obb]);

}
i++;
}

}

}
return aa;

};
_app_master_SmilesMaster[_211[134]]=function(s){
var th=this;
var isSmilesV=!0;
if(GLOBAL.$app.flagsSettings){
var checkv7=callMethod(this,GLOBAL.$app.flagsSettings,_211[116],[2,8]);
if(checkv7){
isSmilesV=!1;

}

}
if(this.regexp){
var nums=0;
var q3=!1;
var s1=s;
var spl=callMethod(this,s1,_211[117],[this.regexp]);
var nn=0;
var ob3={};
if(spl){
var i=0;
while((i < spl.size)){
var el=spl[i];
if(checkIn(th.objNames,el)){
if((nn < th.maxSmilesV)){
if(isSmilesV){
if(checkIn(ob3,el)){

}else{
ob3[el]=1;
s=callMethod(this,s,_211[76],[el,((_211[131] + el) + _211[119])]);
if(!q3){
q3=!0;
callMethod(this,th,_211[84]);

}

}

}else{
s=callMethod(this,s,_211[5],[el,'']);

}
nn+=1;

}

}
i++;
}

}

}
callMethod(this,this,_211[84]);
if(this.regexp2){
var r4=callMethod(this,this.regexp2,_211[79],[s1]);
if(r4){
var i=0;
while((i < r4.size)){
var el=r4[i];
var idd=castInt(el[2]);
var nm=((_211[89] + idd) + _211[81]);
var nm2=((_211[123] + idd) + _211[81]);
if((nn < this.maxSmilesV)){
if(isSmilesV){
if(!checkIn(ob3,nm)){
if(checkIn(this.emojiFrames,idd)){
ob3[nm]=1;
ob3[nm2]=1;
s=callMethod(this,s,_211[76],[nm,((_211[132] + idd) + _211[119])]);
s=callMethod(this,s,_211[76],[nm2,((_211[132] + idd) + _211[119])]);

}

}

}else{
s=callMethod(this,s,_211[5],[nm,'']);
s=callMethod(this,s,_211[5],[nm2,'']);

}
nn+=1;

}
i++;
}

}

}
if(this.kolobangaReg){
var r4=callMethod(this,this.kolobangaReg,_211[79],[s1]);
if(r4){
var i=0;
while((i < r4.size)){
var el=r4[i];
var nm=el[0];
if((nn < this.maxSmilesV)){
if(isSmilesV){
if(!checkIn(ob3,nm)){
ob3[nm]=1;
s=callMethod(this,s,_211[76],[nm,((_211[133] + nm) + _211[119])]);

}

}else{
s=callMethod(this,s,_211[5],[nm,'']);

}
nn+=1;

}
i++;
}

}

}
return s;

};
_app_master_SmilesMaster[_211[135]]=function(s){
var th=this;
if(s){
if(th.isReplaceV){
s=callMethod(this,s,_211[5],[GLOBAL.Config.chatRegexLinkYoutubeVideo,'<a class="chatLink" href="https://www.youtube.com/watch?v=$1" style="text-decoration:none;" target="_blank">видео youtube</a><span> </span>']);
s=callMethod(this,s,_211[5],[GLOBAL.Config.chatRegexLinkScreens,'<a class="chatLink" href="http://ssmaker.ru/$3" style="text-decoration:none;" target="_blank">скрин ssmaker</a><span> </span>']);
s=callMethod(this,s,_211[5],[GLOBAL.Config.chatAnimalsGameSSLink2,'<a class="chatLink" href="https://ag6.ru/ss/$2" style="text-decoration:none;" target="_blank">скрин ag6</a><span> </span>']);

}

}
return s;

};
vm.registerClass(_211[136],'',_app_master_SmilesMaster);
})(window);



(function(window){
var _200=["addChild","Arial","КоронаАдмин представляет)","eachTime","visible","getEmojiIconBitmap","send","openPopUpMinText1","\n\nСтатус установлен.","\n\nОшибка изменения статуса.","user.setEmojiStatus","remove","on","rollover","ButtonOrangeText","Снять","\n\nСтатус убран.","app.popup.PopUpEmojiSelect","lang.display.Sprite"];
var _app_popup_PopUpEmojiSelect={};
_app_popup_PopUpEmojiSelect["ctor"]=function(){
var th=this;
var aa=GLOBAL.$app.userMaster.iconEmojiList;
var wh1=40;
var sp=ctorObject(lang.display.Sprite);
sp.x=20;
sp.y=55;
var allW=370;
callMethod(this,null,_200[0],[sp]);
var xx=0;
var yy=0;
var tf=ctorObject(lang.text.TextField);
tf.fontName=_200[1];
tf.bold=!0;
tf.color=16777215;
tf.filters=GLOBAL.Config.filterBlue1;
tf.text=_200[2];
tf.x=(10 + ((allW - tf.width) / 2));
tf.y=-10;
callMethod(this,null,_200[0],[tf]);
var tf=ctorObject(lang.text.TextField);
tf.fontName=_200[1];
tf.bold=!0;
tf.color=16777215;
tf.filters=GLOBAL.Config.filterBlue1;
tf.text='статус рядом с ником в чате, и в забегах!';
tf.x=(10 + ((allW - tf.width) / 2));
tf.y=8;
callMethod(this,null,_200[0],[tf]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontName=_200[1];
tf3.bold=!0;
tf3.color=16776960;
tf3.filters=GLOBAL.Config.filterBlue1;
tf3.y=35;
callMethod(this,null,_200[0],[tf3]);
var maxNums=8;
var nn=0;
sp.x=(sp.x + (((allW - 30) - (wh1 * maxNums)) / 2));
callMethod(this,aa,_200[3],[60,function(elq){
if(checkIn(elq,_200[4]) && !elq.visible){

}else{
var q2=callMethod(this,GLOBAL.$app.userMaster,_200[5],[elq.id,!0]);
q2.x=xx;
q2.y=yy;
q2.buttonMode=!0;
q2.elObj=elq;
q2.click=function(){
var idd=this.elObj.id;
callMethod(this,GLOBAL.$app.connect,_200[6],[function(v){
if((v == 1)){
GLOBAL.$app.user.iconEmoji=idd;
callMethod(this,GLOBAL.$app.popupHtml,_200[7],[_200[8]]);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_200[7],[_200[9]]);

}

},_200[10],idd]);
callMethod(this,th,_200[11]);

};
callMethod(this,q2,_200[12],[_200[13],function(){
var vv=this.elObj.name;
tf3.text=vv;
tf3.x=(15 + ((allW - tf3.width) / 2));

}]);
xx=(xx + (wh1 + 4));
callMethod(this,sp,_200[0],[q2]);
nn+=1;
if((nn >= maxNums)){
nn=0;
xx=0;
yy+=40;

}

}

}]);
if((GLOBAL.$app.user.iconEmoji > 0)){
var bb=ctorObject(_200[14],[_200[15],function(){
callMethod(this,GLOBAL.$app.connect,_200[6],[function(v){
if((v == 1)){
GLOBAL.$app.user.iconEmoji=0;
callMethod(this,GLOBAL.$app.popupHtml,_200[7],[_200[16]]);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_200[7],[_200[9]]);

}

},_200[10],0]);
callMethod(this,th,_200[11]);

}]);
bb.x=135;
bb.y=198;
callMethod(this,null,_200[0],[bb]);

}

};
vm.registerClass(_200[17],_200[18],_app_popup_PopUpEmojiSelect);
})(window);



(function(window){
var _286=["initEmojiList","addEmojiV","На пляже","Листиг","Снеговик","Снежинка","initKoronaadmin","/icon",".png","push","initBanList","getBanInfoByID","initPopularIcons","initPopularList","getAllPopularArr","getAssetByName","x","y","addPopularIcon","String","load","bitmap","getEmojiIconBitmap","getPopularInfoByValue","getPopularIconImgBitmap","getPopularIconBitmap","a","/",".png?rnd=9468","getPopularListInfoByLevel","getPopularInfoByPart","getInfoPopularIds","app.master.UserMaster"];
var _app_master_UserMaster={};
_app_master_UserMaster["ctor"]=function(){
this.popularList=[];
this.popularIconsList=[];
this.popularIcons={};
this.cacheIcons1={};
this.cachePopularBM={};
this.iconEmojiList=[];
this.iconEmojiListObj={};
this.isInitPopularIcons=!1;
this.banList=[];
this.popularIconInfo={};
callMethod(this,this,_286[0]);

};
_app_master_UserMaster[_286[0]]=function(){
var th=this;

};
_app_master_UserMaster[_286[6]]=function(arr){
var th=this;
th.iconEmojiList=[];
th.iconEmojiListObj={};
var isEmoji25=!1;
var isEmoji26=!1;
var isEmoji27=!1;
var isEmoji28=!1;
if(arr){
var i=0;
while((i < arr.length)){
var el=arr[i];
callMethod(this,th,_286[1],[el.id,('' + el.name)]);
if((el.id == 25)){
isEmoji25=!0;

}else if((el.id == 26)){
isEmoji26=!0;

}else if((el.id == 27)){
isEmoji27=!0;

}else if((el.id == 28)){
isEmoji28=!0;

}



i++;
}
if(!isEmoji25){
callMethod(this,th,_286[1],[25,_286[2]]);

}
if(!isEmoji26){
callMethod(this,th,_286[1],[26,_286[3]]);

}
if(!isEmoji27){
callMethod(this,th,_286[1],[27,_286[4]]);

}
if(!isEmoji28){
callMethod(this,th,_286[1],[28,_286[5]]);

}

}

};
_app_master_UserMaster[_286[1]]=function(id,name,novis){
var url=(((GLOBAL.$app.koronaAdminPath + _286[7]) + id) + _286[8]);
var ob={id:id,name:name,url:url};
if(novis){
ob.visible=!1;

}
callMethod(this,this.iconEmojiList,_286[9],[ob]);
this.iconEmojiListObj[id]=ob;

};
_app_master_UserMaster[_286[10]]=function(a){
this.banList=[];
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var ob={};
ob.id=el[0];
ob.name=el[1];
ob.time=el[2];
ob.access=el[3];
callMethod(this,this.banList,_286[9],[ob]);
i++;
}

}

};
_app_master_UserMaster[_286[11]]=function(id){
var i=0;
while((i < this.banList.size)){
var el=this.banList[i];
if((el.id == id)){
return el;

}
i++;
}
return null;

};
_app_master_UserMaster[_286[12]]=function(){

};
_app_master_UserMaster[_286[13]]=function(a){
this.popularList=[];
if(!this.isInitPopularIcons){
this.isInitPopularIcons=!0;
callMethod(this,this,_286[12]);

}
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var aa=[];
var k=0;
while((k < el.size)){
var ell=el[k];
var ob={};
ob.pos=k;
ob.id=ell[0];
ob.name=ell[0];
ob.value=ell[1];
callMethod(this,aa,_286[9],[ob]);
k++;
}
callMethod(this,this.popularList,_286[9],[aa]);
i++;
}

}

};
_app_master_UserMaster[_286[14]]=function(){
var arr=[];
var a=this.popularList;
var i=0;
while((i < a.size)){
var el=a[i];
var k=0;
while((k < el.size)){
callMethod(this,arr,_286[9],[el[k]]);
k++;
}
i++;
}
return arr;

};
_app_master_UserMaster[_286[18]]=function(id,bmName,pos){
var bm=callMethod(this,GLOBAL.$app.moviesReader,_286[15],[bmName]);
if(pos){
if(checkIn(pos,_286[16])){
bm.x=pos.x;

}
if(checkIn(pos,_286[17])){
bm.y=pos.y;

}

}
var ob={id:id,bmName:bmName,pos:pos,img:bm};
this.popularIcons[id]=ob;
callMethod(this,this.popularIconsList,_286[9],[ob]);

};
_app_master_UserMaster[_286[22]]=function(id,anim){
var th=this;
if(id){
if(checkIn(th.iconEmojiListObj,id)){
var el=th.iconEmojiListObj[id];
var srcV=el.url;
if(checkIn(th.cacheIcons1,id)){
srcV=th.cacheIcons1[id];

}
var bmm=ctorObject(lang.display.Bitmap);
if(GLOBAL.$app.isStandalone){
if(checkIs(srcV,_286[19])){
callMethod(this,GLOBAL.$app.assetsDownloader,_286[20],[srcV,_286[21],{ok:function(ba){
bmm.src=ba;

},fast:!0,async:!1}]);

}else{
bmm.src=srcV;

}

}else{
bmm.src=srcV;

}
if(!checkIn(th.cacheIcons1,id)){
th.cacheIcons1[id]=bmm;

}
bmm.scaleX=0.5;
bmm.scaleY=0.5;
bmm.txt1=el.name;
return bmm;

}

}
return null;

};
_app_master_UserMaster[_286[25]]=function(lvl,v,iconID){
var popularID=1;
var popularInfo=callMethod(this,this,_286[23],[lvl,v]);
if(popularInfo){
popularID=popularInfo.id;

}
if((lvl > this.popularList.size)){
var p1=(this.popularList.size - 1);
var arr=this.popularList[p1];
if(arr){
if((arr.size > 0)){
var p2=(arr.size - 1);
var ob=arr[p2];
if(ob){
popularID=ob.id;

}

}

}

}
if((iconID > 0)){
popularID=iconID;

}
var bm=callMethod(this,this,_286[24],[popularID]);
return bm;

};
_app_master_UserMaster[_286[24]]=function(id){
var th=this;
var nm2=(_286[26] + id);
var infoP=null;
var srcV=(((GLOBAL.$app.popularPath + _286[27]) + id) + _286[28]);
if(checkIn(th.popularIconInfo,nm2)){
infoP=th.popularIconInfo[nm2];

}
var bm=ctorObject(lang.display.Bitmap);
bm.scaleX=0.5;
bm.scaleY=0.5;
if(checkIn(th.cachePopularBM,nm2)){
srcV=th.cachePopularBM[nm2];

}
if(GLOBAL.$app.isStandalone){
if(checkIs(srcV,_286[19])){
callMethod(this,GLOBAL.$app.assetsDownloader,_286[20],[srcV,_286[21],{ok:function(ba){
bm.src=ba;
th.cachePopularBM[nm2]=bm;

},fast:!0,async:!1}]);

}else{
bm.src=srcV;

}

}else{
bm.src=srcV;

}
if(!GLOBAL.$app.isStandalone){
th.cachePopularBM[nm2]=bm;

}
return bm;
return null;

};
_app_master_UserMaster[_286[30]]=function(lvl,v){
if((v <= 0)){
v=0;

}
var aa=callMethod(this,this,_286[29],[lvl]);
if(aa){
if((aa.size >= v)){
var vv=aa[v];
return vv;

}

}

};
_app_master_UserMaster[_286[29]]=function(lvl){
if(((lvl - 1) < this.popularList.size)){
var pos=(lvl - 1);
var vv=this.popularList[pos];
return vv;

}
if((this.popularList.size > 0)){
var pp=(this.popularList.size - 1);
var vv=this.popularList[pp];
return vv;

}
return null;

};
_app_master_UserMaster[_286[23]]=function(lvl,v){
var pos=0;
var aa=callMethod(this,this,_286[29],[lvl]);
if(aa){
var i=0;
while((i < aa.size)){
var el=aa[i];
if((v >= el.value)){
pos+=1;

}
i++;
}
if((pos >= aa.size)){
pos=(aa.size - 1);

}
if((pos <= aa.size)){
if((aa.size > 0)){
var vv=aa[pos];
return vv;

}

}

}
return null;

};
_app_master_UserMaster[_286[31]]=function(lvl,v){
var arr=[];
var a=this.popularList;
if(a){
if(((lvl - 1) >= a.length)){
lvl=a.length;

}
if(((lvl - 1) < a.length)){
var i=0;
while((i < lvl)){
var q=a[i];
if((q.length > 0)){
var pos=1;
var k=0;
while((k < q.length)){
var el=q[k];
if((v >= el.value)){
pos+=1;

}
k++;
}
if((pos >= q.length)){
pos=q.length;

}
if((i < (lvl - 1))){
pos=q.length;

}
var k=0;
while((k < pos)){
var el=q[k];
callMethod(this,arr,_286[9],[el.id]);
k++;
}

}
i++;
}

}

}
return arr;

};
vm.registerClass(_286[32],'',_app_master_UserMaster);
})(window);



(function(window){
var _74=["decode","map","parseMap","users","parseByStreamStr","each","eachItems","eachTime","eachItemsTime","txt1","user","status","mapLevel","scoreInfo","isworld","statsInfo","play","winner","exit","endtime","id","items","bounds","timestamp","v","width","height","time","bg","pers","bone","budka","validateMap","app.game.GameMap"];
var _app_game_GameMap={};
_app_game_GameMap["ctor"]=function(){
this.id=0;
this.v=0;
this.optimizeV=!1;
this.time=0;
this.createTime=0;
this.statsInfo=null;
this.scoreInfo=null;
this.isworld=0;
this.txt1='';
this.map=null;
this.bounds=null;
this.bg=0;
this.user=0;
this.mapLevel=1;
this.width=0;
this.status=-1;
this.height=0;
this.bgAlpha=1;
this.items=[];
this.pers={x:0,y:0};
this.users=[];
this.persObj=null;
this.boneObj={x:0,y:0};
this.budkaObj={x:0,y:0};
this.origObj=null;
this.worldInfo=null;

};
_app_game_GameMap[_74[4]]=function(s){
this.str=s;
if(s){
var ob=callMethod(this,JSON,_74[0],[s]);
if(ob){
if(checkIn(ob,_74[1])){
callMethod(this,this,_74[2],[ob.map]);

}
if(checkIn(ob,_74[3])){
this.users=ob.users;

}

}

}

};
_app_game_GameMap[_74[6]]=function(cb){
callMethod(this,this.items,_74[5],[function(el){
if(cb){
cb(el);

}

}]);

};
_app_game_GameMap[_74[8]]=function(cb,time){
callMethod(this,this.items,_74[7],[time,function(el){
if(cb){
cb(el);

}

}]);

};
_app_game_GameMap[_74[2]]=function(o){
if(o){
this.map=o;
if(checkIn(o,_74[9])){
this.txt1=o.txt1;

}
if(checkIn(o,_74[10])){
this.user=o.user;

}
if(checkIn(o,_74[11])){
this.status=o.status;

}
if(checkIn(o,_74[12])){
this.mapLevel=o.mapLevel;

}
if(checkIn(o,_74[13])){
this.scoreInfo=o.scoreInfo;

}
if(checkIn(o,_74[14])){
this.isworld=o.isworld;

}
if(checkIn(o,_74[15])){
if(o.statsInfo){
this.statsInfo={winner:0,play:0,exit:0,endtime:0,likes:0,dislikes:0};
var statsV=o.statsInfo;
if(checkIn(statsV,_74[16])){
this.statsInfo.play=statsV.play;

}
if(checkIn(statsV,_74[17])){
this.statsInfo.winner=statsV.winner;

}
if(checkIn(statsV,_74[18])){
this.statsInfo.exit=statsV.exit;

}
if(checkIn(statsV,_74[19])){
this.statsInfo.endtime=statsV.endtime;

}

}

}
if(checkIn(o,_74[20])){
this.id=o.id;

}
if(checkIn(o,_74[1])){
this.items=o.map;

}
if(checkIn(o,_74[21])){
this.items=o.items;

}
if(checkIn(o,_74[22])){
this.bounds=o.bounds;

}
if(checkIn(o,_74[23])){
this.createTime=o.timestamp;

}
if(checkIn(o,_74[24])){
this.v=o[_74[24]];

}
if(checkIn(o,_74[25])){
this.width=castInt(o.width);

}
if(checkIn(o,_74[26])){
this.height=castInt(o.height);

}
if(checkIn(o,_74[27])){
this.time=o[_74[27]];

}
if(checkIn(o,_74[28])){
this.bg=o.bg;

}
if(checkIn(o,_74[29])){
this.persObj=o.pers;

}
if(checkIn(o,_74[30])){
this.boneObj=o.bone;

}
if(checkIn(o,_74[31])){
this.budkaObj=o.budka;

}
if((this.width > 8000)){
this.optimizeV=!1;

}
if((this.height > 8000)){
this.optimizeV=!1;

}

}

};
_app_game_GameMap[_74[32]]=function(){
var ob=this.map;
if(ob){
var fields=[_74[21],_74[25],_74[26]];
var i=0;
while((i < fields.size)){
var el=fields[i];
if(checkIn(ob,el)){

}else{
return !1;

}
i++;
}

}else{
return !1;

}
return !0;

};
vm.registerClass(_74[33],'',_app_game_GameMap);
})(window);



(function(window){
var _207=["createPainter","addChild","clear","border","rect","#000000","timestampToStrDate2","-","id карты","создана","id мира","имя","создан","push","ширина и высота"," на ","доступна","с "," уровня","элементы","забегов","побед","сколько раз на карте побеждали","выходов","сколько раз с карты выходили","не успели","не указана","txt1","Arial","toMinSec","openPopUpUserInfoSpr","рекорд ","openPopUpMinText1","<br /><br />",": ","textVV","одобрена","на модерации","Карта находится на модерации.","заблокирована","отклонена","cut","Причина: ","load","getUserID","removeChild","createTxtKV","id","clickChatUser","ник","loadAvaUsers","getAvaByUserID","getAssetByName","Ava.png","web","attr","Anonymous","on","off","Нет информации о создателе","startTween","anim1","scenes.mapsAlbum.MapsAlbumMapInfoSpr","lang.display.Sprite"];
var _scenes_mapsAlbum_MapsAlbumMapInfoSpr={};
_scenes_mapsAlbum_MapsAlbumMapInfoSpr["ctor"]=function(thh,map,cacheUsers){
var th=this;
this.w=350;
this.h=250;
this.optTxt=thh.optTxt;
this.map=map;
this.bg=ctorObject(lang.display.Sprite);
this.sp=ctorObject(lang.display.Sprite);
callMethod(this,this.bg,_207[0]);
this.bg.alpha=0.5;
this.sp.x=10;
this.sp.y=10;
callMethod(this,null,_207[1],[this.bg,this.sp]);
if(!cacheUsers){
cacheUsers=GLOBAL.$app.cacheUsers;

}
var isMapStats=!1;
if(map.statsInfo){
if(!map.worldInfo){
isMapStats=!0;

}

}
if(map.worldInfo){
map.scoreInfo=null;

}
if(isMapStats){
this.h+=60;

}
if(map.scoreInfo){
this.h+=20;

}
callMethod(this,this.bg.painter,_207[2]);
callMethod(this,this.bg.painter,_207[3],[1,13421772]);
callMethod(this,this.bg.painter,_207[4],[0,0,this.w,this.h,_207[5]]);
var yy=80;
var lvlV=map.mapLevel;
var dateMapStr=callMethod(this,GLOBAL.DateUtils,_207[6],[map.createTime]);
if((map.createTime <= 0)){
dateMapStr=_207[7];

}
var arr=[[_207[8],map.id],[_207[9],dateMapStr]];
if(map.worldInfo){
arr=[[_207[10],map.worldInfo.id],[_207[11],map.worldInfo.name],[_207[12],dateMapStr],[_207[8],map.id]];

}
callMethod(this,arr,_207[13],[[_207[14],((('' + map.width) + _207[15]) + map.height)]]);
if(map.worldInfo){

}else{
if((map.status == 1)){
callMethod(this,arr,_207[13],[[_207[16],((_207[17] + lvlV) + _207[18])]]);

}

}
callMethod(this,arr,_207[13],[[_207[19],map.items.size,null,th.optTxt]]);
if(isMapStats){
callMethod(this,arr,_207[13],[[_207[20],map.statsInfo.play,'сколько раз на карте уже бегали']]);
callMethod(this,arr,_207[13],[[_207[21],map.statsInfo.winner,_207[22]]]);
callMethod(this,arr,_207[13],[[_207[23],map.statsInfo.exit,_207[24]]]);
callMethod(this,arr,_207[13],[[_207[25],map.statsInfo.endtime,'сколько раз не прошли карту из-за окончания времени']]);

}
var txt1map='';
var mapTxt1=_207[26];
if((map.status > 1)){
if(checkIn(map,_207[27])){
if(map.txt1){
if((map.txt1.size > 0)){
mapTxt1=map.txt1;
txt1map=map.txt1;

}

}

}

}
if(map.scoreInfo){
var tf=ctorObject(lang.text.TextField);
tf.color=16776960;
tf.fontName=_207[28];
tf.bold=!0;
tf.buttonMode=!0;
var str2=callMethod(this,GLOBAL.DateUtils,_207[29],[map.scoreInfo.v]);
tf.click=function(){
callMethod(this,GLOBAL.$app.popup,_207[30],[map.scoreInfo.user]);

};
tf.fontSize=16;
tf.text=(_207[31] + str2);
tf.x=((th.w - tf.width) / 2);
tf.y=yy;
callMethod(this,this.sp,_207[1],[tf]);
yy+=20;

}
var i=0;
while((i < arr.size)){
var el=arr[i];
var k=el[0];
var v=el[1];
var nm6=null;
if((el.size > 3)){
nm6=el[3];

}
var tf=nm6;
if(!tf){
tf=ctorObject(lang.text.TextField);

}
tf.color=16777215;
if((el.size > 2)){
var el2=el[2];
if(el2){
tf.infoTxt3=el2;
tf.buttonMode=!0;
tf.click=function(){
callMethod(this,GLOBAL.$app.popup,_207[32],[(_207[33] + this.infoTxt3)]);

};

}

}
tf.fontSize=15;
tf.fontName=_207[28];
tf.bold=!0;
tf.text=((('' + k) + _207[34]) + v);
if(checkIn(tf,_207[35])){
tf.text=(tf.text + tf.textVV);

}
tf.x=((th.w - tf.width) / 2);
tf.y=yy;
callMethod(this,this.sp,_207[1],[tf]);
yy+=20;
i++;
}
var tf=ctorObject(lang.text.TextField);
tf.color=16777215;
tf.fontName=_207[28];
tf.bold=!0;
var statusStr=_207[7];
var statusTxt='';
if((map.status == 1)){
statusStr=_207[36];
statusTxt='Карта одобрена и доступна в забегах.';
tf.color=65280;

}else if((map.status == 0)){
statusStr=_207[37];
statusTxt=_207[38];
tf.color=65535;

}else if((map.status == 2)){
statusStr=_207[39];
statusTxt='Карта заблокирована.<br />Возможна она слишком сложная или требуется доработка.';
tf.color=16753920;

}else if((map.status == 3)){
statusStr=_207[40];
statusTxt='Карта не прошла модерацию.<br />Мы временно оставили карту чтобы создатель мог её улучшить.';
tf.color=16753920;

}



if(map.worldInfo){
statusStr='';

}
tf.text=('' + statusStr);
tf.x=((th.w - tf.width) / 2);
tf.y=yy;
tf.buttonMode=!0;
tf.click=function(){
callMethod(this,GLOBAL.$app.popup,_207[32],[(_207[33] + statusTxt)]);

};
if((statusTxt != '')){
callMethod(this,this.sp,_207[1],[tf]);

}
yy+=20;
if((txt1map != '')){
var tf=ctorObject(lang.text.TextField);
tf.fontName=_207[28];
tf.bold=!0;
tf.color=16776960;
var txtMapMin=mapTxt1;
if((txtMapMin.size > 30)){
txtMapMin=callMethod(this,txtMapMin,_207[41],[0,30]);

}
tf.text=('' + txtMapMin);
tf.x=((th.w - tf.width) / 2);
tf.y=yy;
tf.buttonMode=!0;
tf.click=function(){
callMethod(this,GLOBAL.$app.popup,_207[32],[(_207[42] + mapTxt1)]);

};
callMethod(this,this.sp,_207[1],[tf]);
yy+=20;

}
var sp3=ctorObject(lang.display.Sprite);
callMethod(this,this.sp,_207[1],[sp3]);
var tfLoad=ctorObject(lang.text.TextField);
tfLoad.fontName=_207[28];
tfLoad.bold=!0;
tfLoad.y=40;
tfLoad.color=16777215;
tfLoad.text='Загрузка информации о создателе...';
tfLoad.x=((th.w - tfLoad.width) / 2);
callMethod(this,this.sp,_207[1],[tfLoad]);
var userid=map.user;
if(map.worldInfo){
userid=map.worldInfo.user;

}
callMethod(this,cacheUsers,_207[43],[[userid],function(){
var u=callMethod(this,cacheUsers,_207[44],[userid]);
if(u){
callMethod(this,th.sp,_207[45],[tfLoad]);
var sp5=ctorObject(lang.display.Sprite);
callMethod(this,th.sp,_207[1],[sp5]);
var tf=callMethod(this,th,_207[46],[_207[47],u.id]);
tf.x=((th.w - tf.width) / 2);
tf.x+=40;
tf.y=20;
tf.buttonMode=!0;
tf.click=function(){
callMethod(this,GLOBAL.$app.chat,_207[48],[u,!1,!0]);

};
callMethod(this,sp5,_207[1],[tf]);
var tf2=callMethod(this,th,_207[46],[_207[49],u.nick]);
tf2.x=((th.w - tf2.width) / 2);
tf2.x+=40;
tf2.y=(tf.y + 20);
tf2.buttonMode=!0;
tf2.click=function(){
callMethod(this,GLOBAL.$app.chat,_207[48],[u,!1,!0]);

};
callMethod(this,sp5,_207[1],[tf2]);
callMethod(this,cacheUsers,_207[50],[[userid],function(){
var avaUrl=callMethod(this,cacheUsers,_207[51],[u.id]);
if(avaUrl){
var sp4=ctorObject(lang.display.Sprite);
sp4.x=30;
sp4.y=-10;
var avaBM=callMethod(this,GLOBAL.$app.moviesReader,_207[52],[_207[53]]);
avaBM.scaleX=0.5;
avaBM.scaleY=0.5;
callMethod(this,sp4,_207[1],[avaBM]);
var bm=ctorObject(lang.display.Bitmap);
bm.x=22;
bm.y=22;
bm.visible=!1;
callMethod(this,bm,_207[55],[{crossOrigin:_207[56]}]);

callMethod(this,bm,_207[57],[_207[43],function(){
var w1=this.naturalWidth;
var h1=this.naturalHeight;
if((w1 > 50)){
this.scaleX=(50 / w1);

}
if((h1 > 50)){
this.scaleY=(50 / h1);

}
this.visible=!0;
callMethod(this,bm,_207[58],[_207[43],arguments.callee]);

}]);
bm.src=avaUrl;
bm.mouseEnabled=!1;
avaBM.buttonMode=!0;
avaBM.click=function(){
callMethod(this,GLOBAL.$app.chat,_207[48],[u,!1,!0]);

};
callMethod(this,sp4,_207[1],[bm]);
callMethod(this,sp3,_207[1],[sp4]);

}

}]);

}else{
tfLoad.text=_207[59];
tfLoad.x=((th.w - tfLoad.width) / 2);

}

}]);

};
_scenes_mapsAlbum_MapsAlbumMapInfoSpr[_207[61]]=function(){
var th=this;
th.alpha=0;
var tween=callMethod(this,null,_207[60],[th,{alpha:1},200]);

};
_scenes_mapsAlbum_MapsAlbumMapInfoSpr[_207[46]]=function(k,v){
var tf=ctorObject(lang.text.TextField);
tf.color=16777215;
tf.fontSize=15;
tf.fontName=_207[28];
tf.bold=!0;
tf.text=((k + _207[34]) + v);
return tf;

};
vm.registerClass(_207[62],_207[63],_scenes_mapsAlbum_MapsAlbumMapInfoSpr);
})(window);

(function(window){
var _119=["Arial","app.game.BackgroundSprite","addChild","check","bg","changeBG","eachTime","drawElem","endDrawMap","draw","optTxt"," (есть оптимизация)","f1","st","getGameItemByType","app.game.items.UniversalActionItem1","app.game.items.DecorItem","app.game.items.WallItem","resize","app.game.items.TextItem","app.game.items.TeleportItem","teleportItemA","app.game.items.TrampolineItem","app.game.items.KeyItem","app.game.items.ExitItem","createPersNums","app.game.PersGameRoom","setUser","setBG","scenes.mapsAlbum.MapsAlbumMapInfoSpr","addMapInfoRect","remove","scenes.mapsAlbum.MapRenderSprite","lang.display.Sprite"];
var _scenes_mapsAlbum_MapRenderSprite={};
_scenes_mapsAlbum_MapRenderSprite["ctor"]=function(){
this.map=null;
this.isOptNums=0;
this.optTxt=ctorObject(lang.text.TextField);
this.optTxt.color=16777215;
this.optTxt.fontSize=15;
this.optTxt.fontName=_119[0];
this.optTxt.bold=!0;
this.bg=ctorObject(_119[1]);
this.itemsSpr=ctorObject(lang.display.Sprite);
this.wallItemsSpr=ctorObject(lang.display.Sprite);
this.cnt2=ctorObject(lang.display.Sprite);
this.mapInfoSpr=ctorObject(lang.display.Sprite);
this.mapInfoSprCur=null;
this.cacheUsers=null;
callMethod(this,null,_119[2],[this.bg,this.cnt2,this.itemsSpr,this.mapInfoSpr]);
this.isDrawText=!0;
var flagDrawText=callMethod(this,GLOBAL.$app.flagsSettings,_119[3],[4,2]);
if(!flagDrawText){

}else{
this.isDrawText=!1;

}
this.isEnableBorderWall=!0;
var flagEnableBorderWall=callMethod(this,GLOBAL.$app.flagsSettings,_119[3],[4,4]);
if(flagEnableBorderWall){
this.isEnableBorderWall=!1;

}
this.isOptimizeDraw=!1;

};
_scenes_mapsAlbum_MapRenderSprite[_119[9]]=function(o,timeAnim){
var th=this;
this.map=o;
if(!timeAnim){
timeAnim=0;

}
if(o){
var bgid=0;
if(checkIn(o,_119[4])){
bgid=o.bg;

}
if((bgid == 1)){
bgid=6;

}else if((bgid == 4)){
bgid=6;

}

callMethod(this,this,_119[5],[bgid]);
var items=o.items;
if((timeAnim > 0)){
callMethod(this,items,_119[6],[timeAnim,function(el){
callMethod(this,th,_119[7],[el]);

},function(){
callMethod(this,th,_119[8]);

}]);

}else{
var i=0;
while((i < items.size)){
var el=items[i];
callMethod(this,th,_119[7],[el]);
i++;
}
callMethod(this,th,_119[8]);

}

}

};
_scenes_mapsAlbum_MapRenderSprite[_119[8]]=function(){
var th=this;
if(th.map){
if((th.isOptNums > 0)){
th.map.optimizeV=!1;

}else{
th.map.optimizeV=!0;
if(checkIn(th,_119[10])){
var s1=th.optTxt.text;
if((th.map.items.size > 0)){
if(th.map.optimizeV){
th.optTxt.textVV=_119[11];
th.optTxt.text=(s1 + th.optTxt.textVV);
if(th.mapInfoSprCur){
th.optTxt.x=((th.mapInfoSprCur.w - th.optTxt.width) / 2);

}

}

}

}

}

}

};
_scenes_mapsAlbum_MapRenderSprite[_119[7]]=function(el){
var th=this;
var itemType=GLOBAL.GameRoomItemType;
if(el){
var ob=el;
ob.type=el.t;
var flags1=0;
if(checkIn(ob,_119[12])){
flags1=ob.f1;

}
if((((1 << 1) & flags1) > 0)){
++th.isOptNums;
}
if((ob.type == itemType.DECOR)){
if(checkIn(ob,_119[13]) && (ob.st == 1)){
var itemV=callMethod(this,GLOBAL.$app.gameMaster,_119[14],[itemType.BALL]);
if(itemV){
var disp=ctorObject(_119[15],[itemType.BALL]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.itemsSpr,_119[2],[disp]);

}

}else{
var disp=ctorObject(_119[16],[ob.id]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.itemsSpr,_119[2],[disp]);

}

}else if((ob.type == itemType.WALL)){
var qq=ctorObject(_119[17],[ob.id]);
qq.x=ob.x;
qq.y=ob.y;
qq.rotation=ob.r;
if(!this.isEnableBorderWall){
qq.isBorderEnable=!1;

}
callMethod(this,qq,_119[18],[ob.w,ob.h]);
if(this.isOptimizeDraw){
callMethod(this,this.wallItemsSpr,_119[2],[qq]);

}else{
callMethod(this,this.itemsSpr,_119[2],[qq]);

}

}else if((ob.type == itemType.TEXT)){
if(this.isDrawText){
var disp=ctorObject(_119[19],[ob,!0]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.itemsSpr,_119[2],[disp]);

}

}else if((ob.type == itemType.TELEPORT)){
var disp=ctorObject(_119[20]);
callMethod(this,disp,_119[21],[ob]);
callMethod(this,this.itemsSpr,_119[2],[disp]);

}else if((ob.type == itemType.TRAMPOLINE)){
var disp=ctorObject(_119[22]);
ob.w=80;
ob.h=8;
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.itemsSpr,_119[2],[disp]);

}else if((ob.type == itemType.ITEM1)){
var disp=ctorObject(_119[23]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.itemsSpr,_119[2],[disp]);

}else if((ob.type == itemType.EXIT)){
var disp=ctorObject(_119[24]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,disp,_119[25],[3]);
callMethod(this,this.itemsSpr,_119[2],[disp]);

}else if((ob.type == itemType.PERS)){
var pers=ctorObject(_119[26]);
pers.x=ob.x;
pers.y=ob.y;
callMethod(this,pers,_119[27],[GLOBAL.$app.user]);
callMethod(this,this.itemsSpr,_119[2],[pers]);

}else{
var itemV=callMethod(this,GLOBAL.$app.gameMaster,_119[14],[ob.type]);
if(itemV){
var disp=ctorObject(_119[15],[ob.type]);
disp.x=ob.x;
disp.y=ob.y;
disp.rotation=ob.r;
callMethod(this,this.itemsSpr,_119[2],[disp]);

}

}








}

};
_scenes_mapsAlbum_MapRenderSprite[_119[5]]=function(id){
callMethod(this,this.bg,_119[28],[id]);

};
_scenes_mapsAlbum_MapRenderSprite[_119[30]]=function(){
if(this.map){
var c=ctorObject(_119[29],[this,this.map,this.cacheUsers]);
this.mapInfoSprCur=c;
callMethod(this,this.mapInfoSpr,_119[2],[c]);
callMethod(this,this,_119[18],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}

};
_scenes_mapsAlbum_MapRenderSprite[_119[31]]=function(){

};
_scenes_mapsAlbum_MapRenderSprite[_119[18]]=function(w,h){
callMethod(this,this.bg,_119[18],[w,h]);
if(this.mapInfoSprCur){
this.mapInfoSprCur.x=((w - this.mapInfoSprCur.w) / 2);
this.mapInfoSprCur.y=((h - this.mapInfoSprCur.h) / 2);

}

};
vm.registerClass(_119[32],_119[33],_scenes_mapsAlbum_MapRenderSprite);
})(window);



(function(window){
var _222=["halloween","тыквы","тыкв","hwItem","push","addChild","createV","reload","MainMenuButton","Play","close","playOnlineRoom","offsetIcons","getChildAt","init","send","openPopUpMinText1","\n\n\n","action1","b1","start",".png","getAssetByName","on","click","createTF","createTFSz","removeAllChilds","stop","info","до окончания:","сброс заданий через день.","getTimeStr2","День ",": ","shkola","Снова в школу!","Собирайте "," в забегах","Собрано: ","Задание "," из ","Нужно собрать: ","ButtonOrangeText","Выполнить","ok","\n\n\nЗадание выполнено!\n\n","no","\n\n\nНедостаточно ",".","run","Задания выполнены!","remove","resize","app.popup.PopUpEventInfoT2","lang.display.Sprite"];
var _app_popup_PopUpEventInfoT2={};
_app_popup_PopUpEventInfoT2["ctor"]=function(o){
var th=this;
th.tm1=null;
th.itemObj=o;
th.info1Obj=null;
th.isRmv=!1;
th.sp1=ctorObject(lang.display.Sprite);
th.sp1.x=-50;
th.sp1.y=200;
th.tt=o.t;
var c=ctorObject(lang.display.Sprite);
var ww=530;
var tt=o.t;
var yy2=0;
if((tt == _222[0])){
th.info1Obj={infoItem:_222[1],noItems:_222[2],offsetIcons:30,iconsUp:[]};
var arr4=[];
var i=0;
while((i < 6)){
var nn=(i + 1);
if((nn == 5)){
nn=1;

}else if((nn == 6)){
nn=2;

}

var nm4=(_222[3] + nn);
callMethod(this,th.info1Obj.iconsUp,_222[4],[nm4]);
i++;
}

}
callMethod(this,null,_222[5],[c]);
callMethod(this,c,_222[5],[th.sp1]);
this.c=c;
if(th.info1Obj){
callMethod(this,th,_222[6]);
callMethod(this,th,_222[7]);

}
var playBut2=ctorObject(_222[8],[_222[9],function(){
var r3=!1;
var scc=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(scc,GLOBAL.scenes.game.GameRoom)){
r3=!0;

}else if(checkIs(scc,GLOBAL.scenes.game.PrestartGameRoom1)){
r3=!0;

}

callMethod(this,GLOBAL.$app.popup,_222[10],[th]);
if(r3){

}else{
callMethod(this,GLOBAL.$app.gameMaster,_222[11]);

}

}]);
playBut2.x=380;
playBut2.y=200;
callMethod(this,c,_222[5],[playBut2]);

};
_app_popup_PopUpEventInfoT2[_222[6]]=function(){
var th=this;
if(th.info1Obj){
var xx=0;
var n2=0;
var offset1=15;
if(checkIn(th.info1Obj,_222[12])){
offset1=th.info1Obj.offsetIcons;

}
var arr1=th.info1Obj.iconsUp;
var scFlower=0.5;
var sp3=ctorObject(lang.display.Sprite);
sp3.x=48;
sp3.y=35;
callMethod(this,th.c,_222[5],[sp3]);
var resetIcons=function(){
n2=0;
var i=0;
while((i < sp3.numChildren)){
var ell=callMethod(this,sp3,_222[13],[i]);
ell.alpha=1;
i++;
}

};
var cbAlpha=function(){
var el=this;
if(!el.tween2){
if((el.q2.alpha > 0)){
var vv=(el.q2.alpha - 0.4);
if((vv < 0)){
vv=0;

}
var tween=ctorObject(lib.Tween,[el.q2]);
callMethod(this,tween,_222[14],[{alpha:vv},200,function(){

},function(){
el.tween2=null;
if((el.q2.alpha <= 0)){
n2+=1;
if((n2 >= arr1.size)){
n2=0;
callMethod(this,GLOBAL.$app.connect,_222[15],[function(txt){
resetIcons();
if(txt){
callMethod(this,GLOBAL.$app.popup,_222[16],[(_222[17] + txt)]);

}

},_222[18],_222[19]]);

}

}

}]);
el.tween2=tween;
callMethod(this,tween,_222[20]);

}

}

};
var i=0;
while((i < arr1.size)){
var tt=arr1[i];
var nm=(tt + _222[21]);
var bm=callMethod(this,GLOBAL.$app.moviesReader,_222[22],[nm]);
if(bm){
var q2=ctorObject(lang.display.Sprite);
q2.scaleX=scFlower;
q2.scaleY=scFlower;
bm.tween1=null;
bm.tween2=null;
var ww=(bm.naturalWidth * scFlower);
var hh=(bm.naturalHeight * scFlower);
bm.x=castInt((-bm.naturalWidth / 2));
bm.y=castInt((-bm.naturalHeight / 2));
bm.q2=q2;
callMethod(this,q2,_222[5],[bm]);
q2.bmm=bm;
callMethod(this,bm,_222[23],[_222[24],cbAlpha]);
q2.x=castInt(xx);
xx=((xx + ww) + offset1);
callMethod(this,sp3,_222[5],[q2]);

}
i++;
}

}

};
_app_popup_PopUpEventInfoT2[_222[25]]=function(txt,clr){
var tf1=ctorObject(lang.text.TextField);
tf1.color=clr;
tf1.bold=!1;
tf1.fontSize=16;
tf1.text=('' + txt);
tf1.x=((260 - tf1.width) / 2);
tf1.filters=GLOBAL.Config.filterBlue1;
return tf1;

};
_app_popup_PopUpEventInfoT2[_222[26]]=function(txt,clr,sz){
var tf1=ctorObject(lang.text.TextField);
tf1.color=clr;
tf1.bold=!1;
tf1.fontSize=sz;
tf1.text=('' + txt);
tf1.x=((260 - tf1.width) / 2);
tf1.filters=GLOBAL.Config.filterBlue1;
return tf1;

};
_app_popup_PopUpEventInfoT2[_222[7]]=function(){
var th=this;
callMethod(this,th.sp1,_222[27]);
if(th.tm1){
callMethod(this,th.tm1,_222[28]);

}
th.tm1=null;
var w2=530;
if(th.info1Obj){
callMethod(this,GLOBAL.$app.connect,_222[15],[function(o){
if(!th.isRmv){
if(o){
var nn=o.nums;
var yy=0;
var qLevel=o.level;
var lvlV=(qLevel + 1);
var allLvls=o.allLevels;
var n2=0;
if(checkIn(o,_222[29])){
if(o.info){
n2=o.info.n;

}

}
var tfEndTime2=callMethod(this,th,_222[25],[_222[30],16777215]);
var tfEndTime=callMethod(this,th,_222[25],['',16777215]);
var tfEndTime3=callMethod(this,th,_222[25],[_222[31],16776960]);
tfEndTime.x=220;
tfEndTime.y=50;
tfEndTime2.x=tfEndTime.x;
tfEndTime2.y=(tfEndTime.y - 25);
tfEndTime3.x=tfEndTime.x;
tfEndTime3.y=(tfEndTime.y + 35);
callMethod(this,th.sp1,_222[5],[tfEndTime2,tfEndTime,tfEndTime3]);
var updTime=function(vv){
var ss=callMethod(this,GLOBAL.DateUtils,_222[32],[vv]);
tfEndTime.text=ss;

};
var setTime=function(v){
if((v < ((60 * 60) * 24))){
tfEndTime3.visible=!1;

}
th.tm1=callMethod(this,Timer,_222[14],[1000,function(){
v-=1;
if((v <= 0)){
v=0;

}
updTime(v);

}]);
updTime(v);

};
setTime(o.endTime);
var nm7=(((_222[33] + o.curDay) + _222[34]) + o.name);
if((th.tt == _222[35])){
nm7=_222[36];

}
var tfDay=callMethod(this,th,_222[26],[nm7,16776960,18]);
tfDay.x=(50 + ((w2 - tfDay.width) / 2));
tfDay.y=-110;
callMethod(this,th.sp1,_222[5],[tfDay]);
var tfDesc=callMethod(this,th,_222[26],[((_222[37] + th.info1Obj.infoItem) + _222[38]),16777215,18]);
tfDesc.x=(50 + ((w2 - tfDesc.width) / 2));
tfDesc.y=(tfDay.y + 30);
callMethod(this,th.sp1,_222[5],[tfDesc]);
var tfDesc2=callMethod(this,th,_222[26],['выполняйте задания, и получайте призы!',16777215,16]);
tfDesc2.x=(50 + ((w2 - tfDesc2.width) / 2));
tfDesc2.y=(tfDesc.y + 30);
callMethod(this,th.sp1,_222[5],[tfDesc2]);
if((qLevel < allLvls)){
var tf2=callMethod(this,th,_222[25],[(_222[39] + nn),16777215]);
tf2.y=yy;
callMethod(this,th.sp1,_222[5],[tf2]);
yy+=25;
var tf1=callMethod(this,th,_222[25],[(((_222[40] + lvlV) + _222[41]) + o.allLevels),16776960]);
tf1.y=yy;
callMethod(this,th.sp1,_222[5],[tf1]);
yy+=25;
var tf1=callMethod(this,th,_222[25],[(_222[42] + n2),16777215]);
tf1.y=yy;
callMethod(this,th.sp1,_222[5],[tf1]);
yy+=25;
var bb=ctorObject(_222[43],[_222[44],function(){
bb.visible=!1;
callMethod(this,GLOBAL.$app.connect,_222[15],[function(ob){
if(ob){
if((ob.v == _222[45])){
var txt1='';
if(ob.txt){
txt1=ob.txt;

}
callMethod(this,GLOBAL.$app.popup,_222[16],[(_222[46] + txt1)]);

}else if((ob.v == _222[47])){
callMethod(this,GLOBAL.$app.popup,_222[16],[((_222[48] + th.info1Obj.noItems) + _222[49])]);

}


}
callMethod(this,th,_222[7]);

},_222[18],_222[50]]);

}]);
bb.x=70;
bb.y=(yy - 5);
callMethod(this,th.sp1,_222[5],[bb]);

}else{
yy=50;
var tf1=callMethod(this,th,_222[25],[_222[51],65535]);
tf1.x-=5;
tf1.y=yy;
callMethod(this,th.sp1,_222[5],[tf1]);

}

}

}

},_222[18],_222[29]]);

}

};
_app_popup_PopUpEventInfoT2[_222[52]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_222[28]);

}
this.tm1=null;
this.isRmv=!0;

};
_app_popup_PopUpEventInfoT2[_222[53]]=function(w,h){
callMethod(this,this.c,_222[53],[w,h]);

};
vm.registerClass(_222[54],_222[55],_app_popup_PopUpEventInfoT2);
})(window);



(function(window){
var _111=["MenuPersHomeScene","visZ5","addChild","AppMenuBuildItemsMov","a6","AppBGHome1Spr","playDef","openPopUpShop","openPopUpBoarAct1","findEvent2ItemType","boar","open","EventInfoT1","openPopUpMinText1","AppHomeRocketSpr1","app.game.PersGameRoom","init","setUser","setNickCallback","clickChatUser","stop","nav","Travel","start","popUpInfoTravelLvlNo","getAssetByName","filmMovieImg1.png","openPopUpOpenHistoryAction","navSceneHistoryStart","clear","navSceneHome","imgActionBut2.png","vk","openPopUpInfoActionBonus1","openPopUpInfoBonusAppGroup","action","konkursImg2.png","openPopUpKonkurs2Info","Мастер комнат","shadow","#0a0503","#000000","openPopUpCreateRoom1","web","СЛОЖНОСТЬ КАРТ","user.changeMapsLevelMode","openPopUpConfirmMsgYesNo","send","kostiFreeTxt1.png","check","openPopUpBonusGroup1","addFriends.png","animAlphaSprite","normal","autoFullscreen","callMethod","showInviteBox","createSpritePainter","plashka_main.png","MainMenuButton","Play","Bag","navMyGiftsScene","drawMovie","playSFX","click","isShowChat","hide","loadPhysicsCB","navMapEditor","popUpInfoTxtPlayBut"," уровня","scenes.home.TopScene","autoResize","openPopUpOfflineModeText","halloween","bitmap","hwMain.png","playOnlineRoom","updateCountUsers","updateUserInfo","removeChild","removeScene","resize","scenes.PersHomeScene","lang.display.Sprite"];
var _scenes_PersHomeScene={};
_scenes_PersHomeScene["ctor"]=function(){
var th=this;
this.sceneName=_111[0];
callMethod(this,GLOBAL.$app.scene,_111[1],[!1]);
this.cnt1=ctorObject(lang.display.Sprite);
callMethod(this,null,_111[2],[this.cnt1]);
var menuDownSpr=ctorObject(lang.display.Sprite);
this.menu1=ctorObject(_111[3]);
if(checkIn(this.menu1,_111[4])){
this.menu1.a6.x-=48;
this.menu1.a6.y+=20;

}
this.menu1.shopItem.x-=30;
this.bgMov=ctorObject(_111[5]);
this.bgMov2=ctorObject(lang.display.Sprite);
callMethod(this,null,_111[2],[this.bgMov2]);
this.bgMov.resize=function(w,h){
th.menu1.y=(h - 240);

};
this.menu1.playItem.msk.click=function(){
callMethod(this,th,_111[6]);

};
this.menu1.shopItem.click=function(){
callMethod(this,GLOBAL.$app.popup,_111[7]);

};
this.menu1.a6.click=function(){
if(GLOBAL.$app.user.boarK){
callMethod(this,GLOBAL.$app.popup,_111[8]);

}else{
var findItemBoar=callMethod(this,GLOBAL.$app.eventsActionMaster,_111[9],[_111[10]]);
if(findItemBoar){
callMethod(this,GLOBAL.$app.popup,_111[11],[_111[12],findItemBoar]);

}else{
callMethod(this,GLOBAL.$app.popup,_111[13],['Хрю-хрю, сейчас я не в забегах!\nПровожу конкурсы на подарки.']);

}

}

};
this.rocketMenu=ctorObject(_111[14]);
this.rocketMenu.m1.mouseEnabled=!1;
this.rocketMenu.x=640;
callMethod(this,this.cnt1,_111[2],[this.rocketMenu]);
var persImg=ctorObject(_111[15]);
callMethod(this,persImg,_111[16]);
callMethod(this,persImg,_111[17],[GLOBAL.$app.user]);
callMethod(this,persImg,_111[18],[function(){
callMethod(this,GLOBAL.$app.chat,_111[19],[GLOBAL.$app.user,!1,!0]);

}]);
persImg.x=140;
this.persImg=persImg;
callMethod(this,this.cnt1,_111[2],[this.persImg]);
callMethod(this,this.cnt1,_111[2],[this.menu1]);
var isAnim1=!1;
this.rocketMenu.bm.click=function(){
var travelLvl=6;
if((GLOBAL.$app.user.level >= travelLvl)){
if(!isAnim1){
th.rocketMenu.m1.visible=!1;
persImg.visible=!1;
menuDownSpr.visible=!1;
th.menu1.playItem.visible=!1;
isAnim1=!0;
callMethod(this,Timer,_111[16],[500,function(){
callMethod(this,this,_111[20]);
var tween=ctorObject(lib.Tween,[th.rocketMenu]);
callMethod(this,tween,_111[16],[{y:-1100},1500,function(){

},function(){
callMethod(this,GLOBAL.$app.scenesMaster,_111[21],[_111[22]]);

}]);
callMethod(this,tween,_111[23]);

}]);

}

}else{
callMethod(this,GLOBAL.$app.popup,_111[24],[travelLvl,function(){
callMethod(this,th,_111[6]);

}]);

}

};
this.mainSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.cnt1,_111[2],[this.mainSpr]);
this.filmImg=callMethod(this,GLOBAL.$app.moviesReader,_111[25],[_111[26]]);
this.filmImg.scaleX=0.5;
this.filmImg.scaleY=0.5;
this.filmImg.x=5;
this.filmImg.buttonMode=!0;
this.filmImg.click=function(){
callMethod(this,GLOBAL.$app.popup,_111[27],[function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_111[28],[function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_111[29]);
callMethod(this,GLOBAL.$app.scenesMaster,_111[30]);

}]);

},function(){

}]);

};
this.actionFreeBM=callMethod(this,GLOBAL.$app.moviesReader,_111[25],[_111[31]]);
this.actionFreeBM.scaleX=0.5;
this.actionFreeBM.scaleY=0.5;
this.actionFreeBM.x=226;
this.actionFreeBM.buttonMode=!0;
this.actionFreeBM.click=function(){
if((GLOBAL.Config.authType == _111[32])){
callMethod(this,GLOBAL.$app.popup,_111[33]);

}else{
callMethod(this,GLOBAL.$app.popup,_111[34],[_111[35]]);

}

};
this.konkursGiftsBM=callMethod(this,GLOBAL.$app.moviesReader,_111[25],[_111[36]]);
this.konkursGiftsBM.scaleX=0.5;
this.konkursGiftsBM.scaleY=0.5;
this.konkursGiftsBM.x=326;
this.konkursGiftsBM.buttonMode=!0;
this.konkursGiftsBM.click=function(){
callMethod(this,GLOBAL.$app.popup,_111[37]);

};
this.createRoomTxt=ctorObject(lang.text.TextField);
this.createRoomTxt.x=100;
this.createRoomTxt.fontSize=16;
this.createRoomTxt.color=16759329;
this.createRoomTxt.text=_111[38];
this.createRoomTxt.buttonMode=!0;
this.createRoomTxt.width=(this.createRoomTxt.width + 8);
this.createRoomTxt.filters=[{id:_111[39],color:_111[40],blur:2,offsetX:1,offsetY:1},{id:_111[39],color:_111[41],blur:3,offsetX:0,offsetY:0}];
this.createRoomTxt.click=function(){
callMethod(this,GLOBAL.$app.popup,_111[42]);

};
this.createRoomTxt.textOffsetDraw=2;

if((GLOBAL.$app.user.level > 1)){
callMethod(this,this.cnt1,_111[2],[this.createRoomTxt]);

}
this.mapsLevelTxt=ctorObject(lang.text.TextField);
if(GLOBAL.$app.uiMobile){
this.mapsLevelTxt.x=100;

}else{
this.mapsLevelTxt.x=500;

}
this.mapsLevelTxt.fontSize=13;
this.mapsLevelTxt.color=16777215;
this.mapsLevelTxt.text=_111[44];
this.mapsLevelTxt.buttonMode=!0;
this.mapsLevelTxt.width=(this.mapsLevelTxt.width + 8);
this.mapsLevelTxt.filters=[{id:_111[39],color:_111[40],blur:2,offsetX:1,offsetY:1},{id:_111[39],color:_111[41],blur:3,offsetX:0,offsetY:0}];
this.mapsLevelTxt.textOffsetDraw=2;

this.mapsLevelTxt.click=function(){
var nm2=_111[45];
if((GLOBAL.$app.user.mapsLevelMode == 0)){
callMethod(this,GLOBAL.$app.popup,_111[46],['Хотите перейти в режим сложных карт?',function(){
callMethod(this,GLOBAL.$app.connect,_111[47],[function(vv){
GLOBAL.$app.user.mapsLevelMode=1;
callMethod(this,GLOBAL.$app.popup,_111[13],['Теперь вам доступны только сложные карты в забегах']);

},nm2,1]);

}]);

}else{
callMethod(this,GLOBAL.$app.popup,_111[46],['Хотите перейти в режим лёгких карт?',function(){
callMethod(this,GLOBAL.$app.connect,_111[47],[function(vv){
GLOBAL.$app.user.mapsLevelMode=0;
callMethod(this,GLOBAL.$app.popup,_111[13],['Теперь вам доступны только лёгкие карты в забегах']);

},nm2,0]);

}]);

}

};
if((GLOBAL.$app.user.level >= 6)){
callMethod(this,this.cnt1,_111[2],[this.mapsLevelTxt]);

}
this.kostiFreeBM=callMethod(this,GLOBAL.$app.moviesReader,_111[25],[_111[48]]);
this.kostiFreeBM.scaleX=0.5;
this.kostiFreeBM.scaleY=0.5;
this.kostiFreeBM.x=70;
this.kostiFreeBM.buttonMode=!0;
this.kostiFreeBM.click=function(){
var isCheck1=callMethod(this,GLOBAL.$app.flagsMaster,_111[49],[1,5]);
if(!isCheck1){
if((GLOBAL.Config.authType == _111[32])){
callMethod(this,GLOBAL.$app.popup,_111[50]);

}else{
callMethod(this,GLOBAL.$app.popup,_111[34]);

}

}else{
callMethod(this,GLOBAL.$app.popup,_111[34]);

}

};
this.friendsBut=callMethod(this,GLOBAL.$app.moviesReader,_111[25],[_111[51]]);
this.friendsBut.buttonMode=!0;
callMethod(this,this.cnt1,_111[2],[this.friendsBut]);

if(GLOBAL.$app.uiMobile){

}else{
callMethod(this,this.cnt1,_111[2],[this.kostiFreeBM,this.actionFreeBM]);

}
callMethod(this,this.cnt1,_111[2],[this.filmImg]);
callMethod(this,this.cnt1,_111[2],[this.konkursGiftsBM]);

callMethod(this,GLOBAL.AppUtils,_111[52],[[this.friendsBut,this.kostiFreeBM,this.actionFreeBM,this.filmImg,this.konkursGiftsBM],0.7,1]);
this.friendsBut.click=function(){
if((GLOBAL.Config.authType == _111[32])){
if((GLOBAL.$app.stage.displayState != _111[53])){
callMethod(this,GLOBAL.$app,_111[54]);

}
callMethod(this,GLOBAL.$app.apiVK,_111[55],[_111[56]]);

}


};
var sprHome=ctorObject(lang.display.Sprite);
this.menuBG=callMethod(this,GLOBAL.AppUtils,_111[57]);
this.plashkaBG=callMethod(this,GLOBAL.$app.moviesReader,_111[25],[_111[58]]);
this.plashkaH=this.plashkaBG.height;
callMethod(this,this.mainSpr,_111[2],[sprHome]);
var playBut=ctorObject(_111[59],[_111[60],function(){
callMethod(this,th,_111[6]);

}]);
var bagBut=ctorObject(_111[59],[_111[61],function(){
callMethod(this,GLOBAL.$app.scenesMaster,_111[29]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_111[62]);

}]);
bagBut.x=-120;
bagBut.y=-1;
playBut.x=(bagBut.x - 120);
playBut.y=-10;
var buttonsDown=callMethod(this,GLOBAL.$app.moviesReader,_111[63],[8]);
this.menuDownSpr=menuDownSpr;
var mapEditorLvl=2;
var isAnimWorld=!1;
if(GLOBAL.Config.isTestAuth){
mapEditorLvl=1;

}
buttonsDown.x=380;
buttonsDown.y=-13;
callMethod(this,buttonsDown,_111[2],[playBut]);
callMethod(this,buttonsDown,_111[2],[bagBut]);
callMethod(this,GLOBAL.AppUtils,_111[52],[[buttonsDown.mapsBut],0.7,1]);
buttonsDown.mapsBut.click=function(){
if((GLOBAL.$app.user.level >= mapEditorLvl)){
callMethod(this,GLOBAL.$app,_111[64],[_111[65]]);
callMethod(this,GLOBAL.$app.scenesMaster,_111[29]);
var isShowChat=callMethod(this,GLOBAL.$app.chat,_111[66]);
if(isShowChat){
callMethod(this,GLOBAL.$app.chat,_111[67]);

}
callMethod(this,GLOBAL.$app,_111[68],[function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_111[69]);

}]);

}else{
callMethod(this,GLOBAL.$app.popup,_111[70],[(('Редактор карт будет доступен со ' + mapEditorLvl) + _111[71]),function(){
callMethod(this,th,_111[6]);

}]);

}

};
buttonsDown.topBut.click=function(){
if(GLOBAL.$app.connect.isConnect){
callMethod(this,GLOBAL.$app,_111[64],[_111[65]]);
var c=ctorObject(_111[72]);
callMethod(this,GLOBAL.$app.popup.cnt,_111[2],[c]);
callMethod(this,GLOBAL.$app,_111[73]);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_111[74]);

}

};
callMethod(this,GLOBAL.$app.scene.menuDownSpr,_111[2],[menuDownSpr]);
callMethod(this,menuDownSpr,_111[2],[buttonsDown]);
callMethod(this,GLOBAL.AppUtils,_111[52],[[buttonsDown.topBut],0.7,1]);
this.buttonsDown=buttonsDown;
if(GLOBAL.$app.eventCur1){
var bm11=null;
if((GLOBAL.$app.eventCur1.type == _111[75])){
bm11=callMethod(this,null,_111[76],[_111[77]]);

}
if(bm11){
bm11.scaleX=0.5;
bm11.scaleY=0.5;
bm11.x=-348;
bm11.y=8;
bm11.buttonMode=!0;
bm11.click=function(){
if(GLOBAL.$app.eventCur1){
var ev11=callMethod(this,GLOBAL.$app.eventsActionMaster,_111[9],[GLOBAL.$app.eventCur1.type]);
if(ev11){
callMethod(this,GLOBAL.$app.popup,_111[11],[_111[12],ev11]);

}

}

};
callMethod(this,GLOBAL.AppUtils,_111[52],[[bm11],0.7,1]);
callMethod(this,buttonsDown,_111[2],[bm11]);

}

}

};
_scenes_PersHomeScene[_111[6]]=function(){
callMethod(this,GLOBAL.$app.gameMaster,_111[78]);

};
_scenes_PersHomeScene[_111[79]]=function(v){

};
_scenes_PersHomeScene[_111[80]]=function(id,u){
if((id == GLOBAL.$app.user.id)){
callMethod(this,this.persImg,_111[17],[u]);

}

};
_scenes_PersHomeScene[_111[82]]=function(){
if(this.menuDownSpr.parent){
callMethod(this,this.menuDownSpr.parent,_111[81],[this.menuDownSpr]);

}

};
_scenes_PersHomeScene[_111[83]]=function(w,h){
var hh2=((h - 90) - this.y);
this.friendsBut.y=(hh2 - 100);
var ww2=730;
if(GLOBAL.$app.eventCur1){
ww2-=90;

}
this.menuDownSpr.x=castInt(((w - ww2) / 2));
this.menuDownSpr.y=3;
h=hh2;
callMethod(this,this.bgMov,_111[83],[w,h]);
this.rocketMenu.y=(h - 200);
this.persImg.y=(h - 120);
this.filmImg.y=(hh2 - 170);
this.kostiFreeBM.y=(hh2 - 60);
this.actionFreeBM.y=(hh2 - 65);
this.konkursGiftsBM.y=(hh2 - 70);
this.mapsLevelTxt.y=(hh2 - 50);
this.createRoomTxt.y=(hh2 - 92);
var w2=760;
if((w > w2)){
this.cnt1.x=((w - w2) / 2);

}else{
this.cnt1.x=0;

}

};
vm.registerClass(_111[84],_111[85],_scenes_PersHomeScene);
})(window);



(function(window){
var _254=["findByType","startEvent","push","cbAction","start","endEvent","del","end","actionEvent","findEvent2ItemType","removeEvent2ItemType","halloween","boar","кабанчик","boar1.png","open","EventInfoT1","событие","hwItem1.png","redrawEventItem","navHome","parseList","app.master.EventsActionMaster"];
var _app_master_EventsActionMaster={};
_app_master_EventsActionMaster["ctor"]=function(){
this.list=[];
this.cbAction=null;
this.firstInit=!1;

};
_app_master_EventsActionMaster[_254[0]]=function(t){
var th=this;
var i=0;
while((i < th.list.size)){
var el=th.list[i];
if((el.type == t)){
return el;

}
i++;
}
return null;

};
_app_master_EventsActionMaster[_254[8]]=function(t,o){
var th=this;
if(o){
if((t == _254[1])){
callMethod(this,th.list,_254[2],[o]);
if(th.cbAction){
callMethod(this,th,_254[3],[_254[4],o]);

}

}else if((t == _254[5])){
var i=0;
while((i < th.list.size)){
var el=th.list[i];
if((el.id == o.id)){
callMethod(this,th.list,_254[6],[i]);
if(th.cbAction){
callMethod(this,th,_254[3],[_254[7],o]);

}

}
i++;
}

}


}

};
_app_master_EventsActionMaster[_254[9]]=function(t){
var arr2=GLOBAL.Config.eventsItemsList;
if(arr2){
var i=0;
while((i < arr2.length)){
var el=arr2[i];
if((el.t == t)){
return el;

}
i++;
}

}
return null;

};
_app_master_EventsActionMaster[_254[10]]=function(t){
var arr2=GLOBAL.Config.eventsItemsList;
if(arr2){
var i=0;
while((i < arr2.length)){
var el=arr2[i];
if((el.t == t)){
callMethod(this,arr2,_254[6],[i]);
return !0;

}
i++;
}

}
return !1;

};
_app_master_EventsActionMaster[_254[21]]=function(arr){
var th=this;
var ev2Str=_254[11];
var lastFindBoar=callMethod(this,th,_254[0],[_254[12]]);
var lastFind2=callMethod(this,th,_254[0],[ev2Str]);
if(arr){
th.list=arr;

}
var evFindBoar=callMethod(this,th,_254[0],[_254[12]]);
var evFind2=callMethod(this,th,_254[0],[ev2Str]);
GLOBAL.$app.eventCur1=evFind2;
var redrawEv=!1;
var isUpd1=!1;
var isUpd2=!1;
if(lastFindBoar){
isUpd1=!0;

}else if(evFindBoar){
isUpd1=!0;

}

if(lastFind2){
isUpd2=!0;

}else if(evFind2){
isUpd2=!0;

}

if(isUpd1){
var findItemBoar=callMethod(this,th,_254[9],[_254[12]]);
if(findItemBoar){
if(!evFindBoar){
var res2=callMethod(this,th,_254[10],[_254[12]]);
if(res2){
redrawEv=!0;

}

}

}else{
var obb={id:10,t:_254[12],name:_254[13],icon:_254[14],scaleIcon:0.8,iconX:5,iconY:5,textX:-2,textY:2,o:evFindBoar.o};
callMethod(this,GLOBAL.Config.eventsItemsList,_254[2],[obb]);
redrawEv=!0;
if(th.firstInit){
callMethod(this,GLOBAL.$app.popup,_254[15],[_254[16],obb]);

}

}

}
if(isUpd2){
var find2=callMethod(this,th,_254[9],[ev2Str]);
if(find2){
if(!evFind2){
var res3=callMethod(this,th,_254[10],[ev2Str]);
if(res3){
redrawEv=!0;

}

}

}else{
var nmm=_254[17];
if(evFind2){
nmm=evFind2.name;

}
var obb={id:100,t:evFind2.type,isEv2:!0,name:('' + nmm),icon:_254[18],scaleIcon:1,iconX:10,iconY:5,textX:0,textY:5};
callMethod(this,GLOBAL.Config.eventsItemsList,_254[2],[obb]);
redrawEv=!0;

}

}
if(redrawEv){
callMethod(this,GLOBAL.$app.scene,_254[19]);
var sc2=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(sc2,GLOBAL.scenes.PersHomeScene)){
callMethod(this,GLOBAL.$app,_254[20]);

}

}
th.firstInit=!0;

};
vm.registerClass(_254[22],'',_app_master_EventsActionMaster);
})(window);



(function(window){
var _249=["BGKostiSprite","AppPopUpHelpPanelMov","getAssetByName","b27.png","m","navMenu","addChild","remove","animAlphaSprite","removeAllChilds","loadDef","loadUserMode","attr","scroll1","Arial","Загрузка..."," (",")","Редакторы группы","https://vk.com/club","web","<a href=\"","ID "," ","css","white-space","nowrap","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","Ещё нет","load","removeChild","getUserID","isSuperAdmin","isModerator","isModeratorM","isModeratorMaps","isModeratorMapsM","push","getNickColor","Администраторы","Старшие модераторы чата","Младшие модераторы чата","Старшие модераторы карт","Младшие модераторы карт","#FFFFFF","send","modVKgroupIdsCur","api","users.vkGroupMods","chat.getUserModeList","Идёт загрузка...","font-family","font-weight","bold","loadPopUpText","chatRules","replaceAll","\n","<br />","resize","app.popup.PopUpHelpPanel","lang.display.Sprite"];
var _app_popup_PopUpHelpPanel={};
_app_popup_PopUpHelpPanel["ctor"]=function(t){
var th=this;
var bg=ctorObject(_249[0]);
var c=ctorObject(_249[1]);
this.tm1=null;
this.curMenu=0;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_249[2],[_249[3]]);
this.curMenuArr=[c.but1,c.but2];
var i=0;
while((i < this.curMenuArr.size)){
var idd=(i + 1);
var nm3=(_249[4] + idd);
var ob3=c[nm3];
ob3.mouseEnabled=!1;
var el=this.curMenuArr[i];
el.menuID=idd;
el.origIconSrc=el.icon1.src;
el.msk.menuID=idd;
el.msk.click=function(){
callMethod(this,th,_249[5],[this.menuID]);

};
i++;
}
this.sc=null;
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=160;
this.c.cnt.y=90;
callMethod(this,this.c,_249[6],[this.c.cnt]);
this.bg=bg;
callMethod(this,null,_249[6],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_249[7]);

};
callMethod(this,GLOBAL.AppUtils,_249[8],[c.close,0.8,1]);
var navID=1;
if(t){
navID=t;

}
callMethod(this,this,_249[5],[navID]);

};
_app_popup_PopUpHelpPanel[_249[5]]=function(id){
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
i++;
}
if(this.sc){
callMethod(this,this.sc,_249[7]);

}
this.sc=null;
callMethod(this,this.c.cnt,_249[9]);
if((id == 1)){
callMethod(this,this,_249[10]);

}else if((id == 2)){
callMethod(this,this,_249[11]);

}


}
this.curMenu=id;

};
_app_popup_PopUpHelpPanel[_249[11]]=function(){
var th=this;
var sp=ctorObject(lang.display.Sprite);
var ww=380;
var hh=300;
var cnt=ctorObject(lang.display.Sprite);
callMethod(this,cnt,_249[12],[{className:_249[13]}]);
callMethod(this,sp,_249[6],[cnt]);
cnt.width=ww;
cnt.height=hh;
cnt.scroll=!0;
callMethod(this,this.c.cnt,_249[6],[sp]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_249[14];
txt1.bold=!0;
txt1.text=_249[15];
txt1.x=((ww - txt1.width) / 2);
txt1.y=((hh - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,cnt,_249[6],[txt1]);
var yy=0;
var renderV=function(name,a,clr){
var tf=ctorObject(lang.text.TextField);
tf.color=16777215;
tf.fontName=_249[14];
tf.bold=!0;
tf.text=(((name + _249[16]) + a.size) + _249[17]);
tf.x=((ww - tf.width) / 2);
tf.y=yy;
tf.filters=GLOBAL.Config.filterBlue1;
callMethod(this,cnt,_249[6],[tf]);
if((name == _249[18])){
var tf2=ctorObject(lang.text.TextField);
tf2.color=16776960;
tf2.fontSize=15;
tf2.buttonMode=!0;
tf2.fontName=_249[14];
tf2.bold=!0;
var url2=(_249[19] + GLOBAL.Config.vkAppGroupID);
tf2.text=((_249[21] + url2) + '" target="_blank" style="text-decoration:none;color:#FFFF00;">ссылка</a>');

tf2.x=((tf.x + tf.width) + 5);
tf2.y=yy;
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,cnt,_249[6],[tf2]);

}
yy+=30;
if((a.size > 0)){
var i=0;
while((i < a.size)){
var u=a[i];
var tf=ctorObject(lang.text.TextField);
tf.buttonMode=!0;
tf.color=clr;
tf.fontName=_249[14];
tf.bold=!0;
tf.text=(((_249[22] + u.id) + _249[23]) + u.nick);
tf.x=((ww - tf.width) / 2);
tf.y=yy;
tf.filters=GLOBAL.Config.shadowText1;
tf.userid=u.id;
callMethod(this,tf,_249[24],[{'white-space':_249[26]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_249[27],[_249[28]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_249[29],[this.userid]);

}

};
callMethod(this,cnt,_249[6],[tf]);
yy+=30;
i++;
}
yy+=20;

}else{
var tf=ctorObject(lang.text.TextField);
tf.fontName=_249[14];
tf.bold=!0;
tf.color=16777215;
tf.text=_249[30];
tf.x=((ww - tf.width) / 2);
tf.y=yy;
tf.filters=GLOBAL.Config.filterBlue1;
callMethod(this,cnt,_249[6],[tf]);
yy+=30;

}

};
var modVKgroupIds={};
var cb7=function(ids,arr){
callMethod(this,GLOBAL.$app.cacheUsers,_249[31],[ids,function(){
if(txt1.parent){
callMethod(this,txt1.parent,_249[32],[txt1]);

}
var adminList=[];
var modList=[];
var modListM=[];
var modMapsList=[];
var modMapsListM=[];
var groupVKMods=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
var id2=el.id;
var u=callMethod(this,GLOBAL.$app.cacheUsers,_249[33],[id2]);
if(u){
var isAdminV=callMethod(this,GLOBAL.UserMode,_249[34],[u.mode]);
var isModV=callMethod(this,GLOBAL.UserMode,_249[35],[u.mode]);
var isModMV=callMethod(this,GLOBAL.UserMode,_249[36],[u.mode]);
var isModMaps=callMethod(this,GLOBAL.UserMode,_249[37],[u.mode]);
var isModMapsM=callMethod(this,GLOBAL.UserMode,_249[38],[u.mode]);
if(isAdminV){
callMethod(this,adminList,_249[39],[u]);

}else{
if(checkIn(modVKgroupIds,id2)){
callMethod(this,groupVKMods,_249[39],[u]);

}
if(isModMV){
callMethod(this,modListM,_249[39],[u]);

}
if(isModV){
if(!isModMV){
callMethod(this,modList,_249[39],[u]);

}

}
if(isModMapsM){
callMethod(this,modMapsListM,_249[39],[u]);

}
if(isModMaps){
if(!isModMapsM){
callMethod(this,modMapsList,_249[39],[u]);

}

}

}

}
i++;
}
var clrAdmin=callMethod(this,GLOBAL.AppUtils,_249[40],[GLOBAL.UserMode.SUPER_ADMIN]);
var clrMod=callMethod(this,GLOBAL.AppUtils,_249[40],[GLOBAL.UserMode.MODERATOR]);
var clrModMaps=callMethod(this,GLOBAL.AppUtils,_249[40],[GLOBAL.UserMode.MOD_MAPS_M]);
var clrModM=callMethod(this,GLOBAL.AppUtils,_249[40],[GLOBAL.UserMode.MODERATOR_M]);
renderV(_249[41],adminList,clrAdmin);
renderV(_249[42],modList,clrMod);
renderV(_249[43],modListM,clrModM);
renderV(_249[44],modMapsList,clrModMaps);
renderV(_249[45],modMapsListM,clrModMaps);
renderV(_249[18],groupVKMods,_249[46]);


}]);

};
callMethod(this,GLOBAL.$app.connect,_249[47],[function(arr){
var ids=[];
var idsObj={};
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var id3=el.id;
idsObj[id3]=1;
callMethod(this,ids,_249[39],[id3]);
i++;
}

}
if(checkIn(GLOBAL.Config,_249[48])){
var a2=GLOBAL.Config.modVKgroupIdsCur;
if(a2){
var i=0;
while((i < a2.size)){
var el2=a2[i];
modVKgroupIds[el2]=1;
if(checkIn(idsObj,el2)){

}else{
callMethod(this,ids,_249[39],[el2]);
callMethod(this,arr,_249[39],[{id:el2}]);

}
i++;
}

}
cb7(ids,arr);

}else{
callMethod(this,GLOBAL.$app,_249[49],[_249[50],{},function(a2){
if(a2){
var i=0;
while((i < a2.size)){
var el2=a2[i];
modVKgroupIds[el2]=1;
if(checkIn(idsObj,el2)){

}else{
callMethod(this,ids,_249[39],[el2]);
callMethod(this,arr,_249[39],[{id:el2}]);

}
i++;
}
GLOBAL.Config.modVKgroupIdsCur=a2;

}
cb7(ids,arr);

}]);

}

},_249[51]]);

};
_app_popup_PopUpHelpPanel[_249[10]]=function(){
var th=this;
var sp=ctorObject(lang.display.Sprite);
var txt1=_249[52];
var h2=300;
sp.width=380;
sp.height=300;
sp.scroll=!0;
callMethod(this,sp,_249[24],[{color:_249[46]}]);
callMethod(this,sp,_249[24],[{color:_249[46],'font-family':_249[14],'font-weight':_249[55]}]);
callMethod(this,sp,_249[12],[{className:_249[13]}]);
sp.filters=GLOBAL.Config.filterBlue1;
sp.html=txt1;
callMethod(this,th.c.cnt,_249[6],[sp]);
var tf=null;

callMethod(this,GLOBAL.$app,_249[56],[_249[57],function(o){
if(o){
var txt=('' + o.text);
txt=callMethod(this,txt,_249[58],[_249[59],_249[60]]);
sp.html=txt;


}

}]);

};
_app_popup_PopUpHelpPanel[_249[7]]=function(){
if(this.sc){
callMethod(this,this.sc,_249[7]);

}
this.sc=null;
callMethod(this,this.parent,_249[7],[this]);

};
_app_popup_PopUpHelpPanel[_249[61]]=function(w,h){
callMethod(this,this.bg,_249[61],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_249[62],_249[63],_app_popup_PopUpHelpPanel);
})(window);



(function(window){
var _10=["AdminPanel1","drawMovie","addChild","saveDataTxt","getChildAt","Arial","web","removeChild","animAlphaSprite","isSuperAdmin","isModerator","isModeratorMaps","isModeratorM","isModeratorMapsM","sendCmd2","okActionMsg","errorActionMsg","push","+мод карт","младший","addModMaps","m","старший","openMenuList1","Модератор карт","-мод карт","removeModMaps","+мод чата","addModerator","Модератор чата","-мод чата","removeModerator","createTextButtonsByArr","права доступа","openPopUpAccessUserSettings1","a","группа отправителей","openPopUpAccessUserRedir","зарплата","модератор чата","openPopUpModGetMoney","модератор карт","openPopUpModMapsGetMoney","Меню","createTxt1","системное сообщение","в чат","openPopUpMapEditorInputOne","Отправить","sendCmd","sendSystemMsg","бегущая строка","sendNotifyA","popup окно","sendNotifyB","в приват","sendNotifyC","события","openPopUpAdminActionPanel","статистика команд","send","Статистика команд (",")\n","sort","модератор","админ","мод. карт","всем","join"," "," -> доступ: ",", вызовы: ","\n","всего вызовов: ","\n\n","openPopUpText1","admin.statsCmdsInfo","действия","сохранить данные","saveData","обновить подарки","updGiftsList","обновить задания","updQuests1","обновить список карт","updateMapsIds1","обновить права","updAccessV","очистить рекорды карт","openPopUpConfirmMsgYesNo","Очистить рекорды на картах?","mapsResetScores","сбросить предметы 2","Сбросить предметы 2?","resetItems2","выдача призов за час","Выдать призы за час?","topPrizeHour","выдача призов за день","Выдать призы за день?","topPrizeDay","подарок всем кто в сети","openPopUpSendGifts","sendGiftAllOnline","история чата","Date","getDate","getMonth","getFullYear","0",".","openPopUpInputOne","Укажите дату","Запросить","/","navURL","chatHistory","getCurUserID","Информация","openPopUpUserInfoSpr","Поиск левых страниц","openPopUpViewUsersListByIdsM1","openPopUpMinText1","<br /><br />Ничего не найдено","getLeftAccountsID","Доп информация","reg_time","Дата регистрации","dogsCount","Собачек","mapLevel","Уровень в путешествии","actionItemsNums","Предметов","last_active","Последний вход","nickRainbow","Радужный ник","timestampToStrDate2","openPopUpRenderItemsArrDelim",":","getUserInfoOther","История мини чата","openPopUpMiniChatHistoryUser","getHistoryMiniChat","Бан по IP","Забанить по IP на неделю?","chat.banUser","Действия","<br /><br />Действие выполнено","admin.adminCmd","mod.modCmd","remove","resize","scenes.admin.AdminPanel","lang.display.Sprite"];
var _scenes_admin_AdminPanel={};
_scenes_admin_AdminPanel["ctor"]=function(){
var th=this;
th.popupName=_10[0];
this.mov=callMethod(this,GLOBAL.$app.moviesReader,_10[1],[29]);
callMethod(this,null,_10[2],[this.mov]);
if(checkIn(th.mov,_10[3])){
th.mov.saveDataTxt.visible=!1;

}
var i=0;
while((i < th.mov.numChildren)){
var el1=callMethod(this,th.mov,_10[4],[i]);
if(checkIs(el1,lang.text.TextField)){
el1.fontName=_10[5];
el1.bold=!0;
var txtV=el1.text;
el1.text='';
el1.text=txtV;
el1.width=(el1.width + 4);


}
i++;
}
this.mov.close.click=function(){
callMethod(this,th.parent,_10[7],[th]);

};
callMethod(this,GLOBAL.AppUtils,_10[8],[this.mov.close,0.8,1]);
var arr4=[];
var isAdm=callMethod(this,GLOBAL.UserMode,_10[9],[GLOBAL.$app.user.mode]);
var isMod=callMethod(this,GLOBAL.UserMode,_10[10],[GLOBAL.$app.user.mode]);
var isModMaps=callMethod(this,GLOBAL.UserMode,_10[11],[GLOBAL.$app.user.mode]);
var isModM=callMethod(this,GLOBAL.UserMode,_10[12],[GLOBAL.$app.user.mode]);
var isModMapsM=callMethod(this,GLOBAL.UserMode,_10[13],[GLOBAL.$app.user.mode]);
if(isAdm){
isModMaps=!0;
isMod=!0;

}
var cb6=function(tt,s2){
callMethod(this,th,_10[14],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},tt,s2]);

};
if(isModMaps){
if(!isModMapsM){
callMethod(this,arr4,_10[17],[[_10[18],function(){
if(isAdm){
var menuList2=[[_10[19],function(){
cb6(_10[20],_10[21]);

}],[_10[22],function(){
cb6(_10[20]);

}]];
callMethod(this,GLOBAL.$app.chat,_10[23],[menuList2,_10[24],0,!0]);

}else{
cb6(_10[20]);

}

}]]);
callMethod(this,arr4,_10[17],[[_10[25],function(){
callMethod(this,th,_10[14],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[26]]);

}]]);

}

}
if(isMod){
if(!isModM){
callMethod(this,arr4,_10[17],[[_10[27],function(){
if(isAdm){
var menuList2=[[_10[19],function(){
cb6(_10[28],_10[21]);

}],[_10[22],function(){
cb6(_10[28]);

}]];
callMethod(this,GLOBAL.$app.chat,_10[23],[menuList2,_10[29],0,!0]);

}else{
cb6(_10[28]);

}

}]]);
callMethod(this,arr4,_10[17],[[_10[30],function(){
callMethod(this,th,_10[14],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[31]]);

}]]);

}

}
var spModMaps=callMethod(this,this,_10[32],[arr4]);
callMethod(this,this.mov,_10[2],[spModMaps]);
spModMaps.x=70;
spModMaps.y=170;
var arr3=[];
if(isMod){
arr3=[[_10[33],function(){
callMethod(this,GLOBAL.$app.popup,_10[34],[_10[35]]);

}]];
var isModM2=callMethod(this,GLOBAL.UserMode,_10[12],[GLOBAL.$app.user.mode]);
if(!isModM2){
callMethod(this,arr3,_10[17],[[_10[36],function(){
callMethod(this,GLOBAL.$app.popup,_10[37]);

}]]);

}

}
var visMoneyBut=!1;
if(isAdm){
visMoneyBut=!0;

}
if(isMod){
visMoneyBut=!0;

}
if(isModMaps){
visMoneyBut=!0;

}
if(visMoneyBut){
callMethod(this,arr3,_10[17],[[_10[38],function(){
var menuList=[];
if(isMod){
callMethod(this,menuList,_10[17],[[_10[39],function(){
callMethod(this,GLOBAL.$app.popup,_10[40]);

}]]);

}
if(isModMaps){
callMethod(this,menuList,_10[17],[[_10[41],function(){
callMethod(this,GLOBAL.$app.popup,_10[42]);

}]]);

}
callMethod(this,GLOBAL.$app.chat,_10[23],[menuList,_10[43],0,!0]);

}]]);

}
var sp6=callMethod(this,this,_10[32],[arr3]);
callMethod(this,this.mov,_10[2],[sp6]);
sp6.x=(spModMaps.x + 250);
sp6.y=150;
if(isAdm){
var sendSysMsgBut=callMethod(this,this,_10[44],[_10[45],function(){
var menuList=[];
callMethod(this,menuList,_10[17],[[_10[46],function(){
callMethod(this,GLOBAL.$app.popup,_10[47],[_10[46],_10[48],function(ob){
var msgV=ob.name;
if((msgV.size > 0)){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[50],msgV]);

}

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[51],function(){
callMethod(this,GLOBAL.$app.popup,_10[47],[_10[51],_10[48],function(ob){
var msgV=ob.name;
if((msgV.size > 0)){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){

}else{
callMethod(this,th,_10[16]);

}

},_10[52],msgV]);

}

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[53],function(){
callMethod(this,GLOBAL.$app.popup,_10[47],[_10[53],_10[48],function(ob){
var msgV=ob.name;
if((msgV.size > 0)){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){

}else{
callMethod(this,th,_10[16]);

}

},_10[54],msgV]);

}

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[55],function(){
callMethod(this,GLOBAL.$app.popup,_10[47],[_10[55],_10[48],function(ob){
var msgV=ob.name;
if((msgV.size > 0)){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){

}else{
callMethod(this,th,_10[16]);

}

},_10[56],msgV]);

}

}]);

}]]);
callMethod(this,GLOBAL.$app.chat,_10[23],[menuList,_10[43],0,!0]);

}]);
sendSysMsgBut.x=spModMaps.x;
sendSysMsgBut.y=(spModMaps.y + 120);
callMethod(this,this.mov,_10[2],[sendSysMsgBut]);
var eventsABut=callMethod(this,this,_10[44],[_10[57],function(){
callMethod(this,GLOBAL.$app.popup,_10[58]);

}]);
eventsABut.x=sendSysMsgBut.x;
eventsABut.y=(sendSysMsgBut.y + 25);
callMethod(this,this.mov,_10[2],[eventsABut]);
var statsCmdsBut=callMethod(this,this,_10[44],[_10[59],function(){
callMethod(this,GLOBAL.$app.connect,_10[60],[function(aa){
var nn=0;
if(aa){
nn=aa.size;

}
var ss='';
var ss2=((_10[61] + nn) + _10[62]);
if(aa){
callMethod(this,aa,_10[63],[function(a,b){
var vv=(b[2] - a[2]);
return vv;

}]);
var allCountCall=0;
var szz=aa.size;
var i=0;
while((i < szz)){
var el=aa[i];
var nm=el[0];
var access=el[1];
var callCount=el[2];
allCountCall+=callCount;
var accessArr=[];
if((access > 0)){
if(((access & GLOBAL.UserMode.MODERATOR) > 0)){
callMethod(this,accessArr,_10[17],[_10[64]]);

}
if(((access & GLOBAL.UserMode.SUPER_ADMIN) > 0)){
callMethod(this,accessArr,_10[17],[_10[65]]);

}
if(((access & GLOBAL.UserMode.MOD_MAPS) > 0)){
callMethod(this,accessArr,_10[17],[_10[66]]);

}

}else{
callMethod(this,accessArr,_10[17],[_10[67]]);

}
var accessStr=callMethod(this,accessArr,_10[68],[_10[69]]);
ss=((((((ss + '') + nm) + _10[70]) + accessStr) + _10[71]) + callCount);
if((i != (szz - 1))){
ss+=_10[72];

}
i++;
}
ss2=(((ss2 + _10[73]) + allCountCall) + _10[74]);
callMethod(this,GLOBAL.$app.popup,_10[75],[(ss2 + ss)]);

}

},_10[76]]);

}]);
statsCmdsBut.x=eventsABut.x;
statsCmdsBut.y=(eventsABut.y + 25);
callMethod(this,this.mov,_10[2],[statsCmdsBut]);

}
if(isMod){
if(!isModM){
var actBut1Txt=callMethod(this,this,_10[44],[_10[77],function(){
var menuList=[];
if(isAdm){
callMethod(this,menuList,_10[17],[[_10[78],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[79]]);

}]]);
callMethod(this,menuList,_10[17],[[_10[80],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[81]]);

}]]);
callMethod(this,menuList,_10[17],[[_10[82],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[83]]);

}]]);
callMethod(this,menuList,_10[17],[[_10[84],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[85]]);

}]]);
callMethod(this,menuList,_10[17],[[_10[86],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[87]]);

}]]);
callMethod(this,menuList,_10[17],[[_10[88],function(){
callMethod(this,GLOBAL.$app.popup,_10[89],[_10[90],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[91]]);

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[92],function(){
callMethod(this,GLOBAL.$app.popup,_10[89],[_10[93],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[94]]);

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[95],function(){
callMethod(this,GLOBAL.$app.popup,_10[89],[_10[96],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[97]]);

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[98],function(){
callMethod(this,GLOBAL.$app.popup,_10[89],[_10[99],function(){
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[100]]);

}]);

}]]);
callMethod(this,menuList,_10[17],[[_10[101],function(){
callMethod(this,GLOBAL.$app.popup,_10[102],[0,function(el){
var giftid=el.id;
callMethod(this,th,_10[49],[function(v){
if((v == 1)){
callMethod(this,th,_10[15]);

}else{
callMethod(this,th,_10[16]);

}

},_10[103],giftid]);

}]);

}]]);

}
callMethod(this,menuList,_10[17],[[_10[104],function(){
var dt=ctorObject(_10[105]);
var dateV=callMethod(this,dt,_10[106]);
var monthV=callMethod(this,dt,_10[107]);
var yearV=callMethod(this,dt,_10[108]);
monthV+=1;
if((dateV < 10)){
dateV=(_10[109] + dateV);

}
if((monthV < 10)){
monthV=(_10[109] + monthV);

}
var s2=((((('' + dateV) + _10[110]) + monthV) + _10[110]) + yearV);
callMethod(this,GLOBAL.$app.popup,_10[111],[_10[112],_10[113],s2,function(ob){
var msgV=ob.name;
if((msgV.size > 0)){
callMethod(this,th,_10[14],[function(v,nm5){
if((v == 1)){
callMethod(this,th,_10[15]);
if(nm5){
var url2=((GLOBAL.Config.path + _10[114]) + nm5);
callMethod(this,null,_10[115],[url2]);


}

}else{
callMethod(this,th,_10[16]);

}

},_10[116],msgV]);

}

}]);

}]]);
callMethod(this,GLOBAL.$app.chat,_10[23],[menuList,_10[43],0,!0]);

}]);
actBut1Txt.x=70;
actBut1Txt.y=100;
callMethod(this,this.mov,_10[2],[actBut1Txt]);

}

}
this.mov.butInfo.click=function(){
var userid=callMethod(this,th,_10[117]);
var menuList=[];
callMethod(this,menuList,_10[17],[[_10[118],function(){
callMethod(this,GLOBAL.$app.popup,_10[119],[userid]);

}]]);
callMethod(this,menuList,_10[17],[[_10[120],function(){
callMethod(this,th,_10[14],[function(arr){
if((arr.size > 0)){
callMethod(this,GLOBAL.$app.popup,_10[121],[arr]);

}else{
callMethod(this,GLOBAL.$app.popup,_10[122],[_10[123]]);

}

},_10[124]]);

}]]);
callMethod(this,menuList,_10[17],[[_10[125],function(){
callMethod(this,th,_10[14],[function(arr){
if((arr.size > 0)){
var ob2={'reg_time':_10[127],'dogsCount':_10[129],'mapLevel':_10[131],'actionItemsNums':_10[133],'last_active':_10[135],'nickRainbow':_10[137]};
var aa=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
var nm=el.k;
var vv=el.v;
if((nm == _10[134])){
vv=callMethod(this,GLOBAL.DateUtils,_10[138],[vv]);

}else if((nm == _10[126])){
vv=callMethod(this,GLOBAL.DateUtils,_10[138],[vv]);

}

if(checkIn(ob2,nm)){
nm=ob2[nm];

}
callMethod(this,aa,_10[17],[[nm,vv]]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_10[139],[_10[118],_10[140],aa]);

}else{
callMethod(this,GLOBAL.$app.popup,_10[122],[_10[123]]);

}

},_10[141]]);

}]]);
var isModA=callMethod(this,GLOBAL.UserMode,_10[10],[GLOBAL.$app.user.mode]);
var isAdminV=callMethod(this,GLOBAL.UserMode,_10[9],[GLOBAL.$app.user.mode]);
if(isModA){
callMethod(this,menuList,_10[17],[[_10[142],function(){
var userid=callMethod(this,th,_10[117]);
callMethod(this,th,_10[14],[function(arr){
if((arr.size > 0)){
callMethod(this,GLOBAL.$app.popup,_10[143],[userid,arr]);

}else{
callMethod(this,GLOBAL.$app.popup,_10[122],[_10[123]]);

}

},_10[144]]);

}]]);

}
if(isAdminV){
callMethod(this,menuList,_10[17],[[_10[145],function(){
var userid=callMethod(this,th,_10[117]);
if((userid > 0)){
callMethod(this,GLOBAL.$app.popup,_10[89],[_10[146],function(){
callMethod(this,th,_10[14],[function(arr){
if(arr){
callMethod(this,arr,_10[17],[userid]);
var i=0;
while((i < arr.length)){
var uid=arr[i];
callMethod(this,GLOBAL.$app.connect,_10[60],[function(res){

},_10[147],7,uid]);
i++;
}
callMethod(this,th,_10[15]);

}

},_10[124]]);

}]);

}

}]]);

}
callMethod(this,GLOBAL.$app.chat,_10[23],[menuList,_10[148],0,!0]);

};

};
_scenes_admin_AdminPanel[_10[44]]=function(nm,cb){
var tf1=ctorObject(lang.text.TextField);
tf1.buttonMode=!0;
tf1.fontName=_10[5];
tf1.bold=!0;
tf1.color=16777215;
tf1.text=('' + nm);
tf1.click=cb;
return tf1;

};
_scenes_admin_AdminPanel[_10[32]]=function(a){
var th=this;
var spr=ctorObject(lang.display.Sprite);
var yy=0;
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var nm=el[0];
var cb=el[1];
var tf=callMethod(this,th,_10[44],[nm,cb]);
tf.y=yy;
yy=(yy + 30);
callMethod(this,spr,_10[2],[tf]);
i++;
}

}
return spr;

};
_scenes_admin_AdminPanel[_10[117]]=function(){
var id=castInt(this.mov.idTI.value);
return id;

};
_scenes_admin_AdminPanel[_10[15]]=function(){
callMethod(this,GLOBAL.$app.popup,_10[122],[_10[149]]);

};
_scenes_admin_AdminPanel[_10[16]]=function(){
callMethod(this,GLOBAL.$app.popup,_10[122],['<br /><br />Ошибка при выполнении действия']);

};
_scenes_admin_AdminPanel[_10[49]]=function(cb,t,arg1,arg2,arg3){
var userid=callMethod(this,this,_10[117]);
if(!arg1){
arg1=0;

}
if(!arg2){
arg2=0;

}
if(!arg3){
arg3=0;

}
callMethod(this,GLOBAL.$app.connect,_10[60],[cb,_10[150],t,userid,arg1,arg2,arg3]);

};
_scenes_admin_AdminPanel[_10[14]]=function(cb,t,arg1,arg2,arg3){
var userid=callMethod(this,this,_10[117]);
if(!arg1){
arg1=0;

}
if(!arg2){
arg2=0;

}
if(!arg3){
arg3=0;

}
callMethod(this,GLOBAL.$app.connect,_10[60],[cb,_10[151],t,userid,arg1,arg2,arg3]);

};
_scenes_admin_AdminPanel[_10[152]]=function(){
var th=this;
callMethod(this,th.parent,_10[7],[th]);

};
_scenes_admin_AdminPanel[_10[153]]=function(w,h){
this.x=((w - 750) / 2);
this.y=((h - 450) / 2);

};
vm.registerClass(_10[154],_10[155],_scenes_admin_AdminPanel);
})(window);



(function(window){
var _21=["AppMainSceneLevelsMov","createPainter","islandImg1.png","islandImg2.png","css","overflow-x","hidden","addChild","AppMainMapDogsInfo","AppUFOMenuAction2","openPopUpQuests1Info","addTooltipText","Специальные задания","openPopUpMinText1","AppMainMapTitleMov","web","scenes.world.PersWorldSprite","setNickCallback","clickChatUser","border","rect","#FFFFFF","Редактор","clear","navMainLevelsEditor","isSuperAdmin","Одежда","navDressEditorScene","Мувики","navMoviesEditorScene","removeAllChilds","send","loadObj","game.loadLevels","load","t","v","getAssetURL","gi_1.png","gi_2.png","gi_3.png","goldStar1.png","getURLByID","on","off","getActionsItemsSpr","Собачек ","updateDogsCount","decode","Путешествие ","redraw","drawMapSprite","getPosXLevel","getPosYLevel","getChildAt","convertLocalLvl","floor","push","getLevelsArr","lockImg2.png","Arial","ok","openPopUpMainMapLevelOpen","unlockLevel","end","\n\nПутешествие пройдено!","lock","\n\nУровень ещё не открыт","GetDogsNumStr","game.unlockLevel","openPopUpMainMapLevelVInfo","\n\nСначала нужно открыть "," уровень на карте","#000000","click","updatePersLevel","rectR","removeChild","lockImg","sprItems","getAssetBitmap","playSFX","unlock","winner2","updateScrollPers","setUser","updateUserV","startDrag","getAssetByName","stopDrag","keyup","encode","trace","alert","createEditor","removeScene","resize","scenes.MainLevelsScene","lang.display.Sprite"];
var _scenes_MainLevelsScene={};
_scenes_MainLevelsScene["ctor"]=function(){
this.w=0;
this.h=0;
this.map=null;
this.mapObj=null;
this.allLevels=0;
this.curLevel=1;
this.localLevel=1;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.mov=ctorObject(_21[0]);
this.RoomRectangle=ctorObject(lang.geom.Rectangle);
this.mapSize=ctorObject(lang.geom.Rectangle);
this.y=80;
this.msk=ctorObject(lang.display.Sprite);
callMethod(this,this.msk,_21[1]);
this.islandImg1=_21[2];
this.islandImg2=_21[3];
this.scroll=!1;
callMethod(this,this,_21[4],[{'overflow-x':_21[6]}]);
this.mov.visible=!1;
callMethod(this,null,_21[7],[this.mov]);
this.bg=ctorObject(lang.display.Sprite);
callMethod(this,this.bg,_21[1]);
this.bg.alpha=0;
this.bg1=ctorObject(lang.display.Sprite);
callMethod(this,this.bg1,_21[1]);
this.mainSpr=ctorObject(lang.display.Sprite);
this.persSpr=ctorObject(lang.display.Sprite);
this.itemsSpr=ctorObject(lang.display.Sprite);
this.sp=ctorObject(_21[8]);
this.sp.x=10;
this.sp.y=10;
callMethod(this,this.mov,_21[7],[this.mainSpr,this.sp]);
this.ufo2=ctorObject(_21[9]);
this.ufo2.but.click=function(){
callMethod(this,GLOBAL.$app.popup,_21[10]);

};
this.ufo2.but.tooltipWH={h:30};
callMethod(this,GLOBAL.ToolTip,_21[11],[this.ufo2.but,_21[12]]);
callMethod(this,this.mov,_21[7],[this.ufo2]);
callMethod(this,this.mainSpr,_21[7],[this.persSpr]);
this.sp.txt1.buttonMode=!0;
this.sp.txt1.click=function(){
var v2=GLOBAL.$app.user.dogsCount;
callMethod(this,GLOBAL.$app.popup,_21[13],[('<br /><br />Спасено собачек в забегах: ' + v2)]);

};
callMethod(this,this.mainSpr,_21[7],[this.itemsSpr]);
this.titleMap=ctorObject(_21[14]);
this.titleMap.bm1.mouseEnabled=!1;
callMethod(this,this.mov,_21[7],[this.titleMap]);
var persImg=null;
persImg=ctorObject(_21[16],[GLOBAL.$app.user,!0]);

persImg.spr.y-=2;
callMethod(this,persImg,_21[17],[function(){
callMethod(this,GLOBAL.$app.chat,_21[18],[GLOBAL.$app.user,!1,!0]);

}]);
this.persImg=persImg;
callMethod(this,this.bg1.painter,_21[19],[1,0]);
callMethod(this,this.bg1.painter,_21[20],[0,0,180,40,_21[21]]);
this.bg1.alpha=0.7;
this.camera=this.persImg;
this.editorTxt=null;
this.dressTxt=null;
this.movEditorTxt=null;
if((GLOBAL.$app.user.levelsEditor == 1)){
var editorTxt=ctorObject(lang.text.TextField);
editorTxt.fontSize=16;
editorTxt.color=16777215;
editorTxt.text=_21[22];
editorTxt.x=10;
editorTxt.y=90;
editorTxt.buttonMode=!0;
editorTxt.filters=GLOBAL.Config.shadowText2;
editorTxt.click=function(){
callMethod(this,GLOBAL.$app.scenesMaster,_21[23]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_21[24]);

};
callMethod(this,null,_21[7],[editorTxt]);
this.editorTxt=editorTxt;

}
var isAdmin=callMethod(this,GLOBAL.UserMode,_21[25],[GLOBAL.$app.user.mode]);
if(isAdmin){
var dressTxt=ctorObject(lang.text.TextField);
dressTxt.fontSize=16;
dressTxt.color=16777215;
dressTxt.text=_21[26];
dressTxt.x=10;
dressTxt.y=90;
dressTxt.buttonMode=!0;
dressTxt.filters=GLOBAL.Config.shadowText2;
dressTxt.click=function(){
callMethod(this,GLOBAL.$app.scenesMaster,_21[23]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_21[27]);

};
callMethod(this,null,_21[7],[dressTxt]);
this.dressTxt=dressTxt;

}
if((GLOBAL.$app.user.tester == 1)){
var movEditorTxt=ctorObject(lang.text.TextField);
movEditorTxt.fontSize=16;
movEditorTxt.color=16777215;
movEditorTxt.text=_21[28];
movEditorTxt.y=120;
movEditorTxt.buttonMode=!0;
movEditorTxt.filters=GLOBAL.Config.shadowText2;
movEditorTxt.click=function(){
callMethod(this,GLOBAL.$app.scenesMaster,_21[23]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_21[29],[GLOBAL.$app.moviesReader]);

};
callMethod(this,null,_21[7],[movEditorTxt]);
this.movEditorTxt=movEditorTxt;

}

};
_scenes_MainLevelsScene[_21[34]]=function(){
var th=this;
this.mov.visible=!1;
callMethod(this,this.itemsSpr,_21[30]);
callMethod(this,this.persSpr,_21[30]);
callMethod(this,GLOBAL.$app.connect,_21[31],[function(o){
if(o){
callMethod(this,th,_21[32],[o]);

}

},_21[33]]);

};
_scenes_MainLevelsScene[_21[45]]=function(a,isArr){
var obb=GLOBAL.Config.cacheMainMapItemsURL;
var spr=ctorObject(lang.display.Sprite);
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var t=0;
var v=0;
if(isArr){
t=el[0];
v=el[1];

}else{
if(checkIn(el,_21[35])){
t=el.t;

}
if(checkIn(el,_21[36])){
v=el.v;

}

}
if((v > 0)){
var bm=ctorObject(lang.display.Bitmap);
if((t == 1)){
if(!checkIn(obb,t)){
var urlV=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[_21[38]]);
obb[t]=urlV;
bm.src=obb[t];

}else{
bm.src=obb[t];

}
bm.scaleX=0.6;
bm.scaleY=0.6;
bm.x=-6;
bm.y=7;
callMethod(this,spr,_21[7],[bm]);

}else if((t == 2)){
if(!checkIn(obb,t)){
var urlV=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[_21[39]]);
obb[t]=urlV;
bm.src=obb[t];

}else{
bm.src=obb[t];

}
bm.x=16;
bm.y=7;
callMethod(this,spr,_21[7],[bm]);

}else if((t == 3)){
if(!checkIn(obb,t)){
var urlV=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[_21[40]]);
obb[t]=urlV;
bm.src=obb[t];

}else{
bm.src=obb[t];

}
bm.x=29;
bm.y=10;
callMethod(this,spr,_21[7],[bm]);

}else if((t == 10)){
if((v == 1)){
var urlV=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[_21[41]]);
bm.src=urlV;
bm.x=-9;
bm.y=-19;
callMethod(this,spr,_21[7],[bm]);

}

}else if((t == 15)){
var urlV=callMethod(this,GLOBAL.$app.giftsMaster,_21[42],[v]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.y=-35;
bm1.visible=!1;
callMethod(this,bm1,_21[43],[_21[34],function(){
callMethod(this,this,_21[44],[_21[34],arguments.callee]);
this.x=(-(120 - this.naturalWidth) / 2);
this.visible=!0;

}]);
bm1.src=urlV;
callMethod(this,spr,_21[7],[bm1]);

}





}
i++;
}

}
return spr;

};
_scenes_MainLevelsScene[_21[47]]=function(){
this.sp.txt1.text=(_21[46] + GLOBAL.$app.user.dogsCount);
this.sp.txt1.width=(this.sp.txt1.width + 4);
this.sp.txt1.x=((200 - this.sp.txt1.width) / 2);

};
_scenes_MainLevelsScene[_21[32]]=function(o){
var th=this;
th.map=o;
th.allLevels=0;
if(o){
this.curLevel=o.level;
this.localLevel=o.localLevel;
callMethod(this,this,_21[47]);
var mapObj=callMethod(this,JSON,_21[48],[o.map]);
th.mapObj=mapObj;
var id=mapObj.id;
this.titleMap.txt.text=(_21[49] + id);
this.titleMap.txt.x=((310 - this.titleMap.txt.width) / 2);
this.titleMap.txt2.text=('' + mapObj.name);
this.titleMap.txt2.x=((310 - this.titleMap.txt2.width) / 2);
this.mov.visible=!0;
callMethod(this,this,_21[50]);

}

};
_scenes_MainLevelsScene[_21[50]]=function(){
var th=this;
if(th.mapObj){
callMethod(this,th.itemsSpr,_21[30]);
callMethod(this,th,_21[51],[th.mapObj.map]);

}

};
_scenes_MainLevelsScene[_21[52]]=function(level){
var th=this;
if(th.mapObj && th.mapObj.map){
if((level < th.mapObj.map.size)){
var el=th.mapObj.map[level];
var xx=el[1];
return xx;

}

}
return null;

};
_scenes_MainLevelsScene[_21[53]]=function(level){
var th=this;
if(th.mapObj && th.mapObj.map){
if((level < th.mapObj.map.size)){
var el=th.mapObj.map[level];
var xx=el[2];
return xx;

}

}
return null;

};
_scenes_MainLevelsScene[_21[55]]=function(level){
var th=this;
var i=0;
while((i < th.itemsSpr.numChildren)){
var el=callMethod(this,th.itemsSpr,_21[54],[i]);
if(el && el.imgLevel){
if((level == (el.imgLevel.levelV % th.allLevels))){
return (i + 1);

}

}
i++;
}
return level;

};
_scenes_MainLevelsScene[_21[58]]=function(arr,locLevel){
var th=this;
var a=[];
if(arr){
if((arr.size > 0)){
var imgW=105;
var imgH=55;
var scW=th.RoomRectangle.width;
var scH=th.RoomRectangle.height;
var persPosX=callMethod(this,th,_21[52],[(locLevel - 1)]);
var persPosY=callMethod(this,th,_21[53],[(locLevel - 1)]);
persPosX+=(90 / 2);
var scrollPosX=(persPosX - callMethod(this,Math,_21[56],[(scW / 2)]));
var scrollPosY=(persPosY - callMethod(this,Math,_21[56],[(scH / 2)]));
var i=0;
while((i < arr.size)){
var el=arr[i];
var id=el[0];
var xx=(el[1] - scrollPosX);
var yy=(el[2] - scrollPosY);
if(((xx + imgW) >= 0) && (xx <= scW) && ((yy + imgH) >= 0) && (yy <= scH)){
var arr4=[];
var k=0;
while((k < el.size)){
var vv=el[k];
if((k == 1)){
vv=xx;

}else if((k == 2)){
vv=yy;

}

callMethod(this,arr4,_21[57],[vv]);
k++;
}
callMethod(this,a,_21[57],[arr4]);

}
i++;
}

}

}
return a;

};
_scenes_MainLevelsScene[_21[51]]=function(arr){
var th=this;
var offsetV=120;
if(arr){
th.allLevels=arr.size;
var isWeb=!1;
var isEnd=!1;
isWeb=!0;

var q=this.itemsSpr;
callMethod(this,this.persSpr,_21[7],[this.persImg]);
var curLevel=this.curLevel;
var locLevel=(curLevel % th.allLevels);
if((arr.size > 0)){
var lvlEndPos=(arr.size - 1);
var el3=arr[lvlEndPos];
var id2=el3[0];
if((curLevel > id2)){
locLevel=th.allLevels;
isEnd=!0;

}

}
var lastXX=0;
var lastYY=0;
var imgW=105;
var imgActiveSrc=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[th.islandImg1]);
var imgLockSrc=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[th.islandImg2]);
var lockImgSrc=callMethod(this,GLOBAL.$app.moviesReader,_21[37],[_21[59]]);
var arr2=callMethod(this,th,_21[58],[arr,locLevel]);
var i=0;
while((i < arr2.size)){
var el=arr2[i];
var id=el[0];
var xx=el[1];
var yy=el[2];
var targCount=el[3];
var actions=el[4];
if((lastXX < xx)){
lastXX=xx;

}
if((lastYY < yy)){
lastYY=yy;

}
var spr=ctorObject(lang.display.Sprite);
callMethod(this,q,_21[7],[spr]);
var srcV=imgLockSrc;
var isLock=!0;
if((curLevel >= id)){
isLock=!1;

}
if(!isLock){
srcV=imgActiveSrc;

}
var mv=ctorObject(lang.display.Bitmap);
mv.src=srcV;
mv.levelV=id;
mv.targetCount=targCount;
mv.actionsList=actions;
spr.imgLevel=mv;
if((id == (curLevel + 1))){

}
var lvlTxt=ctorObject(lang.text.TextField);
lvlTxt.mouseEnabled=!1;
lvlTxt.color=16777215;
lvlTxt.fontName=_21[60];
lvlTxt.bold=!0;
lvlTxt.text=('' + id);
lvlTxt.x=((98 - lvlTxt.width) / 2);
lvlTxt.y=27;
spr.x=xx;
spr.y=yy;
callMethod(this,spr,_21[7],[mv,lvlTxt]);
if(isLock){
if((actions.size > 0)){
var sprItems=callMethod(this,th,_21[45],[actions,!0]);
sprItems.x=37;
sprItems.y=-30;
spr.sprItems=sprItems;
callMethod(this,spr,_21[7],[sprItems]);

}
var lockImg=ctorObject(lang.display.Bitmap);
lockImg.scaleX=0.5;
lockImg.scaleY=0.5;
lockImg.src=lockImgSrc;
lockImg.y=-30;
spr.lockImg=lockImg;
callMethod(this,spr,_21[7],[lockImg]);
mv.isClickV=!1;
mv.buttonMode=!0;
mv.click=function(){
var thh=this;
if(!thh.isClickV){
if(((th.curLevel + 1) == thh.levelV)){
var cb57=function(){
thh.isClickV=!0;
callMethod(this,GLOBAL.$app.connect,_21[31],[function(res,level,newLevel,ev){
if((res == _21[61])){
callMethod(this,GLOBAL.$app.popup,_21[62],[thh.actionsList]);
callMethod(this,th,_21[47]);
th.curLevel=newLevel;
th.localLevel=level;
callMethod(this,th,_21[63],[level,!0]);
if((ev == _21[64])){
callMethod(this,GLOBAL.$app.popupHtml,_21[13],[_21[65]]);
callMethod(this,th,_21[34]);

}

}else if((res == _21[66])){
thh.isClickV=!1;
callMethod(this,GLOBAL.$app.popupHtml,_21[13],[_21[67]]);

}else{
thh.isClickV=!1;
var ss3=callMethod(this,GLOBAL.AppUtils,_21[68],[level]);
callMethod(this,GLOBAL.$app.popupHtml,_21[13],[(('\n\nНедостаточно собачек для открытия уровня\nнужно ' + ss3) + '')]);

}


},_21[69],thh.levelV]);

};
if((GLOBAL.$app.user.dogsCount >= thh.targetCount)){
cb57();

}else{
callMethod(this,GLOBAL.$app.popup,_21[70],[thh.targetCount,function(){
cb57();

}]);

}

}else{
thh.isClickV=!1;
var levelNextt=(th.curLevel + 1);
callMethod(this,GLOBAL.$app.popupHtml,_21[13],[((_21[71] + levelNextt) + _21[72])]);

}

}

};
var rectQ=ctorObject(lang.display.Sprite);
rectQ.mvv=mv;
spr.rectR=rectQ;
callMethod(this,rectQ,_21[1]);
callMethod(this,rectQ.painter,_21[20],[0,0,100,80,_21[73]]);
rectQ.buttonMode=!0;
rectQ.alpha=0;
rectQ.y=-30;
rectQ.click=function(){
callMethod(this,this.mvv,_21[74]);

};
callMethod(this,spr,_21[7],[rectQ]);

}
i++;
}
this.mapSize.width=(lastXX + offsetV);
this.mapSize.height=(lastYY + offsetV);
var lvlVV=callMethod(this,this,_21[55],[this.localLevel]);
if(isEnd){
lvlVV=arr2.size;

}
callMethod(this,this,_21[75],[lvlVV]);

}

};
_scenes_MainLevelsScene[_21[63]]=function(id,isSound){
var idv=callMethod(this,this,_21[55],[id]);
if((idv <= this.itemsSpr.numChildren)){
var el=callMethod(this,this.itemsSpr,_21[54],[(idv - 1)]);
if(el){
if(checkIn(el,_21[76])){
if(el.rectR.parent){
callMethod(this,el.rectR.parent,_21[77],[el.rectR]);

}

}
if(checkIn(el,_21[78])){
callMethod(this,el,_21[77],[el.lockImg]);

}
if(checkIn(el,_21[79])){
callMethod(this,el,_21[77],[el.sprItems]);

}
var mv=callMethod(this,GLOBAL.$app.moviesReader,_21[80],[this.islandImg1]);
el.imgLevel.buttonMode=!1;
el.imgLevel.src=mv.src;
el.imgLevel.click=function(){

};
var unlockSoundV=null;
callMethod(this,this,_21[75],[idv]);
if(isSound){
unlockSoundV=callMethod(this,GLOBAL.$app,_21[81],[_21[82]]);

}
var winnerSound=callMethod(this,GLOBAL.$app,_21[81],[_21[83]]);
if(unlockSoundV){
unlockSoundV.volume=60;

}
if(winnerSound){
winnerSound.volume=60;

}

callMethod(this,this,_21[50]);

}

}

};
_scenes_MainLevelsScene[_21[75]]=function(id){
if((id <= this.itemsSpr.numChildren)){
var el=callMethod(this,this.itemsSpr,_21[54],[(id - 1)]);
if(el){
this.persImg.x=(el.x + (90 / 2));
this.persImg.y=(el.y - 18);
callMethod(this,this,_21[84]);

}

}

};
_scenes_MainLevelsScene[_21[86]]=function(u1){
callMethod(this,this.persImg,_21[85],[u1]);

};
_scenes_MainLevelsScene[_21[94]]=function(){
var th=this;
var q=this.itemsSpr;
this.bg.mousedown=function(e){
callMethod(this,th.mainSpr,_21[87]);
callMethod(this,GLOBAL.$app.dragList,_21[57],[th.mainSpr]);

};
this.bg.click=function(e){
var qq=ctorObject(lang.display.Sprite);
var mv=callMethod(this,GLOBAL.$app.moviesReader,_21[88],[th.islandImg1]);
callMethod(this,qq,_21[7],[mv]);
mv.onDragStart=function(){
callMethod(this,qq,_21[87]);

};
mv.onDragStop=function(){
callMethod(this,qq,_21[89]);

};
qq.x=(((e.mouseX - th.mainSpr.x) - th.x) - (98 / 2));
qq.y=(((e.mouseY - th.mainSpr.y) - th.y) - (50 / 2));
callMethod(this,q,_21[7],[qq]);

};
callMethod(this,this.ev,_21[43],[GLOBAL.$app.stage,_21[90],function(e){
if((e.keyCode == lang.ui.Keyboard.ENTER)){
var aa=[];
var i=0;
while((i < q.numChildren)){
var el=callMethod(this,q,_21[54],[i]);
var id=(i + 1);
var ob={id:id,x:el.x,y:el.y};
callMethod(this,aa,_21[57],[ob]);
i++;
}
var ss=callMethod(this,JSON,_21[91],[aa]);
callMethod(this,null,_21[92],[ss]);
callMethod(this,null,_21[93],[ss]);

}

}]);

};
_scenes_MainLevelsScene[_21[95]]=function(){
callMethod(this,this.ev,_21[23]);

};
_scenes_MainLevelsScene[_21[84]]=function(){
if(this.camera){
var appWidth=this.RoomRectangle.width;
var appHeight=this.RoomRectangle.height;
var mapW=this.mapSize.width;
var mapH=this.mapSize.height;
if((this.RoomRectangle.width <= mapW)){
this.RoomRectangle.x=(this.camera.x - callMethod(this,Math,_21[56],[(this.RoomRectangle.width / 2)]));
if((this.RoomRectangle.x < 0)){
this.RoomRectangle.x=0;

}
if((this.RoomRectangle.x > (mapW - this.RoomRectangle.width))){
this.RoomRectangle.x=(mapW - this.RoomRectangle.width);

}

}else{
this.RoomRectangle.x=0;

}
if((this.RoomRectangle.height <= mapH)){
this.RoomRectangle.y=(this.camera.y - callMethod(this,Math,_21[56],[(this.RoomRectangle.height / 2)]));
if((this.RoomRectangle.y < 0)){
this.RoomRectangle.y=0;

}
if((this.RoomRectangle.y > (mapH - this.RoomRectangle.height))){
this.RoomRectangle.y=(mapH - this.RoomRectangle.height);

}

}else{
this.RoomRectangle.y=0;

}
if((this.RoomRectangle.x != -this.mainSpr.x) || (this.RoomRectangle.y != -this.mainSpr.y)){
this.mainSpr.x=-this.RoomRectangle.x;
this.mainSpr.y=-this.RoomRectangle.y;

}

}

};
_scenes_MainLevelsScene[_21[96]]=function(w,h){
var isRszW=!1;
if((w != this.w)){
isRszW=!0;

}
this.w=w;
this.h=h;
callMethod(this,this.bg.painter,_21[23]);
callMethod(this,this.bg.painter,_21[20],[0,0,w,h,_21[73]]);
this.titleMap.x=((w - 314) / 2);
if(this.editorTxt){
this.editorTxt.x=(this.titleMap.x + 65);

}
if(this.dressTxt){
this.dressTxt.x=(this.titleMap.x + 185);

}
if(this.movEditorTxt){
this.movEditorTxt.x=(this.titleMap.x + 130);

}
this.sp.x=(this.titleMap.x + 50);
this.sp.y=(this.titleMap.y + 40);
this.ufo2.x=(this.sp.x - 230);
this.RoomRectangle.width=(w - this.x);
this.RoomRectangle.height=(h - this.y);
this.width=w;
this.height=h;
if(isRszW){
callMethod(this,this,_21[50]);

}

};
vm.registerClass(_21[97],_21[98],_scenes_MainLevelsScene);
})(window);



(function(window){
var _117=["SystemClasses","lang.display.Sprite"];
var _SystemClasses={};
_SystemClasses["ctor"]=function(){

};
vm.registerClass(_117[0],_117[1],_SystemClasses);
})(window);

(function(window){
var _269=["web","getLocalStorage","getStorage","getItem","setItem","removeItem","StorageMaster"];
var _StorageMaster={};
_StorageMaster["ctor"]=function(){

};
_StorageMaster[_269[2]]=function(){
try{
var v=callMethod(this,System,_269[1]);
return v;
}catch(e){
}
return null;

};
_StorageMaster[_269[3]]=function(k){
var v=null;
if(k){
try{
var storage=callMethod(this,this,_269[2]);
if(storage){
if(checkIn(storage,k)){
v=storage[k];

}

}
}catch(e){
}
}
return v;

};
_StorageMaster[_269[4]]=function(k,s){
if(k){
if(s){
try{
var storage=callMethod(this,this,_269[2]);
if(storage){
storage[k]=s;
return !0;

}
}catch(e){
}
}

}
return !1;

};
_StorageMaster[_269[5]]=function(k){
if(k){
try{
var storage=callMethod(this,this,_269[2]);
if(storage){
if(checkIn(storage,k)){
delete storage[k];
return !0;

}

}
}catch(e){
}
}
return !1;

};
vm.registerClass(_269[6],'',_StorageMaster);
})(window);

(function(window){
var _23=["getFile","getFolder","FolderClass","push","addFolder","addFile","/","isDirectory","listFiles","readFolder","toJSONObj"];
var _FolderClass={};
_FolderClass["ctor"]=function(name){
this.name=name;
this.fullpath='';
this.list=[];
this.parent=null;
this.ba=null;

};
_FolderClass[_23[0]]=function(name){
var th=this;
if(name){
var i=0;
while((i < th.list.size)){
var el=th.list[i];
if((el.name == name)){
if(!checkIs(el,GLOBAL.FolderClass)){
return el;

}

}
i++;
}

}
return null;

};
_FolderClass[_23[1]]=function(name){
var th=this;
if(name){
var i=0;
while((i < th.list.size)){
var el=th.list[i];
if((el.name == name)){
if(checkIs(el,GLOBAL.FolderClass)){
return el;

}

}
i++;
}

}
return null;

};
_FolderClass[_23[4]]=function(name){
var c=ctorObject(_23[2],[name]);
c.parent=this;
callMethod(this,this.list,_23[3],[c]);
return c;

};
_FolderClass[_23[5]]=function(name,bytes){
var c={name:name,bytes:bytes};
callMethod(this,this.list,_23[3],[c]);
return c;

};
_FolderClass[_23[9]]=function(path){
var th=this;
if((path == _23[6])){
path='';

}
var fi=ctorObject(lang.io.File,[path]);
var isExt=callMethod(this,fi,_23[7]);
if(isExt){
var arr=callMethod(this,fi,_23[8]);
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var nm=el.name;
var isFolder=callMethod(this,el,_23[7]);
if(isFolder){
var fo=callMethod(this,th,_23[4],[nm]);

}else{
callMethod(this,th,_23[5],[nm,{name:nm}]);

}
i++;
}

}

}

};
_FolderClass[_23[10]]=function(){
var th=this;
var o={name:th.name,list:[]};
var i=0;
while((i < th.list.size)){
var el=th.list[i];
if(checkIs(el,GLOBAL.FolderClass)){
var ell=callMethod(this,el,_23[10]);
callMethod(this,o.list,_23[3],[ell]);

}else{
callMethod(this,o.list,_23[3],[{name:el.name}]);

}
i++;
}
return o;

};
vm.registerClass(_23[2],'',_FolderClass);
})(window);

(function(window){
var _242=["?c=dl&name=","&part=","binaryGet","writeBytes","loadPart","?c=info&name=","get","parts","ready","ok","load","MovieFileDownload"];
var _MovieFileDownload={};
_MovieFileDownload["ctor"]=function(name){
this.name=name;
this.retryMaxCount=10;
this.retryCount=0;
this.maxParts=0;
this.curPart=0;
this.bytes=ctorObject(lang.utils.ByteArray);
this.urlPath='https://ag6.ru/MfilesDownload.php';

};
_MovieFileDownload[_242[4]]=function(n,cbok,cberr,cbprogress){
var th=this;
var urlV=((((th.urlPath + _242[0]) + th.name) + _242[1]) + n);
th.curPart=n;
if((n > th.maxParts)){
if(cbok){
cbok();

}

}else{
callMethod(this,URL,_242[2],[urlV,function(ba){
callMethod(this,th.bytes,_242[3],[ba,0,ba.size]);
n+=1;
callMethod(this,th,_242[4],[n,cbok,cberr,cbprogress]);

},function(){
th.retryCount+=1;
if((th.retryCount < th.retryMaxCount)){
callMethod(this,th,_242[4],[n,cbok,cberr,cbprogress]);

}else{
if(cberr){
cberr();

}

}

},cbprogress]);

}

};
_MovieFileDownload[_242[10]]=function(cbok,cberr,cbprogress){
var th=this;
th.curPart=0;
if(th.name){
var urlV=((th.urlPath + _242[5]) + th.name);
callMethod(this,URL,_242[6],[urlV,function(o){
if(o){
var partsV=0;
if(checkIn(o,_242[7])){
partsV=o.parts;

}
th.maxParts=partsV;
if((partsV > 0)){
if(cbok){
cbok(_242[8]);

}
callMethod(this,th,_242[4],[1,function(){
th.bytes.position=0;
if(cbok){
cbok(_242[9],th.bytes);

}

},cberr,cbprogress]);

}else{
if(cberr){
cberr();

}

}

}

},cberr]);

}

};
vm.registerClass(_242[11],'',_MovieFileDownload);
})(window);

(function(window){
var _209=["String","getIOByPath","isFile","readBytes","readUTFBytes","readString","decode","readJSON","readObject","isDirectory","listFiles","readFolder","writeUTFBytes","Object","writeObject","write","writeFile","encode","writeJSON","delete","deleteFile","IOUtils"];
var _IOUtils={};
_IOUtils["ctor"]=function(){

};
_IOUtils[_209[1]]=function(path){
var fi=null;
if(path){
if(checkIs(path,_209[0])){
fi=ctorObject(lang.io.File,[path]);

}else if(checkIs(path,lang.io.File)){
fi=path;

}


}
return fi;

};
_IOUtils[_209[3]]=function(path){
var fi=callMethod(this,this,_209[1],[path]);
if(fi){
var isExt=callMethod(this,fi,_209[2]);
if(isExt){
var ba=callMethod(this,fi,_209[3]);
return ba;

}

}
return null;

};
_IOUtils[_209[5]]=function(path){
var ba=callMethod(this,this,_209[3],[path]);
if(ba){
if((ba.size > 0)){
var s=callMethod(this,ba,_209[4],[ba.size]);
return s;

}

}
return null;

};
_IOUtils[_209[7]]=function(path){
var s=callMethod(this,this,_209[5],[path]);
if(s){
var ob=callMethod(this,JSON,_209[6],[s]);
if(ob){
return ob;

}

}
return null;

};
_IOUtils[_209[8]]=function(path){
var ba=callMethod(this,this,_209[3],[path]);
if(ba){
if((ba.size > 0)){
var ob=callMethod(this,ba,_209[8]);
return ob;

}

}
return null;

};
_IOUtils[_209[11]]=function(path){
var fi=callMethod(this,this,_209[1],[path]);
if(fi){
var isExt=callMethod(this,fi,_209[9]);
if(isExt){
var arr=callMethod(this,fi,_209[10]);
return arr;

}

}
return [];

};
_IOUtils[_209[16]]=function(path,data){
var ba=null;
if(path){
var fi=callMethod(this,this,_209[1],[path]);
if(fi){
if(data){
if(checkIs(data,_209[0])){
var bb=ctorObject(lang.utils.ByteArray);
callMethod(this,bb,_209[12],[data]);
bb.position=0;
ba=bb;

}else if(checkIs(data,lang.utils.ByteArray)){
ba=data;
ba.position=0;

}else if(checkIs(data,_209[13])){
var bb=ctorObject(lang.utils.ByteArray);
callMethod(this,bb,_209[14],[data]);
bb.position=0;
ba=bb;

}



}else{
ba=ctorObject(lang.utils.ByteArray);

}
if(ba){
var v=callMethod(this,fi,_209[15],[ba]);
return v;

}

}

}
return !1;

};
_IOUtils[_209[18]]=function(path,data){
if(!data){
data='';

}
if(path){
if(checkIs(data,_209[0])){

}else{
data=callMethod(this,JSON,_209[17],[data]);

}
var v=callMethod(this,this,_209[16],[path,data]);
return v;

}
return !1;

};
_IOUtils[_209[20]]=function(path){
var fi=callMethod(this,this,_209[1],[path]);
if(fi){
var isExt=callMethod(this,fi,_209[2]);
if(isExt){
var v=callMethod(this,fi,_209[19]);
if(v){
return !0;

}

}

}
return !1;

};
vm.registerClass(_209[21],'',_IOUtils);
})(window);

(function(window){
var _1=["vm2Auth","exists","readBytes","readObject","login","pass","loadAccountVM2","VM2System"];
var _VM2System={};
_VM2System["ctor"]=function(){

};
_VM2System[_1[6]]=function(){
var fi=ctorObject(lang.io.File,[_1[0]]);
var isExt=callMethod(this,fi,_1[1]);
if(isExt){
var ba=callMethod(this,fi,_1[2]);
if(ba){
var ob=callMethod(this,ba,_1[3]);
if(ob){
if(checkIn(ob,_1[4])){
if(ob.login){
if(checkIn(ob,_1[5])){
if(ob.pass){
var oo={};
oo.login=ob.login;
oo.pass=ob.pass;
return oo;

}

}

}

}

}

}

}
return null;

};
vm.registerClass(_1[7],'',_VM2System);
})(window);

(function(window){
var _181=["pIntersect","cos","sin","rotatePoint","createRect","rotatePolygon","rotate","collision","Polygon"];
var _Polygon={};
_Polygon["ctor"]=function(points){
this.points=points;
this.origin={x:0,y:0};

};
_Polygon[_181[0]]=function(a,b){
var polygons=[a,b];
var i=0;
while((i < polygons.size)){
var polygon=polygons[i];
var sz1=polygon.size;
var i1=0;
while((i1 < sz1)){
var i2=((i1 + 1) % sz1);
var p1=polygon[i1];
var p2=polygon[i2];
var normal={x:(p2.y - p1.y),y:(p1.x - p2.x)};
var minA=null;
var maxA=null;
var minB=null;
var maxB=null;
var j=0;
while((j < a.size)){
var a1=a[j];
var projected=((normal.x * a1.x) + (normal.y * a1.y));
if((minA === null) || (projected < minA)){
minA=projected;

}
if((maxA === null) || (projected > maxA)){
maxA=projected;

}
j++;
}
var j=0;
while((j < b.size)){
var b1=b[j];
var projected=((normal.x * b1.x) + (normal.y * b1.y));
if((minB === null) || (projected < minB)){
minB=projected;

}
if((maxB === null) || (projected > maxB)){
maxB=projected;

}
j++;
}
if((maxA < minB) || (maxB < minA)){
return !1;

}
i1++;
}
i++;
}
return !0;

};
_Polygon[_181[3]]=function(point,angle){
var cos=callMethod(this,Math,_181[1],[angle]);
var sin=callMethod(this,Math,_181[2],[angle]);
var p0=point.x;
var p1=point.y;
var xx=((p0 * cos) - (p1 * sin));
var yy=((p0 * sin) + (p1 * cos));
point.x=xx;
point.y=yy;

};
_Polygon[_181[4]]=function(xx,yy,ww,hh){
var aa=[{x:xx,y:yy},{x:(xx + ww),y:yy},{x:(xx + ww),y:(hh + yy)},{x:xx,y:(yy + hh)}];
return aa;

};
_Polygon[_181[5]]=function(point,angle){
var th=this;
var isV1=!1;
if((th.origin.x == 0)){
if((th.origin.y == 0)){
isV1=!0;

}

}
if(!isV1){
var p0={x:(point.x - th.origin.x),y:(point.y - th.origin.y)};
callMethod(this,th,_181[3],[p0,angle]);
var res={x:(p0.x + th.origin.x),y:(p0.y + th.origin.y)};
point.x=res.x;
point.y=res.y;

}else{
callMethod(this,th,_181[3],[point,angle]);

}

};
_Polygon[_181[6]]=function(r){
var th=this;
var rot=((r * Math.PI) / 180);
if(th.points){
var i=0;
while((i < th.points.size)){
var el=th.points[i];
callMethod(this,th,_181[5],[el,rot]);
i++;
}

}

};
_Polygon[_181[7]]=function(p){
var th=this;
if(p){
if(th.points){
if(p.points){
var res=callMethod(this,th,_181[0],[th.points,p.points]);
return res;

}

}

}
return !1;

};
vm.registerClass(_181[8],'',_Polygon);
})(window);

(function(window){
var _22=["exists","readBytes","readUTFBytes","splStr2","indexOf"," ","cut","Array","push","read","isKey","getValue","String","getValueStr","reload","\n","\r","charAt","ReadCfgTxtSplit"];
var _ReadCfgTxtSplit={};
_ReadCfgTxtSplit["ctor"]=function(path){
this.path=path;
this.o={};

};
_ReadCfgTxtSplit[_22[9]]=function(){
var th=this;
th.o={};
var fi=ctorObject(lang.io.File,[th.path]);
var isExt=callMethod(this,fi,_22[0]);
if(isExt){
var bb=callMethod(this,fi,_22[1]);
if(bb){
if((bb.size > 0)){
var ss=callMethod(this,bb,_22[2],[bb.size]);
if(ss){
if((ss.size > 0)){
var spl=callMethod(this,th,_22[3],[ss]);
var i=0;
while((i < spl.size)){
var el=spl[i];
var pos1=callMethod(this,el,_22[4],[_22[5]]);
if((pos1 > -1)){
var key=callMethod(this,el,_22[6],[0,pos1]);
var value=callMethod(this,el,_22[6],[(pos1 + 1)]);
if(checkIn(th.o,key)){
var v1=th.o[key];
if(!checkIs(v1,_22[7])){
value=[v1,value];

}else{
callMethod(this,v1,_22[8],[value]);

}
th.o[key]=value;

}else{
th.o[key]=value;

}

}
i++;
}

}

}

}

}

}

};
_ReadCfgTxtSplit[_22[10]]=function(k){
var th=this;
if(k){
if(checkIn(th.o,k)){
return !0;

}

}
return !1;

};
_ReadCfgTxtSplit[_22[13]]=function(k){
var vv=callMethod(this,this,_22[11],[k]);
if(vv){
if(checkIs(vv,_22[12])){
return vv;

}

}
return null;

};
_ReadCfgTxtSplit[_22[11]]=function(k){
var th=this;
if(k){
if(checkIn(th.o,k)){
var vv=th.o[k];
return vv;

}

}
return null;

};
_ReadCfgTxtSplit[_22[14]]=function(){
callMethod(this,this,_22[9]);

};
_ReadCfgTxtSplit[_22[3]]=function(s){
var a=[];
if(s){
var ss='';
var delim=_22[15];
var delim2=_22[16];
var i=0;
while((i < s.size)){
var el=callMethod(this,s,_22[17],[i]);
var rr=!1;
if((el == delim)){
rr=!0;

}else if((el == delim2)){
rr=!0;

}

if(rr){
callMethod(this,a,_22[8],[ss]);
ss='';

}else{
ss+=el;

}
i++;
}
if((ss.size > 0)){
callMethod(this,a,_22[8],[ss]);

}

}
return a;

};
vm.registerClass(_22[18],'',_ReadCfgTxtSplit);
})(window);

(function(window){
var _185=["split",",","push","parseStr","join","getStr","check","add","del","clear","FlagsMaster1"];
var _FlagsMaster1={};
_FlagsMaster1["ctor"]=function(arr){
this.arr=arr;

};
_FlagsMaster1[_185[3]]=function(s){
if(s){
if((s.size > 0)){
var arr=callMethod(this,s,_185[0],[_185[1]]);
this.arr=[];
if(arr){
var i=0;
while((i < arr.size)){
var el=castInt(arr[i]);
callMethod(this,this.arr,_185[2],[el]);
i++;
}

}

}

}

};
_FlagsMaster1[_185[5]]=function(){
if(!this.arr){
this.arr=[];

}
var s=callMethod(this,this.arr,_185[4],[_185[1]]);
return s;

};
_FlagsMaster1[_185[2]]=function(n){
n-=1;
var sz=this.arr.size;
if((n > -1)){
if((n > (sz - 1))){
var nn=((n + 1) - sz);
var i=0;
while((i < nn)){
callMethod(this,this.arr,_185[2],[0]);
i++;
}
return !0;

}

}
return !1;

};
_FlagsMaster1[_185[6]]=function(n,id){
n-=1;
if((n > -1) && (n < this.arr.size)){
var flag=this.arr[n];
return (((1 << id) & flag) > 0);

}
return !1;

};
_FlagsMaster1[_185[7]]=function(n,id){
var res=callMethod(this,this,_185[6],[n,id]);
if(!res){
n-=1;
if((n > -1)){
if((n < this.arr.size)){
var flag=this.arr[n];
var vv=(1 << id);
flag=(flag | vv);
this.arr[n]=flag;

}

}

}

};
_FlagsMaster1[_185[8]]=function(n,id){
var res=callMethod(this,this,_185[6],[n,id]);
if(res){
n-=1;
if((n > -1)){
if((n < this.arr.size)){
var flag=this.arr[n];
var vv=(1 << id);
flag&=~vv;
this.arr[n]=flag;
return !0;

}

}

}
return !1;

};
_FlagsMaster1[_185[9]]=function(){
this.arr=[];

};
vm.registerClass(_185[10],'',_FlagsMaster1);
})(window);

(function(window){
var _4=["api","photos.getWallUploadServer","response","upload_url","post","https://ag6.ru/s17/uploadimg","decode","server","photo","hash","photos.saveWallPhoto","Array","id","_","savePhoto","ApiVK"];
var _ApiVK={};
_ApiVK["ctor"]=function(){

};
_ApiVK[_4[14]]=function(ba,cb){
callMethod(this,GLOBAL.$app.apiVK,_4[0],[_4[1],{},function(o){
if(o){
if(checkIn(o,_4[2])){
o=o.response;

}
if(o){
if(checkIn(o,_4[3])){
var urlV=o.upload_url;
callMethod(this,URL,_4[4],[_4[5],{url:urlV,img:ba},function(res){
if(res){
var obj=callMethod(this,JSON,_4[6],[res]);
if(obj){
if(checkIn(obj,_4[7])){
if(checkIn(obj,_4[8])){
if(checkIn(obj,_4[9])){
var serverV=obj.server;
var photoV=obj.photo;
var hashV=obj.hash;
callMethod(this,GLOBAL.$app.apiVK,_4[0],[_4[10],{server:serverV,photo:photoV,hash:hashV},function(data){
if(data){
if(cb){
if(checkIn(data,_4[2])){
data=data.response;

}
if(data){
if(checkIs(data,_4[11])){
if((data.size > 0)){
var ob1=data[0];
if(ob1){
if(checkIn(ob1,_4[12])){
var qq3=(((_4[8] + ob1.owner_id) + _4[13]) + ob1.id);
cb(qq3);

}

}

}

}

}

}

}

}]);

}

}

}

}

}

}]);

}

}

}

},function(){

}]);

};
vm.registerClass(_4[15],'',_ApiVK);
})(window);

(function(window){
var _34=["addChild","update","getImage","crop","CropBitmap","lang.display.Sprite"];
var _CropBitmap={};
_CropBitmap["ctor"]=function(bm){
this.bm=bm;
this.cnv=ctorObject(lang.display.Canvas);
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,this.cnv,_34[0],[this.spr]);
callMethod(this,this.spr,_34[0],[bm]);

};
_CropBitmap[_34[3]]=function(x,y,w,h,cb){
this.cnv.width=w;
this.cnv.height=h;
this.spr.x=-x;
this.spr.y=-y;
callMethod(this,this.cnv,_34[1]);
callMethod(this,this.cnv,_34[2],[cb]);

};
vm.registerClass(_34[4],_34[5],_CropBitmap);
})(window);

(function(window){
var _218=["addChild","split",".","pop","grabMousePos","isImg","bitmap","on","rclick","removeChild","drop","jpg","png","jpeg","gif","JPG","PNG","JPEG","GIF","DropScene1","lang.display.Sprite"];
var _DropScene1={};
_DropScene1["ctor"]=function(){
var th=this;
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,null,_218[0],[this.cnt]);
this.dropCB=function(e){
var files=e.files;
var i=0;
while((i < files.size)){
var el=files[i];
var spl=callMethod(this,el.name,_218[1],[_218[2]]);
var ext='';
if((spl.size > 0)){
ext=callMethod(this,spl,_218[3]);

}
var pos=callMethod(this,System,_218[4]);
var imgg=callMethod(this,th,_218[5],[ext]);
if(imgg){
var bm=ctorObject(lang.display.Bitmap);
bm.tt=_218[6];
bm.src=el;
bm.x=(pos.x - (bm.naturalWidth / 2));
bm.y=(pos.y - (bm.naturalHeight / 2));
var idd=0;
bm.resid=idd;
bm.isDragItem=!0;
callMethod(this,bm,_218[7],[_218[8],function(e){
callMethod(this,this.parent,_218[9],[this]);

}]);
callMethod(this,th.cnt,_218[0],[bm]);

}
i++;
}

};
callMethod(this,th.stage,_218[7],[_218[10],th.dropCB]);

};
_DropScene1[_218[5]]=function(ext){
var imgExt=[_218[11],_218[12],_218[13],_218[14],_218[15],_218[16],_218[17],_218[18]];
var i=0;
while((i < imgExt.size)){
var el=imgExt[i];
if((ext == el)){
return !0;

}
i++;
}
return !1;

};
vm.registerClass(_218[19],_218[20],_DropScene1);
})(window);

(function(window){
var _21=["createSpritePainter","addChild","rect","#000000","app.ui.VScrollBar1","resize","Arial","сборщик мусора","gc","init","обновить","removeAllChilds","setMaxValue","callNative","getGCObjects","Всего","split",",","push","sort"," -> ","GCObjectsSpr","lang.display.Sprite"];
var _GCObjectsSpr={};
_GCObjectsSpr["ctor"]=function(){
var th=this;
this.w=400;
this.h=330;
this.bg=callMethod(this,GLOBAL.AppUtils,_21[0]);
this.bg.alpha=0.6;
this.spr=callMethod(this,GLOBAL.AppUtils,_21[0]);
this.msk=callMethod(this,GLOBAL.AppUtils,_21[0]);
callMethod(this,null,_21[1],[this.bg,this.spr]);
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,null,_21[1],[this.msk,this.cnt]);
this.cnt.x=10;
this.cnt.y=3;
this.msk.x=this.cnt.x;
this.msk.y=(this.cnt.y - 2);
this.cnt.mask=this.msk;
callMethod(this,this.bg.painter,_21[2],[0,0,this.w,this.h,_21[3]]);
callMethod(this,this.msk.painter,_21[2],[0,0,((this.w - this.cnt.x) - 10),(this.h - 50)]);
var sc=ctorObject(_21[4],[this.cnt]);
sc.x=(this.w - 14);
sc.y=this.cnt.y;
callMethod(this,sc,_21[5],[7,(this.h - 50)]);
this.sc=sc;
callMethod(this,null,_21[1],[this.sc]);
var tfGC=ctorObject(lang.text.TextField);
tfGC.fontName=_21[6];
tfGC.color=65535;
tfGC.text=_21[7];
callMethod(this,null,_21[1],[tfGC]);
tfGC.x=10;
tfGC.y=(this.h - 30);
tfGC.buttonMode=!0;
tfGC.click=function(){
callMethod(this,System,_21[8]);
callMethod(this,th,_21[9]);

};
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_21[6];
tf1.color=16777215;
tf1.text=_21[10];
callMethod(this,null,_21[1],[tf1]);
tf1.x=250;
tf1.y=(this.h - 30);
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,th,_21[9]);

};

};
_GCObjectsSpr[_21[9]]=function(){
callMethod(this,this.cnt,_21[11]);
callMethod(this,this.sc,_21[12],[0]);
var aa2=callMethod(this,VM,_21[13],[_21[14]]);
var ob1=[_21[15],0];
var arr=[ob1];
var yy=0;
var allV=0;
if(aa2){
var i=0;
while((i < aa2.size)){
var el=aa2[i];
var spl=callMethod(this,el,_21[16],[_21[17]]);
var nm=spl[0];
var nn=castInt(spl[1]);
if((nn > 0)){
var n2=ob1[1];
n2+=nn;
ob1[1]=n2;
callMethod(this,arr,_21[18],[[nm,nn]]);

}
i++;
}
callMethod(this,arr,_21[19],[function(a,b){
var a1=a[1];
var a2=b[1];
return (a2 - a1);

}]);
var i=0;
while((i < arr.size)){
var el=arr[i];
var nm=el[0];
var nn=el[1];
var tf=ctorObject(lang.text.TextField);
tf.color=16777215;
tf.fontName=_21[6];
tf.text=((nm + _21[20]) + nn);
tf.y=yy;
yy+=30;
callMethod(this,this.cnt,_21[1],[tf]);
i++;
}
callMethod(this,this.sc,_21[12],[(yy + 30)]);

}

};
vm.registerClass(_21[21],_21[22],_GCObjectsSpr);
})(window);

(function(window){
var _257=["addChild","setTarget","Arial","setText","clear","rect","#000000","setPercent","removeChild","remove","ProgressBarColorSpr1","lang.display.Sprite"];
var _ProgressBarColorSpr1={};
_ProgressBarColorSpr1["ctor"]=function(w,h,clr){
this.w=w;
this.h=25;
this.margin=2;
this.isEnd=!1;
this.mouseEnabled=!1;
var spr=ctorObject(lang.display.Sprite);
spr.alpha=0.2;
callMethod(this,null,_257[0],[spr]);
this.p=ctorObject(lang.display.Painter);
callMethod(this,this.p,_257[1],[spr]);
this.clr=clr;
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_257[0],[spr2]);
spr2.alpha=0.7;
spr2.x=this.margin;
spr2.y=this.margin;
this.p2=ctorObject(lang.display.Painter);
callMethod(this,this.p2,_257[1],[spr2]);
var txt=ctorObject(lang.text.TextField);
this.txt=txt;
txt.fontName=_257[2];
txt.color=16777215;
txt.fontSize=15;
callMethod(this,null,_257[0],[txt]);

};
_ProgressBarColorSpr1[_257[3]]=function(v){
this.txt.text=v;
this.txt.width=(this.txt.width + 4);
this.txt.x=((this.w - this.txt.width) / 2);
this.txt.y=((this.h - 17) / 2);

};
_ProgressBarColorSpr1[_257[7]]=function(v){
var t5='';
var ww=castInt(((v / 100) * (this.w - (this.margin * 2))));
callMethod(this,this.p,_257[4]);
callMethod(this,this.p,_257[5],[0,0,this.w,this.h,_257[6]]);
callMethod(this,this.p2,_257[4]);
callMethod(this,this.p2,_257[5],[0,0,ww,(this.h - (this.margin * 2)),this.clr]);

};
_ProgressBarColorSpr1[_257[9]]=function(){
var th=this;
callMethod(this,this.parent,_257[8],[this]);

};
vm.registerClass(_257[10],_257[11],_ProgressBarColorSpr1);
})(window);

(function(window){
var _20=["addChild","createSpritePainter","getAssetByName","KostiBG.png","clear","rect","#000000","resize","BGKostiSprite","lang.display.Sprite"];
var _BGKostiSprite={};
_BGKostiSprite["ctor"]=function(){
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_20[0],[this.spr]);
this.bg=callMethod(this,GLOBAL.AppUtils,_20[1]);
this.bg.alpha=0.2;
this.a1=callMethod(this,GLOBAL.$app.moviesReader,_20[2],[_20[3]]);
callMethod(this,this.spr,_20[0],[this.bg]);

};
_BGKostiSprite[_20[7]]=function(w,h){
callMethod(this,this.bg.painter,_20[4]);
callMethod(this,this.bg.painter,_20[5],[0,0,w,h,_20[6]]);

};
vm.registerClass(_20[8],_20[9],_BGKostiSprite);
})(window);

(function(window){
var _1=["a43.png","pawAnim1.png","pawAnim2.png","pawAnim3.png","random","bitmap","addChild","randomInt","CreatePaws","removeAllChilds","a41.png","update","PawsAnimationMovie","lang.display.Sprite"];
var _PawsAnimationMovie={};
_PawsAnimationMovie["ctor"]=function(kolvo){
this.kolvo=kolvo;
var pawsColors=[_1[0],_1[1],_1[2],_1[3]];
var v1=callMethod(this,pawsColors,_1[4]);
this.bmPaw=callMethod(this,null,_1[5],[v1]);
this.PawWidth=(this.bmPaw.naturalWidth * this.bmPaw.scaleX);
var arr=[{x:20,y:-10,r:38},{x:0,y:45,r:-90}];
var vv=callMethod(this,arr,_1[4]);
this.offsetPos=vv;
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_1[6],[this.spr]);
var rnd=callMethod(this,Math,_1[7],[3]);
this.DURATION=(2 + rnd);
callMethod(this,this,_1[8]);
callMethod(this,null,_1[6],[this.bmPaw]);

};
_PawsAnimationMovie[_1[8]]=function(){
this.DurationCurrent=this.DURATION;
this.CurRedPawNum=0;
callMethod(this,this.spr,_1[9]);
this.w=(this.kolvo * this.PawWidth);
var i=0;
while((i < this.kolvo)){
var bmm=callMethod(this,null,_1[5],[_1[10]]);
var yy=0;
bmm.x=(i * (bmm.naturalWidth * bmm.scaleX));
bmm.y=yy;
if(((i % 2) > 0)){
bmm.x=(bmm.x + this.offsetPos.x);
bmm.y=(bmm.y + this.offsetPos.y);
bmm.rotation=this.offsetPos.r;

}
callMethod(this,this.spr,_1[6],[bmm]);
i++;
}

};
_PawsAnimationMovie[_1[11]]=function(){
var th=this;
th.DurationCurrent-=1;
if((th.DurationCurrent < 0)){
th.DurationCurrent=this.DURATION;
th.CurRedPawNum+=1;
if((th.CurRedPawNum >= th.kolvo)){
th.CurRedPawNum=0;

}
var v1=(th.PawWidth * th.CurRedPawNum);
th.bmPaw.x=v1;
th.bmPaw.y=0;
th.bmPaw.rotation=0;
if(((th.CurRedPawNum % 2) > 0)){
th.bmPaw.x=(th.bmPaw.x + th.offsetPos.x);
th.bmPaw.y=(th.bmPaw.y + th.offsetPos.y);
th.bmPaw.rotation=th.offsetPos.r;

}

}

};
vm.registerClass(_1[12],_1[13],_PawsAnimationMovie);
})(window);

(function(window){
var _149=["del","loadScript","load","finish","cb","JSLoader"];
var _JSLoader={};
_JSLoader["ctor"]=function(arr,cb){
this.cb=cb;
this.arr=arr;

};
_JSLoader[_149[2]]=function(){
var th=this;
if((th.arr.size > 0)){
var el=th.arr[0];
callMethod(this,th.arr,_149[0],[0]);
callMethod(this,JSUtils,_149[1],[el,function(){
callMethod(this,th,_149[2]);

}]);

}else{
callMethod(this,th,_149[3]);

}

};
_JSLoader[_149[3]]=function(){
if(this.cb){
callMethod(this,this,_149[4]);

}
this.cb=null;

};
vm.registerClass(_149[5],'',_JSLoader);
})(window);

(function(window){
var _83=["isEnd","cb","next","back","Nav"];
var _Nav={};
_Nav["ctor"]=function(a,cb){
this.cb=cb;
this.arr=a;
this.pos=-1;
this.repeat=!1;

};
_Nav[_83[2]]=function(){
if(this.repeat){
var isEndV=callMethod(this,this,_83[0]);
if(isEndV){
this.pos=-1;

}

}
if((this.pos < (this.arr.size - 1))){
++this.pos;var o=this.arr[this.pos];
callMethod(this,this,_83[1],[o]);

}

};
_Nav[_83[3]]=function(){
if(this.repeat){
if((this.pos <= 0)){
this.pos=this.arr.size;

}

}
if((this.pos > 0)){
--this.pos;var o=this.arr[this.pos];
callMethod(this,this,_83[1],[o]);

}

};
_Nav[_83[0]]=function(){
return (this.pos >= (this.arr.size - 1));

};
vm.registerClass(_83[4],'',_Nav);
})(window);

(function(window){
var _203=["getTimestamp","removeURL","push","addGCBlob","cb","del","update","GCMaster"];
var _GCMaster={};
_GCMaster["ctor"]=function(){
this.list=[];

};
_GCMaster[_203[3]]=function(url){
if(url){
var ts=callMethod(this,Date,_203[0]);
var timeExpire=(ts + 10);
var ob={expire:timeExpire,cb:function(){
callMethod(this,URL,_203[1],[url]);

}};
callMethod(this,this.list,_203[2],[ob]);

}

};
_GCMaster[_203[6]]=function(){
var ts=callMethod(this,Date,_203[0]);
var i=0;
while((i < this.list.size)){
var el=this.list[i];
if((ts >= el.expire)){
callMethod(this,el,_203[4]);
callMethod(this,this.list,_203[5],[i]);

}
i++;
}

};
vm.registerClass(_203[7],'',_GCMaster);
})(window);

(function(window){
var _133=["exists","listFiles","isDirectory","indexOf",".mp3","split",".","/","pop","join","addItem","readFolderNative","getCount","push","play","next","prev","random","reset","PlayerPlaylist"];
var _PlayerPlaylist={};
_PlayerPlaylist["ctor"]=function(id,name){
this.id=id;
this.name=name;
this.list=[];
this.currentItem=null;
this.pos=-1;
this.obData1=null;
this.nativePath=null;

};
_PlayerPlaylist[_133[11]]=function(){
var th=this;
if(th.nativePath){
th.isBytes=!0;
th.list=[];
var fi=ctorObject(lang.io.File,[th.nativePath]);
var isEx=callMethod(this,fi,_133[0]);
if(isEx){
var files=callMethod(this,fi,_133[1]);
if(files){
var i=0;
while((i < files.size)){
var el=files[i];
var isFolder=callMethod(this,el,_133[2]);
if(!isFolder){
var nm=el.name;
var pp=callMethod(this,nm,_133[3],[_133[4]]);
if((pp > -1)){
var spl=callMethod(this,nm,_133[5],[_133[6]]);
var pp1=((th.nativePath + _133[7]) + nm);
if((spl.size > 0)){
callMethod(this,spl,_133[8]);
nm=callMethod(this,spl,_133[9],[_133[6]]);

}
callMethod(this,th,_133[10],[(i + 1),nm,el.path]);

}

}
i++;
}

}

}

}

};
_PlayerPlaylist[_133[12]]=function(){
return this.list.size;

};
_PlayerPlaylist[_133[10]]=function(id,name,url){
callMethod(this,this.list,_133[13],[{id:id,name:name,url:url}]);

};
_PlayerPlaylist[_133[14]]=function(){
if((this.pos == -1)){
++this.pos;
}
var sz=this.list.size;
if((sz > 0)){
var o=this.list[this.pos];
return o;

}
return null;

};
_PlayerPlaylist[_133[15]]=function(){
++this.pos;var sz=this.list.size;
if((sz > 0)){
if((this.pos >= sz)){
this.pos=0;

}
var o=this.list[this.pos];
return o;

}
return null;

};
_PlayerPlaylist[_133[16]]=function(){
var sz=this.list.size;
if((sz > 0)){
--this.pos;if((this.pos <= 0)){
this.pos=0;

}
var o=this.list[this.pos];
return o;

}
return null;

};
_PlayerPlaylist[_133[17]]=function(){
var o=callMethod(this,this.list,_133[17]);
return o;

};
_PlayerPlaylist[_133[18]]=function(){
this.pos=-1;

};
vm.registerClass(_133[19],'',_PlayerPlaylist);
})(window);

(function(window){
var _121=["playURL","playData","setPlaylist","on","end","next","stop","web","play","prev","playSrcV","indexOf","regQuery://","cut","query","path","readBytes","isBytes","isFile","random","playRandom","AudioPlayer"];
var _AudioPlayer={};
_AudioPlayer["ctor"]=function(){
this.so=ctorObject(lang.media.Sound);
this.playlist=null;
this._volume=0;

};
_AudioPlayer[_121[1]]=function(o){
if(o){
callMethod(this,this,_121[0],[o]);

}

};
_AudioPlayer[_121[2]]=function(o){
this.playlist=o;

};
_AudioPlayer[_121[6]]=function(){
callMethod(this,this.so,_121[6]);
this.so.currentTime=0;


};
_AudioPlayer[_121[8]]=function(){
var o=callMethod(this,this.playlist,_121[8]);
callMethod(this,null,_121[0],[o]);

};
_AudioPlayer[_121[5]]=function(){
var o=callMethod(this,this.playlist,_121[5]);
callMethod(this,null,_121[0],[o]);

};
_AudioPlayer[_121[9]]=function(){
var o=callMethod(this,this.playlist,_121[9]);
callMethod(this,null,_121[0],[o]);

};
_AudioPlayer[_121[10]]=function(v){
if(v){
this.so.src=v;
callMethod(this,this.so,_121[8]);

}

};
_AudioPlayer[_121[0]]=function(o){
var th=this;
if(o){
this.playlist.currentItem=o;
var pos1=callMethod(this,this.playlist.list,_121[11],[o]);
if((pos1 > -1)){
this.playlist.pos=pos1;

}
callMethod(this,this.so,_121[6]);
var pp1=_121[12];
var posFind=callMethod(this,o.url,_121[11],[pp1]);
if((posFind > -1)){
var reg=ctorObject(lang.system.RegStorage);
var query2=callMethod(this,o.url,_121[13],[pp1.size]);
var pp2=callMethod(this,reg,_121[14],[query2,reg.SELECT,reg.VALUE,_121[15]]);
if(pp2){
var bb=callMethod(this,lang.utils.File,_121[16],[pp2]);
if(bb){
this.so.src=bb;

}

}

}else if(this.playlist && checkIn(this.playlist,_121[17])){

var bb=ctorObject(lang.io.File,[o.url]);
var isEx=callMethod(this,bb,_121[18]);
if(!isEx){
bb=null;

}
if(bb){
this.so.src=bb;
callMethod(this,this.so,_121[8]);

}

}else{
callMethod(this,th,_121[10],[o.url]);

}

if(GLOBAL.$app.curAudioPlayer1){
callMethod(this,GLOBAL.$app.curAudioPlayer1,_121[1],[o]);

}

}

};
_AudioPlayer[_121[20]]=function(){
var o=callMethod(this,this.playlist,_121[19]);
if(o){
callMethod(this,null,_121[0],[o]);

}

};
_AudioPlayer["_get"]={volume:function(){
return this._volume;

}};
_AudioPlayer["_set"]={volume:function(v){
this._volume=v;
this.so.volume=v;

},autoPlayNext:function(v){
var th=this;
if(v){
callMethod(this,this.so,_121[3],[_121[4],function(){
callMethod(this,th,_121[5]);

}]);

}

}};
vm.registerClass(_121[21],'',_AudioPlayer);
})(window);

(function(window){
var _115=["addChild","Arial","web","CheckBox","on","click","UICheckboxSpr","lang.display.Sprite"];
var _UICheckboxSpr={};
_UICheckboxSpr["ctor"]=function(txt,vv,cb){
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_115[0],[this.spr]);
var tx=ctorObject(lang.text.TextField);
tx.color=16777215;
tx.fontName=_115[1];
tx.fontSize=15;
tx.text=('' + txt);
tx.x=20;
tx.y=-2;
tx.y+=5;

var b1=ctorObject(_115[3]);
this.checkBox=b1;
b1.selected=vv;
b1.callback=cb;
callMethod(this,tx,_115[4],[_115[5],function(e){
b1.selected=b1.selected ? !1 : !0;

}]);
callMethod(this,this.spr,_115[0],[b1,tx]);

};
vm.registerClass(_115[6],_115[7],_UICheckboxSpr);
})(window);

(function(window){
var _181=["addChild","Arial","web","CheckBox","on","click","UICheckboxSpr2","lang.display.Sprite"];
var _UICheckboxSpr2={};
_UICheckboxSpr2["ctor"]=function(txt,vv,cb){
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_181[0],[this.spr]);
var tx=ctorObject(lang.text.TextField);
tx.color=16777215;
tx.fontName=_181[1];
tx.bold=!0;
tx.fontSize=16;
tx.text=('' + txt);
tx.x=20;
tx.y=-2;
tx.filters=GLOBAL.Config.shadowText2;

var b1=ctorObject(_181[3]);
b1.y=2;

this.checkBox=b1;
b1.selected=vv;
b1.callback=cb;
callMethod(this,tx,_181[4],[_181[5],function(e){
b1.selected=b1.selected ? !1 : !0;

}]);
callMethod(this,this.spr,_181[0],[b1,tx]);

};
vm.registerClass(_181[6],_181[7],_UICheckboxSpr2);
})(window);

(function(window){
var _245=["createPainter","addChild","redraw","on","click","_selectFunc","callback","clear","#00CC00","#FFFFFF","border","rect","CheckBox","lang.display.Sprite"];
var _CheckBox={};
_CheckBox["ctor"]=function(cb){
var th=this;
this._isSelected=!1;
this.callback=cb;
var w=15;
var h=15;
this.w=w;
this.h=h;
var q=ctorObject(lang.display.Sprite);
q.mouseChildren=!1;
var spr=ctorObject(lang.display.Sprite);
callMethod(this,spr,_245[0]);
callMethod(this,q,_245[1],[spr]);
this.spr=spr;
callMethod(this,this,_245[2]);
callMethod(this,null,_245[1],[q]);
callMethod(this,q,_245[3],[_245[4],function(e){
callMethod(this,th,_245[5]);

}]);

};
_CheckBox[_245[5]]=function(){
var lastV=this._isSelected;
this._isSelected=this._isSelected ? !1 : !0;
if((lastV != this._isSelected)){
if(this.callback){
callMethod(this,this,_245[6],[this._isSelected]);

}

}
callMethod(this,this,_245[2]);

};
_CheckBox[_245[2]]=function(){
callMethod(this,this.spr.painter,_245[7]);
var color=this._isSelected ? _245[8] : _245[9];
callMethod(this,this.spr.painter,_245[10],[5,0]);
callMethod(this,this.spr.painter,_245[11],[0,0,this.w,this.h,color]);

};
_CheckBox["_get"]={selected:function(){
return this._isSelected;

}};
_CheckBox["_set"]={selected:function(v){
var v1=this._isSelected;
if((v != v1)){
if(this.callback){
callMethod(this,this,_245[6],[v]);

}

}
this._isSelected=v;
callMethod(this,this,_245[2]);

}};
vm.registerClass(_245[12],_245[13],_CheckBox);
})(window);



(function(window){
var _135=["BGKostiSprite","AppPopUpSettingsPanelMov","getAssetByName","b27.png","m","navMenu","attr","scroll1","addChild","web","remove","animAlphaSprite","removeAllChilds","loadDef","loadChat","loadZabeg","loadOptimize","reload","autoResize","push","меню над чатом","окно подарка","анимация в альбоме","drawCheckboxList","Arial","главный масштаб","openPopUpZoomMainApp","масштаб забегов","openPopUpZoomSettings1","setSettingsFlags","жалобы","панель \"в сети\"","мой цвет ника","Ваш ник не будет серым в чате","звук привата","Звук приватных сообщений","звук клика","Звук клика","смайлики","отладка","Отладка в забеге","скрывать ники","статус КоронаАдмин","окно результата","окно победы","автовход в забег","звук ключа","Звук взятия ключа","звук клетки","Звук открытия клетки","звук победы","Звук после победы","звук таймера","Звук перед окончанием времени","звук появления","спрятать занавеску","спрятать нижнюю панель","BIP","отрисовка текста на карте","просмотр FPS","check","isReverse","add","del","cb","drawCheckboxItem","getinfo_2081.png","<br /><br />Нет описания","info","openPopUpMinText1","UICheckboxSpr2","getStr","send","user.saveSettings","saveSettings","resize","app.popup.PopUpSettingsPanel","lang.display.Sprite"];
var _app_popup_PopUpSettingsPanel={};
_app_popup_PopUpSettingsPanel["ctor"]=function(t){
var th=this;
var bg=ctorObject(_135[0]);
var c=ctorObject(_135[1]);
this.tm1=null;
this.yy=0;
this.curMenu=0;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_135[2],[_135[3]]);
this.curMenuArr=[c.but1,c.but2,c.but3,c.but4];
var i=0;
while((i < this.curMenuArr.size)){
var idd=(i + 1);
var nm3=(_135[4] + idd);
var ob3=c[nm3];
ob3.mouseEnabled=!1;
var el=this.curMenuArr[i];
el.menuID=idd;
el.origIconSrc=el.icon1.src;
el.msk.menuID=idd;
el.msk.click=function(){
callMethod(this,th,_135[5],[this.menuID]);

};
i++;
}
var ww3=390;
var scroll2H=315;
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=160;
this.c.cnt.y=85;
this.c.cnt.width=ww3;
this.c.cnt.height=scroll2H;
callMethod(this,this.c.cnt,_135[6],[{className:_135[7]}]);
this.c.cnt.scroll=!0;
this.sc=null;
callMethod(this,this.c,_135[8],[this.c.cnt]);
this.bg=bg;
callMethod(this,null,_135[8],[bg,c]);

c.close.click=function(e){
callMethod(this,th,_135[10]);

};
callMethod(this,GLOBAL.AppUtils,_135[11],[c.close,0.8,1]);
var navID=1;
if(t){
navID=t;

}
callMethod(this,this,_135[5],[navID]);

};
_app_popup_PopUpSettingsPanel[_135[5]]=function(id){
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
i++;
}
callMethod(this,this.c.cnt,_135[12]);
if((id == 1)){
callMethod(this,this,_135[13]);

}else if((id == 2)){
callMethod(this,this,_135[14]);

}else if((id == 3)){
callMethod(this,this,_135[15]);

}else if((id == 4)){
callMethod(this,this,_135[16]);

}



if(this.sc){
callMethod(this,this.sc,_135[17]);

}

}
this.curMenu=id;

};
_app_popup_PopUpSettingsPanel[_135[13]]=function(){
var th=this;
var sp=ctorObject(lang.display.Sprite);
var arr=[];
var cb2=function(res){
if((this.num == 1)){
callMethod(this,GLOBAL.$app,_135[18]);

}

};
callMethod(this,arr,_135[19],[{index:1,num:1,name:_135[20],v:!1,cb:cb2,info:'Нижняя панель меню будет над чатом'}]);
callMethod(this,arr,_135[19],[{index:1,num:5,name:_135[21],v:!1,isReverse:!0,cb:cb2,info:'Появляется окно когда вам подарили подарок'}]);
callMethod(this,arr,_135[19],[{index:1,num:6,name:_135[22],v:!1,isReverse:!0,cb:cb2,info:'Включает анимацию отрисовки карты в альбоме'}]);
var hh=28;
callMethod(this,this,_135[23],[arr,sp,hh]);
if(GLOBAL.$app.isStandalone){
th.yy+=10;
var tf2=ctorObject(lang.text.TextField);
tf2.fontName=_135[24];
tf2.bold=!0;
tf2.fontSize=18;
tf2.color=65535;
tf2.text=_135[25];
tf2.buttonMode=!0;
tf2.x=30;
tf2.y=th.yy;
tf2.filters=GLOBAL.Config.shadowText2;
tf2.click=function(){
callMethod(this,GLOBAL.$app.popup,_135[26]);
callMethod(this,th,_135[10]);

};
callMethod(this,sp,_135[8],[tf2]);
th.yy+=40;
var tf2=ctorObject(lang.text.TextField);
tf2.fontName=_135[24];
tf2.bold=!0;
tf2.fontSize=18;
tf2.color=16776960;
tf2.text=_135[27];
tf2.buttonMode=!0;
tf2.x=30;
tf2.y=th.yy;
tf2.filters=GLOBAL.Config.shadowText2;
tf2.click=function(){
callMethod(this,GLOBAL.$app.popup,_135[28]);
callMethod(this,th,_135[10]);

};
callMethod(this,sp,_135[8],[tf2]);

}
callMethod(this,this.c.cnt,_135[8],[sp]);

};
_app_popup_PopUpSettingsPanel[_135[14]]=function(){
var sp=ctorObject(lang.display.Sprite);
var arr=[];
var cb2=function(res){
callMethod(this,GLOBAL.$app.chat,_135[29],[this.num,res]);

};
callMethod(this,arr,_135[19],[{index:2,num:1,name:_135[30],v:!1,isReverse:!0,cb:cb2,info:'Рядом с сообщением будет иконка жалоб'}]);
callMethod(this,arr,_135[19],[{index:2,num:2,name:_135[31],v:!1,isReverse:!0,cb:cb2,info:'Показывает панель слева кто в сети'}]);
callMethod(this,arr,_135[19],[{index:2,num:3,name:_135[32],v:!1,cb:cb2,info:_135[33]}]);
callMethod(this,arr,_135[19],[{index:2,num:6,name:_135[34],v:!1,isReverse:!0,cb:cb2,info:_135[35]}]);
callMethod(this,arr,_135[19],[{index:2,num:7,name:_135[36],v:!1,isReverse:!0,cb:cb2,info:_135[37]}]);
callMethod(this,arr,_135[19],[{index:2,num:8,name:_135[38],v:!1,isReverse:!0,cb:cb2,info:'Смайлики показываются в чате, но gif анимация может влиять на производительность с открытым чатом'}]);
callMethod(this,this,_135[23],[arr,sp,28]);
callMethod(this,this.c.cnt,_135[8],[sp]);

};
_app_popup_PopUpSettingsPanel[_135[15]]=function(){
var sp=ctorObject(lang.display.Sprite);
var arr=[];
var cbZabeg=function(res){
var curSceneV=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(curSceneV,GLOBAL.scenes.game.GameRoom)){
callMethod(this,curSceneV,_135[29],[this.num,res]);

}

};
if((GLOBAL.$app.user.tester == 1)){
callMethod(this,arr,_135[19],[{index:3,num:1,name:_135[39],v:!1,cb:cbZabeg,info:_135[40]}]);

}
callMethod(this,arr,_135[19],[{index:3,num:2,name:_135[32],v:!1,cb:cbZabeg,info:'Ваш ник не будет серым в забеге'}]);
callMethod(this,arr,_135[19],[{index:3,num:3,name:_135[41],v:!1,cb:cbZabeg,info:'Все ники будут скрыты, кроме вашего'}]);
callMethod(this,arr,_135[19],[{index:3,num:17,name:_135[42],v:!1,isReverse:!0,cb:function(){

},info:'Показывает иконку статуса КоронаАдмин рядом с ником в забеге'}]);
callMethod(this,arr,_135[19],[{index:3,num:4,name:_135[43],v:!1,isReverse:!0,cb:function(){

},info:'Показывает окно результата забега'}]);
callMethod(this,arr,_135[19],[{index:3,num:16,name:_135[44],v:!1,isReverse:!0,cb:function(){

},info:'Показывает окно победы после забега'}]);
callMethod(this,arr,_135[19],[{index:3,num:5,name:_135[45],v:!1,isReverse:!0,cb:function(){

},info:'После окончания забега, следующий забег будет начинаться автоматически'}]);
callMethod(this,arr,_135[19],[{index:3,num:6,name:_135[46],v:!1,isReverse:!0,cb:function(){

},info:_135[47]}]);
callMethod(this,arr,_135[19],[{index:3,num:7,name:_135[48],v:!1,isReverse:!0,cb:function(){

},info:_135[49]}]);
callMethod(this,arr,_135[19],[{index:3,num:8,name:_135[50],v:!1,isReverse:!0,cb:function(){

},info:_135[51]}]);
callMethod(this,arr,_135[19],[{index:3,num:9,name:_135[52],v:!1,isReverse:!0,cb:function(){

},info:_135[53]}]);
callMethod(this,arr,_135[19],[{index:3,num:10,name:_135[54],v:!1,isReverse:!0,cb:function(){

},info:'Звук появления предмета на карте'}]);
callMethod(this,arr,_135[19],[{index:3,num:11,name:_135[55],v:!1,cb:function(){

},info:'Занавеска будет скрыта во время забега'}]);
callMethod(this,arr,_135[19],[{index:3,num:12,name:_135[56],v:!1,cb:function(){

},info:'Нижняя панель будет скрыта во время забега'}]);
callMethod(this,this,_135[23],[arr,sp,28]);
callMethod(this,this.c.cnt,_135[8],[sp]);

};
_app_popup_PopUpSettingsPanel[_135[16]]=function(){
var sp=ctorObject(lang.display.Sprite);
var arr=[];
if(GLOBAL.$app.isStandalone){
var tf=ctorObject(lang.text.TextField);
tf.fontName=_135[57];
tf.fontSize=16;
tf.color=16777215;
tf.text='Все нужные оптимизации уже есть.';
tf.filters=GLOBAL.Config.filterBlue1;
tf.x=50;
tf.y=((300 - tf.height) / 2);
callMethod(this,sp,_135[8],[tf]);

}else{
callMethod(this,arr,_135[19],[{index:4,num:2,name:_135[58],v:!1,isReverse:!0,info:'Отрисовка текста на карте может снизить производительность'}]);
callMethod(this,arr,_135[19],[{index:4,num:5,name:_135[59],v:!1,info:'Просмотр FPS будет доступен в левом верхнем углу.',cb:function(v){
GLOBAL.$app.fpsMaster.debug=v;

}}]);
callMethod(this,this,_135[23],[arr,sp,28]);

}
callMethod(this,this.c.cnt,_135[8],[sp]);

};
_app_popup_PopUpSettingsPanel[_135[23]]=function(a,sp,h){
this.yy=0;
if(a){
if((a.size > 0)){
var yy=0;
var i=0;
while((i < a.size)){
var el=a[i];
var nm=el.name;
var vv=el.v;
var res1=callMethod(this,GLOBAL.$app.flagsSettings,_135[60],[el.index,el.num]);
if(checkIn(el,_135[61])){
if(!res1){
vv=!0;

}

}else{
if(res1){
vv=!0;

}

}
var cbb=function(res){
var nn=this.elObj.index;
var pos=this.elObj.num;
var qq=callMethod(this,GLOBAL.$app.flagsSettings,_135[60],[nn,pos]);
if(checkIn(this.elObj,_135[61])){
if(!res){
callMethod(this,GLOBAL.$app.flagsSettings,_135[62],[nn,pos]);

}else{
callMethod(this,GLOBAL.$app.flagsSettings,_135[63],[nn,pos]);

}

}else{
if(res){
callMethod(this,GLOBAL.$app.flagsSettings,_135[62],[nn,pos]);

}else{
callMethod(this,GLOBAL.$app.flagsSettings,_135[63],[nn,pos]);

}

}
if(checkIn(this.elObj,_135[64])){
callMethod(this,this.elObj,_135[64],[res]);

}

};
var rr=callMethod(this,this,_135[65],[el,h,nm,vv,cbb]);
callMethod(this,sp,_135[8],[rr]);
i++;
}

}

}

};
_app_popup_PopUpSettingsPanel[_135[65]]=function(el,h,nm,vv,cbb){
var th=this;
var rr=ctorObject(lang.display.Sprite);
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_135[2],[_135[66]]);
bm1.scaleX=0.7;
bm1.scaleY=0.7;
bm1.buttonMode=!0;
bm1.click=function(){
var txt1=_135[67];
if(checkIn(this.elObj,_135[68])){
txt1=this.elObj.info;

}
callMethod(this,GLOBAL.$app.popup,_135[69],[('' + txt1)]);

};
bm1.elObj=el;
callMethod(this,rr,_135[8],[bm1]);
var q=ctorObject(_135[70],[nm,vv,cbb]);
q.checkBox.elObj=el;
q.x=30;
q.y=3;
rr.y=th.yy;
callMethod(this,rr,_135[8],[q]);
th.yy=(th.yy + h);
return rr;

};
_app_popup_PopUpSettingsPanel[_135[74]]=function(){
var v=callMethod(this,GLOBAL.$app.flagsSettings,_135[71]);
callMethod(this,GLOBAL.$app.connect,_135[72],[_135[73],v]);

};
_app_popup_PopUpSettingsPanel[_135[10]]=function(){
callMethod(this,this,_135[74]);
callMethod(this,this.parent,_135[10],[this]);
if(this.sc){
callMethod(this,this.sc,_135[10]);

}
this.sc=null;

};
_app_popup_PopUpSettingsPanel[_135[75]]=function(w,h){
callMethod(this,this.bg,_135[75],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_135[76],_135[77],_app_popup_PopUpSettingsPanel);
})(window);



(function(window){
var _91=["HomeScene","drawMovie","autoFullscreen","sprite","getAssetByName","bg18.png","addChild","getChildIndex","addChildAt","app.ZanavesBar","removeLastItems","redrawEventItem","plashka_main.png","createSpritePainter","clear","isShowChat","openPopUpSettingsPanel","openPopUpHelpPanel","web","saveScreen","openAudioPlayerPopUp","openPopUpMinText1","\n\nПлеер будет доступен с "," уровня","animAlphaSprite","openPopUpOfflineModeText","<br /><br />Чат уже открыт","show","NewYearAct1","removeChild","createEvent","updateActionItems1","drawEventItem","stop","init","open","EventInfoT1","bitmap","scaleIcon","iconX","iconY","css","image-rendering","pixelated","Arial","def","textY"," из ","textX","visZ5","start","visZanaves","visZanavesNoAnim","visZanaves2","visDownMenu","visPlashkaPanel","hide1","navHome","updateUserInfo","getPopUpByName","AdminPanel1","remove","isSuperAdmin","isModerator","isModeratorMaps","openPopUpAdminPanel","AutoUpdateSpr1","autoResize","addAutoUpdateAppInfo","NotifyTypeTextSpr","setText","addNotifyTypeText1","addNotifyTxtSpr","app.popup.PopUpAudioPlayerSpr1","update","getAssetURL",".png","getValueStr","skinChat","isFile","redraw","getChildAt","selectAppStyleObj","createPainter","rect","resize","createSlice3","check","scenes.MainScene","lang.display.Sprite"];
var _scenes_MainScene={};
_scenes_MainScene["ctor"]=function(){
var th=this;
this.w=0;
this.h=0;
this.sceneName=_91[0];
this.movMain=callMethod(this,GLOBAL.$app.moviesReader,_91[1],[1]);
this.movMain.fsBut.click=function(){
callMethod(this,GLOBAL.$app,_91[2]);

};
this.curEventOb1=null;
this.barUIMobile=ctorObject(lang.display.Sprite);
this.zanavesSprMain=callMethod(this,null,_91[3]);
this.zanavesSpr=null;
this.bgMov=callMethod(this,null,_91[3]);
var bgWW=0;
var bgHH=0;
var i=0;
while((i < 1)){
var bgBM=callMethod(this,GLOBAL.$app.moviesReader,_91[4],[_91[5]]);
bgWW=bgBM.naturalWidth;
bgHH=bgBM.naturalHeight;
bgBM.y=-(i * (bgHH - 2));
callMethod(this,this.bgMov,_91[6],[bgBM]);
i++;
}
callMethod(this,null,_91[6],[this.bgMov]);
this.bgMov.resize=function(w,h){
this.scaleX=((w + 10) / bgWW);
this.scaleY=((h - 70) / bgHH);
this.y=0;

};
var indV=callMethod(this,this.movMain,_91[7],[this.movMain.zanaves]);
if((indV == -1)){
indV=0;

}
callMethod(this,this.movMain,_91[8],[this.zanavesSprMain,indV]);
this.notifyTextSpr1=null;
this.notifyAutoUpdateApp=null;
this.adminBut=null;
this.modBut=null;
this.evItemsPos=0;
this.evItemsTimer=null;
this.bar=ctorObject(_91[9],[this.movMain.zanaves.bar1]);
this.movMain.zanaves.z1.mouseEnabled=!1;
this.movMain.zanaves.z3.mouseEnabled=!1;
callMethod(this,th,_91[10]);
callMethod(this,th,_91[11]);
var zanavesPosY=0;
var zanavesPosY2=0;
this.zanavesZ5Anim=!1;
this.zanavesV5=!1;
var pos6=200;
this.cbMove3=function(e){
var yy=(e.mouseY - zanavesPosY);
if((yy > 0)){
yy=0;

}
if((yy < -pos6)){
yy=-pos6;

}
th.movMain.zanaves.y=yy;

};
this.plashkaBG=callMethod(this,GLOBAL.$app.moviesReader,_91[4],[_91[12]]);
this.plashkaW=(this.plashkaBG.width * 0.5);
this.plashkaH=(this.plashkaBG.height * 0.5);
this.homeBg=callMethod(this,GLOBAL.AppUtils,_91[13]);
this.plashkaSpr=callMethod(this,GLOBAL.AppUtils,_91[13]);
this.movMain.zanaves.z2.mouseEnabled=!1;
var sceneSpr=this.movMain.sceneSpr;
sceneSpr.y=0;
callMethod(this,sceneSpr.painter,_91[14]);
this.sceneSpr=sceneSpr;
callMethod(this,this.sceneSpr,_91[6],[GLOBAL.$app.scenesMaster]);
this.menu2Buttons=callMethod(this,GLOBAL.$app.moviesReader,_91[1],[30]);
this.menu2Buttons.y=5;
this.helpBut=this.menu2Buttons.helpBut;
this.screenBut=this.menu2Buttons.screenBut;
this.settingsBut=this.menu2Buttons.settingsBut;
this.settingsBut.click=function(){
var nn=1;
var isShowChat=callMethod(this,GLOBAL.$app.chat,_91[15]);
if(isShowChat){
nn=2;

}else if(checkIs(GLOBAL.$app.scenesMasterHtml5.curScene,GLOBAL.scenes.game.GameRoom)){
nn=3;

}

callMethod(this,GLOBAL.$app.popup,_91[16],[nn]);

};
this.helpBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_91[17],[1]);

};
this.screenBut.visible=!1;

this.screenBut.click=function(e){
callMethod(this,GLOBAL.$app,_91[19]);

};
this.menu2Buttons.aPlayerBut.click=function(e){
var lvl=0;

if((GLOBAL.$app.user.level >= lvl)){
callMethod(this,th,_91[20]);

}else{
callMethod(this,GLOBAL.$app.popup,_91[21],[((_91[22] + lvl) + _91[23])]);

}

};
callMethod(this,GLOBAL.AppUtils,_91[24],[this.screenBut,0.8,1]);
callMethod(this,GLOBAL.AppUtils,_91[24],[this.movMain.menu.chat,0.8,1]);
var menuDownCont=ctorObject(lang.display.Sprite);
this.menuDownCont=ctorObject(lang.display.Sprite);
var menuDownSpr=ctorObject(lang.display.Sprite);
this.menuDownSpr=menuDownSpr;
this.movMain.menu.chat.click=function(){
if(GLOBAL.Config.isTestAuth){
callMethod(this,GLOBAL.$app.popupHtml,_91[25]);

}else{
if(GLOBAL.$app.chat){
var isShowChat=callMethod(this,GLOBAL.$app.chat,_91[15]);
if(isShowChat){
callMethod(this,GLOBAL.$app.popup,_91[21],[_91[26]]);

}else{
callMethod(this,GLOBAL.$app.chat,_91[27]);

}

}

}

};
this.moneyBar=ctorObject(lang.display.Sprite);
callMethod(this,null,_91[6],[this.movMain]);
this.menuDownSpr.y=9;
callMethod(this,this.menuDownCont,_91[6],[this.menuDownSpr]);
callMethod(this,this.movMain.menu,_91[6],[this.menuDownCont]);
callMethod(this,this.menuDownCont,_91[6],[this.menu2Buttons]);

};
_scenes_MainScene[_91[10]]=function(){
var th=this;
if(checkIn(th.movMain.zanaves.bar1,_91[28])){
callMethod(this,th.movMain.zanaves.bar1,_91[29],[th.movMain.zanaves.bar1.NewYearAct1]);

}

};
_scenes_MainScene[_91[32]]=function(el){
var th=this;
if(th.curEventOb1){
if(th.curEventOb1.parent){
callMethod(this,th.curEventOb1.parent,_91[29],[th.curEventOb1]);

}
th.curEventOb1=null;

}
if(el){
var evSpr=callMethod(this,th,_91[30],[el]);
evSpr.x=330;
evSpr.y=-th.movMain.zanaves.bar1.y;
th.curEventOb1=evSpr;
callMethod(this,th,_91[31],[GLOBAL.$app.user.actionItemsNums]);
callMethod(this,th.movMain.zanaves.bar1,_91[6],[evSpr]);

}

};
_scenes_MainScene[_91[11]]=function(){
var th=this;
if(th.evItemsTimer){
callMethod(this,th.evItemsTimer,_91[33]);

}
th.evItemsTimer=null;
th.evItemsPos=0;
var nextItem=function(){
var sz3=GLOBAL.Config.eventsItemsList.length;
if((sz3 > 0)){
var pp=th.evItemsPos;
var ev1=GLOBAL.Config.eventsItemsList[pp];
++th.evItemsPos;if((th.evItemsPos >= sz3)){
th.evItemsPos=0;

}
callMethod(this,th,_91[32],[ev1]);

}else{
if(th.evItemsTimer){
callMethod(this,th.evItemsTimer,_91[33]);

}
th.evItemsTimer=null;

}

};
nextItem();
var sz2=GLOBAL.Config.eventsItemsList.length;
if((sz2 > 1)){
th.evItemsTimer=callMethod(this,Timer,_91[34],[(15 * 1000),function(){
if(GLOBAL.$app.isQW1){
GLOBAL.$app.isQW1=!1;
nextItem();

}

}]);

}

};
_scenes_MainScene[_91[30]]=function(o){
var spr=ctorObject(lang.display.Sprite);
spr.iconSize={width:0,height:0};
spr.itemObj=o;
if(o){
var cbClick=function(){
callMethod(this,GLOBAL.$app.popup,_91[35],[_91[36],o]);

};
var iconV=o.icon;
var bm=callMethod(this,null,_91[37],[iconV]);
if(bm){
if(checkIn(o,_91[38])){
var scIcon=o.scaleIcon;
bm.scaleX*=scIcon;
bm.scaleY*=scIcon;

}
if(checkIn(o,_91[39])){
bm.x=o.iconX;

}
if(checkIn(o,_91[40])){
bm.y=o.iconY;

}
spr.iconSize.width=(bm.naturalWidth * bm.scaleX);
spr.iconSize.height=(bm.naturalHeight * bm.scaleY);
callMethod(this,bm,_91[41],[{'image-rendering':_91[43]}]);

callMethod(this,spr,_91[6],[bm]);
if(cbClick){
bm.buttonMode=!0;
bm.click=cbClick;

}

}
spr.iconBM=bm;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=13;
tf1.fontName=_91[44];
tf1.bold=!0;
tf1.color=16777215;
tf1.filters=GLOBAL.Config.shadowText1;
if((o.t != _91[45])){
tf1.text=o.name;

}
if(cbClick){
tf1.buttonMode=!0;
tf1.click=cbClick;

}
if(bm){
tf1.y=spr.iconSize.height;
if(GLOBAL.$app.isStandalone){
tf1.y-=4;

}
if(checkIn(o,_91[46])){
tf1.y=(tf1.y + o.textY);

}

}
spr.txt=tf1;
callMethod(this,spr,_91[6],[tf1]);

}
return spr;

};
_scenes_MainScene[_91[31]]=function(v){
var th=this;
if(th.curEventOb1){
var evv=th.curEventOb1;
var ob=evv.itemObj;
var x1=10;
if((ob.t == _91[45])){
evv.txt.text=((('' + v) + _91[47]) + (GLOBAL.$app.user.actionItems1 * GLOBAL.$app.user.actionItemsNumsPos));

}
if(checkIn(ob,_91[48])){
x1=(x1 + ob.textX);

}
evv.txt.x=(x1 + ((evv.iconSize.width - evv.txt.width) / 2));

}

};
_scenes_MainScene[_91[49]]=function(v){

};
_scenes_MainScene[_91[51]]=function(v){
var th=this;
this.zanavesV5=v;
if(!this.zanavesZ5Anim){
if(v){
th.zanavesZ5Anim=!0;
var tween=ctorObject(lib.Tween,[this.movMain.zanaves]);
callMethod(this,tween,_91[34],[{y:0},200,function(){

},function(){
th.zanavesZ5Anim=!1;

}]);
callMethod(this,tween,_91[50]);

}else{
var tween=ctorObject(lib.Tween,[this.movMain.zanaves]);
callMethod(this,tween,_91[34],[{y:-200},1000,function(){

},function(){
th.zanavesZ5Anim=!1;

}]);
callMethod(this,tween,_91[50]);

}

}

};
_scenes_MainScene[_91[52]]=function(v){
if(v){
this.movMain.zanaves.y=0;

}else{
this.movMain.zanaves.y=-200;

}

};
_scenes_MainScene[_91[53]]=function(v){
var th=this;
this.zanavesV5=v;
if(!this.zanavesZ5Anim){
if(v){
th.zanavesZ5Anim=!0;
var tween=ctorObject(lib.Tween,[this.movMain.zanaves]);
callMethod(this,tween,_91[34],[{y:0},1000,function(){

},function(){
th.zanavesZ5Anim=!1;

}]);
callMethod(this,tween,_91[50]);

}else{
var tween=ctorObject(lib.Tween,[this.movMain.zanaves]);
callMethod(this,tween,_91[34],[{y:-200},1000,function(){

},function(){
th.zanavesZ5Anim=!1;

}]);
callMethod(this,tween,_91[50]);

}

}

};
_scenes_MainScene[_91[54]]=function(v){
this.movMain.menu.bg.visible=v;
this.menuDownSpr.visible=v;

};
_scenes_MainScene[_91[55]]=function(v){
this.movMain.menu.bg.visible=v;

};
_scenes_MainScene[_91[56]]=function(v){
this.movMain.menu.chat.visible=v;
this.menuDownSpr.visible=v;
this.menu2Buttons.visible=v;

};
_scenes_MainScene[_91[34]]=function(){
var th=this;
callMethod(this,th,_91[31],[GLOBAL.$app.user.actionItemsNums]);
callMethod(this,GLOBAL.$app,_91[57]);
callMethod(this,this,_91[58],[GLOBAL.$app.user.id,GLOBAL.$app.user]);

};
_scenes_MainScene[_91[58]]=function(id,u){
if((id == GLOBAL.$app.user.id)){
if(this.adminBut){
if(this.adminBut.parent){
callMethod(this,this.adminBut.parent,_91[29],[this.adminBut]);

}

}
var modPopUp=callMethod(this,GLOBAL.$app.popup,_91[59],[_91[60]]);
if(modPopUp){
callMethod(this,modPopUp,_91[61]);

}
var mm=GLOBAL.$app.user.mode;
if((mm > 0)){
var isAdminV=callMethod(this,GLOBAL.UserMode,_91[62],[mm]);
if(!isAdminV){
isAdminV=callMethod(this,GLOBAL.UserMode,_91[63],[mm]);
if(!isAdminV){
var isModMaps=callMethod(this,GLOBAL.UserMode,_91[64],[mm]);
if(isModMaps){
isAdminV=!0;

}

}

}
if(isAdminV){
var bm=ctorObject(lang.display.Bitmap);
bm.src=GLOBAL.Config.adminIcon1;
bm.buttonMode=!0;
bm.y=12;
bm.click=function(){
callMethod(this,GLOBAL.$app.popup,_91[65]);

};
this.adminBut=bm;
callMethod(this,this.menuDownCont,_91[6],[bm]);

}

}

}

};
_scenes_MainScene[_91[68]]=function(t,url){
if(this.notifyAutoUpdateApp){
if(this.notifyAutoUpdateApp.parent){
callMethod(this,this.notifyAutoUpdateApp.parent,_91[29],[this.notifyAutoUpdateApp]);

}
this.notifyAutoUpdateApp=null;

}
var c=ctorObject(_91[66],[t,url]);
this.notifyAutoUpdateApp=c;
callMethod(this,this.sceneSpr,_91[6],[c]);
callMethod(this,GLOBAL.$app,_91[67]);

};
_scenes_MainScene[_91[71]]=function(v,count,speed){
if(this.notifyTextSpr1){
if(this.notifyTextSpr1.parent){
callMethod(this,this.notifyTextSpr1.parent,_91[29],[this.notifyTextSpr1]);

}
this.notifyTextSpr1=null;

}
var c=ctorObject(_91[69]);
c.countDel=(count > 0) ? count : -1;
if(speed){
c.speed=speed;

}
callMethod(this,c,_91[70],[v]);
this.notifyTextSpr1=c;
callMethod(this,this.sceneSpr,_91[6],[c]);
callMethod(this,GLOBAL.$app,_91[67]);

};
_scenes_MainScene[_91[72]]=function(s,maxNums){
if(this.notifyTextSpr1){
if(this.notifyTextSpr1.parent){
callMethod(this,this.notifyTextSpr1.parent,_91[29],[this.notifyTextSpr1]);

}
this.notifyTextSpr1=null;

}
var c=ctorObject(_91[69]);
c.countDel=maxNums;
callMethod(this,c,_91[70],[s]);
this.notifyTextSpr1=c;
callMethod(this,this.sceneSpr,_91[6],[c]);
callMethod(this,GLOBAL.$app,_91[67]);

};
_scenes_MainScene[_91[20]]=function(){
if(!GLOBAL.$app.curAudioPlayer1){
var c=ctorObject(_91[73]);
GLOBAL.$app.curAudioPlayer1=c;
callMethod(this,this.movMain.menu,_91[6],[c]);
callMethod(this,GLOBAL.$app,_91[67]);

}else{
callMethod(this,GLOBAL.$app.curAudioPlayer1,_91[61]);
GLOBAL.$app.curAudioPlayer1=null;

}

};
_scenes_MainScene[_91[74]]=function(){
if(this.notifyTextSpr1){
callMethod(this,this.notifyTextSpr1,_91[74]);
if(this.notifyTextSpr1.isEnd){
this.notifyTextSpr1=null;

}

}
if(this.notifyAutoUpdateApp){
callMethod(this,this.notifyAutoUpdateApp,_91[74]);
if(this.notifyAutoUpdateApp.isEnd){
this.notifyAutoUpdateApp=null;

}

}

};
_scenes_MainScene[_91[82]]=function(o){
var th=this;
if(o){
var m=GLOBAL.$app.moviesReader;
var zanaves1=callMethod(this,m,_91[75],[(('' + o.zanaves1) + _91[76])]);
var zanaves2=callMethod(this,m,_91[4],[(('' + o.zanaves2) + _91[76])]);
var zanaves3=callMethod(this,m,_91[75],[(('' + o.zanaves3) + _91[76])]);
var plashka1=callMethod(this,m,_91[4],[(('' + o.plashka) + _91[76])]);
var chatbg=callMethod(this,m,_91[4],[(('' + o.chatBG) + _91[76])]);
if(GLOBAL.$app.cfgTxtSplit){
var skinData1=callMethod(this,GLOBAL.$app.cfgTxtSplit,_91[77],[_91[78]]);
if(skinData1){
var fi1=ctorObject(lang.io.File,[skinData1]);
var isExt=callMethod(this,fi1,_91[79]);
if(isExt){
chatbg=ctorObject(lang.display.Bitmap);
chatbg.src=fi1;

}

}

}
var roomActive=callMethod(this,m,_91[4],[(('' + o.roomActive) + _91[76])]);
var roomNoActive=callMethod(this,m,_91[4],[(('' + o.roomNoActive) + _91[76])]);
th.movMain.zanaves.z2.painter.fillData=zanaves2;
th.movMain.zanaves.z1.src=zanaves1;
th.movMain.zanaves.z3.src=zanaves3;
th.movMain.menu.bg.painter.fillData=plashka1;
GLOBAL.Config.menu1Styles=o.menu1;
GLOBAL.Config.bgImg=chatbg;
GLOBAL.Config.plashkaBM=plashka1;
GLOBAL.Config.roomActiveBM=roomActive;
GLOBAL.Config.roomNoActiveBM=roomNoActive;
GLOBAL.Config.chatInputBGColor=o.chatInputColor;
GLOBAL.Config.audioPlayerBG=o.audioPlayerBG;
this.w=0;
if(GLOBAL.$app.mapEditor){
GLOBAL.$app.mapEditor.plashkaBG=GLOBAL.Config.plashkaBM;

}
if(GLOBAL.$app.chat){
GLOBAL.$app.chat.bgImg=chatbg;
GLOBAL.$app.chat.chatTI.bgColor=GLOBAL.Config.chatInputBGColor;
callMethod(this,GLOBAL.$app.chat.chatTI,_91[80]);
var roomsSpr=GLOBAL.$app.chat.roomsSpr;
var i=0;
while((i < roomsSpr.numChildren)){
var el=callMethod(this,roomsSpr,_91[81],[i]);
el.a2=roomActive;
el.a4=roomNoActive;
callMethod(this,el,_91[80]);
i++;
}

}

}

};
_scenes_MainScene[_91[86]]=function(arr,w,h){
var sp=ctorObject(lang.display.Sprite);
callMethod(this,sp,_91[83]);
var lastW=0;
var lastH=0;
var nn=3;
var xx=0;
sp.resize=function(w,h){
xx=0;
var vv=!1;
if((w > 0) && (h > 0)){
if((lastW != w)){
vv=!0;

}else if((lastH != h)){
vv=!0;

}

if(vv){
if((arr.size == nn)){
callMethod(this,sp.painter,_91[14]);
var i=0;
while((i < arr.size)){
var el=arr[i];
var fillW=el.naturalWidth;
if((i == 1)){
fillW=w;

}
callMethod(this,sp.painter,_91[84],[xx,0,fillW,el.naturalHeight,el]);
xx+=fillW;
i++;
}

}

}

}

};
callMethod(this,sp,_91[85],[w,h]);
return sp;

};
_scenes_MainScene[_91[85]]=function(w,h){
if((w > 0) && (h > 0)){
var isRsz=!1;
if((w != this.w)){
isRsz=!0;

}
this.w=w;
this.h=h;
callMethod(this,this.bar,_91[85],[w,h]);
this.movMain.fsBut.x=(w - 40);
var bgH=h;
if(isRsz){
var plashkaBG=this.movMain.menu.bg;
var p4=plashkaBG.painter;
callMethod(this,p4,_91[14]);
callMethod(this,p4,_91[84],[0,0,(w / plashkaBG.scaleX),(this.plashkaH / plashkaBG.scaleY),p4.fillData]);

}
this.movMain.menu.y=(h - (this.plashkaH - 1));
this.menu2Buttons.x=(w - 90);
if(GLOBAL.$app.flagsSettings){
if(GLOBAL.$app.chat){
var isShowChat=callMethod(this,GLOBAL.$app.chat,_91[15]);
if(isShowChat){
var check2=callMethod(this,GLOBAL.$app.flagsSettings,_91[87],[1,1]);
if(check2){
bgH=(bgH + this.plashkaH);
this.menu2Buttons.x=(w - 110);
this.movMain.menu.y=(h - ((GLOBAL.$app.chat.chatH + this.plashkaH) - 3));

}

}

}

}
callMethod(this,this.bgMov,_91[85],[w,h]);
if(isRsz){
var zanavesFill=this.movMain.zanaves.z2;
var p5=zanavesFill.painter;
callMethod(this,p5,_91[14]);
var w1=460;
var xx1=zanavesFill.x;
var maxw=((w - w1) - xx1);
if((maxw < 0)){
maxw=5;

}else{
xx1=(w - w1);

}
this.movMain.zanaves.z3.x=xx1;
callMethod(this,p5,_91[84],[0,0,maxw,231,p5.fillData]);

}
if(this.modBut){
this.modBut.x=(this.menu2Buttons.x - 37);

}
if(this.adminBut){
this.adminBut.x=(this.menu2Buttons.x - 37);

}
if(this.notifyTextSpr1){
callMethod(this,this.notifyTextSpr1,_91[85],[w,h]);
this.notifyTextSpr1.y=((h - this.plashkaH) - 27);

}
if(this.notifyAutoUpdateApp){
callMethod(this,this.notifyAutoUpdateApp,_91[85],[w,h]);
this.notifyAutoUpdateApp.y=((h - this.plashkaH) - 25);

}

}

};
vm.registerClass(_91[88],_91[89],_scenes_MainScene);
})(window);



(function(window){
var _238=["addDomCanvas","AppBGHome1Spr","initHomeBG1","PrestartGameRoomMov3","addChild","AppTimerMov1","Arial","PawsAnimationMovie","поиск игроков","setWaitTime","init","stop","openPopUpMinText1","navHome","initTimer","resize","setText","stopCheckTimer","update","removeDomCanvas","removeScene","scenes.game.PrestartGameRoom1","lang.display.Sprite"];
var _scenes_game_PrestartGameRoom1={};
_scenes_game_PrestartGameRoom1["ctor"]=function(){
var th=this;
callMethod(this,GLOBAL.$app,_238[0]);
this.bgMov=ctorObject(_238[1]);
callMethod(this,GLOBAL.$app,_238[2],[this.bgMov]);
this.mov=ctorObject(_238[3]);
this.tm1=null;
this.mov.logo.scaleX=0.5;
this.mov.logo.scaleY=0.5;
this.bgSize={width:1366,height:640};
callMethod(this,null,_238[4],[this.mov]);
this.p1=ctorObject(lang.display.Sprite);
callMethod(this,null,_238[4],[this.p1]);
this.timerSpr=ctorObject(_238[5]);
this.timerSpr.x=-10;
callMethod(this,this.p1,_238[4],[this.timerSpr]);
this.curTime=GLOBAL.Config.timePrestartRoom;
this.tm2=null;
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=19;
this.tf2.fontName=_238[6];
this.tf2.bold=!0;
this.tf2.color=52224;
this.tf2.text=('' + th.curTime);
this.tf2.visible=!1;
callMethod(this,this.timerSpr,_238[4],[this.tf2]);
this.tf2.x=((84 - this.tf2.width) / 2);
this.tf2.y=26;
this.pawsAnim=ctorObject(_238[7],[10]);
this.pawsAnim.x=70;
this.pawsAnim.y=200;
callMethod(this,null,_238[4],[this.pawsAnim]);
var tf1=ctorObject(lang.text.TextField);
this.tf1=tf1;
tf1.fontName=_238[6];
tf1.bold=!0;
tf1.fontSize=30;
tf1.filters=GLOBAL.Config.shadowText1;
tf1.color=16777215;
tf1.text=_238[8];
callMethod(this,null,_238[4],[tf1]);

};
_scenes_game_PrestartGameRoom1[_238[9]]=function(v){
var th=this;
th.curTime=v;
this.tf2.text=('' + th.curTime);
this.tf2.x=((84 - this.tf2.width) / 2);

};
_scenes_game_PrestartGameRoom1[_238[14]]=function(){
var th=this;
var endTm=(th.curTime + 10);
this.tm2=callMethod(this,Timer,_238[10],[(endTm * 1000),function(){
callMethod(this,this,_238[11]);
callMethod(this,GLOBAL.$app.popup,_238[12],['<br /><br />Что то пошло не так, и забег не начался.']);
callMethod(this,GLOBAL.$app,_238[13]);

}]);
th.tf2.visible=!0;
if(!this.tm1){
this.tm1=callMethod(this,Timer,_238[10],[1000,function(){
th.curTime-=1;
if((th.curTime <= 0)){
th.curTime=0;
callMethod(this,this,_238[11]);

}
th.tf2.text=('' + th.curTime);
th.tf2.x=((84 - th.tf2.width) / 2);

}]);

}

};
_scenes_game_PrestartGameRoom1[_238[16]]=function(v){
this.tf1.text=v;
callMethod(this,this,_238[15],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

};
_scenes_game_PrestartGameRoom1[_238[17]]=function(){
if(this.tm2){
callMethod(this,this.tm2,_238[11]);

}
this.tm2=null;

};
_scenes_game_PrestartGameRoom1[_238[15]]=function(w,h){
var th=this;
var hhh=h;
h=((hhh - this.y) - 90);
callMethod(this,this.bgMov,_238[15],[w,h]);
this.tf1.x=((w - this.tf1.width) / 2);
this.tf1.y=(h - 110);
this.mov.logo.x=((w - 160) / 2);
this.mov.logo.y=((h - 160) / 2);
this.p1.x=((w - 64) / 2);
this.p1.y=(this.tf1.y - 60);
this.pawsAnim.x=((w - this.pawsAnim.w) / 2);
this.pawsAnim.y=(h - 70);

};
_scenes_game_PrestartGameRoom1[_238[18]]=function(){
callMethod(this,this.pawsAnim,_238[18]);

};
_scenes_game_PrestartGameRoom1[_238[20]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_238[11]);

}
if(this.tm2){
callMethod(this,this.tm2,_238[11]);

}
callMethod(this,GLOBAL.$app,_238[19]);

};
vm.registerClass(_238[21],_238[22],_scenes_game_PrestartGameRoom1);
})(window);



(function(window){
var _7=["createSpritePainter","addChild","clear","removeChild","openPopUpMinText1","\nДо следующего уровня\n"," опыта\n\n("," / ",")","shadow","#000000","shadow1","app.bar.BarStarLevel2","addTooltipText","Общий уровень","initBarFunc","opyt","popular","openPopUpNotify2","Уведомления","animAlphaSprite","on","load","app.bar.BarMoneyTypeSpr","lapki","openPopUpBuyMoney","kosti","app.bar.PlashkaNick2","web","attr","Anonymous","stop","closeCloudNotify1","Новое событие!","gift","Вам подарок!","NotifyCloudMov1","Arial","notifyBar2Txt1","updateNotifyCount","startYY","cbOpytInfo","popUpHelpPopularInfo","isInitBar1","Опыт","starLevel","Популярность","health","Здоровье","energy","Энергия","popUpHelpEnergyInfo","setVis","getPopularInfoByValue","popularLastID","lastPopularBM","getPopularIconBitmap","getPopularInfoByPart","String","rect","updatePopular","getPercOpyt","updateOpyt","%","updateHealth","updateEnergy","setLevel","updateLevel","setNick","updateNick","setMoney","updateMoney","loadAvaUsers","getAvaByUserID","init","fillImagePos","resize","app.ZanavesBar","lang.display.Sprite"];
var _app_ZanavesBar={};
_app_ZanavesBar["ctor"]=function(leftBarUMenu){
var th=this;
this.spr1=ctorObject(lang.display.Sprite);
leftBarUMenu.visible=!1;
this.leftBarUMenu=leftBarUMenu;
this.fastPopularIconUpd=!1;
var avaSpr=ctorObject(lang.display.Sprite);
avaSpr.x=60;
avaSpr.y=15;
this.a2=callMethod(this,GLOBAL.AppUtils,_7[0]);
this.p1=this.a2.painter;
var spr2=callMethod(this,GLOBAL.AppUtils,_7[0]);
this.p2=spr2.painter;
callMethod(this,avaSpr,_7[1],[spr2]);
callMethod(this,leftBarUMenu.avaCnt.painter,_7[2]);
callMethod(this,leftBarUMenu.nickCnt.painter,_7[2]);
callMethod(this,leftBarUMenu.starLevelCnt.painter,_7[2]);
leftBarUMenu.starLevelCnt.alpha=1;
this.opyt=leftBarUMenu.opytBar;
this.popularBar=leftBarUMenu.popularBar;
this.popularBar.x-=10;
callMethod(this,leftBarUMenu,_7[3],[leftBarUMenu.notifyBut]);
var cbOpytInfo=function(u){
if(!u){
u=GLOBAL.$app.user;

}
if(u){
if(u.lvlObj){
var curOpyt=u.opyt;
var lvl=u.level;
var nextOpyt=u.lvlObj.nextOpyt;
var opytCalc=(nextOpyt - curOpyt);
callMethod(this,GLOBAL.$app.popup,_7[4],[((((((_7[5] + opytCalc) + _7[6]) + curOpyt) + _7[7]) + nextOpyt) + _7[8])]);

}

}

};
this.cbOpytInfo=cbOpytInfo;
this.opyt.msk1.click=function(){
cbOpytInfo(GLOBAL.$app.user);

};
this.filter1=[{id:_7[9],color:_7[10],blur:3,offsetX:0,offsetY:0},{id:_7[9],color:_7[10],blur:3,offsetX:0,offsetY:0}];
this.filter2=[{id:_7[11],color:_7[10],blur:4,offsetX:0,offsetY:0}];
var levelSpr=ctorObject(_7[12]);
this.levelSpr=levelSpr;
callMethod(this,leftBarUMenu.starLevelCnt,_7[1],[levelSpr]);
this.levelSpr.tf.buttonMode=!0;
this.levelSpr.tf.click=function(){
cbOpytInfo();

};
callMethod(this,GLOBAL.ToolTip,_7[13],[this.levelSpr.tf,_7[14]]);
callMethod(this,this,_7[15],[_7[16],this.opyt]);
callMethod(this,this,_7[15],[_7[17],this.popularBar]);
leftBarUMenu.notifyBut.icon1.tooltipWH={h:30};
leftBarUMenu.notifyBut.icon1.click=function(){
callMethod(this,GLOBAL.$app.popup,_7[18]);

};
callMethod(this,GLOBAL.ToolTip,_7[13],[leftBarUMenu.notifyBut.icon1,_7[19]]);
callMethod(this,GLOBAL.AppUtils,_7[20],[leftBarUMenu.notifyBut.icon1,0.8,1]);
callMethod(this,null,_7[1],[this.a2]);
var avaQ=ctorObject(lang.display.Bitmap);
avaQ.x=3;
avaQ.y=1;
avaQ.visible=!1;
callMethod(this,avaQ,_7[21],[_7[22],function(){
if((this.naturalWidth > 50)){
this.scaleX=(50 / this.naturalWidth);

}
if((this.naturalWidth > 50)){
this.scaleY=(50 / this.naturalHeight);

}
this.visible=!0;

}]);
this.avaQ=avaQ;
if(GLOBAL.$app.uiMobile){
leftBarUMenu.y=-25;
leftBarUMenu.NewYearAct1.x+=15;
leftBarUMenu.NewYearAct1.y+=10;

}else{
callMethod(this,leftBarUMenu.avaCnt,_7[1],[avaQ]);

}
var upBarSpr=ctorObject(lang.display.Sprite);
callMethod(this,leftBarUMenu,_7[1],[upBarSpr]);
var moneyBar=ctorObject(lang.display.Sprite);
this.moneyBar=moneyBar;
callMethod(this,upBarSpr,_7[1],[moneyBar]);
moneyBar.x=400;
moneyBar.y=23;
if(GLOBAL.$app.uiMobile){
moneyBar.x=420;
moneyBar.y+=20;

}
var lapkiMoney=ctorObject(_7[23],[_7[24],function(){
callMethod(this,GLOBAL.$app.popup,_7[25],[3]);

}]);
var kostiMoney=ctorObject(_7[23],[_7[26],function(){
callMethod(this,GLOBAL.$app.popup,_7[25],[2]);

}]);
kostiMoney.x=124;
callMethod(this,moneyBar,_7[1],[lapkiMoney,kostiMoney]);
this.lapkiMoney=lapkiMoney;
this.kostiMoney=kostiMoney;
this.cloudBarMov=null;
this.cloudTm1=null;
var plashkaSpr=ctorObject(_7[27]);
this.plashkaSpr=plashkaSpr;
if(GLOBAL.$app.uiMobile){

}else{
callMethod(this,this.leftBarUMenu.nickCnt,_7[1],[plashkaSpr]);
callMethod(this,this.avaQ,_7[29],[{crossOrigin:_7[30]}]);

if(GLOBAL.$app.user){
this.avaQ.src=GLOBAL.$app.user.avaUrl;

}

}

};
_app_ZanavesBar[_7[32]]=function(){
if(this.cloudTm1){
callMethod(this,this.cloudTm1,_7[31]);

}
this.cloudTm1=null;
if(this.cloudBarMov){
callMethod(this,this.cloudBarMov.parent,_7[3],[this.cloudBarMov]);

}
this.cloudBarMov=null;

};
_app_ZanavesBar[_7[38]]=function(t){
var txt1=_7[33];
if((t == _7[34])){
txt1=_7[35];

}
if(this.cloudBarMov){
this.cloudBarMov.txt2.text=txt1;

}else{
this.cloudBarMov=ctorObject(_7[36]);
this.cloudBarMov.x=-40;
this.cloudBarMov.y=40;
var txt2=ctorObject(lang.text.TextField);
txt2.x=((50 - txt2.width) / 2);
txt2.y=26;
if((t == _7[34])){
txt2.x+=8;

}
txt2.fontName=_7[37];
txt2.fontSize=11;
txt2.color=0;
txt2.text=txt1;
callMethod(this,this.cloudBarMov,_7[1],[txt2]);
this.cloudBarMov.txt2=txt2;
callMethod(this,this.leftBarUMenu.notifyBut,_7[1],[this.cloudBarMov]);

}

};
_app_ZanavesBar[_7[39]]=function(v){
var res=!1;
if((v > 0)){
res=!0;

}
this.leftBarUMenu.notifyBut.txt1.text=('' + v);
this.leftBarUMenu.notifyBut.txt1.visible=res;
this.leftBarUMenu.notifyBut.a1.visible=res;

};
_app_ZanavesBar[_7[15]]=function(t,mov,user){
var th=this;
if(mov){
mov.txt.filters=this.filter1;
mov.txt.fontName=_7[37];
mov.txt.bold=!0;
if(!checkIn(mov,_7[40])){
mov.startYY=mov.txt.y;

}
mov.txt.y=mov.startYY;
var offsetY1=10;
mov.txt.y=offsetY1;

mov.txt.fontSize=14;
if(GLOBAL.$app.isStandalone){
if((t == _7[16])){
mov.txt.fontSize=14;

}
if((GLOBAL.$app.supportVersion >= 2)){
mov.txt.y-=4;

}

}
if((t == _7[16])){
mov.msk1.click=function(){
callMethod(this,th,_7[41],[user]);

};

}else if((t == _7[17])){
mov.msk1.click=function(){
callMethod(this,GLOBAL.$app.popup,_7[42],[user]);

};

}

if(!checkIn(mov,_7[43])){
mov.isInitBar1=1;
if((t == _7[16])){
callMethod(this,GLOBAL.ToolTip,_7[13],[mov.msk1,_7[44]]);

}else if((t == _7[17])){
if(checkIn(mov,_7[45])){
callMethod(this,mov.starLevel.parent,_7[3],[mov.starLevel]);

}
callMethod(this,GLOBAL.ToolTip,_7[13],[mov.msk1,_7[46]]);
mov.msk1.click=function(){
callMethod(this,GLOBAL.$app.popup,_7[42],[user]);

};

}else if((t == _7[47])){
callMethod(this,GLOBAL.ToolTip,_7[13],[mov.msk1,_7[48]]);

}else if((t == _7[49])){
callMethod(this,GLOBAL.ToolTip,_7[13],[mov.msk1,_7[50]]);
mov.msk1.click=function(){
callMethod(this,GLOBAL.$app.popup,_7[51]);

};

}




}

}

};
_app_ZanavesBar[_7[52]]=function(v){
this.leftBarUMenu.visible=v;

};
_app_ZanavesBar[_7[60]]=function(v,lvl,iconID,mov){
var barr=null;
if(mov){
barr=mov;

}else{
barr=this.popularBar;

}
var uu=GLOBAL.$app.userMaster;
var popularInfo=callMethod(this,uu,_7[53],[lvl,v]);
var percOpyt=0;
if(!checkIn(barr,_7[54])){
barr.popularLastID=0;

}
var txt='';
if(!popularInfo){
percOpyt=100;
txt=('' + v);

}else{
var r6=this.fastPopularIconUpd;
if((barr.popularLastID != popularInfo.id)){
r6=!0;

}
if(r6){
this.fastPopularIconUpd=!1;
barr.popularLastID=popularInfo.id;
if(checkIn(barr,_7[55])){
if(barr.lastPopularBM){
callMethod(this,barr,_7[3],[barr.lastPopularBM]);
barr.lastPopularBM=null;

}

}
var popularIcon=callMethod(this,GLOBAL.$app.userMaster,_7[56],[lvl,v,iconID]);
if(popularIcon){
popularIcon.x=-5;
popularIcon.mouseEnabled=!1;
barr.lastPopularBM=popularIcon;
callMethod(this,barr,_7[1],[popularIcon]);

}

}
var prevPart=callMethod(this,uu,_7[57],[lvl,(popularInfo.pos - 1)]);
var min=prevPart.value;
if((v < min)){
percOpyt=castInt(((v / min) * 100));

}else{
percOpyt=castInt((((v - min) / (popularInfo.value - min)) * 100));

}
txt=('' + v);

}
if(uu.popularList){
if(((lvl - 1) > (uu.popularList.size - 1))){
txt=('' + v);
percOpyt=100;

}

}
barr.txt.text=txt;
if(checkIs(v,_7[58])){
v=0;

}
barr.txt.x=(20 + ((96 - barr.txt.width) / 2));
var barFill=barr.fillBar.painter;
callMethod(this,barFill,_7[2]);
callMethod(this,barFill,_7[59],[0,0,((percOpyt / 100) * (120 / barr.fillBar.scaleX)),(30 / barr.fillBar.scaleY),barFill.fillData]);

};
_app_ZanavesBar[_7[62]]=function(v,mov,lvlObj){
var barr=null;
if(mov){
barr=mov;

}else{
barr=this.opyt;

}
barr.txt.text=('' + v);
if(checkIs(v,_7[58])){
v=0;

}
barr.txt.x=(20 + ((88 - barr.txt.width) / 2));
var percOpyt=callMethod(this,GLOBAL.$app.user,_7[61],[v,lvlObj]);
var barFill=barr.fillBar.painter;
callMethod(this,barFill,_7[2]);
callMethod(this,barFill,_7[59],[0,0,((percOpyt / 100) * (118 / barr.fillBar.scaleX)),(30 / barr.fillBar.scaleY),barFill.fillData]);

};
_app_ZanavesBar[_7[64]]=function(v,mov){
var barr=null;
if(mov){
barr=mov;

}else{
barr=this.healthBar;

}
if(checkIs(v,_7[58])){
barr.txt.text=('' + v);
v=0;

}else{
if((v <= 0)){
v=0;

}
if((v > 100)){
v=100;

}
barr.txt.text=(('' + v) + _7[63]);

}
barr.txt.x=(20 + ((88 - barr.txt.width) / 2));
var barFill=barr.fillBar.painter;
callMethod(this,barFill,_7[2]);
if((v < 15)){
v=15;

}
if((v <= 0)){
v=0;

}
callMethod(this,barFill,_7[59],[0,0,((v / 100) * 118),30,barFill.fillData]);

};
_app_ZanavesBar[_7[65]]=function(v,mov){
var maxEnergy=100;
var barr=null;
if(mov){
barr=mov;

}else{
barr=this.energyBar;

}
barr.txt.text=('' + v);
if(checkIs(v,_7[58])){
v=0;

}
barr.txt.x=(20 + ((88 - barr.txt.width) / 2));
var percOpyt=v;
var barFill=barr.fillBar.painter;
callMethod(this,barFill,_7[2]);
callMethod(this,barFill,_7[59],[0,0,((percOpyt / maxEnergy) * 120),30,barFill.fillData]);

};
_app_ZanavesBar[_7[67]]=function(v){
callMethod(this,this.levelSpr,_7[66],[v]);

};
_app_ZanavesBar[_7[69]]=function(v){
callMethod(this,this.plashkaSpr,_7[68],[v]);

};
_app_ZanavesBar[_7[71]]=function(t,v){
var m=null;
if((t == _7[24])){
m=this.lapkiMoney;

}else if((t == _7[26])){
m=this.kostiMoney;

}

if(m){
callMethod(this,m,_7[70],[v]);

}

};
_app_ZanavesBar[_7[74]]=function(){
var th=this;
if(GLOBAL.$app.uiMobile){

}else{
callMethod(this,GLOBAL.$app.cacheUsers,_7[72],[[GLOBAL.$app.user.id],function(){
var avaUrl=callMethod(this,GLOBAL.$app.cacheUsers,_7[73],[GLOBAL.$app.user.id]);
if(th.avaQ){
if(th.avaQ.parent){
callMethod(this,th.avaQ.parent,_7[3],[th.avaQ]);

}

}
var avaQ=ctorObject(lang.display.Bitmap);
avaQ.x=3;
avaQ.y=1;
avaQ.visible=!1;
callMethod(this,avaQ,_7[29],[{crossOrigin:_7[30]}]);

th.avaQ=avaQ;
callMethod(this,avaQ,_7[21],[_7[22],function(){
if((this.naturalWidth > 50)){
this.scaleX=(50 / this.naturalWidth);

}
if((this.naturalWidth > 50)){
this.scaleY=(50 / this.naturalHeight);

}
this.visible=!0;

}]);
callMethod(this,th.leftBarUMenu.avaCnt,_7[1],[avaQ]);
th.avaQ.src=avaUrl;

}]);

}

};
_app_ZanavesBar[_7[75]]=function(x,y,img,p){
if(img){
callMethod(this,p,_7[59],[x,y,img.imageSize.width,img.imageSize.height,img]);

}

};
_app_ZanavesBar[_7[76]]=function(w,h){
var w1=650;
if((w > w1)){
this.leftBarUMenu.x=((w - w1) / 2);

}else{
this.leftBarUMenu.x=0;

}

};
vm.registerClass(_7[77],_7[78],_app_ZanavesBar);
})(window);



(function(window){
var _286=["getGlobalMousePos","grabMousePos","multitouch","on","mousemove","start","off","stop","scenes.DragMasterEditor"];
var _scenes_DragMasterEditor={};
_scenes_DragMasterEditor["ctor"]=function(spr,koef){
var th=this;
this.spr=spr;
this.koef=koef;
this._bounds=null;
this.startPos={x:0,y:0};
this.isMultitouch=!1;
this.cbMove=function(e){
var poss=callMethod(this,GLOBAL.AppUtils,_286[0],[GLOBAL.$app.stage,(e.mouseX / th.koef),(e.mouseY / th.koef)]);
var xx=(poss.x - th.startPos.x);
var yy=(poss.y - th.startPos.y);
var b=th._bounds;
if(b){
if((-xx < b.x)){
xx=-b.x;

}
if((-yy < b.y)){
yy=-b.y;

}
if((-xx > b.width)){
xx=-b.width;

}
if((-yy > b.height)){
yy=-b.height;

}

}
th.spr.x=xx;
th.spr.y=yy;

};

};
_scenes_DragMasterEditor[_286[5]]=function(){
var pos=callMethod(this,System,_286[1]);
var poss=callMethod(this,GLOBAL.AppUtils,_286[0],[GLOBAL.$app.stage,(pos.x / this.koef),(pos.y / this.koef)]);
this.startPos.x=(poss.x - this.spr.x);
this.startPos.y=(poss.y - this.spr.y);
this.isMultitouch=!1;
if(checkIn(this.spr,_286[2])){
if(this.spr.multitouch){
this.isMultitouch=!0;

}

}
if(this.isMultitouch){
callMethod(this,this.spr,_286[3],[_286[4],this.cbMove]);

}else{
callMethod(this,this.spr.stage,_286[3],[_286[4],this.cbMove]);

}

};
_scenes_DragMasterEditor[_286[7]]=function(){
if(this.isMultitouch){
callMethod(this,this.spr,_286[6],[_286[4],this.cbMove]);

}else{
callMethod(this,this.spr.stage,_286[6],[_286[4],this.cbMove]);

}

};
vm.registerClass(_286[8],'',_scenes_DragMasterEditor);
})(window);

(function(window){
var _0=["#000000","createSpritePainter","Arial","addChild","cb1","#0081CC","#2A8E00","resize","setActive","clear","border","rect","web","scenes.MapEditorPanelMenuItem","lang.display.Sprite"];
var _scenes_MapEditorPanelMenuItem={};
_scenes_MapEditorPanelMenuItem["ctor"]=function(o){
var th=this;
this.w=0;
this.h=0;
this.item=o;
this.id=o[0];
this.clr1=_0[0];
this.bg=callMethod(this,GLOBAL.AppUtils,_0[1]);
this.bg.alpha=0.9;
this.bg1=callMethod(this,GLOBAL.AppUtils,_0[1]);
this.bg1.alpha=0;
this.tf=ctorObject(lang.text.TextField);
this.tf.fontName=_0[2];
this.tf.bold=!0;
this.tf.fontSize=12;
this.tf.text=('' + o[1]);
this.tf.color=16777215;
this.cb1=null;
callMethod(this,null,_0[3],[this.bg,this.tf,this.bg1]);
this.bg1.buttonMode=!0;
this.bg1.click=function(e){
callMethod(this,th,_0[4],[th]);

};
this.buttonMode=!0;

};
_scenes_MapEditorPanelMenuItem[_0[8]]=function(v){
this.clr1=v ? _0[5] : _0[6];
callMethod(this,this,_0[7],[this.w,this.h]);

};
_scenes_MapEditorPanelMenuItem[_0[7]]=function(w,h){
this.w=w;
this.h=h;
callMethod(this,this.bg.painter,_0[9]);
callMethod(this,this.bg1.painter,_0[9]);
callMethod(this,this.bg.painter,_0[10],[1,13421772]);
callMethod(this,this.bg.painter,_0[11],[0,0,w,h,this.clr1]);
callMethod(this,this.bg1.painter,_0[11],[0,0,w,h,_0[0]]);
this.tf.x=((w - this.tf.width) / 2);
this.tf.y=(((h - this.tf.height) + 2) / 2);


};
vm.registerClass(_0[13],_0[14],_scenes_MapEditorPanelMenuItem);
})(window);

(function(window){
var _219=["app.game.PersGameRoom","setUser","addChild","createSpritePainter","rect","#000000","ActivateAlpha","Activate","Deactivate","scenes.MapEditorPersItem","lang.display.Sprite"];
var _scenes_MapEditorPersItem={};
_scenes_MapEditorPersItem["ctor"]=function(u,cb){
var th=this;
this.type=9;
this.itemid=0;
this.w=0;
this.h=0;
this.isEditorItem2=!0;
var spr=ctorObject(_219[0],[null,u]);
callMethod(this,spr,_219[1],[u]);
callMethod(this,null,_219[2],[spr]);
var rectW=(spr.persW + 40);
var rectH=(spr.persH + 40);
var bg=callMethod(this,GLOBAL.AppUtils,_219[3]);
bg.alpha=0;
bg.x=(-rectW / 2);
bg.y=(-(rectH / 2) - 20);
callMethod(this,null,_219[2],[bg]);
bg.buttonMode=!0;
this.rectSpr=bg;
bg.mousedown=function(e){
if(cb){
cb();

}

};
callMethod(this,bg.painter,_219[4],[0,0,rectW,rectH,_219[5]]);

};
_scenes_MapEditorPersItem[_219[6]]=function(){
this.alpha=0.5;

};
_scenes_MapEditorPersItem[_219[7]]=function(){

};
_scenes_MapEditorPersItem[_219[8]]=function(){
this.alpha=1;

};
vm.registerClass(_219[9],_219[10],_scenes_MapEditorPersItem);
})(window);

(function(window){
var _70=["createSpritePainter","addChild","web","стены","scenes.MapEditorPanelMenuItem","setActiveMenu","resize","setItemsList","hideVisNav","removeAllChilds","ceil","cb","renderItemsList","getChildAt","setActive","setActiveItem","clearElements","selectItem1","Выделение","scenes.MapEditorPanelItem","setToolTipText","add","Arial","В","push","wallItem","app.game.items.WallItem","bmName","decorItem","app.game.items.DecorItem","name","pointItem","Красное крепление","app.game.items.PointItem","Жёлтое крепление","itemAction1","title","isMovieClip","gotoAndStop","app.game.items.UniversalActionItem1","persItem","Собачка","scenes.MapEditorPersItem","keyItem1","Ключ","app.game.items.KeyItem","exitItem1","Клетка","app.game.items.ExitItem","upd1","resizeMenu","clear","#000000","scenes.MapEditorPanel","lang.display.Sprite"];
var _scenes_MapEditorPanel={};
_scenes_MapEditorPanel["ctor"]=function(editor){
var th=this;
this.h1=23;
this.activeMenuID=-1;
this.bg=callMethod(this,GLOBAL.AppUtils,_70[0]);
callMethod(this,null,_70[1],[this.bg]);
this.editor=editor;
this.maxItemsPage=5;
this.lastItemsPage=0;
this.curItemsPage=0;
this.curItemsList=null;
this.selectItemSpr=null;
this.cnt=ctorObject(lang.display.Sprite);
this.menuSpr=ctorObject(lang.display.Sprite);
this.menuSpr.y=-this.h1;

this.cnt2=ctorObject(lang.display.Sprite);
this.cnt2.x=220;
this.cnt2.y=20;
this.cntMargin=5;
this.marginMenu=1;
callMethod(this,null,_70[1],[this.cnt2]);
callMethod(this,this.cnt2,_70[1],[this.cnt]);
this.menuList=[[2,_70[3]]];
var i=0;
while((i < this.menuList.size)){
var el=this.menuList[i];
var q=ctorObject(_70[4],[el]);
q.cb1=function(ell){
if((th.activeMenuID != ell.id)){
callMethod(this,th,_70[5],[ell]);

}
th.activeMenuID=ell.id;

};
callMethod(this,this.menuSpr,_70[1],[q]);
callMethod(this,q,_70[6],[50,this.h1]);
i++;
}

};
_scenes_MapEditorPanel[_70[7]]=function(a){
this.curItemsList=a;

};
_scenes_MapEditorPanel[_70[8]]=function(){

};
_scenes_MapEditorPanel[_70[12]]=function(){
callMethod(this,this.cnt,_70[9]);
if(this.curItemsList){
var pages=callMethod(this,Math,_70[10],[(this.curItemsList.size / this.maxItemsPage)]);
var nn=0;
var i=(this.curItemsPage * this.maxItemsPage);
while((i < this.curItemsList.size)){
var el=this.curItemsList[i];
nn+=1;
callMethod(this,el,_70[11],[el.item]);
if((nn >= this.maxItemsPage)){
return !1;

}
i++;
}

}
return !0;

};
_scenes_MapEditorPanel[_70[15]]=function(el){
if(el){
if((el != this.selectItemSpr)){
var i=0;
while((i < this.cnt.numChildren)){
var ell=callMethod(this,this.cnt,_70[13],[i]);
if(ell){
callMethod(this,ell,_70[14],[!1]);

}
i++;
}
callMethod(this,el,_70[14],[!0]);
if(el.cb){
callMethod(this,el,_70[11],[el]);

}
this.selectItemSpr=el;

}else{
if(this.selectItemSpr){
callMethod(this,this.selectItemSpr,_70[14],[!1]);
this.selectItemSpr=null;

}

}

}

};
_scenes_MapEditorPanel[_70[5]]=function(el){
var th=this;
var th2=this;
if(el){
var i=0;
while((i < this.menuSpr.numChildren)){
var o=callMethod(this,this.menuSpr,_70[13],[i]);
callMethod(this,o,_70[14],[(el.id == o.id)]);
i++;
}
var vv6=!1;
if((el.id == 0)){
vv6=!0;

}
if((el.id == 1)){
this.cnt2.x=130;

}else if((el.id == 4)){
this.cnt2.x=130;

}else{
this.cnt2.x=120;

}

callMethod(this,th.editor.panel1,_70[16]);
th.selectItemSpr=null;
th.curItemsList=null;
th.curItemsPage=0;
callMethod(this,th,_70[8]);
var aa=[];
if((el.id == 1)){

}else if((el.id == 2)){
var ob3={item:{category:_70[17],type:'',name:_70[18]},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,qq,_70[20],[obb.name,th.editor.ev]);
callMethod(this,th2,_70[21],[qq]);
var tff=ctorObject(lang.text.TextField);
tff.fontName=_70[22];
tff.bold=!0;
tff.fontSize=30;
tff.text=_70[23];
tff.color=16777215;
tff.filters=GLOBAL.Config.shadowText2;
tff.x=10;
tff.y=10;
if(GLOBAL.$app.isStandalone){
tff.y-=4;

}
callMethod(this,qq.bg1,_70[1],[tff]);

}};
callMethod(this,aa,_70[24],[ob3]);
var wallsList=GLOBAL.$app.gameMaster.wallItemsArr;
var i=0;
while((i < wallsList.size)){
var elq=wallsList[i];
var tt=elq.t;
var nm=elq.name;
var ob3={item:{category:_70[25],type:tt,name:nm},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,qq,_70[20],[obb.name,th.editor.ev]);
callMethod(this,th2,_70[21],[qq]);
var q2=ctorObject(_70[26],[obb.type]);
q2.isBorderEnable=!1;
callMethod(this,q2,_70[6],[40,40]);
q2.x=(45 / 2);
q2.y=(45 / 2);
callMethod(this,qq.bg1,_70[1],[q2]);

}};
callMethod(this,aa,_70[24],[ob3]);
i++;
}

}else if((el.id == 3)){
var itemsDecor=GLOBAL.$app.gameMaster.decorItemsList;
var i=0;
while((i < itemsDecor.size)){
var el2=itemsDecor[i];
if(checkIn(el2,_70[27])){
var nm1=el2.bmName;
var idd=el2.id;
callMethod(this,aa,_70[24],[{item:{category:_70[28],id:idd,name:nm1,o:el2},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,th2,_70[21],[qq]);
var spp=ctorObject(_70[29],[obb.id]);
if(checkIn(obb.o,_70[30])){
callMethod(this,qq,_70[20],[obb.o.name,th.editor.ev]);

}
var ww=40;
var hh=40;
spp.scaleX=(ww / spp.w);
spp.scaleY=(hh / spp.h);
spp.x=(ww / 2);
spp.x+=3;
spp.y=(3 + (hh / 2));
callMethod(this,qq.bg1,_70[1],[spp]);

}}]);

}
i++;
}

}else if((el.id == 4)){
callMethod(this,aa,_70[24],[{item:{category:_70[31],o:{id:20,x:0,y:0,tt:1}},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,th2,_70[21],[qq]);
callMethod(this,qq,_70[20],[_70[32],th.editor.ev]);
var spp=ctorObject(_70[33],[obb.o.tt]);
spp.x=22;
spp.y=22;
callMethod(this,qq.bg1,_70[1],[spp]);

}}]);
callMethod(this,aa,_70[24],[{item:{category:_70[31],o:{id:20,x:0,y:0,tt:2}},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,th2,_70[21],[qq]);
callMethod(this,qq,_70[20],[_70[34],th.editor.ev]);
var spp=ctorObject(_70[33],[obb.o.tt]);
spp.x=22;
spp.y=22;
callMethod(this,qq.bg1,_70[1],[spp]);

}}]);
var i=0;
while((i < GLOBAL.$app.gameMaster.gameItemsAction1.size)){
var ell=GLOBAL.$app.gameMaster.gameItemsAction1[i];
callMethod(this,aa,_70[24],[{item:{category:_70[35],id:ell.id,type:ell.type,o:ell},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,th2,_70[21],[qq]);
var nm3=obb.o.bmName;
if(checkIn(obb.o,_70[36])){
callMethod(this,qq,_70[20],[obb.o.title,th.editor.ev]);

}
var spp=null;
var isMovieClip=!1;
if(obb.o.ob1){
if(checkIn(obb.o.ob1,_70[37])){
if(obb.o.ob1.isMovieClip){
isMovieClip=!0;

}

}

}
var ww=40;
var hh=40;
if(isMovieClip){
if(checkIn(GLOBAL,nm3)){
var cl=GLOBAL[nm3];
spp=ctorObject(cl);
spp.bmcObject=callMethod(this,spp,_70[13],[0]);
callMethod(this,spp.bmcObject,_70[38],[obb.o.ob1.frame]);
var curFrame=spp.bmcObject.frames[obb.o.ob1.frame];
var w1=curFrame[2];
var h1=curFrame[3];
if((w1 > ww)){
spp.scaleX=(ww / w1);

}
if((h1 > hh)){
spp.scaleY=(hh / h1);

}
spp.x=3;
spp.y=3;

}

}else{
spp=ctorObject(_70[39],[obb.type]);
if((spp.w > ww)){
spp.scaleX=(ww / spp.w);

}
if((spp.h > hh)){
spp.scaleY=(hh / spp.h);

}
spp.x=(ww / 2);
spp.x+=3;
spp.y=(3 + (hh / 2));

}
callMethod(this,qq.bg1,_70[1],[spp]);

}}]);
i++;
}

}else if((el.id == 5)){
callMethod(this,aa,_70[24],[{item:{category:_70[40]},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,qq,_70[20],[_70[41],th.editor.ev]);
callMethod(this,th2,_70[21],[qq]);
var persItem=ctorObject(_70[42],[null,function(){

}]);
persItem.scaleX=0.8;
persItem.scaleY=0.8;
persItem.x=25;
persItem.y=25;
callMethod(this,qq.bg1,_70[1],[persItem]);

}}]);
callMethod(this,aa,_70[24],[{item:{category:_70[43]},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,qq,_70[20],[_70[44],th.editor.ev]);
callMethod(this,th2,_70[21],[qq]);
var spp=ctorObject(_70[45]);
spp.x=22;
spp.y=21;
callMethod(this,qq.bg1,_70[1],[spp]);

}}]);
callMethod(this,aa,_70[24],[{item:{category:_70[46]},cb:function(obb){
var qq=ctorObject(_70[19],[th,obb,function(q){

}]);
callMethod(this,qq,_70[20],[_70[47],th.editor.ev]);
callMethod(this,th2,_70[21],[qq]);
var spp=ctorObject(_70[48]);
spp.x=21;
spp.y=21;
spp.scaleX=0.4;
spp.scaleY=0.4;
callMethod(this,qq.bg1,_70[1],[spp]);

}}]);

}




callMethod(this,this,_70[7],[aa]);
callMethod(this,this,_70[12]);

}

};
_scenes_MapEditorPanel[_70[21]]=function(c){
c.x=((c.w + this.cntMargin) * this.cnt.numChildren);
callMethod(this,this.cnt,_70[1],[c]);
callMethod(this,this,_70[49]);

};
_scenes_MapEditorPanel[_70[16]]=function(){
callMethod(this,this.cnt,_70[9]);

};
_scenes_MapEditorPanel[_70[50]]=function(w,h){
var i=0;
while((i < this.menuSpr.numChildren)){
var el=callMethod(this,this.menuSpr,_70[13],[i]);
el.x=(i * (w + this.marginMenu));
callMethod(this,el,_70[6],[w,el.h]);
i++;
}

};
_scenes_MapEditorPanel[_70[49]]=function(){

};
_scenes_MapEditorPanel[_70[6]]=function(editor,w,h){
callMethod(this,this.bg.painter,_70[51]);
this.bg.alpha=0.7;
var clr1=_70[52];
var itemsAllWidth=((w - 228) - this.cnt2.x);
var itemsAllCount=castInt((itemsAllWidth / 40));
this.maxItemsPage=itemsAllCount;
if((this.maxItemsPage != this.lastItemsPage)){
this.curItemsPage=0;
callMethod(this,this,_70[12]);

}
callMethod(this,this,_70[49]);
this.lastItemsPage=this.maxItemsPage;
var numsMenu=this.menuSpr.numChildren;
var menuW=castInt(((w - (numsMenu * this.marginMenu)) / numsMenu));
this.menuSpr.x=(this.marginMenu + ((((w - (menuW * numsMenu)) - (this.marginMenu * numsMenu)) - this.marginMenu) / 2));
callMethod(this,this,_70[50],[menuW,h]);

};
_scenes_MapEditorPanel[_70[51]]=function(){
this.activeMenuID=-1;

};
vm.registerClass(_70[53],_70[54],_scenes_MapEditorPanel);
})(window);

(function(window){
var _168=["createSpritePainter","addChild","setActiveItem","setState","setActive","clear","#000000","#677382","border","rect","addTooltipText","setToolTipText","scenes.MapEditorPanelItem","lang.display.Sprite"];
var _scenes_MapEditorPanelItem={};
_scenes_MapEditorPanelItem["ctor"]=function(editorPanel,o,cb){
var th=this;
this.item=o;
this.w=45;
this.isActive=!1;
this.cb=cb;
this.bg=callMethod(this,GLOBAL.AppUtils,_168[0]);
this.bg2=callMethod(this,GLOBAL.AppUtils,_168[0]);
this.bg1=callMethod(this,GLOBAL.AppUtils,_168[0]);
this.bg1.mouseEnabled=!1;
callMethod(this,null,_168[1],[this.bg,this.bg1]);
this.bg.buttonMode=!0;
this.bg.click=function(e){
callMethod(this,editorPanel,_168[2],[th]);

};
callMethod(this,th,_168[3],[0]);

};
_scenes_MapEditorPanelItem[_168[4]]=function(v){
this.isActive=v;
if(v){
callMethod(this,this,_168[3],[1]);

}else{
callMethod(this,this,_168[3],[0]);

}

};
_scenes_MapEditorPanelItem[_168[3]]=function(v){
callMethod(this,this.bg.painter,_168[5]);
this.bg.alpha=0.7;
var clr1=13421772;
var clr2=_168[6];
if(this.isActive){
clr1=16776960;
clr2=_168[7];

}
callMethod(this,this.bg.painter,_168[8],[1,clr1]);
callMethod(this,this.bg.painter,_168[9],[0,0,this.w,this.w,clr2]);

};
_scenes_MapEditorPanelItem[_168[11]]=function(v,ev){
if(v){
if((v.size > 0)){
this.bg.tooltipWH={h:20};
callMethod(this,GLOBAL.ToolTip,_168[10],[this.bg,v,ev]);

}

}

};
vm.registerClass(_168[12],_168[13],_scenes_MapEditorPanelItem);
})(window);

(function(window){
var _20=["createSpritePainter","addChild","setState","setActive","clear","#000000","#677382","border","rect","addTooltipText","setToolTipText","scenes.MapEditorPanelItem2","lang.display.Sprite"];
var _scenes_MapEditorPanelItem2={};
_scenes_MapEditorPanelItem2["ctor"]=function(editorPanel,o,cb){
var th=this;
this.item=o;
this.w=45;
this.isActive=!1;
this.cb=cb;
this.bg=callMethod(this,GLOBAL.AppUtils,_20[0]);
this.bg2=callMethod(this,GLOBAL.AppUtils,_20[0]);
this.bg1=callMethod(this,GLOBAL.AppUtils,_20[0]);
this.bg1.mouseEnabled=!1;
callMethod(this,null,_20[1],[this.bg,this.bg1]);
this.bg.buttonMode=!0;
this.bg.click=function(e){
if(cb){
cb(th);

}

};
callMethod(this,th,_20[2],[0]);

};
_scenes_MapEditorPanelItem2[_20[3]]=function(v){
this.isActive=v;
if(v){
callMethod(this,this,_20[2],[1]);

}else{
callMethod(this,this,_20[2],[0]);

}

};
_scenes_MapEditorPanelItem2[_20[2]]=function(v){
callMethod(this,this.bg.painter,_20[4]);
this.bg.alpha=0.7;
var clr1=12237498;
var clr2=_20[5];
if(this.isActive){
clr1=16776960;
clr2=_20[6];

}
callMethod(this,this.bg.painter,_20[7],[1,clr1]);
callMethod(this,this.bg.painter,_20[8],[0,0,this.w,this.w,clr2]);

};
_scenes_MapEditorPanelItem2[_20[10]]=function(v,ev){
if(v){
if((v.size > 0)){
this.bg.tooltipWH={h:20};
callMethod(this,GLOBAL.ToolTip,_20[9],[this.bg,v,ev]);

}

}

};
vm.registerClass(_20[11],_20[12],_scenes_MapEditorPanelItem2);
})(window);

(function(window){
var _83=["addChild","setTarget","setType","wallGameT",".png","wallGameT1.png","getAssetByName","resize","Activate","ActivateAlpha","Deactivate","clear","border","rect","getGlobalMousePos","min","abs","updateRender","mouseMove","on","mousemove","mouseHandler","mouseup","mouseHandlerUp","mouseHandler2","scenes.EditorWallItem","cloneItem","lang.display.Sprite"];
var _scenes_EditorWallItem={};
_scenes_EditorWallItem["ctor"]=function(id){
this.w=0;
this.h=0;
this.id=id;
this.flags1=0;
this.isEditorItem2=!0;
this.isWallItem=!0;
this.isScaleImg=!1;
this.type=2;
this.itemid=id;
this.isActive=!1;
this.dragPos={x:0,y:0};
this.spr=ctorObject(lang.display.Sprite);
this.spr.scaleX=0.5;
this.spr.scaleY=0.5;
callMethod(this,null,_83[0],[this.spr]);
this.rectSpr=this.spr;
this.p=ctorObject(lang.display.Painter);
callMethod(this,this.p,_83[1],[this.spr]);
this.ev1=ctorObject(lang.events.EventsObjectMaster);
callMethod(this,this,_83[2],[id]);
if(this.isScaleImg){
callMethod(this,null,_83[0],[this.clr]);

}

};
_scenes_EditorWallItem[_83[2]]=function(id){
this.id=id;
this.itemid=id;
this.alpha=1;
var nm=((_83[3] + id) + _83[4]);
if((id == 0)){
nm=_83[5];

}else if((id == 8)){
nm=_83[5];

}

this.clr=callMethod(this,GLOBAL.$app.moviesReader,_83[6],[nm]);

};
_scenes_EditorWallItem[_83[8]]=function(){
this.isActive=!0;
callMethod(this,null,_83[7],[this.w,this.h]);

};
_scenes_EditorWallItem[_83[9]]=function(){
this.spr.alpha=0.5;

};
_scenes_EditorWallItem[_83[10]]=function(){
this.spr.alpha=1;
this.isActive=!1;
callMethod(this,null,_83[7],[this.w,this.h]);

};
_scenes_EditorWallItem[_83[7]]=function(w,h){
var th=this;
this.w=w;
this.h=h;
w=(w / th.spr.scaleX);
h=(h / th.spr.scaleY);
callMethod(this,this.p,_83[11]);
callMethod(this,this.p,_83[12],[1,0,0.5]);
if(this.isScaleImg){
this.clr.scaleX=(w / 128);
this.clr.scaleY=(h / 128);

}else{
if(this.isActive){
callMethod(this,this.p,_83[12],[3,0]);

}
callMethod(this,this.p,_83[13],[0,0,w,h,this.clr]);

}

};
_scenes_EditorWallItem[_83[18]]=function(editor,e,cont){
var poss=callMethod(this,GLOBAL.AppUtils,_83[14],[cont,e.mouseX,e.mouseY]);
poss.x=(poss.x - cont.x);
poss.y=(poss.y - cont.y);
var _x=castInt((callMethod(this,Math,_83[15],[poss.x,this.dragPos.x]) - (cont.x / cont.scaleX)));
var _y=castInt((callMethod(this,Math,_83[15],[poss.y,this.dragPos.y]) - (cont.y / cont.scaleY)));
var w=callMethod(this,Math,_83[16],[(poss.x - this.dragPos.x)]);
var h=callMethod(this,Math,_83[16],[(poss.y - this.dragPos.y)]);
w=castInt(w);
h=castInt(h);
if((w <= 5)){
w=5;

}
if((h <= 5)){
h=5;

}
if((w > editor.maxWallW)){
w=editor.maxWallW;

}
if((h > editor.maxWallH)){
h=editor.maxWallH;

}
var isBorderV=!0;
if((cont.scaleX != 1)){
isBorderV=!1;

}
this.x=castInt(_x);
this.y=castInt(_y);
callMethod(this,this,_83[7],[w,h,isBorderV]);
callMethod(this,editor,_83[17]);

};
_scenes_EditorWallItem[_83[21]]=function(editor,e,cont){
var th=this;
var poss=callMethod(this,GLOBAL.AppUtils,_83[14],[cont,e.mouseX,e.mouseY]);
th.dragPos.x=(poss.x - cont.x);
th.dragPos.y=(poss.y - cont.y);
callMethod(this,th,_83[18],[editor,e,cont]);
callMethod(this,this.ev1,_83[19],[GLOBAL.$app.stage,_83[20],function(e){
callMethod(this,th,_83[18],[editor,e,cont]);

}]);

};
_scenes_EditorWallItem[_83[24]]=function(sp,editor,pp,cont){
var th=this;
var startX=(pp.x - sp.x);
var startY=(pp.y - sp.y);
var dragPosX=pp.origX;
var dragPosY=pp.origY;
var dragW=th.w;
var dragH=th.h;
callMethod(this,this.ev1,_83[19],[GLOBAL.$app.stage,_83[20],function(e){
var poss=callMethod(this,GLOBAL.AppUtils,_83[14],[cont,e.mouseX,e.mouseY]);
var mxx=(poss.x - cont.x);
var myy=(poss.y - cont.y);
var _x=castInt((callMethod(this,Math,_83[15],[mxx,startX]) - (cont.x / cont.scaleX)));
var _y=castInt(((callMethod(this,Math,_83[15],[myy,startY]) - (cont.y / cont.scaleY)) - GLOBAL.$app.scene.sceneSpr.y));
var w=callMethod(this,Math,_83[16],[((dragW + mxx) - dragPosX)]);
var h=callMethod(this,Math,_83[16],[((dragH + myy) - dragPosY)]);
w=castInt(w);
h=castInt(h);
if((w <= 5)){
w=5;

}
if((h <= 5)){
h=5;

}
if((w > editor.maxWallW)){
w=editor.maxWallW;

}
if((h > editor.maxWallH)){
h=editor.maxWallH;

}
var isBorderV=!0;
if((cont.scaleX != 1)){
isBorderV=!1;

}
sp.x=w;
sp.y=h;
th.x=castInt(_x);
th.y=castInt(_y);
callMethod(this,th,_83[7],[w,h,isBorderV]);
callMethod(this,editor,_83[17]);

}]);
callMethod(this,this.ev1,_83[19],[GLOBAL.$app.stage,_83[22],function(e){
callMethod(this,th,_83[23],[e]);

}]);

};
_scenes_EditorWallItem[_83[23]]=function(e){
callMethod(this,this.ev1,_83[11]);

};
_scenes_EditorWallItem[_83[26]]=function(){
var c=ctorObject(_83[25],[this.id]);
callMethod(this,c,_83[7],[this.w,this.h]);
c.type=this.type;
c.itemid=this.itemid;
c.x=this.x;
c.y=this.y;
c.rotation=this.rotation;
c.flags1=this.flags1;
return c;

};
vm.registerClass(_83[25],_83[27],_scenes_EditorWallItem);
})(window);

(function(window){
var _27=["addChild","setTarget","#000000","resize","Activate","Deactivate","clear","border","rect","getGlobalMousePos","min","abs","updateRender","mouseMove","on","mousemove","mouseHandler","mouseup","mouseHandlerUp","mouseHandler2","upCB","scenes.EditorSelectableItem","lang.display.Sprite"];
var _scenes_EditorSelectableItem={};
_scenes_EditorSelectableItem["ctor"]=function(){
this.w=0;
this.h=0;
this.isActive=!1;
this.dragPos={x:0,y:0};
this.spr=ctorObject(lang.display.Sprite);
this.spr.alpha=0.5;
callMethod(this,null,_27[0],[this.spr]);
this.p=ctorObject(lang.display.Painter);
callMethod(this,this.p,_27[1],[this.spr]);
this.ev1=ctorObject(lang.events.EventsObjectMaster);
this.clr=_27[2];

};
_scenes_EditorSelectableItem[_27[4]]=function(){
this.isActive=!0;
callMethod(this,null,_27[3],[this.w,this.h]);

};
_scenes_EditorSelectableItem[_27[5]]=function(){
this.isActive=!1;
callMethod(this,null,_27[3],[this.w,this.h]);

};
_scenes_EditorSelectableItem[_27[3]]=function(w,h){
var th=this;
this.w=w;
this.h=h;
w=(w / th.spr.scaleX);
h=(h / th.spr.scaleY);
callMethod(this,this.p,_27[6]);
callMethod(this,this.p,_27[7],[3,13421772]);
callMethod(this,this.p,_27[8],[0,0,w,h,this.clr]);

};
_scenes_EditorSelectableItem[_27[13]]=function(editor,e,cont){
var poss=callMethod(this,GLOBAL.AppUtils,_27[9],[cont,e.mouseX,e.mouseY]);
poss.x=(poss.x - cont.x);
poss.y=(poss.y - cont.y);
var _x=castInt(callMethod(this,Math,_27[10],[poss.x,this.dragPos.x]));
var _y=castInt((callMethod(this,Math,_27[10],[poss.y,this.dragPos.y]) - GLOBAL.$app.scene.sceneSpr.y));
var w=callMethod(this,Math,_27[11],[(poss.x - this.dragPos.x)]);
var h=callMethod(this,Math,_27[11],[(poss.y - this.dragPos.y)]);
w=castInt(w);
h=castInt(h);
if((w <= 5)){
w=5;

}
if((h <= 5)){
h=5;

}
var isBorderV=!0;
if((cont.scaleX != 1)){
isBorderV=!1;

}
this.x=castInt(_x);
this.y=castInt(_y);
callMethod(this,this,_27[3],[w,h,isBorderV]);
callMethod(this,editor,_27[12]);

};
_scenes_EditorSelectableItem[_27[16]]=function(editor,e,cont){
var th=this;
var poss=callMethod(this,GLOBAL.AppUtils,_27[9],[cont,e.mouseX,e.mouseY]);
th.dragPos.x=(poss.x - cont.x);
th.dragPos.y=(poss.y - cont.y);
callMethod(this,th,_27[13],[editor,e,cont]);
callMethod(this,this.ev1,_27[14],[GLOBAL.$app.stage,_27[15],function(e){
callMethod(this,th,_27[13],[editor,e,cont]);

}]);

};
_scenes_EditorSelectableItem[_27[19]]=function(sp,editor,pp,cont){
var th=this;
var startX=(pp.x - sp.x);
var startY=(pp.y - sp.y);
var dragPosX=pp.origX;
var dragPosY=pp.origY;
var dragW=th.w;
var dragH=th.h;
callMethod(this,this.ev1,_27[14],[GLOBAL.$app.stage,_27[15],function(e){
var poss=callMethod(this,GLOBAL.AppUtils,_27[9],[cont,e.mouseX,e.mouseY]);
var mxx=(poss.x - cont.x);
var myy=(poss.y - cont.y);
var _x=castInt((callMethod(this,Math,_27[10],[mxx,startX]) - (cont.x / cont.scaleX)));
var _y=castInt(((callMethod(this,Math,_27[10],[myy,startY]) - (cont.y / cont.scaleY)) - GLOBAL.$app.scene.sceneSpr.y));
var w=callMethod(this,Math,_27[11],[((dragW + mxx) - dragPosX)]);
var h=callMethod(this,Math,_27[11],[((dragH + myy) - dragPosY)]);
w=castInt(w);
h=castInt(h);
if((w <= 5)){
w=5;

}
if((h <= 5)){
h=5;

}
var isBorderV=!0;
if((cont.scaleX != 1)){
isBorderV=!1;

}
sp.x=w;
sp.y=h;
callMethod(this,th,_27[3],[w,h,isBorderV]);
callMethod(this,editor,_27[12]);

}]);
callMethod(this,this.ev1,_27[14],[GLOBAL.$app.stage,_27[17],function(e){
callMethod(this,th,_27[18],[e]);

}]);

};
_scenes_EditorSelectableItem[_27[18]]=function(e){
callMethod(this,this.ev1,_27[6]);
if(this.upCB){
callMethod(this,this,_27[20]);

}
this.upCB=null;

};
vm.registerClass(_27[21],_27[22],_scenes_EditorSelectableItem);
})(window);

(function(window){
var _36=["dogsgame3_tmap","app.game.BackgroundSprite","drawMovie","createPainter","Arial","проверить","runTestMap","время","wallGameT",".png","getAssetBitmap","scenes.MapEditorPanelItem2","closeCurSelectPanel2","changeBG","loadBackgroundBitmap","BitmapResize","addChild","loadBG","getAbsolutePos","push","pointItem","Красное крепление","Жёлтое крепление","teleportItem","itemAction1","setActive","app.game.items.PointItem","removeAllChilds","app.game.items.TeleportItem","teleportItemEditorBM","isMovieClip","getChildAt","gotoAndStop","app.game.items.UniversalActionItem1","title","setToolTipText","bmName","decorItem","app.game.items.DecorItem","name","textItem","Текст","A","width","height","time","v","bg","items","t","id","x","y","cx","cy","w","h","r","pers","setNextTimeMap","действия","Играть","web","Скачать карты","binaryGet","clear","/mapsPack","read","getMapsCount","openPopUpMinText1","\n\nЗагружено "," карт.","\n\nОшибка загрузки карт","Обновить карту","getCodeMap","encode","send","\n\nКарта \"","\" обновлена","\n\nОшибка обновления карты","maps.updateWorldMap","На модерацию","checkMapFunc","getMapItemsText","текст","openPopUpMapEditorSaveMapServer","Карта id "," отправлена на модерацию","\n\nУ вас недостаточно лапок","\n\nКарта не отправлена","maps.savemap","deleteEditorElement","На карте больше ","На карте меньше "," элементов.","\n","openPopUpConfirmMsgYesNo","Нужно пройти карту, готовы?","\n\nКарта обновлена","maps.updatemapuser","\n\nОшибка обновления карты ID ","Создать мир","checkMapWallFunc","worldCreate","playMyWorld","Сохранить в файл","writeUTFBytes","map_","getTimestamp","randomInt","_",".txt","savemaps","/","isDirectory","mkdir","write","\nКарта сохранена в папку \"","\"\nполный путь \"","\"","saveBytes","Открыть карту","app.game.GameMap","parseMap","validateMap","openMapEditor","\n\nОшибка открытия карты","android","openPopUpMapEditorOpenMapDrag","isModeratorMaps","Модерация карт","navMapsAlbumType","modmaps","Альбом карт","allmaps","Очистить карту","removeItem","Консоль","openPopUpMapEditorConsole","split"," ","shift","runEditorCmd","\n\nКоманда выполнена","\n\nКоманда не выполнена","\n\n","openPopUpText1","openMenuList1","Действия","imageSizeData","scenes.MapEditorPanel","updateRender","setMapTime","updateMapBut","mapCodeBut","setTarget","getTargetElem","isTargetItemEditor","getGlobalMousePos","mouseHandlerUp","category","selectItem1","scenes.EditorSelectableItem","removeChild","setSelectableRectFunc","mouseHandler","wallItem","scenes.EditorWallItem","addItemEditor","drawItemObjMap","keyItem1","exitItem1","persItem","startDrag","defInit","min","max","rIntersect2","createRect","Polygon","rotate","collision","findSelectedItemObj","ActivateAlpha","saveTempMap","saveCurMapFunc1","9","Собачка","10","Клетка","11","Ключ","getMapItemByType","isAccessDeleteItem","removeEditorItem","clearSelectedItems","type","getMapItemsCountByType","startDragSelectedItems","del","removeSelectedItem","Deactivate","isEditorItem2","rectSpr","scenes.DragMasterEditor","start","Отражение","cloneItem","setScaleReverseItem","Информация","id декорации: ","тип: ","x: ","\ny: ","\nширина: ","\nвысота: ","\nповорот: ","getChildIndex","\nглубина: ","<br /><br />","Создать копию","Сменить стену","setType","Activate","mapEditorChangeWall","Настроить текст","openPopUpMapEditorTextSettings","Сменить на жёлтое","Сменить на красное","flags1","Выкл. физику","Вкл. физику","Настроить","openPopUpMapEditorTrampolineSettings","openPopUpMapEditorWallRestSettings","Выделить все","Удалить","Параметры","changeTempMapFunc1","init","stop","setDebug","plusPosItems","mapRotate","resetPos1","loadScriptsBox2D","mapeditor","world","navGameRoom","navMapEditor","transformPoint","removeDomCanvas","removeScene","navHome","navSceneMenu","openMapEditorWorld","drawMapEditor","eachItems","setZoomContent","setActiveMenu","Фон","Декор","Предметы","AppButtonExit2","on","rollover","rollout","addDomCanvas","getItem","decode","mousedown","noClickItem","activateElemsView","checkClickMenu1","mouseup","keydown","setChildIndex","keyboardEventHandler","keyup","isShowChat","/tempMap1.txt","setItem","f1","restType","resize","app.game.items.TrampolineItem","jumpLevel","scenes.MapEditorPersItem","app.game.items.TextItem","app.game.items.ExitItem","app.game.items.KeyItem","teleportItemA","toMinSec","время: ","info","updateNavUIButtons","на карте: ","clearItemsUI1","bitmap","infoBut3.png","rectSpr2","rclick","deleteBut3.png","Удалить элемент?","isWallItem","resizeBut3.png","mouseHandler2","rotateBut3.png","mousemove","atan2","rotateData","calculateMapSize","getBGID","getBounds","text","fill","fontSize","fontName","setBG","redrawBG","rect","#000000","scenes.MapEditor","lang.display.Sprite"];
var _scenes_MapEditor={};
_scenes_MapEditor["ctor"]=function(){
this.version=1;
var th=this;
this.tempMapStorageKey=_36[0];
this.maxWallW=800;
this.maxWallH=300;
this.mapMaxItemsNums=500;
this.tmSave1=null;
this.bgImg=ctorObject(_36[1]);
this.koef=1;
this.bgCurID=0;
this.bgID2=0;
this.activeItem=null;
this.worldInfo=null;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.mapTimeV=0;
this.firstInit=!1;
this.selectedItemsList=[];
this.itemsUIArr=[];
this.itemsUINavObj={};
this.mov=callMethod(this,GLOBAL.$app.moviesReader,_36[2],[22]);
this.panelH=90;
this.curMapID=0;
this.curUMapID=0;
this.plashkaSpr=ctorObject(lang.display.Sprite);
this.plashkaSpr.scaleX=0.5;
this.plashkaSpr.scaleY=0.5;
callMethod(this,this.plashkaSpr,_36[3]);
this.txtTestMap=ctorObject(lang.text.TextField);
this.txtTestMap.fontName=_36[4];
this.txtTestMap.bold=!0;
this.txtTestMap.text=_36[5];
this.txtTestMap.color=16777215;
this.txtTestMap.buttonMode=!0;
this.txtTestMap.filters=GLOBAL.Config.shadowText2;
this.txtTestMap.click=function(){
callMethod(this,th,_36[6]);

};
this.txtTimeMap=ctorObject(lang.text.TextField);
this.txtTimeMap.color=16777215;
this.txtTimeMap.x=10;
this.txtTimeMap.y=40;
this.txtTimeMap.fontSize=14;
this.txtTimeMap.filters=GLOBAL.Config.shadowText2;
this.txtTimeMap.buttonMode=!0;
this.txtTimeMap.text=_36[7];
this.exitBut=null;
this.leftPanelM=ctorObject(lang.display.Sprite);
this.leftPanelM.x=25;
if(GLOBAL.$app.isWallOptimize){
var wallsList=[1,6,7,2,9];
var i=0;
while((i < wallsList.size)){
var tt=wallsList[i];
var nm=((_36[8] + tt) + _36[9]);
var bmWall=callMethod(this,GLOBAL.$app.moviesReader,_36[10],[nm]);
i++;
}

}
this.bgMenuItem=null;
this.curSelectSpr3=null;
this.curDecorID=0;
var yy3=0;
var bgMenuItem=ctorObject(_36[11],[th,{id:0},function(q){
var isR2=!1;
if(th.curSelectSpr3){
isR2=!0;

}
th.panel1.selectItemSpr=null;
callMethod(this,th,_36[12]);
if(!isR2){
var sp7=ctorObject(lang.display.Sprite);
th.curSelectSpr3=sp7;
var kk=0;
var k=0;
while((k < GLOBAL.Config.backgroundsGameRoom.size)){
var bgObj=GLOBAL.Config.backgroundsGameRoom[k];
if((bgObj.id != th.bgCurID)){
var qq=ctorObject(_36[11],[th,{id:bgObj.id},function(q){
callMethod(this,th,_36[13],[q.item.id]);
callMethod(this,th,_36[12]);

}]);
qq.loadBG=function(){
var th2=this;
callMethod(this,GLOBAL.$app.gameMaster,_36[14],[th2.item.id,function(bm){
bm.x=((th2.w - 40) / 2);
bm.y=((th2.w - 40) / 2);
callMethod(this,GLOBAL.AppUtils,_36[15],[bm,40,40]);
callMethod(this,th2.bg1,_36[16],[bm]);

}]);

};
qq.x=((qq.w + 5) * kk);
kk+=1;
callMethod(this,sp7,_36[16],[qq]);
callMethod(this,qq,_36[17]);

}
k++;
}
var pos3=callMethod(this,bgMenuItem,_36[18]);
sp7.x=(pos3.x + 50);
sp7.y=pos3.y;
callMethod(this,th,_36[16],[sp7]);

}

}]);
bgMenuItem.y=yy3;
callMethod(this,this.leftPanelM,_36[16],[bgMenuItem]);
yy3+=55;
this.bgMenuItem=bgMenuItem;
var ItemsMenuItem=ctorObject(_36[11],[th,{},function(q){
var isR2=!1;
if(th.curSelectSpr3){
isR2=!0;

}
callMethod(this,th,_36[12]);
th.panel1.selectItemSpr=null;
if(!isR2){
var sp7=ctorObject(lang.display.Sprite);
th.curSelectSpr3=sp7;
var kk=0;
var itemsDecor2=GLOBAL.$app.gameMaster.gameItemsAction1;
var itemType=GLOBAL.GameRoomItemType;
var aa=[];
callMethod(this,aa,_36[19],[{category:_36[20],o:{id:itemType.POINT,x:0,y:0,tt:1,title:_36[21]}}]);
callMethod(this,aa,_36[19],[{category:_36[20],o:{id:itemType.POINT,x:0,y:0,tt:2,title:_36[22]}}]);
callMethod(this,aa,_36[19],[{category:_36[23],o:{id:itemType.TELEPORT,x:0,y:0,title:'Телепорт, синий - вход, красный - выход'}}]);
var i=0;
while((i < itemsDecor2.size)){
var ell=itemsDecor2[i];
var obb={category:_36[24],id:ell.id,type:ell.type,o:ell};
callMethod(this,aa,_36[19],[obb]);
i++;
}
var i=0;
while((i < aa.size)){
var obb=aa[i];
var categ=obb.category;
var ww=40;
var hh=40;
var qq=ctorObject(_36[11],[th,obb,function(q){
callMethod(this,q,_36[25],[!0]);
th.panel1.selectItemSpr=q;
var categ=q.item.category;
var obb=q.item;
if((categ == _36[20])){
var spp=ctorObject(_36[26],[obb.o.tt]);
spp.x=22;
spp.y=22;
callMethod(this,ItemsMenuItem.bg1,_36[27]);
callMethod(this,ItemsMenuItem.bg1,_36[16],[spp]);

}else if((categ == _36[23])){
var spp=ctorObject(_36[28]);
callMethod(this,spp,_36[29]);
if((spp.w > ww)){
spp.scaleX=(ww / spp.w);

}
if((spp.h > hh)){
spp.scaleY=(hh / spp.h);

}
spp.x=22;
spp.y=22;
callMethod(this,ItemsMenuItem.bg1,_36[27]);
callMethod(this,ItemsMenuItem.bg1,_36[16],[spp]);

}else{
var nm3=obb.o.bmName;
var spp=null;
var isMovieClip=!1;
if(obb.o.ob1){
if(checkIn(obb.o.ob1,_36[30])){
if(obb.o.ob1.isMovieClip){
isMovieClip=!0;

}

}

}
var spp=null;
if(isMovieClip){
if(checkIn(GLOBAL,nm3)){
var cl=GLOBAL[nm3];
spp=ctorObject(cl);
spp.bmcObject=callMethod(this,spp,_36[31],[0]);
callMethod(this,spp.bmcObject,_36[32],[obb.o.ob1.frame]);
var curFrame=spp.bmcObject.frames[obb.o.ob1.frame];
var w1=curFrame[2];
var h1=curFrame[3];
if((w1 > ww)){
spp.scaleX=(ww / (w1 * spp.bmcObject.scaleX));

}
if((h1 > hh)){
spp.scaleY=(hh / (h1 * spp.bmcObject.scaleY));

}
spp.x=3;
spp.y=3;

}

}else{
spp=ctorObject(_36[33],[q.item.type]);
if((spp.w > ww)){
spp.scaleX=(ww / spp.w);

}
if((spp.h > hh)){
spp.scaleY=(hh / spp.h);

}
spp.x=(ww / 2);
spp.x+=2;
spp.y=(2 + (hh / 2));

}

}

callMethod(this,ItemsMenuItem.bg1,_36[27]);
if(spp){
callMethod(this,ItemsMenuItem.bg1,_36[16],[spp]);

}
callMethod(this,th,_36[12]);

}]);
if(checkIn(obb.o,_36[34])){
callMethod(this,qq,_36[35],[obb.o.title,th.ev]);

}
if((categ == _36[20])){
var spp=ctorObject(_36[26],[obb.o.tt]);
spp.x=22;
spp.y=22;
qq.x=((qq.w + 5) * kk);
kk+=1;
callMethod(this,sp7,_36[16],[qq]);
if(spp){
callMethod(this,qq.bg1,_36[16],[spp]);

}

}else if((categ == _36[23])){
var spp=ctorObject(_36[28]);
callMethod(this,spp,_36[29]);
if((spp.w > ww)){
spp.scaleX=(ww / spp.w);

}
if((spp.h > hh)){
spp.scaleY=(hh / spp.h);

}
spp.x=22;
spp.y=22;
qq.x=((qq.w + 5) * kk);
kk+=1;
callMethod(this,sp7,_36[16],[qq]);
if(spp){
callMethod(this,qq.bg1,_36[16],[spp]);

}

}else{
var nm3=obb.o.bmName;
var spp=null;
var isMovieClip=!1;
if(obb.o.ob1){
if(checkIn(obb.o.ob1,_36[30])){
if(obb.o.ob1.isMovieClip){
isMovieClip=!0;

}

}

}
if(isMovieClip){
if(checkIn(GLOBAL,nm3)){
var cl=GLOBAL[nm3];
spp=ctorObject(cl);
spp.bmcObject=callMethod(this,spp,_36[31],[0]);
callMethod(this,spp.bmcObject,_36[32],[obb.o.ob1.frame]);
var curFrame=spp.bmcObject.frames[obb.o.ob1.frame];
var w1=curFrame[2];
var h1=curFrame[3];
if((w1 > ww)){
spp.scaleX=(ww / (w1 * spp.bmcObject.scaleX));

}
if((h1 > hh)){
spp.scaleY=(hh / (h1 * spp.bmcObject.scaleY));

}
spp.x=3;
spp.y=3;

}

}else{
spp=ctorObject(_36[33],[obb.type]);
if((spp.w > ww)){
spp.scaleX=(ww / spp.w);

}
if((spp.h > hh)){
spp.scaleY=(hh / spp.h);

}
spp.x=(ww / 2);
spp.x+=2;
spp.y=(2 + (hh / 2));

}
qq.x=((qq.w + 5) * kk);
kk+=1;
callMethod(this,sp7,_36[16],[qq]);
if(spp){
callMethod(this,qq.bg1,_36[16],[spp]);

}

}

i++;
}
var pos3=callMethod(this,ItemsMenuItem,_36[18]);
sp7.x=(pos3.x + 50);
sp7.y=pos3.y;
callMethod(this,th,_36[16],[sp7]);

}

}]);
ItemsMenuItem.y=yy3;
var spp=ctorObject(_36[33],[4]);
var ww=40;
var hh=40;
if((spp.w > ww)){
spp.scaleX=(ww / spp.w);

}
if((spp.h > hh)){
spp.scaleY=(hh / spp.h);

}
spp.x=(ww / 2);
spp.x+=2;
spp.y=(2 + (hh / 2));
callMethod(this,ItemsMenuItem.bg1,_36[16],[spp]);
callMethod(this,this.leftPanelM,_36[16],[ItemsMenuItem]);
yy3+=55;
this.ItemsMenuItem=ItemsMenuItem;
var decorMenuItem=ctorObject(_36[11],[th,{},function(q){
var isR2=!1;
if(th.curSelectSpr3){
isR2=!0;

}
callMethod(this,th,_36[12]);
th.panel1.selectItemSpr=null;
if(!isR2){
var sp7=ctorObject(lang.display.Sprite);
th.curSelectSpr3=sp7;
var kk=0;
var itemsDecor=GLOBAL.$app.gameMaster.decorItemsList;
var i=0;
while((i < itemsDecor.size)){
var el2=itemsDecor[i];
if(checkIn(el2,_36[36])){
var nm1=el2.bmName;
var idd=el2.id;
if((idd != th.curDecorID)){
var obb={category:_36[37],id:idd,name:nm1,o:el2};
var qq=ctorObject(_36[11],[th,obb,function(q){
callMethod(this,q,_36[25],[!0]);
th.panel1.selectItemSpr=q;
var spp=ctorObject(_36[38],[q.item.id]);
var ww=40;
var hh=40;
spp.scaleX=(ww / spp.w);
spp.scaleY=(hh / spp.h);
spp.x=(ww / 2);
spp.x+=2;
spp.y=(2 + (hh / 2));
callMethod(this,decorMenuItem.bg1,_36[27]);
callMethod(this,decorMenuItem.bg1,_36[16],[spp]);
callMethod(this,th,_36[12]);

}]);
var spp=ctorObject(_36[38],[obb.id]);
if(checkIn(obb.o,_36[39])){
callMethod(this,qq,_36[35],[obb.o.name,th.ev]);

}
var ww=40;
var hh=40;
spp.scaleX=(ww / spp.w);
spp.scaleY=(hh / spp.h);
spp.x=(ww / 2);
spp.x+=2;
spp.y=(2 + (hh / 2));
callMethod(this,qq.bg1,_36[16],[spp]);
qq.x=((qq.w + 5) * kk);
kk+=1;
callMethod(this,sp7,_36[16],[qq]);

}

}
i++;
}
var pos3=callMethod(this,decorMenuItem,_36[18]);
sp7.x=(pos3.x + 50);
sp7.y=pos3.y;
callMethod(this,th,_36[16],[sp7]);

}

}]);
decorMenuItem.y=yy3;
var spp=ctorObject(_36[38],[4]);
var ww=40;
var hh=40;
spp.scaleX=(ww / spp.w);
spp.scaleY=(hh / spp.h);
spp.x=(ww / 2);
spp.x+=2;
spp.y=(2 + (hh / 2));
callMethod(this,decorMenuItem.bg1,_36[16],[spp]);
callMethod(this,this.leftPanelM,_36[16],[decorMenuItem]);
yy3+=55;
this.decorMenuItem=decorMenuItem;
var textMenuItem=ctorObject(_36[11],[th,{category:_36[40],name:_36[41]},function(q){
callMethod(this,q,_36[25],[!0]);
th.panel1.selectItemSpr=q;
callMethod(this,th,_36[12]);

}]);
this.textMenuItem=textMenuItem;
var tff=ctorObject(lang.text.TextField);
tff.fontName=_36[4];
tff.bold=!0;
tff.fontSize=30;
tff.text=_36[42];
tff.color=16777215;
tff.filters=GLOBAL.Config.shadowText2;
tff.x=10;
tff.y=10;
if(GLOBAL.$app.isStandalone){
tff.y-=4;

}
callMethod(this,textMenuItem.bg1,_36[16],[tff]);
textMenuItem.y=yy3;
callMethod(this,this.leftPanelM,_36[16],[textMenuItem]);
this.defMapObj={"width":714,"height":360,"time":120,"v":1,"bg":2,"items":[{"t":9,"id":0,"x":253,"y":291,"cx":253,"cy":291,"w":0,"h":0,"r":0},{"t":11,"id":0,"x":409,"y":284,"cx":409,"cy":284,"w":40,"h":43,"r":0},{"t":10,"id":0,"x":601,"y":265,"cx":601,"cy":265,"w":0,"h":0,"r":0}],"pers":{"x":253,"y":291}};
this.txtTimeMap.click=function(){
callMethod(this,th,_36[59]);

};
this.plashkaBG=GLOBAL.Config.plashkaBM;
this.plashkaH=(this.plashkaBG.height * 0.5);
this.txtActionTxt1=ctorObject(lang.text.TextField);
this.txtActionTxt1.fontName=_36[4];
this.txtActionTxt1.bold=!0;
this.txtActionTxt1.color=16777215;
this.txtActionTxt1.buttonMode=!0;
this.txtActionTxt1.text=_36[60];
this.txtActionTxt1.filters=GLOBAL.Config.shadowText2;
this.txtActionTxt1.click=function(){
var menuList=[];
callMethod(this,menuList,_36[19],[[_36[61],function(){
callMethod(this,th,_36[6]);

}]]);
var r9=!1;
if(GLOBAL.Config.isTestAuth){
r9=!0;

}

if(th.worldInfo){
r9=!1;

}
if(r9){
callMethod(this,menuList,_36[19],[[_36[63],function(){
var url1='https://ag6.ru/dogsgame3/mapsPack';
callMethod(this,URL,_36[64],[url1,function(baa){
callMethod(this,GLOBAL.$app.mapsLocalMaster,_36[65]);
var path2=(GLOBAL.$app.fullPathAppData + _36[66]);
callMethod(this,GLOBAL.$app.mapsLocalMaster,_36[67],[baa]);

var mapsNums=callMethod(this,GLOBAL.$app.mapsLocalMaster,_36[68]);
callMethod(this,GLOBAL.$app.popup,_36[69],[((_36[70] + mapsNums) + _36[71])]);

},function(){
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[72]]);

}]);

}]]);

}
if(th.worldInfo){
callMethod(this,menuList,_36[19],[[_36[73],function(){
var m=callMethod(this,th,_36[74]);
var ss=callMethod(this,JSON,_36[75],[m]);
var mapid2=th.worldInfo.id;
callMethod(this,GLOBAL.$app.connect,_36[76],[function(res){
if((res == 1)){
callMethod(this,GLOBAL.$app.popup,_36[69],[((_36[77] + th.worldInfo.name) + _36[78])]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[79]]);

}

},_36[80],mapid2,ss]);

}]]);

}else{
callMethod(this,menuList,_36[19],[[_36[81],function(){
var rr=callMethod(this,th,_36[82]);
if(rr.v){
var numsItems=th.mov.itemsContainer.numChildren;
if((numsItems <= 0)){
numsItems=0;

}
var numsItemsMin=10;
var rr2=(numsItems > numsItemsMin);
if(rr2){
var nnEmptyText=[];
var textItems=callMethod(this,th,_36[83]);
if((textItems.size > 0)){
var i=0;
while((i < textItems.size)){
var ell=textItems[i];
var txt2=ell.tf.text;
if((txt2.size <= 0)){
callMethod(this,nnEmptyText,_36[19],[ell]);

}else if((txt2 == _36[84])){
callMethod(this,nnEmptyText,_36[19],[ell]);

}

i++;
}

}
var m=callMethod(this,th,_36[74]);
var ss=callMethod(this,JSON,_36[75],[m]);
callMethod(this,GLOBAL.$app.popup,_36[85],[function(vv){
callMethod(this,th,_36[6],[function(r2){
if(r2){
callMethod(this,GLOBAL.$app.connect,_36[76],[function(res,idd){
if((res == 1)){
if((idd > 0)){
th.curUMapID=idd;

}
callMethod(this,GLOBAL.$app.popup,_36[69],[((_36[86] + idd) + _36[87])]);

}else if((res == 2)){
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[88]]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[89]]);

}


},_36[90],ss]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],['\n\nВы не прошли свою карту\nпроверьте свою карту\nи отправьте карту на модерацию.']);

}

}]);

}]);
if((nnEmptyText.size > 0)){
callMethod(this,GLOBAL.$app.popup,_36[69],[('На карте найден текст который не был изменён, он будет удалён с карты перед отправкой.\n\nУдалено элементов: ' + nnEmptyText.size)]);
var i=0;
while((i < nnEmptyText.size)){
var ell=nnEmptyText[i];
callMethod(this,th,_36[91],[ell]);
i++;
}

}
var numsItems=th.mov.itemsContainer.numChildren;
if((numsItems <= 0)){
numsItems=0;

}
if((numsItems > th.mapMaxItemsNums)){
callMethod(this,GLOBAL.$app.popup,_36[69],[((_36[92] + th.mapMaxItemsNums) + ' элементов\n\nТакая карта может быть отклонена из-за низкой производительности, по возможности удалите некоторые элементы.')]);

}

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],[((_36[93] + numsItemsMin) + _36[94])]);

}

}else{
var ss='';
var i=0;
while((i < rr.arr.size)){
var ell=rr.arr[i];
ss+=(('' + ell) + _36[95]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_36[69],[('\nНа карте обязательно должны быть:\n' + ss)]);

}

}]]);
var isUpdMapV=!1;
if((th.curUMapID > 0)){
isUpdMapV=!0;

}
if((GLOBAL.$app.user.modMapsAdv == 1)){
if((th.curMapID > 0)){
isUpdMapV=!0;

}

}
if(isUpdMapV){
callMethod(this,menuList,_36[19],[[_36[73],function(){
if((th.curUMapID > 0)){
callMethod(this,GLOBAL.$app.popup,_36[96],[_36[97],function(){
var m=callMethod(this,th,_36[74]);
var ss=callMethod(this,JSON,_36[75],[m]);
callMethod(this,th,_36[6],[function(r2){
if(r2){
callMethod(this,GLOBAL.$app.connect,_36[76],[function(res){
if((res == 1)){
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[98]]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],['\n\nОшибка обновления карты, возможно карта уже не на модерации']);

}

},_36[99],th.curUMapID,ss]);

}else{

}

}]);

}]);

}else{
var m=callMethod(this,th,_36[74]);
var ss=callMethod(this,JSON,_36[75],[m]);
callMethod(this,GLOBAL.$app.connect,_36[76],[function(res){
if((res == 1)){
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[98]]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],[((_36[100] + th.curMapID) + '')]);

}

},_36[99],th.curMapID,ss]);

}

}]]);

}
callMethod(this,menuList,_36[19],[[_36[101],function(){
var rr=callMethod(this,th,_36[82]);
if(rr.v){
var rr2=callMethod(this,th,_36[102]);
if(rr2){
var m=callMethod(this,th,_36[74]);
var ss=callMethod(this,JSON,_36[75],[m]);
callMethod(this,GLOBAL.$app.gameMaster,_36[103],[0,ss,function(){
callMethod(this,GLOBAL.$app.gameMaster,_36[104]);

}]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],['\n\nПустая карта, на карте нет даже стены']);

}

}else{
var ss='';
var i=0;
while((i < rr.arr.size)){
var ell=rr.arr[i];
ss+=(('' + ell) + _36[95]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_36[69],[('\nНа карте обязательно должны быть:\n' + ss)]);

}

}]]);

}
callMethod(this,menuList,_36[19],[[_36[105],function(){
var rr=callMethod(this,th,_36[82]);
if(rr.v){
var m=callMethod(this,th,_36[74]);
var ss=callMethod(this,JSON,_36[75],[m]);
var ba=ctorObject(lang.utils.ByteArray);
callMethod(this,ba,_36[106],[ss]);
var nm=_36[107];
var ts=callMethod(this,Date,_36[108]);
var rnd=callMethod(this,Math,_36[109],[1000000]);
nm=((((nm + ts) + _36[110]) + rnd) + _36[111]);
if(GLOBAL.$app.isStandalone){
var path2=_36[112];
var path1=((GLOBAL.$app.fullPathAppData + _36[113]) + path2);
var fi=ctorObject(lang.io.File,[path1]);
var isExt=callMethod(this,fi,_36[114]);
if(!isExt){
callMethod(this,fi,_36[115]);

}
path1=((path1 + _36[113]) + nm);
var fi2=ctorObject(lang.io.File,[path1]);
callMethod(this,fi2,_36[116],[ba]);
callMethod(this,GLOBAL.$app.popup,_36[69],[((((_36[117] + path2) + _36[118]) + path1) + _36[119])]);

}else{
callMethod(this,lang.utils.File,_36[120],[nm,ba]);
callMethod(this,GLOBAL.$app.popup,_36[69],[(('\nКарта сохранена в папку загрузки браузера "' + nm) + _36[119])]);

}

}else{
var ss='';
var i=0;
while((i < rr.arr.size)){
var ell=rr.arr[i];
ss+=(('' + ell) + _36[95]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_36[69],[('\nНа карте обязательно должны быть:\n' + ss)]);

}

}]]);
callMethod(this,menuList,_36[19],[[_36[121],function(){
var cbOpenMap=function(ob){
var mm=ctorObject(_36[122]);
callMethod(this,mm,_36[123],[ob]);
var isValid=callMethod(this,mm,_36[124]);
if(isValid){
callMethod(this,th,_36[125],[mm]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[126]]);

}

};
callMethod(this,GLOBAL.$app.popup,_36[128],[cbOpenMap]);


}]]);
if(th.worldInfo){

}else{
var isModMaps=callMethod(this,GLOBAL.UserMode,_36[129],[GLOBAL.$app.user.mode]);
if(isModMaps){
callMethod(this,menuList,_36[19],[[_36[130],function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_36[131],[_36[132]]);

}]]);

}
callMethod(this,menuList,_36[19],[[_36[133],function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_36[131],[_36[134]]);

}]]);


}
if((th.mov.itemsContainer.numChildren > 0)){
callMethod(this,menuList,_36[19],[[_36[135],function(){
callMethod(this,GLOBAL.$app.popup,_36[96],['Вы действительно хотите очистить карту?',function(){
callMethod(this,th,_36[65]);
callMethod(this,GLOBAL.StorageMaster,_36[136],[th.tempMapStorageKey]);

}]);

}]]);

}
callMethod(this,menuList,_36[19],[[_36[137],function(){
callMethod(this,GLOBAL.$app.popup,_36[138],[function(ob){
var val=ob.name;
var spl=callMethod(this,val,_36[139],[_36[140]]);
if((spl.size > 0)){
var nm2=callMethod(this,spl,_36[141]);
var res3=callMethod(this,th,_36[142],[nm2,spl]);
if(res3){
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[143]]);

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],[_36[144]]);

}

}

},function(){
var s4='';
var ar3=['resetPos1 -> пригодится если случайно ключ, персонаж или клетка были сдвинуты за пределы карты, координаты будут сброшены','setDebug 1 -> включает режим отладки в забегах, и во время проверки карты, если указан 0 то отладка отключается','plusPosItems x 100 -> сдвигает все элементы на карте по x на 100 пикселей, вместо x можно указать y, поддерживается и минус, к примеру -100','mapRotate 50 -> поворачивает каждый элемент на карте на 50 градусов, иногда полезно для карты чтобы наклонить её, но не всё так просто, нужно заранее подбирать угол, если после поворота карта разрушилась, можно повернуть с минусом -50 к примеру, и вернётся как было до поворота'];
var i=0;
while((i < ar3.size)){
var el=ar3[i];
s4=(s4 + el);
if((i != (ar3.size - 1))){
s4+=_36[145];

}
i++;
}
callMethod(this,GLOBAL.$app.popup,_36[146],[s4]);

}]);

}]]);
callMethod(this,GLOBAL.$app.chat,_36[147],[menuList,_36[148],0,!0]);

};
this.menuDownCnt=ctorObject(lang.display.Sprite);
callMethod(this,this.menuDownCnt,_36[16],[this.txtTestMap,this.txtActionTxt1,this.leftPanelM]);
this.txtInfoElems=ctorObject(lang.text.TextField);
this.txtInfoElems.fontName=_36[4];
this.txtInfoElems.fontSize=14;
this.txtInfoElems.color=16777215;
this.txtInfoElems.bold=!0;
this.txtInfoElems.filters=GLOBAL.Config.shadowText2;
this.timeIterPos=1;
callMethod(this,this.mov.itemsContainer.painter,_36[65]);
this.bgSpr2=ctorObject(lang.display.Sprite);
callMethod(this,this.mov.bgmov.painter,_36[65]);
callMethod(this,this.mov.bgmov,_36[16],[this.bgSpr2]);
callMethod(this,this.mov.bgmov,_36[16],[this.bgImg]);
this.txtInfoElems.x=10;
this.txtInfoElems.y=11;
this.txtInfoElems.mouseEnabled=!1;
this.bgImg.changeCB=function(bm,id){
if(th.bgMenuItem){
th.bgMenuItem.item.id=id;
var bmm=ctorObject(lang.display.Bitmap);
bmm.src=bm.src;
if(checkIn(bm,_36[149])){
bmm.imageSizeData=bm.imageSizeData;

}
bmm.x=((th.bgMenuItem.w - 40) / 2);
bmm.y=((th.bgMenuItem.w - 40) / 2);
callMethod(this,GLOBAL.AppUtils,_36[15],[bmm,40,40]);
callMethod(this,th.bgMenuItem.bg1,_36[27]);
callMethod(this,th.bgMenuItem.bg1,_36[16],[bmm]);

}

};
this.panel1=ctorObject(_36[150],[this]);
this.movSelectedRect=ctorObject(lang.display.Sprite);
callMethod(this,this.mov,_36[16],[this.movSelectedRect,this.plashkaSpr,this.panel1]);
callMethod(this,this.mov,_36[16],[this.txtInfoElems]);
callMethod(this,this,_36[151]);
if((GLOBAL.$app.mapTimeList.size > 1)){
var rndTime=GLOBAL.$app.mapTimeList[1];
callMethod(this,this,_36[152],[rndTime]);

}
var a1=[_36[153],_36[154]];
callMethod(this,null,_36[16],[this.mov]);
var maskSpr=ctorObject(lang.display.Sprite);
maskSpr.alpha=0;
callMethod(this,this.mov.bgmov,_36[16],[maskSpr]);
this.bgrect=0;
this.pmask=ctorObject(lang.display.Painter);
callMethod(this,this.pmask,_36[155],[maskSpr]);
var th=this;
this.mm=null;
this.spr=this.mov.itemsContainer;
maskSpr.mousedown=function(e){
var targ=callMethod(this,th,_36[156],[e.target]);
var isTarg2=callMethod(this,th,_36[157],[targ]);
var pos1=callMethod(this,th.mov.itemsContainer,_36[18]);
var poss=callMethod(this,GLOBAL.AppUtils,_36[158],[th.mov,e.mouseX,e.mouseY]);
var x3=((poss.x - th.mov.itemsContainer.x) / th.mov.itemsContainer.scaleX);
var y3=((poss.y - th.mov.itemsContainer.y) / th.mov.itemsContainer.scaleY);
if(isTarg2){

}else{
if(!GLOBAL.$app.isCtrlKey){
if(th.mm){
callMethod(this,th.mm,_36[159],[e]);

}
var itemType=GLOBAL.GameRoomItemType;
if(th.panel1.selectItemSpr){
var itemA=th.panel1.selectItemSpr.item;
if(checkIn(itemA,_36[160])){
if((itemA.category == _36[161])){
var rect1=ctorObject(_36[162]);
rect1.upCB=function(){
var rect2=ctorObject(lang.geom.Rectangle,[(rect1.x - pos1.x),(rect1.y - pos1.y),rect1.w,rect1.h]);
callMethod(this,rect1.parent,_36[163],[rect1]);
callMethod(this,th,_36[164],[rect2]);

};
rect1.editor=th;
th.mm=rect1;
callMethod(this,th.movSelectedRect,_36[16],[rect1]);
callMethod(this,rect1,_36[165],[th,e,th.mov.itemsContainer]);

}else if((itemA.category == _36[166])){
th.mm=ctorObject(_36[167],[itemA.type]);
th.mm.editor=th;
callMethod(this,th,_36[168],[th.mm]);
callMethod(this,th.mm,_36[165],[th,e,th.mov.itemsContainer]);
callMethod(this,th,_36[151]);

}else if((itemA.category == _36[24])){
callMethod(this,th,_36[169],[{type:itemA.type,x:x3,y:y3,r:0}]);

}else if((itemA.category == _36[37])){
callMethod(this,th,_36[169],[{id:itemA.id,type:itemType.DECOR,x:x3,y:y3,r:0}]);

}else if((itemA.category == _36[170])){
callMethod(this,th,_36[169],[{id:0,type:itemType.ITEM1,x:x3,y:y3,r:0}]);

}else if((itemA.category == _36[171])){
callMethod(this,th,_36[169],[{id:0,type:itemType.EXIT,x:x3,y:y3,r:0}]);

}else if((itemA.category == _36[172])){
callMethod(this,th,_36[169],[{id:0,type:itemType.PERS,x:x3,y:y3,r:0}]);

}else if((itemA.category == _36[40])){
callMethod(this,th,_36[169],[{id:0,type:itemType.TEXT,x:x3,y:y3,r:0}]);
if(th.panel1.selectItemSpr){
callMethod(this,th.panel1.selectItemSpr,_36[25],[!1]);
th.panel1.selectItemSpr=null;

}

}else if((itemA.category == _36[20])){
callMethod(this,th,_36[169],[{id:0,type:itemType.POINT,x:x3,y:y3,r:0,tt:itemA.o.tt}]);

}else if((itemA.category == _36[23])){
callMethod(this,th,_36[169],[{id:0,type:itemType.TELEPORT,x:x3,y:y3,r:0}]);

}










}

}else{
callMethod(this,th.mov.itemsContainer,_36[173]);
callMethod(this,GLOBAL.$app.dragList,_36[19],[th.mov.itemsContainer]);

}

}

}

};
callMethod(this,null,_36[174]);

};
_scenes_MapEditor[_36[177]]=function(r1,r2){
var minAx=callMethod(this,Math,_36[175],[r1.x,(r1.x + r1.width)]);
var maxAx=callMethod(this,Math,_36[176],[r1.x,(r1.x + r1.width)]);
var minAy=callMethod(this,Math,_36[175],[r1.y,(r1.y + r1.height)]);
var maxAy=callMethod(this,Math,_36[176],[r1.y,(r1.y + r1.height)]);
var minBx=callMethod(this,Math,_36[175],[r2.x,(r2.x + r2.width)]);
var maxBx=callMethod(this,Math,_36[176],[r2.x,(r2.x + r2.width)]);
var minBy=callMethod(this,Math,_36[175],[r2.y,(r2.y + r2.height)]);
var maxBy=callMethod(this,Math,_36[176],[r2.y,(r2.y + r2.height)]);
var aLeftOfB=(maxAx < minBx);
var aRightOfB=(minAx > maxBx);
var aAboveB=(minAy > maxBy);
var aBelowB=(maxAy < minBy);
var rr=aLeftOfB || aRightOfB || aAboveB || aBelowB;
if(!rr){
return !0;

}
return !1;

};
_scenes_MapEditor[_36[164]]=function(r){
var th=this;
if(r){
var mv=th.mov.itemsContainer;
var spr1=ctorObject(lang.display.Sprite);
var rect2=ctorObject(lang.geom.Rectangle,[0,0,0,0]);
var poly2=callMethod(this,GLOBAL.Polygon,_36[178],[r.x,r.y,r.width,r.height]);
var p2=ctorObject(_36[179],[poly2]);
var offsetX=0;
var offsetY=0;
var origX=r.x;
var origY=r.y;
var i=0;
while((i < mv.numChildren)){
var el=callMethod(this,mv,_36[31],[i]);
rect2.x=0;
rect2.y=0;
r.x=(origX - el.x);
r.y=(origY - el.y);
rect2.width=el.w;
rect2.height=el.h;
var res=!1;
if((el.rotation != 0)){
var poly1=callMethod(this,GLOBAL.Polygon,_36[178],[el.x,el.y,el.w,el.h]);
var p1=ctorObject(_36[179],[poly1]);
p1.origin.x=el.x;
p1.origin.y=el.y;
callMethod(this,p1,_36[180],[el.rotation]);
res=callMethod(this,p1,_36[181],[p2]);

}else{
res=callMethod(this,th,_36[177],[r,rect2]);

}
if(res){
var findSelectItem=callMethod(this,th,_36[182],[el]);
if(!findSelectItem){
callMethod(this,th.selectedItemsList,_36[19],[el]);
if(checkIn(el,_36[183])){
callMethod(this,el,_36[183]);

}

}

}
i++;
}

}

};
_scenes_MapEditor[_36[185]]=function(){
callMethod(this,this,_36[184]);

};
_scenes_MapEditor[_36[12]]=function(){
var th=this;
if(th.curSelectSpr3){
callMethod(this,th.curSelectSpr3.parent,_36[163],[th.curSelectSpr3]);
th.curSelectSpr3=null;

}

};
_scenes_MapEditor[_36[82]]=function(){
var ob={};
ob[_36[186]]=_36[187];
ob[_36[188]]=_36[189];
ob[_36[190]]=_36[191];
var a=[];
var arr=[9,10,11];
var n=0;
var i=0;
while((i < arr.size)){
var t=arr[i];
var res=callMethod(this,this,_36[192],[t]);
if(res){
n+=1;

}else{
callMethod(this,a,_36[19],[ob[t]]);

}
i++;
}
var r={v:!1,arr:a};
if((n >= arr.size)){
r.v=!0;

}
return r;

};
_scenes_MapEditor[_36[91]]=function(thh){
var th=this;
if(thh){
if((th.selectedItemsList.size > 0)){
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
var isDelV=callMethod(this,th,_36[193],[el]);
if(isDelV){
callMethod(this,th,_36[194],[el]);

}
i++;
}
callMethod(this,th,_36[195]);

}else{
callMethod(this,th,_36[194],[thh]);

}

}

};
_scenes_MapEditor[_36[193]]=function(o){
var th=this;
if(o){
if(checkIn(o,_36[196])){
if((o.type == GLOBAL.GameRoomItemType.PERS)){
return !1;

}
if((o.type == GLOBAL.GameRoomItemType.EXIT)){
return !1;

}
if((o.type == GLOBAL.GameRoomItemType.ITEM1)){
var n2=callMethod(this,th,_36[197],[o.type]);
if((n2 <= 1)){
return !1;

}

}

}

}
return !0;

};
_scenes_MapEditor[_36[182]]=function(o){
if(o){
var th=this;
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
if((el == o)){
return el;

}
i++;
}

}
return null;

};
_scenes_MapEditor[_36[198]]=function(){
var th=this;
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
callMethod(this,el,_36[173]);
callMethod(this,GLOBAL.$app.dragList,_36[19],[el]);
i++;
}

};
_scenes_MapEditor[_36[200]]=function(el){
var th=this;
if(el){
var i=0;
while((i < th.selectedItemsList.size)){
var ell=th.selectedItemsList[i];
if((el == ell)){
callMethod(this,th.selectedItemsList,_36[199],[i]);
return !0;

}
i++;
}

}
return !1;

};
_scenes_MapEditor[_36[195]]=function(){
var th=this;
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
if(checkIn(el,_36[201])){
callMethod(this,el,_36[201]);

}
i++;
}
th.selectedItemsList=[];

};
_scenes_MapEditor[_36[157]]=function(o){
if(o){
if(checkIn(o,_36[202])){
return !0;

}

}
return !1;

};
_scenes_MapEditor[_36[156]]=function(o){
var th=this;
var par=o;
while(par){
var vv=callMethod(this,th,_36[157],[par]);
if(vv){
return par;

}
par=par.parent;

}
return o;

};
_scenes_MapEditor[_36[102]]=function(){
var res=callMethod(this,this,_36[192],[2]);
if(res){
return !0;

}
return !1;

};
_scenes_MapEditor[_36[168]]=function(mm){
var th=this;
var q1=mm;
if(checkIn(mm,_36[203])){
q1=mm.rectSpr;

}
q1.startDrag=function(){
var q=ctorObject(_36[204],[this,th.koef]);
callMethod(this,q,_36[205]);
this._dragMaster=q;

};
mm.startDrag=q1.startDrag;
q1.onDragStart=function(){
if(!GLOBAL.$app.isCtrlKey){
var findSelectItem=callMethod(this,th,_36[182],[mm]);
if(!findSelectItem){
callMethod(this,mm,_36[173]);
callMethod(this,GLOBAL.$app.dragList,_36[19],[mm]);

}
callMethod(this,th,_36[198]);

}

};
var cb3=function(bmm){
bmm.startDrag=function(){
var q=ctorObject(_36[204],[this,th.koef]);
callMethod(this,q,_36[205]);
this._dragMaster=q;

};
bmm.onDragStart=function(){
if(!GLOBAL.$app.isCtrlKey){
var findSelectItem=callMethod(this,th,_36[182],[mm]);
if(!findSelectItem){
callMethod(this,this,_36[173]);
callMethod(this,GLOBAL.$app.dragList,_36[19],[this]);

}
callMethod(this,th,_36[198]);

}

};

};
var rr1=!0;
var rr3=!0;
if(checkIn(mm,_36[196])){
if((mm.type == 9)){
rr1=!1;

}else if((mm.type == 10)){
rr1=!1;

}


}
if(rr1){
q1.rclick=function(){
var thh=mm;
var menuList=[];
if(checkIn(thh,_36[196])){
if((thh.type == 2)){
callMethod(this,menuList,_36[19],[[_36[206],function(){
if(checkIn(thh,_36[207])){
var itemm=callMethod(this,thh,_36[207]);
callMethod(this,th,_36[168],[itemm]);
callMethod(this,th,_36[208],[itemm]);

}

}]]);

}

}
callMethod(this,menuList,_36[19],[[_36[209],function(){
var ss='';
if(checkIn(thh,_36[196])){
if((thh.type == 1)){
ss=(((ss + _36[210]) + thh.itemid) + _36[95]);

}

}
ss=(((ss + _36[211]) + thh.type) + _36[95]);
ss=((((((((((ss + _36[212]) + thh.x) + _36[213]) + thh.y) + _36[214]) + thh.w) + _36[215]) + thh.h) + _36[216]) + thh.rotation);
var posIndex=callMethod(this,thh.parent,_36[217],[thh]);
ss=(((ss + _36[218]) + posIndex) + _36[95]);
callMethod(this,GLOBAL.$app.popupHtml,_36[146],[(_36[219] + ss)]);

}]]);
if(checkIn(thh,_36[207])){
callMethod(this,menuList,_36[19],[[_36[220],function(){
var ar2=th.selectedItemsList;
callMethod(this,th,_36[195]);
if((ar2.size > 0)){
var i=0;
while((i < ar2.size)){
var el=ar2[i];
if(checkIn(el,_36[207])){
var itemm=callMethod(this,el,_36[207]);
callMethod(this,th,_36[168],[itemm]);
if(checkIn(itemm,_36[183])){
callMethod(this,itemm,_36[183]);

}
callMethod(this,th.selectedItemsList,_36[19],[itemm]);

}
i++;
}

}else{
var itemm=callMethod(this,thh,_36[207]);
callMethod(this,th,_36[168],[itemm]);

}

}]]);

}
if(checkIn(thh,_36[196])){
if((thh.type == GLOBAL.GameRoomItemType.WALL)){
callMethod(this,menuList,_36[19],[[_36[221],function(){
var arr5=[];
if((th.selectedItemsList.size > 0)){
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
if(checkIn(el,_36[196])){
if((el.type == GLOBAL.GameRoomItemType.WALL)){
if((el != thh)){
callMethod(this,arr5,_36[19],[el]);

}

}

}
i++;
}

}
var cb9=function(t1){
callMethod(this,thh,_36[222],[t1]);
callMethod(this,thh,_36[223]);
var i=0;
while((i < arr5.size)){
var el=arr5[i];
callMethod(this,el,_36[222],[t1]);
callMethod(this,el,_36[223]);
i++;
}

};
callMethod(this,GLOBAL.$app.popup,_36[224],[function(t3){
cb9(t3);

}]);

}]]);

}else if((thh.type == GLOBAL.GameRoomItemType.TEXT)){
callMethod(this,menuList,_36[19],[[_36[225],function(){
callMethod(this,GLOBAL.$app.popup,_36[226],[thh]);

}]]);

}else if((thh.type == GLOBAL.GameRoomItemType.POINT)){
if((thh.tt == 1)){
callMethod(this,menuList,_36[19],[[_36[227],function(){
callMethod(this,thh,_36[222],[2]);

}]]);

}else if((thh.tt == 2)){
callMethod(this,menuList,_36[19],[[_36[228],function(){
callMethod(this,thh,_36[222],[1]);

}]]);

}


}


if(checkIn(thh,_36[229])){
if((((1 << 1) & thh.flags1) > 0)){
callMethod(this,menuList,_36[19],[[_36[230],function(){
var flag=thh.flags1;
var vvFlag1=(1 << 1);
flag&=~vvFlag1;
thh.flags1=flag;
if((th.selectedItemsList.size > 0)){
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
var isDelV=callMethod(this,th,_36[193],[el]);
if(isDelV){
if((el != thh)){
var flag=el.flags1;
flag&=~vvFlag1;
el.flags1=flag;

}

}
i++;
}

}

}]]);

}else{
callMethod(this,menuList,_36[19],[[_36[231],function(){
thh.flags1=(thh.flags1 | (1 << 1));
thh.flags1=(thh.flags1 | (1 << 2));
if((th.selectedItemsList.size > 0)){
var i=0;
while((i < th.selectedItemsList.size)){
var el=th.selectedItemsList[i];
var isDelV=callMethod(this,th,_36[193],[el]);
if(isDelV){
if((el != thh)){
el.flags1=(el.flags1 | (1 << 1));
el.flags1=(el.flags1 | (1 << 2));

}

}
i++;
}

}

}]]);

}

}
if((thh.type == 6)){
callMethod(this,menuList,_36[19],[[_36[232],function(){
callMethod(this,GLOBAL.$app.popup,_36[233],[thh]);

}]]);

}
if((thh.type == 2)){
if((thh.id == 9)){
callMethod(this,menuList,_36[19],[[_36[232],function(){
callMethod(this,GLOBAL.$app.popup,_36[234],[thh]);

}]]);

}

}
if((thh.type == 1)){
callMethod(this,menuList,_36[19],[[_36[235],function(){
var items=[];
var i=0;
while((i < th.spr.numChildren)){
var el=callMethod(this,th.spr,_36[31],[i]);
if(checkIn(el,_36[196])){
if((el.type == 1)){
if((el.itemid == thh.itemid)){
callMethod(this,items,_36[19],[el]);

}

}

}
i++;
}
var i=0;
while((i < items.size)){
var el=items[i];
var findSelectItem=callMethod(this,th,_36[182],[el]);
if(!findSelectItem){
callMethod(this,th.selectedItemsList,_36[19],[el]);
if(checkIn(el,_36[223])){
callMethod(this,el,_36[223]);

}

}
i++;
}

}]]);

}else{
if(rr3){
callMethod(this,menuList,_36[19],[[_36[235],function(){
callMethod(this,th,_36[195]);
var items=[];
var i=0;
while((i < th.spr.numChildren)){
var el=callMethod(this,th.spr,_36[31],[i]);
if(checkIn(el,_36[196])){
if((el.type == thh.type)){
if((el.itemid > 0)){
if((el.itemid == thh.itemid)){
callMethod(this,items,_36[19],[el]);

}

}else{
callMethod(this,items,_36[19],[el]);

}

}

}
i++;
}
var i=0;
while((i < items.size)){
var el=items[i];
var findSelectItem=callMethod(this,th,_36[182],[el]);
if(!findSelectItem){
callMethod(this,th.selectedItemsList,_36[19],[el]);
if(checkIn(el,_36[183])){
callMethod(this,el,_36[183]);

}

}
i++;
}

}]]);

}

}

}
var r3=!1;
if((thh.type == 9)){
r3=!0;

}else if((thh.type == 11)){
r3=!0;

}else if((thh.type == 10)){
r3=!0;

}


var cbDel1=function(){
callMethod(this,th,_36[91],[thh]);

};
if(r3){
var n2=callMethod(this,th,_36[197],[thh.type]);
if((n2 > 1)){
callMethod(this,menuList,_36[19],[[_36[236],function(){
cbDel1();

}]]);

}

}else{
callMethod(this,menuList,_36[19],[[_36[236],function(){
cbDel1();

}]]);

}
callMethod(this,GLOBAL.$app.chat,_36[147],[menuList,_36[237],0,!0]);

};

}
if(checkIs(mm,GLOBAL.app.game.items.TeleportItem)){
cb3(mm.bmIn);
cb3(mm.bmOut);
mm.bmIn.rclick=q1.rclick;
mm.bmOut.rclick=q1.rclick;

}
callMethod(this,th.spr,_36[16],[mm]);
callMethod(this,th,_36[151]);
callMethod(this,th,_36[238]);

};
_scenes_MapEditor[_36[238]]=function(){
var th=this;
if(!th.tmSave1){
th.tmSave1=callMethod(this,Timer,_36[239],[(30 * 1000),function(){
callMethod(this,this,_36[240]);
th.tmSave1=null;
var rr=callMethod(this,th,_36[102]);
if(rr){
callMethod(this,th,_36[184]);

}

}]);

}

};
_scenes_MapEditor[_36[142]]=function(t,args){
var th=this;

if((t == _36[241])){
if((args.size > 0)){
var tt=args[0];
if((tt == 1)){
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.DEBUG_PHYSICS) > 0)){

}else{
GLOBAL.Config.settingsFlags=(GLOBAL.Config.settingsFlags | GLOBAL.SettingsFlags.DEBUG_PHYSICS);

}

}else{
if(((GLOBAL.Config.settingsFlags & GLOBAL.SettingsFlags.DEBUG_PHYSICS) > 0)){
var flag=GLOBAL.Config.settingsFlags;
var vv=GLOBAL.SettingsFlags.DEBUG_PHYSICS;
flag&=~vv;
GLOBAL.Config.settingsFlags=flag;

}

}

}
return !0;

}else if((t == _36[242])){
if((args.size > 1)){
var tt=args[0];
var vv=castInt(args[1]);
if((vv != 0)){
var i=0;
while((i < th.spr.numChildren)){
var el=callMethod(this,th.spr,_36[31],[i]);
if((tt == _36[51])){
el.x+=vv;

}else if((tt == _36[52])){
el.y+=vv;

}

i++;
}
return !0;

}

}

}else if((t == _36[243])){
if((args.size > 0)){
var vv=castInt(args[0]);
if((vv != 0)){
var i=0;
while((i < th.spr.numChildren)){
var el=callMethod(this,th.spr,_36[31],[i]);
var r3=!0;
if(checkIn(el,_36[196])){
if((el.type == 9)){
r3=!1;

}else if((el.type == 11)){
r3=!1;

}else if((el.type == 10)){
r3=!1;

}



}
if(r3){
var rr=(el.rotation + vv);
if((rr >= 360)){
rr=360;

}
if((rr <= 0)){
rr=0;

}
el.rotation=rr;

}
i++;
}
return !0;

}

}

}else if((t == _36[244])){
this.mov.itemsContainer.x=0;
this.mov.itemsContainer.y=0;
var p2=200;
var xx4=0;
var i=0;
while((i < th.spr.numChildren)){
var el=callMethod(this,th.spr,_36[31],[i]);
var r3=!1;
if(checkIn(el,_36[196])){
if((el.type == 9)){
r3=!0;

}else if((el.type == 11)){
r3=!0;

}else if((el.type == 10)){
r3=!0;

}



}
if(r3){
el.x=(p2 + (80 * xx4));
el.y=p2;
xx4+=1;

}
i++;
}
return !0;

}



return !1;

};
_scenes_MapEditor[_36[6]]=function(cbok){
var th=this;
var rr=callMethod(this,this,_36[82]);
if(rr.v){
var rr2=callMethod(this,this,_36[102]);
if(rr2){
if((this.mov.itemsContainer.numChildren > 0)){
var m=callMethod(this,this,_36[74]);
var mm=ctorObject(_36[122]);
callMethod(this,mm,_36[123],[m]);
callMethod(this,GLOBAL.$app,_36[245],[function(){
callMethod(this,GLOBAL.$app.scenesMaster,_36[65]);
var tt=_36[246];
if(th.worldInfo){
tt=_36[247];

}
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_36[248],[tt,[GLOBAL.$app.user],mm,GLOBAL.$app.user.id]);
if(GLOBAL.$app.gameRoom){
GLOBAL.$app.gameRoom.endRoomCallback=function(){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_36[249]);

};
if(cbok){
GLOBAL.$app.gameRoom.endRoomWinnerCallback=cbok;

}

}

}]);

}

}else{
callMethod(this,GLOBAL.$app.popup,_36[69],['\n\nПустая карта, на карте нет даже стены']);

}

}else{
var ss='';
var i=0;
while((i < rr.arr.size)){
var ell=rr.arr[i];
ss+=(('' + ell) + _36[95]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_36[69],[('\nНа карте обязательно должны быть:\n' + ss)]);

}

};
_scenes_MapEditor[_36[208]]=function(thh){
var th=this;
if(thh){
var isReverse=!1;
var matrix=ctorObject(lang.geom.Matrix);
var ww=thh.w;
var hh=thh.h;
var x1=thh.x;
var y1=thh.y;
var r=thh.rotation;
callMethod(this,matrix,_36[180],[((r * Math.PI) / 180)]);
var rr=(360 - thh.rotation);
if((r <= 90)){
var pt=callMethod(this,matrix,_36[250],[0,hh]);
x1=pt[0];
y1=pt[1];
rr=(180 - r);

}else if((r < 180)){
var pt=callMethod(this,matrix,_36[250],[ww,hh]);
var matr=ctorObject(lang.geom.Matrix);
var rrr=(180 - r);
callMethod(this,matr,_36[180],[((rrr * Math.PI) / 180)]);
var p3=callMethod(this,matr,_36[250],[ww,0]);
thh.x=(thh.x - p3[0]);
thh.y=(thh.y - p3[1]);
x1=pt[0];
y1=pt[1];
rr=(180 - r);

}else if((r < 270)){
var pt=callMethod(this,matrix,_36[250],[ww,0]);
x1=pt[0];
y1=pt[1];

}else if((r < 360)){
var pt=callMethod(this,matrix,_36[250],[-ww,0]);
var pt2=callMethod(this,matrix,_36[250],[ww,0]);
x1=pt[0];
y1=pt2[1];

}



thh.x=(thh.x + x1);
thh.y=(thh.y + y1);
thh.rotation=rr;

}

};
_scenes_MapEditor[_36[174]]=function(){

};
_scenes_MapEditor[_36[252]]=function(){
callMethod(this,this.ev,_36[65]);
callMethod(this,this.panel1,_36[65]);
callMethod(this,this,_36[195]);
if(this.exitBut){
if(this.exitBut.parent){
callMethod(this,this.exitBut.parent,_36[163],[this.exitBut]);

}

}
this.exitBut=null;
callMethod(this,null,_36[163],[this.menuDownCnt]);
callMethod(this,GLOBAL.$app,_36[251]);

};
_scenes_MapEditor[_36[254]]=function(t){
callMethod(this,GLOBAL.$app,_36[253]);

};
_scenes_MapEditor[_36[125]]=function(mm){
var th=this;
if(th.worldInfo){
callMethod(this,th,_36[255],[mm]);

}else{
if(mm){
var isValid=callMethod(this,mm,_36[124]);
if(isValid){
callMethod(this,th,_36[65]);
callMethod(this,th.mov.itemsContainer,_36[27]);
callMethod(this,th,_36[256],[mm]);

}

}

}

};
_scenes_MapEditor[_36[255]]=function(ob){
var th=this;
if(ob){
var mm=ob.map;
if(mm){
var isValid=callMethod(this,mm,_36[124]);
if(isValid){
callMethod(this,th,_36[65]);
th.worldInfo=ob;
callMethod(this,th.mov.itemsContainer,_36[27]);
callMethod(this,th,_36[256],[mm]);

}

}

}

};
_scenes_MapEditor[_36[256]]=function(mm){
var th=this;
if(mm){
th.curMapID=mm.id;
if((mm.user == GLOBAL.$app.user.id)){
if((mm.status == 0)){
th.curUMapID=mm.id;

}

}
callMethod(this,th,_36[13],[mm.bg]);
callMethod(this,mm,_36[257],[function(el){
callMethod(this,th,_36[169],[el]);

}]);
if((mm.time > 0)){
callMethod(this,th,_36[152],[mm.time]);

}

}

};
_scenes_MapEditor[_36[239]]=function(){
var th=this;
callMethod(this,this,_36[258],[(GLOBAL.Config.PercGameRoomScale / 100)]);
if((this.panel1.menuSpr.numChildren > 0)){
var el1=callMethod(this,this.panel1.menuSpr,_36[31],[0]);
callMethod(this,this.panel1,_36[259],[el1]);

}
if(this.bgMenuItem){
callMethod(this,this.bgMenuItem,_36[35],[_36[260],th.ev]);

}
callMethod(this,this.decorMenuItem,_36[35],[_36[261],th.ev]);
if(this.ItemsMenuItem){
callMethod(this,this.ItemsMenuItem,_36[35],[_36[262],th.ev]);

}
callMethod(this,this.textMenuItem,_36[35],[_36[41],th.ev]);
if(this.exitBut){
if(this.exitBut.parent){
callMethod(this,this.exitBut.parent,_36[163],[this.exitBut]);

}

}
this.exitBut=ctorObject(_36[263]);
callMethod(this,this.ev,_36[264],[this.exitBut.msk,_36[265],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.ev,_36[264],[this.exitBut.msk,_36[266],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
callMethod(this,GLOBAL.$app,_36[253]);

};
callMethod(this,this.menuDownCnt,_36[16],[this.exitBut]);
callMethod(this,GLOBAL.$app,_36[267]);
if(!this.firstInit){
this.firstInit=!0;
var mm=ctorObject(_36[122]);
var mapFirst=this.defMapObj;
var mapTmp=callMethod(this,GLOBAL.StorageMaster,_36[268],[this.tempMapStorageKey]);
if(mapTmp){
var ob2=callMethod(this,JSON,_36[269],[mapTmp]);
if(ob2){
mapFirst=ob2;

}

}
callMethod(this,mm,_36[123],[mapFirst]);
var isValid=callMethod(this,mm,_36[124]);
if(!isValid){
callMethod(this,mm,_36[123],[this.defMapObj]);

}
callMethod(this,this,_36[256],[mm]);

}
callMethod(this,null,_36[16],[this.menuDownCnt]);
callMethod(this,th.ev,_36[264],[GLOBAL.$app.stage,_36[270],function(e){
if(th.activeItem){
if(checkIn(th.activeItem,_36[201])){
callMethod(this,th.activeItem,_36[201]);

}

}
var targ=callMethod(this,th,_36[156],[e.target]);
var isTarg1=callMethod(this,th,_36[157],[targ]);
if(isTarg1){
th.activeItem=targ;
if(checkIn(th.activeItem,_36[223])){
callMethod(this,th.activeItem,_36[223]);

}
callMethod(this,th,_36[151]);
if(checkIn(e.target,_36[271])){

}else{
var r4=!0;
if(checkIs(th.activeItem,GLOBAL.scenes.MapEditorPersItem)){
r4=!1;

}
if(checkIn(th.activeItem,_36[196])){
if((th.activeItem.type == GLOBAL.GameRoomItemType.EXIT)){
r4=!1;

}

}
if(r4){
callMethod(this,th,_36[272],[th.activeItem]);

}

}
if(GLOBAL.$app.isCtrlKey){
var findSelectItem=callMethod(this,th,_36[182],[th.activeItem]);
if(findSelectItem){
if(checkIn(findSelectItem,_36[201])){
callMethod(this,findSelectItem,_36[201]);

}
callMethod(this,th,_36[200],[findSelectItem]);

}else{
if(checkIn(th.activeItem,_36[223])){
callMethod(this,th.activeItem,_36[223]);

}
callMethod(this,th.selectedItemsList,_36[19],[th.activeItem]);

}

}

}else{
if((th.selectedItemsList.size > 0)){
if(!GLOBAL.$app.isCtrlKey){
var isClickMenu=callMethod(this,th,_36[273],[e.target]);
if(!isClickMenu){
callMethod(this,th,_36[195]);

}

}

}

}

}]);
callMethod(this,th.ev,_36[264],[GLOBAL.$app.stage,_36[274],function(e){
if(th.mm){
callMethod(this,th.mm,_36[159],[e]);

}
if((-(th.mov.itemsContainer.x * th.mov.itemsContainer.scaleX) <= 0)){
th.mov.itemsContainer.x=0;

}
if((-(th.mov.itemsContainer.y * th.mov.itemsContainer.scaleY) <= 0)){
th.mov.itemsContainer.y=0;

}

}]);
callMethod(this,th.ev,_36[264],[GLOBAL.$app.stage,_36[275],function(e){
var el=th.activeItem;
var KeyboardV=lang.ui.Keyboard;
if((e.keyCode == 8)){

}else if(e.shiftKey){
if(el){
if((e.keyCode == 187)){
var pos=callMethod(this,el.parent,_36[217],[el]);
if((pos > -1)){
callMethod(this,el.parent,_36[276],[el,(pos + 1)]);

}

}else if((e.keyCode == 189)){
var pos=callMethod(this,el.parent,_36[217],[el]);
if((pos > -1)){
callMethod(this,el.parent,_36[276],[el,(pos - 1)]);

}

}


}

}else{
if(el){
if((e.keyCode == KeyboardV.UP)){
if((el.type == GLOBAL.GameRoomItemType.TELEPORT)){
if(el.bmIn){
el.bmIn.y-=1;

}
if(el.bmOut){
el.bmOut.y-=1;

}

}else{
el.y-=1;

}

}else if((e.keyCode == KeyboardV.DOWN)){
if((el.type == GLOBAL.GameRoomItemType.TELEPORT)){
if(el.bmIn){
el.bmIn.y+=1;

}
if(el.bmOut){
el.bmOut.y+=1;

}

}else{
el.y+=1;

}

}else if((e.keyCode == KeyboardV.LEFT)){
if((el.type == GLOBAL.GameRoomItemType.TELEPORT)){
if(el.bmIn){
el.bmIn.x-=1;

}
if(el.bmOut){
el.bmOut.x-=1;

}

}else{
el.x-=1;

}

}else if((e.keyCode == KeyboardV.RIGHT)){
if((el.type == GLOBAL.GameRoomItemType.TELEPORT)){
if(el.bmIn){
el.bmIn.x+=1;

}
if(el.bmOut){
el.bmOut.x+=1;

}

}else{
el.x+=1;

}

}




}

}

if(GLOBAL.$app.curClickElem){
if(checkIn(GLOBAL.$app.curClickElem,_36[277])){
callMethod(this,GLOBAL.$app.curClickElem,_36[277],[e]);

}

}

}]);
callMethod(this,th.ev,_36[264],[GLOBAL.$app.stage,_36[278],function(e){
if((e.keyCode == 13)){
var isShowChat=callMethod(this,GLOBAL.$app.chat,_36[279]);
if(!isShowChat){
callMethod(this,th,_36[6]);

}

}

}]);

};
_scenes_MapEditor[_36[184]]=function(){
var th=this;
if(GLOBAL.$app.isStandalone){
var fiTemp=ctorObject(lang.io.File,[(GLOBAL.$app.fullPathAppData + _36[280])]);
var m=callMethod(this,th,_36[74]);
if(m){
var ss=callMethod(this,JSON,_36[75],[m]);
var ba=ctorObject(lang.utils.ByteArray);
callMethod(this,ba,_36[106],[ss]);
callMethod(this,fiTemp,_36[116],[ba]);

}

}else{
var m=callMethod(this,th,_36[74]);
if(m){
if(m.items && (m.items.size > 0)){
var ss=callMethod(this,JSON,_36[75],[m]);
if(ss){
callMethod(this,GLOBAL.StorageMaster,_36[281],[th.tempMapStorageKey,ss]);

}

}

}

}

};
_scenes_MapEditor[_36[273]]=function(el){
if(el){
var par=el.parent;
if(par){
if(checkIs(par,GLOBAL.app.chat.ChatMenuSprItem)){
return !0;

}

}

}
return !1;

};
_scenes_MapEditor[_36[194]]=function(el){
if(el){
callMethod(this,el.parent,_36[163],[el]);
callMethod(this,this,_36[151]);

}

};
_scenes_MapEditor[_36[169]]=function(el){
var th=this;
if(checkIn(el,_36[49])){
el.type=el.t;

}
var v1=!1;
if((el.type == GLOBAL.GameRoomItemType.EXIT)){
v1=!0;

}else if((el.type == GLOBAL.GameRoomItemType.PERS)){
v1=!0;

}

if(v1){
var el1=callMethod(this,th,_36[192],[el.type]);
if(el1){
callMethod(this,th,_36[194],[el1]);

}

}
if((el.type == GLOBAL.GameRoomItemType.DECOR)){
var spp=ctorObject(_36[38],[el.id]);
spp.x=el.x;
spp.y=el.y;
spp.rotation=el.r;
spp.buttonMode=!0;
if(checkIn(el,_36[282])){
spp.flags1=el.f1;

}
callMethod(this,th,_36[168],[spp]);

}else if((el.type == GLOBAL.GameRoomItemType.WALL)){
var mm=ctorObject(_36[167],[el.id]);
mm.editor=th;
mm.x=el.cx;
mm.y=el.cy;
if(checkIn(el,_36[282])){
mm.flags1=el.f1;

}
if(checkIn(el,_36[283])){
mm.restType=el.restType;

}
mm.rotation=el.r;
callMethod(this,mm,_36[284],[el.w,el.h]);
callMethod(this,th,_36[168],[mm]);

}else if((el.type == GLOBAL.GameRoomItemType.TRAMPOLINE)){
var spp=ctorObject(_36[285]);
spp.x=el.x;
spp.y=el.y;
spp.rotation=el.r;
if(checkIn(el,_36[286])){
spp.jumpLevel=el.jumpLevel;

}
spp.buttonMode=!0;
callMethod(this,th,_36[168],[spp]);

}else if((el.type == GLOBAL.GameRoomItemType.PERS)){
var persItem=ctorObject(_36[287],[GLOBAL.$app.user,function(){

}]);
persItem.x=el.x;
persItem.y=el.y;
callMethod(this,th,_36[168],[persItem]);

}else if((el.type == GLOBAL.GameRoomItemType.TEXT)){
var spp=ctorObject(_36[288],[el,!1,!0]);
var xx3=el.x;
var yy3=el.y;
if(checkIn(el,_36[53])){
xx3=el.cx;

}
if(checkIn(el,_36[54])){
yy3=el.cy;

}
spp.x=xx3;
spp.y=yy3;
spp.rotation=el.r;
if(checkIn(el,_36[282])){
spp.flags1=el.f1;

}
callMethod(this,th,_36[168],[spp]);

}else if((el.type == GLOBAL.GameRoomItemType.EXIT)){
var spp=ctorObject(_36[289]);
spp.x=el.x;
spp.y=el.y;
spp.rotation=el.r;
callMethod(this,th,_36[168],[spp]);

}else if((el.type == GLOBAL.GameRoomItemType.ITEM1)){
var spp=ctorObject(_36[290]);
spp.x=el.x;
spp.y=el.y;
spp.rotation=el.r;
callMethod(this,th,_36[168],[spp]);

}else if((el.type == GLOBAL.GameRoomItemType.POINT)){
var spp=ctorObject(_36[26],[el.tt]);
spp.x=el.x;
spp.y=el.y;
spp.rotation=el.r;
spp.buttonMode=!0;
callMethod(this,th,_36[168],[spp]);

}else if((el.type == GLOBAL.GameRoomItemType.TELEPORT)){
var spp=ctorObject(_36[28]);
var cw=(spp.w / 2);
var ch=(spp.h / 2);
if(checkIn(el,_36[51])){
el.a=[(el.x - cw),(el.y - ch)];

}
if(checkIn(el,_36[52])){
el.b=[((el.x - cw) + 100),(el.y - ch)];

}
callMethod(this,spp,_36[291],[el]);
spp.buttonMode=!0;
callMethod(this,th,_36[168],[spp]);

}else{
var spp=ctorObject(_36[33],[el.type]);
spp.x=el.x;
spp.y=el.y;
spp.rotation=el.r;
spp.buttonMode=!0;
callMethod(this,th,_36[168],[spp]);

}








callMethod(this,th,_36[151]);

};
_scenes_MapEditor[_36[59]]=function(){
if((GLOBAL.$app.mapTimeList.size > 0)){
this.timeIterPos+=1;
if((this.timeIterPos >= GLOBAL.$app.mapTimeList.size)){
this.timeIterPos=0;

}
var v=GLOBAL.$app.mapTimeList[this.timeIterPos];
callMethod(this,this,_36[152],[v]);

}

};
_scenes_MapEditor[_36[152]]=function(v){
var res=!1;
var arr=GLOBAL.$app.mapTimeList;
var i=0;
while((i < arr.size)){
var el=arr[i];
if((el == v)){
res=!0;

}
i++;
}
if(!res){
if((arr.size > 0)){
v=arr[0];

}

}
var strT=callMethod(this,GLOBAL.DateUtils,_36[292],[v]);
this.txtTimeMap.text=(_36[293] + strT);
this.mapTimeV=v;

};
_scenes_MapEditor[_36[295]]=function(){
var th=this;
var item=th.activeItem;
if(item){
var xx=0;
var yy=0;
var isCenterP=!0;
if(checkIs(item,GLOBAL.app.game.items.TextItem)){
isCenterP=!1;

}else if(checkIs(item,GLOBAL.scenes.EditorWallItem)){
isCenterP=!1;

}

if(isCenterP){
xx=(item.w / 2);
yy=(item.h / 2);

}
if(checkIn(th.itemsUINavObj,_36[294])){
var elInfo=th.itemsUINavObj.info;
elInfo.x=-(elInfo.ww + xx);
if(checkIs(item,GLOBAL.app.game.items.TeleportItem)){
elInfo.x=(item.bmIn.x - elInfo.ww);
elInfo.y=(item.bmIn.y - elInfo.hh);

}

}
if(checkIn(th.itemsUINavObj,_36[199])){
var elDel=th.itemsUINavObj.del;
elDel.x=-(elDel.ww + xx);
elDel.y=(item.h - yy);
if(checkIs(item,GLOBAL.app.game.items.TeleportItem)){
elDel.x=(item.bmIn.x - elDel.ww);
elDel.y=(item.bmIn.y + elDel.hh);

}

}
if(checkIn(th.itemsUINavObj,_36[180])){
var elRotate=th.itemsUINavObj.rotate;
elRotate.x=(item.w - xx);

}
if(checkIn(th.itemsUINavObj,_36[284])){
var elResize=th.itemsUINavObj.resize;
elResize.x=(item.w - xx);
elResize.y=item.h;

}

}

};
_scenes_MapEditor[_36[151]]=function(){
var nums=this.mov.itemsContainer.numChildren;
if((nums <= 0)){
nums=0;

}
this.txtInfoElems.text=(_36[296] + nums);
callMethod(this,this,_36[295]);

};
_scenes_MapEditor[_36[297]]=function(){
var th=this;
var i=0;
while((i < th.itemsUIArr.size)){
var el=th.itemsUIArr[i];
if(el){
if(el.parent){
callMethod(this,el.parent,_36[163],[el]);

}

}
i++;
}
th.itemsUIArr=[];
th.itemsUINavObj={};

};
_scenes_MapEditor[_36[272]]=function(el){
var th=this;
if(el){
callMethod(this,th,_36[297]);
var cont=th.mov.itemsContainer;
var ev3=th.ev2;
var sp3=callMethod(this,null,_36[298],[_36[299]]);
sp3.noClickItem=!0;
sp3.ww=(sp3.naturalWidth * sp3.scaleX);
sp3.hh=(sp3.naturalHeight * sp3.scaleY);
sp3.x=-sp3.ww;
sp3.y=-sp3.hh;
callMethod(this,el,_36[16],[sp3]);
callMethod(this,th.itemsUIArr,_36[19],[sp3]);
sp3.click=function(e){
var q1=el;
if(checkIn(el,_36[203])){
q1=el.rectSpr;

}
if(checkIn(el,_36[300])){
q1=el.rectSpr2;

}
if(q1){
if(checkIn(q1,_36[301])){
callMethod(this,q1,_36[301],[e]);

}

}

};
th.itemsUINavObj.info=sp3;
var sp3=callMethod(this,null,_36[298],[_36[302]]);
sp3.noClickItem=!0;
sp3.ww=(sp3.naturalWidth * sp3.scaleX);
sp3.hh=(sp3.naturalHeight * sp3.scaleY);
sp3.x=-sp3.ww;
sp3.y=-sp3.hh;
if(checkIs(el,GLOBAL.app.game.items.KeyItem)){

}else{
callMethod(this,el,_36[16],[sp3]);

}
callMethod(this,th.itemsUIArr,_36[19],[sp3]);
sp3.click=function(){
callMethod(this,GLOBAL.$app.popup,_36[96],[_36[303],function(){
callMethod(this,th,_36[91],[el]);
callMethod(this,th,_36[238]);

}]);

};
th.itemsUINavObj.del=sp3;
if(checkIn(el,_36[304])){
var sp3=callMethod(this,null,_36[298],[_36[305]]);
sp3.noClickItem=!0;
callMethod(this,el,_36[16],[sp3]);
callMethod(this,th.itemsUIArr,_36[19],[sp3]);
th.itemsUINavObj.resize=sp3;
var w2=el.w;
var h2=el.h;
sp3.x=w2;
sp3.y=h2;
sp3.mousedown=function(e){
var pp={};
var poss=callMethod(this,GLOBAL.AppUtils,_36[158],[cont,e.mouseX,e.mouseY]);
var mxx=(poss.x - cont.x);
var myy=(poss.y - cont.y);
pp.origX=mxx;
pp.origY=myy;
var mx=(mxx - (cont.x / cont.scaleX));
var my=(myy - (cont.y / cont.scaleY));
var x1=(mx - (el.x + sp3.x));
var y1=(my - (el.y + sp3.y));
pp.x=(mxx - x1);
pp.y=(myy - y1);
callMethod(this,el,_36[306],[this,th,pp,cont]);

};

}
var sp2=callMethod(this,null,_36[298],[_36[307]]);
var w3=(sp2.naturalWidth * sp2.scaleX);
sp2.noClickItem=!0;
if(checkIs(el,GLOBAL.app.game.items.TeleportItem)){

}else if(checkIs(el,GLOBAL.app.game.items.PointItem)){

}else{
callMethod(this,el,_36[16],[sp2]);
callMethod(this,th.itemsUIArr,_36[19],[sp2]);
th.itemsUINavObj.rotate=sp2;

}

var w2=(el.w + 2);
var h2=(el.h + 2);
sp2.x=w2;
sp2.y=(h2 - (el.h + w3));
sp2.mousedown=function(){
callMethod(this,ev3,_36[65]);
callMethod(this,ev3,_36[264],[GLOBAL.$app.stage,_36[308],function(e){
var mx=(((e.mouseX / cont.scaleX) / GLOBAL.$app.scaleFactor) - (cont.x / cont.scaleX));
var my=(((e.mouseY / cont.scaleY) / GLOBAL.$app.scaleFactor) - (cont.y / cont.scaleY));
var x1=(mx - (el.x + sp2.x));
var y1=(my - (el.y + sp2.y));
var cx=el.x;
var cy=el.y;
var radians=callMethod(this,Math,_36[309],[(mx - cx),(my - cy)]);
var degree=(((radians * (180 / Math.PI)) * -1) + 90);
el.rotation=degree;

}]);
callMethod(this,ev3,_36[264],[GLOBAL.$app.stage,_36[274],function(){
callMethod(this,ev3,_36[65]);

}]);

};
callMethod(this,th,_36[295]);

}

};
_scenes_MapEditor[_36[311]]=function(){
var ob={width:0,height:0};
var i=0;
while((i < this.mov.itemsContainer.numChildren)){
var el=callMethod(this,this.mov.itemsContainer,_36[31],[i]);
if(checkIn(el,_36[196])){
var w=(el.x + el.w);
var h=(el.y + el.h);
if(checkIn(el,_36[310])){
w=castInt((el.rotateData.left + el.rotateData.width));
h=castInt((el.rotateData.top + el.rotateData.height));

}
if((ob.width <= w)){
ob.width=w;

}
if((ob.height <= h)){
ob.height=h;

}

}
i++;
}
return ob;

};
_scenes_MapEditor[_36[312]]=function(){
var v=this.bgCurID;
return v;

};
_scenes_MapEditor[_36[197]]=function(t){
var v=0;
var i=0;
while((i < this.spr.numChildren)){
var el=callMethod(this,this.spr,_36[31],[i]);
if(checkIn(el,_36[196])){
if((el.type == t)){
v+=1;

}

}
i++;
}
return v;

};
_scenes_MapEditor[_36[192]]=function(t){
var i=0;
while((i < this.spr.numChildren)){
var el=callMethod(this,this.spr,_36[31],[i]);
if(checkIn(el,_36[196])){
if((el.type == t)){
return el;

}

}
i++;
}
return null;

};
_scenes_MapEditor[_36[83]]=function(){
var a=[];
var i=0;
while((i < this.spr.numChildren)){
var el=callMethod(this,this.spr,_36[31],[i]);
if(checkIn(el,_36[196])){
if((el.type == 15)){
callMethod(this,a,_36[19],[el]);

}

}
i++;
}
return a;

};
_scenes_MapEditor[_36[74]]=function(){
var time=this.mapTimeV;
var ob={width:0,height:0,time:time};
ob.v=this.version;
var bgid=callMethod(this,null,_36[312]);
ob.bg=bgid;
var spr1=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app,_36[16],[spr1]);
var a=[];
var i=0;
while((i < this.spr.numChildren)){
var el=callMethod(this,this.spr,_36[31],[i]);
if(checkIn(el,_36[196])){
var isCenterV=!1;
var type=el.type;
var id=el.itemid;
if((type == GLOBAL.GameRoomItemType.WALL)){
isCenterV=!0;

}
var x=el.x;
var y=el.y;
var cx=x;
var cy=y;
var w=el.w;
var h=el.h;
var r=el.rotation;
var bb={left:x,top:y,width:w,height:h};
if((r != 0)){
spr1.x=x;
spr1.y=y;
spr1.width=w;
spr1.height=h;
spr1.rotation=r;
bb=callMethod(this,spr1,_36[313]);
el.rotateData=bb;

}
var flags1V=0;
if(checkIn(el,_36[229])){
if((el.flags1 != 0)){
flags1V=el.flags1;

}

}
var isTextCenter=!1;
if((type == GLOBAL.GameRoomItemType.TEXT)){
if((((1 << 1) & flags1V) > 0)){
isTextCenter=!0;
isCenterV=!0;

}

}
if(isCenterV){
x=castInt((bb.left + (bb.width / 2)));
y=castInt((bb.top + (bb.height / 2)));

}
var obb={t:type,id:id,x:x,y:y,cx:cx,cy:cy,w:w,h:h,r:r};
if((flags1V != 0)){
obb.f1=flags1V;

}
if(isTextCenter){
obb.tc=1;

}
if((type == 20)){
obb.tt=el.tt;

}
if((type == 2)){
if(checkIn(el,_36[283])){
obb.restType=el.restType;

}

}
if((type == 6)){
if((el.jumpLevel > 0)){
obb.jumpLevel=el.jumpLevel;

}

}else if((type == 15)){
if(checkIn(el.ob,_36[314])){
obb.text=el.ob.text;

}
if(checkIn(el.ob,_36[315])){
obb.fill=el.ob.fill;

}
if(checkIn(el.ob,_36[316])){
obb.fontSize=el.ob.fontSize;

}
if(checkIn(el.ob,_36[317])){
obb.fontName=el.ob.fontName;

}

}else if((type == 21)){
var tInObj=[el.bmIn.x,el.bmIn.y];
var tOutObj=[el.bmOut.x,el.bmOut.y];
obb={t:type,r:0,a:tInObj,b:tOutObj};

}


callMethod(this,a,_36[19],[obb]);

}
i++;
}
var sz=callMethod(this,null,_36[311]);
var mapW=sz.width;
var mapH=sz.height;
ob.width=mapW;
ob.height=mapH;
ob.items=a;
ob.pers={x:0,y:0};
var persItemV=callMethod(this,this,_36[192],[9]);
if(persItemV){
ob.pers.x=persItemV.x;
ob.pers.y=persItemV.y;

}
callMethod(this,GLOBAL.$app,_36[163],[spr1]);
return ob;

};
_scenes_MapEditor[_36[13]]=function(id){
var th=this;
this.bgID2=id;
if((this.bgCurID != id)){
this.bgCurID=id;
callMethod(this,this.bgImg,_36[318],[id]);

}

};
_scenes_MapEditor[_36[319]]=function(w,h){
if(this.bgImg){
callMethod(this,this.bgImg,_36[284],[w,h]);

}

};
_scenes_MapEditor[_36[284]]=function(w,h){
var hh=110;
this.panel1.y=(h - this.panelH);
if(this.exitBut){
this.exitBut.x=(w - 190);
this.exitBut.y=16;

}
this.txtInfoElems.y=(h - 115);
this.txtTimeMap.y=(this.txtInfoElems.y - 30);
callMethod(this,this.panel1,_36[284],[this,(w - this.panel1.x),(this.panelH - 2)]);
this.plashkaSpr.y=(h - this.plashkaH);
callMethod(this,this.plashkaSpr.painter,_36[65]);
callMethod(this,this.plashkaSpr.painter,_36[320],[0,0,((w / this.plashkaSpr.scaleX) + 1),((this.plashkaH / this.plashkaSpr.scaleY) + 1),this.plashkaBG]);
this.txtTestMap.x=((w - this.txtTestMap.width) - 197);
this.txtActionTxt1.x=((w - this.txtActionTxt1.width) - 200);
this.txtActionTxt1.y=65;
this.txtTestMap.y=9;
this.menuDownCnt.y=(h - 90);
this.leftPanelM.y=-300;
callMethod(this,null,_36[319],[w,h]);
callMethod(this,this.pmask,_36[65]);
callMethod(this,this.pmask,_36[320],[0,0,w,h,_36[321]]);
if((this.bgrect != 0)){
callMethod(this,this.bgrect,_36[65]);
callMethod(this,this.bgrect,_36[320],[0,0,w,h,_36[321]]);

}

};
_scenes_MapEditor[_36[258]]=function(v){
var th=this;
this.koef=v;
this.mov.itemsContainer.scaleX=v;
this.mov.itemsContainer.scaleY=v;

};
_scenes_MapEditor[_36[65]]=function(){
this.curMapID=0;
this.curUMapID=0;
this.worldInfo=null;
this.selectedItemsList=[];
callMethod(this,this,_36[297]);
callMethod(this,this.mov.itemsContainer,_36[27]);
callMethod(this,this,_36[174]);
callMethod(this,this,_36[151]);
this.mov.itemsContainer.x=0;
this.mov.itemsContainer.y=0;
var mm=ctorObject(_36[122]);
callMethod(this,mm,_36[123],[this.defMapObj]);
callMethod(this,this,_36[256],[mm]);

};
vm.registerClass(_36[322],_36[323],_scenes_MapEditor);
})(window);



(function(window){
var _87=["PopUpUserInfoSpr1","BGKostiSprite","PopUpUserInfoMov1","addChild","on","load","web","Arial","visNavButtons","remove","animAlphaSprite","loadUserID",": ","css","white-space","nowrap","text-overflow","clip","overflow","hidden","createTxtInfo","removeAllChilds","removeChild","Загрузка информации...","send","parseObj","Пользователь с id "," не найден","user.getUserInfo","User","isSuperAdmin","id","ник","ip","push","a44.png","a45.png","getAssetByName","isOnline","last_active","timestampToStrDate4","timestampToStrDate2","openPopUpMinText1","<br /><br />Последний вход: ","getNickColor","openPopUpInputOne","Сменить ник","сменить","<br /><br />Действие выполнено","admin.changeNick","banInfo","нет","да","бан: ","openPopUpBanUserInfo","initBarFunc","opyt","popular","health","updateHealth","energy","updateEnergy","онлайн","authDevice","pc","android","getAssetURL","androidImg1.png","openPopUpUserOnlineInfoDevice","WEB","money","app.bar.BarMoneyTypeSpr2","lapki","openMenuMoneyLapkiV","setMoney","kosti","openMenuMoneyKostiV","getSocialPageURL","updateOpyt","updatePopular","<a href=\"","app.game.PersGameRoom","init","setUser","isModerator","attr","Модератор","isModeratorMaps","Модератор карт","isAdminOrSuperAdmin","Администратор","isTester","bitmap","bugImg1.png","image-rendering","pixelated","Тестер","popUpHelpTesterInfo","vip-txt4.png","openPopUpVipShop","clickChatUser","loadAvaUsers","getAvaByUserID","Anonymous","Добавить лапки","добавить","0","admin.setUserMoney","Установить лапки","ок","Закрыть","openMenuList1","Добавить кости","Установить кости","resize","app.popup.PopUpUserInfoSpr","lang.display.Sprite"];
var _app_popup_PopUpUserInfoSpr={};
_app_popup_PopUpUserInfoSpr["ctor"]=function(){
var th=this;
this.popupName=_87[0];
this.bg=ctorObject(_87[1]);
this.mov=ctorObject(_87[2]);
this.spr2=ctorObject(lang.display.Sprite);
this.cntMov=this.mov.cnt;
this.cntMov.visible=!1;
callMethod(this,this.cntMov,_87[3],[this.spr2]);
this.cntMov.avaImg.origSrcAva=this.cntMov.avaImg.src;
callMethod(this,this.cntMov.avaImg,_87[4],[_87[5],function(){
this.scaleX=1;
this.scaleY=1;
this.width=this.naturalWidth;
this.height=this.naturalHeight;
if((this.naturalWidth > 50)){
this.scaleX=(50 / this.naturalWidth);

}
if((this.naturalWidth > 50)){
this.scaleY=(50 / this.naturalHeight);

}
this.visible=!0;

}]);
this.healthBar=this.cntMov.healthBar;
this.energyBar=this.cntMov.energyBar;
this.cntMov.actionTxtBut.y-=10;
this.cntMov.actionTxtBut.bold=!0;
this.cntMov.actionTxtBut.filters=GLOBAL.Config.shadowText1;
this.cntMov.opytBar.x-=22;
this.cntMov.levelTxt.bold=!0;

this.curMoneyLapki=0;
this.curMoneyKosti=0;
this.healthBar.visible=!1;
this.energyBar.visible=!1;
this.isLoad=!1;
this.curUserID=0;
this.loadTxt=null;
this.popupW=460;
this.popupH=290;
this.cntMov.levelTxt.fontName=_87[7];
this.cntMov.levelTxt.bold=!0;
this.cntMov.levelTxt.y-=3;
this.cntMov.levelTxt.filters=GLOBAL.Config.shadowText1;
var isNavBut=!1;
if((GLOBAL.$app.user.tester == 1)){
isNavBut=!0;

}
callMethod(this,this,_87[8],[isNavBut]);
this.mov.closeBut.click=function(e){
callMethod(this,th,_87[9]);

};
callMethod(this,GLOBAL.AppUtils,_87[10],[this.mov.closeBut,0.8,1]);
callMethod(this,null,_87[3],[this.bg,this.mov]);

};
_app_popup_PopUpUserInfoSpr[_87[8]]=function(v){
var th=this;
this.mov.navImg1.visible=v;
this.mov.navImg2.visible=v;
this.mov.navLeft.visible=v;
this.mov.navRight.visible=v;
if(v){
this.mov.navLeft.click=function(){
var lastID=th.curUserID;
if(!th.isLoad){
th.curUserID-=1;
if((th.curUserID > 0)){
callMethod(this,th,_87[11],[th.curUserID]);

}else{
th.curUserID=lastID;

}

}

};
this.mov.navRight.click=function(){
if(!th.isLoad){
th.curUserID+=1;
callMethod(this,th,_87[11],[th.curUserID]);

}

};

}

};
_app_popup_PopUpUserInfoSpr[_87[20]]=function(t,v){
var txt=ctorObject(lang.text.TextField);
txt.fontName=_87[7];
txt.bold=!0;
txt.fontSize=16;
txt.text=((('' + t) + _87[12]) + v);
txt.filters=GLOBAL.Config.shadowText1;
txt.width=(txt.width + 4);
if((txt.width > 200)){
txt.width=200;
callMethod(this,txt,_87[13],[{'white-space':_87[15],'text-overflow':_87[17],'overflow':_87[19]}]);

}
return txt;

};
_app_popup_PopUpUserInfoSpr[_87[11]]=function(id){
var th=this;
th.curUserID=id;
this.cntMov.visible=!1;
callMethod(this,this.spr2,_87[21]);
if(th.loadTxt){
callMethod(this,th.loadTxt.parent,_87[22],[th.loadTxt]);
th.loadTxt=null;

}
if((this.cntMov.avaImg.src != this.cntMov.avaImg.origSrcAva)){
this.cntMov.avaImg.src=this.cntMov.avaImg.origSrcAva;

}
this.healthBar.visible=!1;
this.energyBar.visible=!1;
this.isLoad=!0;
this.loadTxt=ctorObject(lang.text.TextField);
this.loadTxt.fontName=_87[7];
this.loadTxt.bold=!0;
this.loadTxt.fontSize=17;
this.loadTxt.text=_87[23];
this.loadTxt.x=((this.popupW - this.loadTxt.width) / 2);
this.loadTxt.y=((this.popupH - 30) / 2);
this.loadTxt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.mov,_87[3],[this.loadTxt]);
callMethod(this,GLOBAL.$app.connect,_87[24],[function(v,o){
th.isLoad=!1;
if((v == GLOBAL.ErrorType.OK)){
callMethod(this,th,_87[25],[o]);

}else{
if(th.loadTxt){
th.loadTxt.text=((_87[26] + id) + _87[27]);
th.loadTxt.x=((th.popupW - th.loadTxt.width) / 2);

}

}

},_87[28],id]);

};
_app_popup_PopUpUserInfoSpr[_87[25]]=function(o){
var th=this;
if(o){
if(th.loadTxt){
callMethod(this,th.loadTxt.parent,_87[22],[th.loadTxt]);
th.loadTxt=null;

}
var u=ctorObject(_87[29]);
callMethod(this,u,_87[25],[o]);
var infoSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.spr2,_87[3],[infoSpr]);
infoSpr.x=170;
infoSpr.y=60;
var isAdminV=callMethod(this,GLOBAL.UserMode,_87[30],[GLOBAL.$app.user.mode]);
var infoListFields=[[_87[31],u.id],[_87[32],('' + u.nick)]];
if(checkIn(o,_87[33])){
callMethod(this,infoListFields,_87[34],[[_87[33],('' + o.ip)]]);

}
var yy=0;
var i=0;
while((i < infoListFields.size)){
var el=infoListFields[i];
var nm2=el[1];
var tx=callMethod(this,this,_87[20],[el[0],('' + nm2)]);
tx.y=yy;
callMethod(this,infoSpr,_87[3],[tx]);
if((i == 0)){
var iconT=_87[35];
if((u.sex == GLOBAL.Sex.MALE)){
iconT=_87[36];

}
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_87[37],[iconT]);
bm2.x=(tx.width + 4);
bm2.y=yy;
bm2.scaleX=0.5;
bm2.scaleY=0.5;

callMethod(this,infoSpr,_87[3],[bm2]);
var isOnline=!1;
if(checkIn(o,_87[38])){
if((o.isOnline == 1)){
isOnline=!0;

}

}
if(!isOnline){
if(checkIn(o,_87[39])){
var lastActive=o.last_active;
var dateStr=callMethod(this,GLOBAL.DateUtils,_87[40],[lastActive]);
var txt=ctorObject(lang.text.TextField);
txt.fontName=_87[7];
txt.bold=!0;
txt.color=16777215;
txt.fontSize=14;
txt.text=('' + dateStr);
txt.tss=lastActive;
txt.x=(bm2.x + 20);
txt.filters=GLOBAL.Config.shadowText1;
txt.width=(txt.width + 4);
txt.buttonMode=!0;
txt.click=function(){
var dateStr2=callMethod(this,GLOBAL.DateUtils,_87[41],[this.tss]);
callMethod(this,GLOBAL.$app.popup,_87[42],[(_87[43] + dateStr2)]);

};
callMethod(this,infoSpr,_87[3],[txt]);

}

}

}
yy+=27;
if((i == 1)){
var clrV=callMethod(this,GLOBAL.AppUtils,_87[44],[u.mode]);
if((u.mode <= 0)){
clrV=16777215;

}
tx.color=clrV;
if(isAdminV){
tx.nickTxt=nm2;
tx.buttonMode=!0;
tx.click=function(){
var th3=this;
callMethod(this,GLOBAL.$app.popup,_87[45],[_87[46],_87[47],('' + th3.nickTxt),function(ob){
var val=ob.name;
var userid=th.curUserID;
callMethod(this,GLOBAL.$app.connect,_87[24],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_87[42],[_87[48]]);

}

},_87[49],userid,val]);

}]);

};

}

}
i++;
}
if(checkIn(o,_87[50])){
var txt=ctorObject(lang.text.TextField);
txt.fontName=_87[7];
txt.bold=!0;
txt.fontSize=16;
var s3=_87[51];
if((o.banInfo.time > 0)){
s3=_87[52];

}
txt.text=(_87[53] + s3);
txt.filters=GLOBAL.Config.shadowText1;
txt.width=(txt.width + 4);
txt.y=yy;
if((o.banInfo.time > 0)){
txt.buttonMode=!0;
txt.click=function(e){
callMethod(this,GLOBAL.$app.popup,_87[54],[th.curUserID]);

};

}
callMethod(this,infoSpr,_87[3],[txt]);

}
callMethod(this,GLOBAL.$app.scene.bar,_87[55],[_87[56],this.cntMov.opytBar,u]);
callMethod(this,GLOBAL.$app.scene.bar,_87[55],[_87[57],this.cntMov.popularBar,u]);
if(checkIn(o,_87[58])){
this.healthBar.visible=!0;
callMethod(this,GLOBAL.$app.scene.bar,_87[55],[_87[58],this.healthBar]);
callMethod(this,GLOBAL.$app.scene.bar,_87[59],[u.health,this.healthBar]);

}
if(checkIn(o,_87[60])){
this.energyBar.visible=!0;
callMethod(this,GLOBAL.$app.scene.bar,_87[55],[_87[60],this.energyBar]);
callMethod(this,GLOBAL.$app.scene.bar,_87[61],[u.energy,this.energyBar]);

}
var isOnline=!1;
if(checkIn(o,_87[38])){
if((o.isOnline == 1)){
isOnline=!0;

}

}
if(isOnline){
var txt=ctorObject(lang.text.TextField);
txt.fontName=_87[7];
txt.bold=!0;
txt.color=1834752;
txt.fontSize=16;
txt.text=_87[62];
txt.x=-95;
txt.y=120;
txt.filters=GLOBAL.Config.shadowText1;
txt.width=(txt.width + 4);
callMethod(this,infoSpr,_87[3],[txt]);

}
var authDeviceV='';
if(checkIn(o,_87[63])){
authDeviceV=o.authDevice;
var r7=!1;
if((authDeviceV == _87[64])){
r7=!0;

}else if((authDeviceV == _87[65])){
r7=!0;

}

if(r7){
var bm2=ctorObject(lang.display.Bitmap);
bm2.scaleX=0.7;
bm2.scaleY=0.7;
bm2.x=-73;
if((authDeviceV == _87[65])){
var url2=callMethod(this,GLOBAL.$app.moviesReader,_87[66],[_87[67]]);
bm2.src=url2;
bm2.y-=8;
bm2.scaleX=0.6;
bm2.scaleY=0.6;
bm2.x+=5;

}else{
bm2.src='https://ag6.ru/images/logo-vm2.png';

}
bm2.buttonMode=!0;
bm2.ttt=authDeviceV;
bm2.click=function(){
callMethod(this,GLOBAL.$app.popup,_87[68],[this.ttt]);

};
callMethod(this,infoSpr,_87[3],[bm2]);

}else{
var txt=ctorObject(lang.text.TextField);
txt.fontName=_87[7];
txt.bold=!0;
txt.fontSize=16;
txt.text=_87[69];
txt.x=-65;
txt.filters=GLOBAL.Config.shadowText1;
txt.width=(txt.width + 4);
txt.buttonMode=!0;
txt.click=function(){
callMethod(this,GLOBAL.$app.popup,_87[68],[_87[6]]);

};
callMethod(this,infoSpr,_87[3],[txt]);

}

}
var spMoney=null;
var lapkiMoney=null;
if(checkIn(o,_87[70])){
if(!spMoney){
spMoney=ctorObject(lang.display.Sprite);

}
lapkiMoney=ctorObject(_87[71],[_87[72],function(){
if(isAdminV){
callMethod(this,th,_87[73]);

}

}]);
lapkiMoney.mouseEnabled=!1;
if(isAdminV){
lapkiMoney.mouseEnabled=!0;

}
callMethod(this,lapkiMoney,_87[74],[u.money]);
th.curMoneyLapki=u.money;
callMethod(this,spMoney,_87[3],[lapkiMoney]);

}
if(checkIn(o,_87[75])){
if(!spMoney){
spMoney=ctorObject(lang.display.Sprite);

}
var kostiMoney=ctorObject(_87[71],[_87[75],function(){
if(isAdminV){
callMethod(this,th,_87[76]);

}

}]);
kostiMoney.mouseEnabled=!1;
if(isAdminV){
kostiMoney.mouseEnabled=!0;

}
callMethod(this,kostiMoney,_87[74],[u.kosti]);
th.curMoneyKosti=u.kosti;
if(lapkiMoney){
kostiMoney.x=(lapkiMoney.tf.width + 60);

}
kostiMoney.y=6;
callMethod(this,spMoney,_87[3],[kostiMoney]);

}
if(spMoney){
spMoney.x=140;
spMoney.y=170;
callMethod(this,this.spr2,_87[3],[spMoney]);

}
var urlPage=callMethod(this,u,_87[77]);
this.cntMov.levelTxt.text=('' + u.level);
var w1=this.cntMov.levelTxt.width;
this.cntMov.levelTxt.x=(this.cntMov.starImg.x + ((50 - w1) / 2));
callMethod(this,GLOBAL.$app.scene.bar,_87[78],[u.opyt,this.cntMov.opytBar,u.lvlObj]);
callMethod(this,GLOBAL.$app.scene.bar,_87[79],[u.popular,u.popularLevel,u.popularIcon,this.cntMov.popularBar]);
if(urlPage){
var tfPage=ctorObject(lang.display.Sprite);
tfPage.html=((_87[80] + urlPage) + '" target="_blank" style="font-family:Arial;font-weight:bold;font-size:16px;text-decoration:none;color:#FFFFFF;">страничка</a>');
tfPage.x=10;
tfPage.y=140;
tfPage.filters=GLOBAL.Config.shadowText1;
callMethod(this,this.spr2,_87[3],[tfPage]);


}
var persImg=ctorObject(_87[81]);
callMethod(this,persImg,_87[82]);
callMethod(this,persImg,_87[83],[u]);
persImg.sprr4.visible=!1;
persImg.x=120;
persImg.y=130;
persImg.mouseEnabled=!1;
callMethod(this,this.spr2,_87[3],[persImg]);
var isMod=callMethod(this,GLOBAL.UserMode,_87[84],[u.mode]);
if(isMod){
var bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.x=0;
bmIcon.scaleX=0.5;
bmIcon.scaleY=0.5;
bmIcon.src=GLOBAL.Config.modChatIcon1BM.src;
bmIcon.y=60;
callMethod(this,bmIcon,_87[85],[{title:_87[86]}]);
callMethod(this,this.spr2,_87[3],[bmIcon]);

}else{
var isModMaps=callMethod(this,GLOBAL.UserMode,_87[87],[u.mode]);
if(isModMaps){
var bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.scaleX=0.5;
bmIcon.scaleY=0.5;
bmIcon.x=0;
bmIcon.src=GLOBAL.Config.modMapsIcon1BM.src;
bmIcon.y=60;
callMethod(this,bmIcon,_87[85],[{title:_87[88]}]);
callMethod(this,this.spr2,_87[3],[bmIcon]);

}

}
var isAdmin=callMethod(this,GLOBAL.UserMode,_87[89],[u.mode]);
if(isAdmin){
var bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.x=27;
bmIcon.src=GLOBAL.Config.adminIcon1BM.src;
bmIcon.y=-3;
callMethod(this,bmIcon,_87[85],[{title:_87[90]}]);
callMethod(this,this.spr2,_87[3],[bmIcon]);

}
var isTester=callMethod(this,u,_87[91]);
if(isTester){
var bmIcon=callMethod(this,null,_87[92],[_87[93]]);
callMethod(this,bmIcon,_87[13],[{'image-rendering':_87[95]}]);

bmIcon.y=180;
callMethod(this,bmIcon,_87[85],[{title:_87[96]}]);
bmIcon.buttonMode=!0;
bmIcon.click=function(){
callMethod(this,GLOBAL.$app.popup,_87[97]);

};
callMethod(this,this.spr2,_87[3],[bmIcon]);

}
if((u.vip > 0)){
var img2=callMethod(this,GLOBAL.$app.moviesReader,_87[37],[_87[98]]);
var bmIcon=ctorObject(lang.display.Bitmap);
bmIcon.x=48;
bmIcon.src=img2.src;
bmIcon.y=180;
bmIcon.buttonMode=!0;
bmIcon.click=function(){
callMethod(this,GLOBAL.$app.popup,_87[99]);

};
callMethod(this,this.spr2,_87[3],[bmIcon]);

}
this.cntMov.actionTxtBut.click=function(){
callMethod(this,GLOBAL.$app.chat,_87[100],[u,!1,!0]);

};
this.cntMov.avaImg.src=GLOBAL.Config.defaultAvaURL;
this.cntMov.visible=!0;
callMethod(this,GLOBAL.$app.cacheUsers,_87[101],[[u.id],function(){
var avaUrl=callMethod(this,GLOBAL.$app.cacheUsers,_87[102],[u.id]);
callMethod(this,th.cntMov.avaImg,_87[85],[{crossOrigin:_87[103]}]);

if((th.cntMov.avaImg.src != avaUrl)){
th.cntMov.avaImg.visible=!1;
th.cntMov.avaImg.src=avaUrl;

}

}]);

}

};
_app_popup_PopUpUserInfoSpr[_87[73]]=function(){
var th=this;
var menuList=[];
callMethod(this,menuList,_87[34],[[_87[104],function(){
callMethod(this,GLOBAL.$app.popup,_87[45],[_87[104],_87[105],_87[106],function(ob){
var val=castInt(ob.name);
var userid=th.curUserID;
callMethod(this,GLOBAL.$app.connect,_87[24],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_87[42],[_87[48]]);

}

},_87[107],userid,_87[72],1,val]);

}]);

}]]);
callMethod(this,menuList,_87[34],[[_87[108],function(){
callMethod(this,GLOBAL.$app.popup,_87[45],[_87[108],_87[109],('' + th.curMoneyLapki),function(ob){
var val=castInt(ob.name);
var userid=th.curUserID;
callMethod(this,GLOBAL.$app.connect,_87[24],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_87[42],[_87[48]]);

}

},_87[107],userid,_87[72],2,val]);

}]);

}]]);
callMethod(this,menuList,_87[34],[[_87[110],function(){

}]]);
callMethod(this,GLOBAL.$app.chat,_87[111],[menuList,'',0,!0]);

};
_app_popup_PopUpUserInfoSpr[_87[76]]=function(){
var th=this;
var menuList=[];
callMethod(this,menuList,_87[34],[[_87[112],function(ob){
callMethod(this,GLOBAL.$app.popup,_87[45],[_87[112],_87[105],_87[106],function(ob){
var val=castInt(ob.name);
var userid=th.curUserID;
callMethod(this,GLOBAL.$app.connect,_87[24],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_87[42],[_87[48]]);

}

},_87[107],userid,_87[75],1,val]);

}]);

}]]);
callMethod(this,menuList,_87[34],[[_87[113],function(ob){
callMethod(this,GLOBAL.$app.popup,_87[45],[_87[113],_87[109],('' + th.curMoneyKosti),function(ob){
var val=castInt(ob.name);
var userid=th.curUserID;
callMethod(this,GLOBAL.$app.connect,_87[24],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_87[42],[_87[48]]);

}

},_87[107],userid,_87[75],2,val]);

}]);

}]]);
callMethod(this,menuList,_87[34],[[_87[110],function(){

}]]);
callMethod(this,GLOBAL.$app.chat,_87[111],[menuList,'',0,!0]);

};
_app_popup_PopUpUserInfoSpr[_87[9]]=function(){
callMethod(this,this.parent,_87[9],[this]);

};
_app_popup_PopUpUserInfoSpr[_87[114]]=function(w,h){
callMethod(this,this.bg,_87[114],[w,h]);
this.mov.x=((w - this.popupW) / 2);
this.mov.y=((h - this.popupH) / 2);

};
vm.registerClass(_87[115],_87[116],_app_popup_PopUpUserInfoSpr);
})(window);



(function(window){
var _179=["removeChild","addChild","addDefPopUp","openPopUp","openArgs","register","t1","EventInfoT1","PopUpMiddleDefSpr","isEv2","app.popup.PopUpEventInfoT2","app.popup.PopUpEventInfoT1","remove","setContent","reload","defSpr1","close","openPopUpText1","Загрузка...","loadPopUpText","Контент не найден.","openPopUpSrv","runtime","js","instanceCl","instanceClass","t","push","open","apply","popupName","resize","getChildAt","getPopUpByName","closePopUpByName","openPopUpMinText1","openPopUpOfflineModeText","AdminPanel1","scenes.admin.AdminPanel","autoResize","openPopUpAdminPanel","ModPanel1","scenes.admin.ModPanel","openPopUpModPanel","app.popup.PopUpTesterGetMoney","tester","openPopUpTesterGetMoney","app.popup.PopUpModGetMoney","mod","openPopUpModGetMoney","modmaps","openPopUpModMapsGetMoney"," ","site","рубинов","голосов","PopUpMiddleDef","noBGClick","ButtonOrangeText","Купить","openPopUpUslugiAddSymbolsNick","всего за "," голосов на неделю."," рубинов на неделю.","<br />цена за смену цвета - "," косточек","nickColor_trial","Бесплатно","openPopUpConfirmMsgYesNo","Взять цветной ник на 15 минут?","send","shop.getTrialItem","nickColor","openPopUpUslugiNickColor"," голоса на неделю.<br />"," рубина на неделю.<br />","nickRainbow_trial","nickRainbow","openPopUpUslugiRainbowNick","openPopUpUslugiResetAccount","bitmap","bugImg1.png"," косточек!<br /><br />Цена ","web","css","image-rendering","pixelated","openPopUpUslugiTester","https://ag6.ru/app73952/pay","navURL","openPopUpPaymentItemSite","https://vk.com/club","action","vk","app.popup.PopUpMinInfo1","openPopUpInfoBonusAppGroup","app.popup.PopUpNotifyMov","openPopUpNotifyV","app.popup.PopUpUserInfoSpr","loadUserID","openPopUpUserInfoSpr","app.popup.PopUpSubscriptionSpr","loadID","openPopUpSubscriptionInfo","app.popup.PopUpInputOne","Команда","Выполнить","список команд","openPopUpMapEditorConsole","openPopUpNoConnectServer","playSFX","notify","обновить","openPopUpDisconnectServer","openPopUpErrorDBServer","openPopUpErrorAuthServer","Путешествие будет доступно с "," уровня","MainMenuButton","Play","popUpInfoTravelLvlNo","popUpInfoTxtPlayBut","тоже хочу","buyTesterAdd","popUpHelpTesterInfo","openPopUpKonkurs2Info","popupHelpNewVersionJS","getPopularInfoByValue","партии","getPopularListInfoByLevel","уровня","\n(до следующей иконки ",")","Популярность (",")\nуровень "," из ","getInfoPopularIds","getAllPopularArr","Хотите изменить иконку?","ok","\n\nИконка изменена!","\n\nНе удалось изменить иконку.","user.setIconPopular","getPopularIconImgBitmap","dup","popUpHelpPopularInfo","1: Перейдите на сайт","ag6.ru/vm2","exec","open https://ag6.ru/vm2","и авторизуйтесь","openPopUpRegVM2Info","В игре через web (браузер)","mobile","В игре через телефон (браузер)","pc","пк","android","В игре через игровой центр (","getAssetURL","androidImg1.png","openPopUpUserOnlineInfoDevice","https://ag6.ru/vm2","openPopUpVM2Q1","openPopUpZoomSettings1","app.popup.PopUpWorldEditorEvents","openPopUpWorldEditorEvents","openMinInfoContent","app.popup.PopUpEditorChangeWall","mapEditorChangeWall","app.popup.PopUpEmojiSelect","openPopUpEmojiSelect","PopUpMaster","lang.display.Sprite"];
var _PopUpMaster={};
_PopUpMaster["ctor"]=function(){
var th=this;
this.isInterItem=!0;
this.popupReg={};
this.w=0;
this.h=0;
this.cnt=ctorObject(lang.display.Sprite);
this.isAdd=!1;
this.cnt.remove=function(v){
callMethod(this,this,_179[0],[v]);
th.isAdd=th.isAdd ? !1 : !0;

};
callMethod(this,null,_179[1],[this.cnt]);
callMethod(this,this,_179[2]);

};
_PopUpMaster[_179[2]]=function(){
var th=this;
var popupv=GLOBAL.app.popup;
var popupsCl={SelectChatTextColor:popupv.PopUpSelectChatTextColor,MapEditorSaveMapServer:popupv.PopUpMapEditorSaveMapServer,MapEditorSaveMapServerConfirm:popupv.PopUpMapEditorSaveMapServerConfirm,CreateAccountOwner:popupv.PopUpCreateAccountOwner,SettingsPanel:popupv.PopUpSettingsPanel,HelpPanel:popupv.PopUpHelpPanel,GameRoomExit:popupv.PopUpGameRoomExit,ConfirmMsgYesNo:popupv.PopUpConfirmMsgYesNo,WinnersListZabeg:popupv.PopUpWinnersListZabeg,ViewUsersListByIdsM1:popupv.PopUpViewUsersListByIdsM1,GiftsHistoryUsers2:popupv.PopUpGiftsHistoryUsers2,MiniChatHistoryUser:popupv.PopUpMiniChatHistoryUser,RenderItemsArrDelim:popupv.PopUpRenderItemsArrDelim,ModMapEditorCancelMap:popupv.PopUpModMapEditorCancelMap,MyDressRoom:popupv.PopUpMyDressRoom,OpenHistoryAction:popupv.PopUpOpenHistoryAction,MapEditorSettingsLevel:popupv.PopUpMapEditorSettingsLevel,InputOne:popupv.PopUpInputOne,AdminAddMoney:popupv.PopUpAdminAddMoney,MapEditorOpenMapDrag:popupv.PopUpMapEditorOpenMapDrag,MapEditorTextSettings:popupv.PopUpMapEditorTextSettings,MapEditorTextSettingsWorld:popupv.PopUpMapEditorTextSettingsWorld,MainMapLevelVInfo:popupv.PopUpMainMapLevelVInfo,Quests1Info:popupv.PopUpQuests1Info,MainMapLevelOpen:popupv.PopUpMainMapLevelOpen,MapEditorChangeName:popupv.PopUpMapEditorChangeName,MapEditorCreateMap:popupv.PopUpMapEditorCreateMap,MapEditorInputOne:popupv.PopUpMapEditorInputOne,MapEditorTrampolineSettings:popupv.PopUpMapEditorTrampolineSettings,MapEditorWallRestSettings:popupv.PopUpMapEditorWallRestSettings,MapEditorCreateMapRoom:popupv.PopUpMapEditorCreateMapRoom,CreateRoom1:popupv.PopUpCreateRoom1,MyFriends:popupv.PopUpMyFriends,AccessUserSettings1:popupv.PopUpAccessUserSettings,AccessUserRedir:popupv.PopUpAccessUserRedir,SettingsNickColor1:popupv.PopUpSettingsNickColor1,SettingsNickRainbow:popupv.PopUpSettingsNickRainbow,ScreenMov1:popupv.PopUpScreenMov1,PrizeWinnerKosti:popupv.PopUpPrizeWinnerKosti,BuyMoneyOkInfo:popupv.PopUpBuyMoneyOkInfo,NewLevelUser:popupv.PopUpNewLevelUserMov,GiftUserInfo:popupv.PopUpGiftUserInfo,SendGifts:popupv.PopUpSendGifts,BuyMoney:popupv.PopUpPaymentMov,SellAllGiftsUser:popupv.PopUpSellAllGiftsUserMov,SellGiftUser:popupv.PopUpSellGiftUserMov,BonusGroup1:popupv.PopUpAppBonusGroup1,InfoActionBonus1:popupv.PopUpInfoActionBonus1,InfoGroupVKKonkurs:popupv.PopUpInfoGroupVKKonkurs,MyChangeNick:popupv.PopUpMyChangeNick,Text1:GLOBAL.PopUpMiddleDef,MinText1:popupv.PopUpMinInfo1,BuyBanExit:popupv.PopUpBuyBanExit,BanUserInfo:popupv.PopUpBanUserInfo,SearchUsers1:popupv.PopUpSearchUsers1,BoarListUsers1:popupv.PopUpBoarListUsers1,WinUserZabeg:popupv.PopUpWinUserZabeg,ZoomMainApp:popupv.PopUpZoomMainApp,ChatWinMsgInfo:popupv.PopUpChatWinMsgInfo,SetNewScoreMap:popupv.PopUpSetNewScoreMap,BuyStyle1Info:popupv.PopUpBuyStyle1Info,BoarAct1:popupv.PopUpBuyBoarAct1,ZabegiList:popupv.PopUpZabegiListMov1,SelectFileLocal:popupv.PopUpSelectFile1,SelectFolderLocal:popupv.PopUpSelectFile1,AdminActionPanel:popupv.PopUpAdminActionPanel,Shop:GLOBAL.app.shop.ShopScene,VipShop:GLOBAL.app.shop.ShopVipScene};
var cb1=function(nn,cl){
var nm=(_179[3] + nn);
var cb=function(){
var rr=callMethod(this,th,_179[4],[nn,arguments]);
return rr;

};
th[nm]=cb;
callMethod(this,th,_179[5],[nn,null,{t:_179[6],instanceClass:cl}]);

};
for(var n in popupsCl){
var cl=popupsCl[n];
if(cl){
cb1(n,cl);

}

}
popupsCl=null;
callMethod(this,th,_179[5],[_179[7],function(o){
var p=ctorObject(_179[8],[{noScroll:!0}]);
var sp=null;
if(o){
var isEvent2=!1;
if(checkIn(o,_179[9])){
if(o.isEv2){
isEvent2=!0;

}

}

}
if(isEvent2){
sp=ctorObject(_179[10],[o]);

}else{
sp=ctorObject(_179[11],[o]);

}
if(checkIn(sp,_179[12])){
p.removeCB=function(){
callMethod(this,sp,_179[12]);

};

}
if(sp){
callMethod(this,p,_179[13],[sp]);

}
callMethod(this,p,_179[14]);
return p;

}]);

};
_PopUpMaster[_179[16]]=function(o){
if(o){
if(checkIn(o,_179[15])){
if(o.defSpr1){
callMethod(this,o.defSpr1,_179[12]);

}
o.defSpr1=null;

}else if(checkIn(o,_179[12])){
callMethod(this,o,_179[12]);

}


}

};
_PopUpMaster[_179[21]]=function(id){
var th=this;
if(id){
var popupV=callMethod(this,th,_179[17],[_179[18]]);
callMethod(this,GLOBAL.$app,_179[19],[id,function(o){
if(popupV){
callMethod(this,popupV,_179[12]);

}
var tx1=_179[20];
if(o){
tx1=('' + o.text);

}
callMethod(this,th,_179[17],[tx1]);

},{cache:!0}]);

}

};
_PopUpMaster[_179[24]]=function(c,args){
var d=null;
var sz=args.size;
if(checkIn(System.platform,_179[22])){
if((System.platform.runtime == _179[23])){
sz=args.length;

}

}
if((sz == 0)){
d=ctorObject(c);

}else if((sz == 1)){
d=ctorObject(c,[args[0]]);

}else if((sz == 2)){
d=ctorObject(c,[args[0],args[1]]);

}else if((sz == 3)){
d=ctorObject(c,[args[0],args[1],args[2]]);

}else if((sz == 4)){
d=ctorObject(c,[args[0],args[1],args[2],args[3]]);

}else if((sz == 5)){
d=ctorObject(c,[args[0],args[1],args[2],args[3],args[4]]);

}else if((sz == 6)){
d=ctorObject(c,[args[0],args[1],args[2],args[3],args[4],args[5]]);

}else if((sz == 7)){
d=ctorObject(c,[args[0],args[1],args[2],args[3],args[4],args[5],args[6]]);

}else if((sz == 8)){
d=ctorObject(c,[args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]]);

}else if((sz == 9)){
d=ctorObject(c,[args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]]);

}









return d;

};
_PopUpMaster[_179[5]]=function(name,cb,props){
var th=this;
if(name){
var ob={};
var tt=null;
var cl=null;
ob.name=name;
if(props){
if(checkIn(props,_179[25])){
cl=props.instanceClass;
ob.instanceClass=cl;

}
if(checkIn(props,_179[26])){
tt=props.t;

}

}
ob.tt=tt;
ob.cb=cb;
th.popupReg[name]=ob;

}

};
_PopUpMaster[_179[28]]=function(name){
var args=[];
var i=1;
while((i < arguments.length)){
var el=arguments[i];
callMethod(this,args,_179[27],[el]);
i++;
}
callMethod(this,this,_179[4],[name,args]);

};
_PopUpMaster[_179[4]]=function(name,args){
var th=this;
if(!args){
args=[];

}
if(name){
if(checkIn(th.popupReg,name)){
var ob=th.popupReg[name];
var res=null;
if(checkIn(ob,_179[25])){
res=callMethod(this,th,_179[24],[ob.instanceClass,args]);

}else if(ob.cb){
res=callMethod(this,ob.cb,_179[29],[null,args]);

}

if(res){
if(!checkIn(res,_179[30])){
res.popupName=ob.name;

}
callMethod(this,th.cnt,_179[1],[res]);
th.isAdd=!0;
if(checkIn(res,_179[31])){
callMethod(this,res,_179[31],[th.w,th.h]);

}
return res;

}

}

}
return null;

};
_PopUpMaster[_179[33]]=function(s){
if(s){
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_179[32],[i]);
if(checkIn(el,_179[30])){
if((el.popupName == s)){
return el;

}

}
i++;
}

}
return null;

};
_PopUpMaster[_179[34]]=function(s){
if(s){
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_179[32],[i]);
if(checkIn(el,_179[30])){
if((el.popupName == s)){
callMethod(this,el,_179[12]);
return !0;

}

}
i++;
}

}
return !1;

};
_PopUpMaster[_179[36]]=function(){
callMethod(this,this,_179[35],['<br /><br />Доступно только в онлайн режиме']);

};
_PopUpMaster[_179[40]]=function(){
var q=callMethod(this,this,_179[33],[_179[37]]);
if(!q){
var c=ctorObject(_179[38]);
callMethod(this,this.cnt,_179[1],[c]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

}

};
_PopUpMaster[_179[43]]=function(){
var q=callMethod(this,this,_179[33],[_179[41]]);
if(!q){
var c=ctorObject(_179[42]);
callMethod(this,this.cnt,_179[1],[c]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

}

};
_PopUpMaster[_179[46]]=function(){
var c=ctorObject(_179[44],[_179[45]]);
callMethod(this,this.cnt,_179[1],[c]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[49]]=function(){
var c=ctorObject(_179[47],[_179[48]]);
callMethod(this,this.cnt,_179[1],[c]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[51]]=function(){
var c=ctorObject(_179[47],[_179[50]]);
callMethod(this,this.cnt,_179[1],[c]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[60]]=function(cb){
var s=(('<br /><br /><br />Если ваш ник не помещается в чате, вы можете купить ещё +5 символов для ника!<br /><br />всего за ' + GLOBAL.$app.shopMaster.votes5Symbols) + _179[52]);
if((GLOBAL.Config.authType == _179[53])){
s+=_179[54];

}else{
s+=_179[55];

}
var p1=ctorObject(_179[56],[s]);
callMethod(this,p1,_179[57]);
var but1=ctorObject(_179[58],[_179[59],function(){
callMethod(this,p1,_179[12]);
if(cb){
cb();

}

}]);
but1.x=230;
but1.y=270;
callMethod(this,p1.mov,_179[1],[but1]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[73]]=function(cb){
var s='<br />Вы сможете изменять цвет ника в чате и в забегах!<br />';
var s3=((_179[61] + GLOBAL.$app.shopMaster.votesNickColor) + _179[62]);
if((GLOBAL.Config.authType == _179[53])){
s3=((_179[61] + GLOBAL.$app.shopMaster.votesNickColor) + _179[63]);

}
s3=(s3 + '<br /><br />доступно больше 10 цветов');
var price1=GLOBAL.$app.shopMaster.priceChangeNickColor;
var price2=GLOBAL.$app.shopMaster.priceChangeNickResetColor;
s3=(((s3 + _179[64]) + price1) + _179[65]);
s3=(((s3 + '<br />цена за отключение цвета - ') + price2) + _179[65]);
s3=(s3 + '<br />а с золотым vip ещё дешевле!');
s3=(s3 + '<br /><br />1 раз можно сменить цвет бесплатно!');
s3=(s3 + '<br /><br />управление будет доступно в магазине, и клик на ник -> Выбрать цвет ника');
var ss2=(s + s3);
var p1=ctorObject(_179[56],[ss2]);
callMethod(this,p1,_179[57]);
var but1=ctorObject(_179[58],[_179[59],function(){
callMethod(this,p1,_179[12]);
if(cb){
cb();

}

}]);
but1.x=320;
but1.y=340;
var noTrial=!0;
if(checkIn(GLOBAL.$app.user,_179[66])){
if((GLOBAL.$app.user.nickColor_trial > 0)){
noTrial=!1;

}

}
if(noTrial){
var bb5=ctorObject(_179[58],[_179[67],function(){
callMethod(this,GLOBAL.$app.popup,_179[68],[_179[69],function(){
callMethod(this,GLOBAL.$app.connect,_179[70],[function(v){
callMethod(this,p1,_179[12]);
if((v == 1)){
GLOBAL.$app.user.nickColor_trial=1;
callMethod(this,GLOBAL.$app.popup,_179[35],['<br /><br />Цветной ник получен!']);

}else{
callMethod(this,GLOBAL.$app.popup,_179[35],['<br /><br />Ошибка при получении']);

}

},_179[71],_179[72]]);

}]);

}]);
bb5.x=130;
bb5.y=but1.y;
callMethod(this,p1.mov,_179[1],[bb5]);

}else{
but1.x=230;

}
callMethod(this,p1.mov,_179[1],[but1]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[78]]=function(cb){
var s=(('<br /><br /><br />У вас будет радужный ник, в чате и в забегах!<br />всего за ' + GLOBAL.$app.shopMaster.votesRainbowNick) + _179[74]);
if((GLOBAL.Config.authType == _179[53])){
s=(('<br /><br /><br />У вас будет радужный ник, в чате и в забегах!<br />всего за ' + GLOBAL.$app.shopMaster.votesRainbowNick) + _179[75]);

}
var p1=ctorObject(_179[56],[s]);
callMethod(this,p1,_179[57]);
var but1=ctorObject(_179[58],[_179[59],function(){
callMethod(this,p1,_179[12]);
if(cb){
cb();

}

}]);
but1.x=230;
but1.y=270;
callMethod(this,p1.mov,_179[1],[but1]);
var noTrial=!0;
if(checkIn(GLOBAL.$app.user,_179[76])){
if((GLOBAL.$app.user.nickRainbow_trial > 0)){
noTrial=!1;

}

}
if(noTrial){
var bb5=ctorObject(_179[58],[_179[67],function(){
callMethod(this,GLOBAL.$app.popup,_179[68],['Взять радужный ник на 15 минут?',function(){
callMethod(this,GLOBAL.$app.connect,_179[70],[function(v){
callMethod(this,p1,_179[12]);
if((v == 1)){
GLOBAL.$app.user.nickRainbow_trial=1;
callMethod(this,GLOBAL.$app.popup,_179[35],['<br /><br />Радужный ник получен!']);

}else{
callMethod(this,GLOBAL.$app.popup,_179[35],['<br /><br />Ошибка при получении']);

}

},_179[71],_179[77]]);

}]);

}]);
bb5.x=230;
bb5.y=(but1.y - 60);
callMethod(this,p1.mov,_179[1],[bb5]);

}
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[79]]=function(cb){
var s=(('<br />Если вы хотите начать игру сначала, но при этом хочется сохранить свой ID страницы, подарки, то эта услуга для вас!<br /><br />Можно обнулить уровень, опыт, сменить ник на начальный, вернуть обучение, всё как будто вы первый раз вошли в игру!<br />При этом сохраняется ваш ID, валюта, все услуги которые вы уже купили.<br /><br />Обратите внимание что после оплаты отменить действие невозможно.<br />Цена ' + GLOBAL.$app.shopMaster.votesResetAccount) + _179[52]);
if((GLOBAL.Config.authType == _179[53])){
s+=_179[54];

}else{
s+=_179[55];

}
var p1=ctorObject(_179[56],[s]);
callMethod(this,p1,_179[57]);
var but1=ctorObject(_179[58],[_179[59],function(){
callMethod(this,p1,_179[12]);
if(cb){
cb();

}

}]);
but1.x=230;
but1.y=360;
callMethod(this,p1.mov,_179[1],[but1]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[87]]=function(cb){
var icon=callMethod(this,null,_179[80],[_179[81]]);
var s=(((('<br />Став тестером вы сможете видеть новые обновления раньше всех!<br /><br />В информации у тестеров есть иконка<br />Все увидят в чате что вы стали тестером<br />Тестеры могут каждый месяц брать зарплату ' + GLOBAL.$app.shopMaster.testerGetMoney) + _179[82]) + GLOBAL.$app.shopMaster.votesAddTester) + _179[52]);
if((GLOBAL.Config.authType == _179[53])){
s+=_179[54];

}else{
s+=_179[55];

}
var p1=ctorObject(_179[56],[s]);
callMethod(this,p1,_179[57]);
var but1=ctorObject(_179[58],[_179[59],function(){
callMethod(this,p1,_179[12]);
if(cb){
cb();

}

}]);
but1.x=230;
but1.y=290;
callMethod(this,p1.mov,_179[1],[but1]);
icon.x=450;
icon.y=170;
callMethod(this,icon,_179[84],[{'image-rendering':_179[86]}]);
icon.y-=20;

callMethod(this,p1.mov,_179[1],[icon]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[90]]=function(item){
var th=this;
var url1=(_179[88] + item);
callMethod(this,null,_179[89],[url1]);


};
_PopUpMaster[_179[95]]=function(t){
var url1=(_179[91] + GLOBAL.Config.vkAppGroupID);
var s2='Заходите почаще, мы уверены что ещё будут бесплатные косточки!';
if((t == _179[92])){
s2='Заходите почаще, мы уверены что ещё будут акции!';

}
var ss4=(('На данный момент нам нечего предложить.<br />' + s2) + '<br /><br />Участвуйте в конкурсах и получайте подарки!');
if((GLOBAL.Config.authType == _179[93])){
ss4+=(('<br /><a style="color:#00FFFF;" href="' + url1) + '" target="_blank">группа игры</a>');

}

var p1=ctorObject(_179[94],[ss4]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[97]]=function(xx,yy){
var spr=ctorObject(_179[96]);
spr.x=xx;
spr.y=yy;
callMethod(this,this.cnt,_179[1],[spr]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[100]]=function(id){
var spr=ctorObject(_179[98]);
callMethod(this,this.cnt,_179[1],[spr]);
this.isAdd=!0;
callMethod(this,spr,_179[99],[id]);
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[103]]=function(id){
var spr=ctorObject(_179[101]);
callMethod(this,spr,_179[102],[id]);
callMethod(this,this.cnt,_179[1],[spr]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[108]]=function(cb,cbhelp){
var c=ctorObject(_179[104],[_179[105],_179[106],'',cb]);
var ww=320;
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=13;
tf3.color=16776960;
tf3.text=_179[107];
tf3.x=((ww - tf3.width) / 2);
tf3.y=89;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=cbhelp;
callMethod(this,c.mov,_179[1],[tf3]);
callMethod(this,this.cnt,_179[1],[c]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[109]]=function(){
var p1=ctorObject(_179[56],['<br /><br /><div>Ошибка подключения к серверу.<br /><br />Обновите страничку и повторите попытку.</div>']);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[113]]=function(){
callMethod(this,GLOBAL.$app,_179[110],[_179[111]]);
var p1=ctorObject(_179[56],['<br /><br /><div>Соединение с сервером потеряно.<br /><br />Обновите страничку и повторите попытку.</div>']);
var but1=ctorObject(_179[58],[_179[112],function(){
callMethod(this,document.location,_179[14]);

}]);
but1.x=230;
but1.y=230;
callMethod(this,p1.mov,_179[1],[but1]);

callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[114]]=function(){
callMethod(this,GLOBAL.$app,_179[110],[_179[111]]);
var p1=ctorObject(_179[56],['<br /><br /><div>Ошибка базы данных.</div>']);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[115]]=function(){
callMethod(this,GLOBAL.$app,_179[110],[_179[111]]);
var p1=ctorObject(_179[56],['<br /><br /><div>Ошибка авторизации.<br /><br />Обновите страничку и повторите попытку.</div>']);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[120]]=function(travelLvl,cbBut){
var p1=ctorObject(_179[94],[((_179[116] + travelLvl) + _179[117])]);
callMethod(this,this.cnt,_179[1],[p1]);
var playBut2=ctorObject(_179[118],[_179[119],function(){
callMethod(this,p1,_179[12]);
if(cbBut){
cbBut();

}

}]);
playBut2.x=180;
playBut2.y=50;
callMethod(this,p1.cnt,_179[1],[playBut2]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[121]]=function(txt,cbBut){
var p1=ctorObject(_179[94],[txt]);
callMethod(this,this.cnt,_179[1],[p1]);
var playBut2=ctorObject(_179[118],[_179[119],function(){
callMethod(this,p1,_179[12]);
if(cbBut){
cbBut();

}

}]);
playBut2.x=180;
playBut2.y=50;
callMethod(this,p1.cnt,_179[1],[playBut2]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[124]]=function(){
var p1=ctorObject(_179[94],['Игрок является тестером.\nЕму заранее доступны скрытые обновления\nкоторые ещё не видят остальные игроки.\n\nТестеры помогают тестировать новые обновления раньше всех.']);
callMethod(this,this.cnt,_179[1],[p1]);
if((GLOBAL.$app.user.tester == 0)){
var but1=ctorObject(_179[58],[_179[122],function(){
callMethod(this,p1,_179[12]);
callMethod(this,GLOBAL.$app.shopMaster,_179[123]);

}]);
but1.x=160;
but1.y=170;
callMethod(this,p1.cnt,_179[1],[but1]);

}
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[125]]=function(){
var userid=GLOBAL.$app.user.id;
if((userid < 0)){
userid=0;

}
var p1=ctorObject(_179[94],[(('Конкурсы теперь доступны в приложении <a style="color:#00FFFF;" href="https://ag6.ru/48/app/?user=' + userid) + '" target="_blank">Конкурсы</a><br /><br />Без расписания, без отправки кода боту, и всегда много конкурсов!')]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[126]]=function(){

};
_PopUpMaster[_179[145]]=function(u){
var th=this;
var maxParts=1;
var maxLevels=1;
if(!u){
u=GLOBAL.$app.user;

}
var userr=u;
var pos=1;
var vv=userr.popular;
var lvl=userr.popularLevel;
var uu=GLOBAL.$app.userMaster;
var curPopularID=0;
var popularInfo=callMethod(this,uu,_179[127],[lvl,vv]);
if(uu.popularList){
maxLevels=(uu.popularList.size + 1);

}
var nextPartVal=0;
var qq=_179[128];
if(popularInfo){
curPopularID=popularInfo.id;
pos=(popularInfo.pos + 1);
nextPartVal=(popularInfo.value - vv);
var arr=callMethod(this,uu,_179[129],[lvl]);
if(arr){
maxParts=arr.size;

}

}
if((userr.popularIcon != 0)){
curPopularID=userr.popularIcon;

}
if((pos >= maxParts)){
qq=_179[130];

}
var ss3=((_179[131] + nextPartVal) + _179[132]);
if((lvl >= maxLevels)){
ss3='';

}
var p1=ctorObject(_179[56],[((((((((_179[133] + vv) + _179[134]) + lvl) + _179[135]) + maxLevels) + '') + ss3) + '\n\nПопулярность начисляется после отправки подарка, по формуле "цена / 10" (если цена подарка 30, тогда 30 / 10 = 3)\nесли подарок за косточки тогда формула "цена * 2"')]);
if((u.id == GLOBAL.$app.user.id)){
var allIds=callMethod(this,GLOBAL.$app.userMaster,_179[136],[lvl,vv]);
var obIds={};
if(allIds){
var i=0;
while((i < allIds.length)){
var idv=allIds[i];
obIds[idv]=1;
i++;
}

}
var arr=callMethod(this,GLOBAL.$app.userMaster,_179[137]);
var spr=ctorObject(lang.display.Sprite);
spr.x=30;
spr.y=270;
callMethod(this,p1.mov,_179[1],[spr]);
var clickPopular=function(){
var pid=this.ob2.id;
if(this.popularEnable){
callMethod(this,th,_179[68],[_179[138],function(){
callMethod(this,GLOBAL.$app.connect,_179[70],[function(v){
if((v == _179[139])){
callMethod(this,th,_179[35],[_179[140]]);

}else{
callMethod(this,th,_179[35],[_179[141]]);

}

},_179[142],pid]);
callMethod(this,p1,_179[12]);

}]);

}else{
callMethod(this,th,_179[35],['\n\nЭта популярность ещё недоступна.']);

}

};
var maxW=600;
if(arr){
var xx=0;
var i=0;
while((i < arr.length)){
var el=arr[i];
var popularID=el.id;
var bm=callMethod(this,GLOBAL.$app.userMaster,_179[143],[popularID]);
if(bm){
var isEnable=!1;
if(checkIn(obIds,popularID)){
isEnable=!0;

}
if(!GLOBAL.$app.isStandalone){
bm=callMethod(this,GLOBAL.BitmapUtils,_179[144],[bm]);

}
bm.ob2=el;
bm.popularEnable=isEnable;
if(isEnable){

}else{
bm.alpha=0.5;

}
bm.x=xx;
if((curPopularID != popularID)){
bm.buttonMode=!0;
bm.click=clickPopular;

}
xx=(xx + 50);
callMethod(this,spr,_179[1],[bm]);

}
i++;
}

}
spr.x=((maxW - xx) / 2);

}
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[151]]=function(){
var p1=ctorObject(_179[94],['']);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.text=_179[146];
callMethod(this,p1.cnt,_179[1],[tf1]);
var tf2=ctorObject(lang.text.TextField);
tf2.x=(tf1.x + tf1.width);
tf2.color=16776960;
tf2.filters=GLOBAL.Config.filterBlue1;
tf2.text=_179[147];
tf2.buttonMode=!0;
tf2.click=function(){
callMethod(this,System,_179[148],[_179[149]]);

};
callMethod(this,p1.cnt,_179[1],[tf2]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.y=20;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.text=_179[150];
callMethod(this,p1.cnt,_179[1],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.y=(tf2.y + 55);
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.text='2: придумайте логин и пароль для входа';
callMethod(this,p1.cnt,_179[1],[tf1]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[161]]=function(pt){
var p1=ctorObject(_179[94],['']);
var yy=30;
if((pt == _179[83])){
var tf11=ctorObject(lang.text.TextField);
tf11.filters=GLOBAL.Config.shadowText2;
tf11.text=_179[152];
tf11.x=((450 - tf11.width) / 2);
tf11.y=70;
callMethod(this,p1.cnt,_179[1],[tf11]);

}else if((pt == _179[153])){
var tf11=ctorObject(lang.text.TextField);
tf11.filters=GLOBAL.Config.shadowText2;
tf11.text=_179[154];
tf11.x=((450 - tf11.width) / 2);
tf11.y=70;
callMethod(this,p1.cnt,_179[1],[tf11]);

}else{
var nm='';
if((pt == _179[155])){
nm=_179[156];

}else if((pt == _179[157])){
nm=_179[157];

}

yy+=30;
var bm=ctorObject(lang.display.Bitmap);
bm.src='https://ag6.ru/images/logo-vm2.png';
bm.scaleX=0.8;
bm.scaleY=0.8;
bm.x=((450 - 70) / 2);
callMethod(this,p1.cnt,_179[1],[bm]);
var tf11=ctorObject(lang.text.TextField);
tf11.fontSize=18;
tf11.filters=GLOBAL.Config.shadowText2;
tf11.text=((_179[158] + nm) + _179[132]);
tf11.x=((450 - tf11.width) / 2);
tf11.y=yy;
callMethod(this,p1.cnt,_179[1],[tf11]);
if((pt == _179[157])){
var url2=callMethod(this,GLOBAL.$app.moviesReader,_179[159],[_179[160]]);
if(url2){
var bm=ctorObject(lang.display.Bitmap);
bm.src=url2;
bm.scaleX=0.8;
bm.scaleY=0.8;
bm.x=((450 - 60) / 2);
bm.y=100;
callMethod(this,p1.cnt,_179[1],[bm]);

}

}

}

callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[163]]=function(){
var url1=_179[162];
var p1=ctorObject(_179[94],[(('<img src="https://ag6.ru/images/logo-vm2.png"><br />доступно только через игровой центр для windows и android<br /><a style="color:#FFFF00;" href="' + url1) + '" target="_blank">подробнее</a>')]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

};
_PopUpMaster[_179[164]]=function(){
callMethod(this,this,_179[163]);


};
_PopUpMaster[_179[166]]=function(editor,el,isAll){
var th=this;
var cb2=function(){
var p1=ctorObject(_179[165],[editor,el,cb2,isAll]);
callMethod(this,th.cnt,_179[1],[p1]);
th.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);
return p1;

};
var rr=cb2();

};
_PopUpMaster[_179[167]]=function(spr){
if(spr){
var sp=ctorObject(lang.display.Sprite);
sp.x=25;
var p1=ctorObject(_179[94],['']);
callMethod(this,p1.cnt,_179[1],[sp]);
spr.remove=function(){
callMethod(this,p1,_179[12]);

};
callMethod(this,sp,_179[1],[spr]);
callMethod(this,this.cnt,_179[1],[p1]);
this.isAdd=!0;
callMethod(this,GLOBAL.$app,_179[39]);

}

};
_PopUpMaster[_179[169]]=function(cb){
var p1=ctorObject(_179[168],[cb]);
callMethod(this,this,_179[167],[p1]);

};
_PopUpMaster[_179[171]]=function(){
var p1=ctorObject(_179[170]);
callMethod(this,this,_179[167],[p1]);

};
_PopUpMaster[_179[31]]=function(w,h){
this.w=w;
this.h=h;
this.scaleX=GLOBAL.$app.popupScale;
this.scaleY=GLOBAL.$app.popupScale;
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_179[32],[i]);
if(checkIn(el,_179[31])){
callMethod(this,el,_179[31],[w,h]);

}
i++;
}

};
vm.registerClass(_179[172],_179[173],_PopUpMaster);
})(window);



(function(window){
var _206=["register","Travel","scenes.TravelLevels","visPlashkaPanel","getChildAt","removeChild","removeScene","clear","visDownMenu","visZanaves","push","apply","addChild","autoResize","nav","setCurrentScene","scenes.home.ConnectServerScene","navConnectServer","vis1Func","isShowChat","web","scenes.game.PrestartGameRoom1","navPrestartGameScene","scenes.game.PrestartGameRoom2","navPrestartGameSceneOffline","check","scenes.game.GameRoom","navGameRoom","scenes.world.GameRoom","navGameRoomWorld","app.game.GameMap","width","height","time","v","bg","items","t","id","x","y","cx","cy","w","h","r","text","Добро пожаловать в игру","fill","rainbow","color","fontSize","pers","parseMap","tutorial","navGameRoomTutorial","scenes.MainLevelsEditorScene","navMainLevelsEditor","scenes.world.WorldRoomPreload","send","createStream","openPopUpMinText1","Мир не найден.","navHome","navWorldRoomObj","openPopUpConfirmMsgYesNo","Хотите создать мир?","worldCreate","navWorldRoom","<br /><br />Мир не найден.","world","initStream","join","scenes.PersHomeScene","navSceneHome","scenes.clans.ClansScene","navSceneClans","scenes.MyGiftsScene","navMyGiftsScene","app.shop.ShopScene","navShopScene","scenes.dresseditor.DressEditor","navDressEditorScene","init","openMapEditor","navMapEditor","scenes.world.MapEditor","defInit","openMapEditorWorld","navMapEditorWorld","assets/history_start","/bgLand1.png","/bgSpace1.png","navSceneTextInfo","загрузка сюжета...","loadList","scenes.history.HistoryStart","navSceneHistoryStart","scenes.SceneTextInfo","initTimer","scenes.AuthScene","navAuthScene","navEmptyScene","scenes.mapsAlbum.MapsAlbum","navMapsAlbumType","scenes.MoviesEditorScene","navMoviesEditorScene","albumuser","navMapsAlbum","modmaps","navModMapsAlbum","resize","ScenesMaster","lang.display.Sprite"];
var _ScenesMaster={};
_ScenesMaster["ctor"]=function(){
var th=this;
this.curScene=null;
this.scenesObj={};
callMethod(this,th,_206[0],[_206[1],function(){
var c=ctorObject(_206[2]);
return c;

}]);

};
_ScenesMaster[_206[7]]=function(){
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
while((this.numChildren > 0)){
var el=callMethod(this,this,_206[4],[0]);
callMethod(this,el.parent,_206[5],[el]);
if(checkIn(el,_206[6])){
callMethod(this,el,_206[6]);

}

}
this.curScene=null;

};
_ScenesMaster[_206[0]]=function(name,cb){
var th=this;
if(name){
if(cb){
th.scenesObj[name]=cb;

}

}

};
_ScenesMaster[_206[14]]=function(name){
var th=this;
if(name){
if(checkIn(th.scenesObj,name)){
callMethod(this,th,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
var args=[];
var i=1;
while((i < arguments.length)){
callMethod(this,args,_206[10],[arguments[i]]);
i++;
}
var q=th.scenesObj[name];
var ob=callMethod(this,q,_206[11],[null,args]);
th.curScene=ob;
callMethod(this,null,_206[12],[ob]);
callMethod(this,GLOBAL.$app,_206[13]);

}

}

};
_ScenesMaster[_206[15]]=function(o){
this.curScene=o;
if(o){
callMethod(this,null,_206[12],[o]);

}
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[17]]=function(t){
callMethod(this,null,_206[7]);
var c=ctorObject(_206[16],[t]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[18]]=function(v){
callMethod(this,GLOBAL.$app.scene,_206[8],[v]);
callMethod(this,GLOBAL.$app.scene,_206[9],[v]);

};
_ScenesMaster[_206[22]]=function(){
callMethod(this,null,_206[7]);
var isShowChat=callMethod(this,GLOBAL.$app.chat,_206[19]);
if(isShowChat){

}
if((GLOBAL.$app.scenesMasterHtml5 != this)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_206[7]);

}

callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
callMethod(this,this,_206[18],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[21]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[24]]=function(map){
callMethod(this,null,_206[7]);
var isShowChat=callMethod(this,GLOBAL.$app.chat,_206[19]);
if((GLOBAL.$app.scenesMasterHtml5 != this)){
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_206[7]);

}

callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
callMethod(this,this,_206[18],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[23],[map]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[27]]=function(roomType,users,map,initiator){
callMethod(this,null,_206[7]);
var checkZanaves=callMethod(this,GLOBAL.$app.flagsSettings,_206[25],[3,11]);
if(checkZanaves){
callMethod(this,GLOBAL.$app.scene,_206[9],[!1]);

}else{
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);

}
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[26],[roomType,users,map,initiator]);
this.curScene=c;
GLOBAL.$app.gameRoom=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[29]]=function(roomType,users,map,initiator){
callMethod(this,null,_206[7]);
var checkZanaves=callMethod(this,GLOBAL.$app.flagsSettings,_206[25],[3,11]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[28],[roomType,users,map,initiator]);
this.curScene=c;
GLOBAL.$app.gameRoom=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[55]]=function(){
var map=ctorObject(_206[30]);
var mapData={"width":802,"height":360,"time":120,"v":1,"bg":1,"items":[{"t":9,"id":0,"x":253,"y":311,"cx":253,"cy":311,"w":0,"h":0,"r":0},{"t":11,"id":0,"x":425,"y":303,"cx":425,"cy":303,"w":40,"h":43,"r":0},{"t":10,"id":0,"x":717,"y":286,"cx":717,"cy":286,"w":0,"h":0,"r":0},{"t":15,"id":0,"x":304,"y":120,"cx":304,"cy":120,"w":246,"h":0,"r":0,"text":_206[47],"fill":{"t":_206[49],"color":16777215},"fontSize":20},{"t":2,"id":1,"x":460,"y":351,"cx":118,"cy":343,"w":684,"h":17,"r":0},{"t":1,"id":4,"x":277,"y":126,"cx":277,"cy":126,"w":45,"h":45,"r":0},{"t":1,"id":4,"x":570,"y":127,"cx":570,"cy":127,"w":45,"h":45,"r":0},{"t":2,"id":1,"x":129,"y":279,"cx":118,"cy":215,"w":22,"h":129,"r":0},{"t":2,"id":1,"x":791,"y":280,"cx":780,"cy":216,"w":22,"h":129,"r":0}],"pers":{"x":253,"y":311}};
callMethod(this,map,_206[53],[mapData]);
callMethod(this,this,_206[27],[_206[54],[GLOBAL.$app.user],map,GLOBAL.$app.user.id]);

};
_ScenesMaster[_206[57]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
var c=ctorObject(_206[56]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[68]]=function(t){
var th=this;
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var checkZanaves=callMethod(this,GLOBAL.$app.flagsSettings,_206[25],[3,11]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!checkZanaves]);
var c=ctorObject(_206[58],[t]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);
var cb1=function(){
callMethod(this,GLOBAL.$app.connect,_206[59],[function(v,streamid,dt){
if((v == 1)){
var st=callMethod(this,GLOBAL.$app.connect,_206[60],[streamid]);
st.noStream=function(){
callMethod(this,GLOBAL.$app.popup,_206[61],[_206[62]]);
callMethod(this,GLOBAL.$app,_206[63]);

};
var mm=ctorObject(_206[30]);
callMethod(this,mm,_206[53],[dt.map]);
mm.worldInfo={id:dt.id,name:dt.name,user:dt.user};
dt.map=mm;
callMethod(this,th,_206[64],[dt,st]);

}else if((v == 2)){
callMethod(this,GLOBAL.$app.popup,_206[61],['<br /><br />Мир доступен со страницы хозяина.']);
callMethod(this,GLOBAL.$app,_206[63]);

}else{
var defMapID=6;
callMethod(this,GLOBAL.$app,_206[63]);
if((t == GLOBAL.$app.user.id)){
callMethod(this,GLOBAL.$app.popup,_206[65],[_206[66],function(){
callMethod(this,GLOBAL.$app.gameMaster,_206[67],[defMapID,null,function(wid){
if((wid > 0)){
callMethod(this,th,_206[68],[t]);

}else{
callMethod(this,GLOBAL.$app.popup,_206[61],['<br /><br />Не удалось создать мир.']);

}

}]);

}]);

}else{
callMethod(this,GLOBAL.$app.popup,_206[61],[_206[69]]);

}

}


},_206[68],t]);

};
cb1();

};
_ScenesMaster[_206[64]]=function(o,stream){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[26],[_206[70],o.users,o.map,GLOBAL.$app.user.id]);
c.gItemsList=o.arr2;
callMethod(this,c,_206[71],[stream]);
callMethod(this,stream,_206[72]);
GLOBAL.$app.gameRoom=c;
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[74]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
var c=ctorObject(_206[73]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[76]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[75]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[78]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[77]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[80]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[79]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[82]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
var c=ctorObject(_206[81]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[85]]=function(mapobj){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.mapEditor,_206[83]);
if(mapobj){
callMethod(this,GLOBAL.$app.mapEditor,_206[84],[mapobj]);

}
this.curScene=GLOBAL.$app.mapEditor;
callMethod(this,null,_206[12],[GLOBAL.$app.mapEditor]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[89]]=function(mapobj){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
if(!GLOBAL.$app.mapEditorWorld){
GLOBAL.$app.mapEditorWorld=ctorObject(_206[86]);
callMethod(this,GLOBAL.$app.mapEditorWorld,_206[87]);

}
callMethod(this,GLOBAL.$app.mapEditorWorld,_206[83]);
if(mapobj){
callMethod(this,GLOBAL.$app.mapEditorWorld,_206[88],[mapobj]);

}
this.curScene=GLOBAL.$app.mapEditorWorld;
callMethod(this,null,_206[12],[GLOBAL.$app.mapEditorWorld]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[97]]=function(cb){
var th=this;
var pp=_206[90];
var arr=[(pp + _206[91]),(pp + _206[92])];
callMethod(this,this,_206[93],[_206[94],20]);
callMethod(this,GLOBAL.$app.assetsDownloader,_206[95],[arr,{ok:function(assets){
callMethod(this,th,_206[7]);
var c=ctorObject(_206[96],[assets,cb]);
callMethod(this,th,_206[15],[c]);

},error:function(){
callMethod(this,GLOBAL.$app,_206[63]);

}}]);

};
_ScenesMaster[_206[93]]=function(txt,waitTime){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[98],[txt]);
if((waitTime > 0)){
callMethod(this,c,_206[99],[waitTime]);

}
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[101]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[100]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[102]]=function(){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);

};
_ScenesMaster[_206[104]]=function(t,userid){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[103],[t]);
callMethod(this,c,_206[83],[userid]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[106]]=function(reader){
callMethod(this,null,_206[7]);
callMethod(this,GLOBAL.$app.scene,_206[9],[!0]);
callMethod(this,GLOBAL.$app.scene,_206[8],[!1]);
callMethod(this,GLOBAL.$app.scene,_206[3],[!0]);
var c=ctorObject(_206[105]);
callMethod(this,c,_206[83],[reader]);
this.curScene=c;
callMethod(this,null,_206[12],[c]);
callMethod(this,GLOBAL.$app,_206[13]);

};
_ScenesMaster[_206[108]]=function(userid){
callMethod(this,this,_206[104],[_206[107],userid]);

};
_ScenesMaster[_206[110]]=function(){
callMethod(this,this,_206[104],[_206[109],0]);

};
_ScenesMaster[_206[111]]=function(w,h){
var i=0;
while((i < this.numChildren)){
var el=callMethod(this,this,_206[4],[i]);
if(checkIn(el,_206[111])){
callMethod(this,el,_206[111],[w,h]);

}
i++;
}

};
vm.registerClass(_206[112],_206[113],_ScenesMaster);
})(window);



(function(window){
var _31=["BGKostiSprite","addChild","PopUpShopScene","PopUpShopSceneMov","getAssetByName","b27.png","m","navMenu","remove","animAlphaSprite","getClassName","static","openPopUpMinText1","\n\nВ разработке","openPopUpVipShop","removeAllChilds","stopTimer1","loadUslugi","clearCnt","stop","push","Стандартный","Зима","Весна / Лето","Arial","Выберите стиль","selectAppStyle","createStylesPage1","send","user.setStyle1","openPopUpBuyStyle1Info","\n\nУ вас недостаточно косточек.","shop.buyStyle1","timer7868","init","К списку услуг","Стиль игры","Радужный ник","openPopUpUslugiRainbowNick","buyItemByID","checkPaymentSrv","openPopUpSettingsNickRainbow","Ник с выбором цвета","openPopUpUslugiNickColor","openPopUpSettingsNickColor1","Стать тестером (зарплата "," косточек)","buyTesterAdd","openPopUpTesterGetMoney","+5 символов для ника","openPopUpUslugiAddSymbolsNick","app.bar.BarMoneyTypeSpr2","lapki","setMoney","loadPersList","loadBonusList"," голос"," голоса"," голосов","GetGolosStr","removeScene","resize","app.shop.ShopScene","lang.display.Sprite"];
var _app_shop_ShopScene={};
_app_shop_ShopScene["ctor"]=function(){
var th=this;
this.bg=ctorObject(_31[0]);
callMethod(this,null,_31[1],[this.bg]);
this.popupName=_31[2];
var c=ctorObject(_31[3]);
this.tm1=null;
this.curMenu=0;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_31[4],[_31[5]]);
this.curMenuArr=[c.but1,c.but2,c.but3];
var i=0;
while((i < this.curMenuArr.size)){
var idd=(i + 1);
var nm3=(_31[6] + idd);
var ob3=c[nm3];
ob3.mouseEnabled=!1;
var el=this.curMenuArr[i];
el.menuID=idd;
el.origIconSrc=el.icon1.src;
el.msk.menuID=idd;
el.msk.click=function(){
callMethod(this,th,_31[7],[this.menuID]);

};
i++;
}
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=100;
this.c.cnt.y=90;
callMethod(this,this.c,_31[1],[this.c.cnt]);
callMethod(this,null,_31[1],[c]);
c.close.click=function(e){
callMethod(this,th,_31[8]);

};
callMethod(this,GLOBAL.AppUtils,_31[9],[c.close,0.8,1]);
var navID=1;
callMethod(this,this,_31[7],[navID]);

};
_app_shop_ShopScene[_31[11]]=function(){
this.isLoad=!1;
this.clName=callMethod(this,System,_31[10],[this]);

};
_app_shop_ShopScene[_31[7]]=function(id){
if((id == 2)){
callMethod(this,GLOBAL.$app.popup,_31[12],[_31[13]]);

}else if((id == 3)){
callMethod(this,GLOBAL.$app.popup,_31[14]);

}else{
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
i++;
}
callMethod(this,this.c.cnt,_31[15]);
callMethod(this,this,_31[16]);
if((id == 1)){
callMethod(this,this,_31[17]);

}

}
this.curMenu=id;

}


};
_app_shop_ShopScene[_31[18]]=function(){
callMethod(this,this.c.cnt,_31[15]);

};
_app_shop_ShopScene[_31[16]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_31[19]);

}
this.tm1=null;

};
_app_shop_ShopScene[_31[27]]=function(){
var th=this;
callMethod(this,th,_31[18]);
var freeStyleID=2;
var arr=[];
callMethod(this,arr,_31[20],[{id:1,name:_31[21]}]);
callMethod(this,arr,_31[20],[{id:3,name:_31[22]}]);
callMethod(this,arr,_31[20],[{id:2,name:_31[23]}]);
var qw1=30;
var yy=40;
var txt=ctorObject(lang.text.TextField);
txt.fontSize=14;
txt.fontName=_31[24];
txt.bold=!0;
txt.text=_31[25];
txt.x=((450 - txt.width) / 2);
txt.y=10;
txt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_31[1],[txt]);
var cb2=function(idd){
GLOBAL.$app.styleAppType=idd;
callMethod(this,GLOBAL.$app,_31[26],[idd]);
callMethod(this,th,_31[27]);

};
var i=0;
while((i < arr.size)){
var el=arr[i];
var clr=16777215;
if((el.id == GLOBAL.$app.styleAppType)){
clr=981891;

}
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.color=clr;
txt1.text=('' + el.name);
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
txt1.elObj=el;
txt1.click=function(){
var idd=this.elObj.id;
var idd1=idd;
if((idd != GLOBAL.$app.styleAppType)){
if((idd == GLOBAL.$app.defAppStyle)){
idd1=0;

}
var isBuy=!1;
if((idd1 == 0)){
isBuy=!0;

}
var arr2=GLOBAL.$app.user.curStyle1Items;
if(arr2){
var i=0;
while((i < arr2.size)){
var el=arr2[i];
if((el == idd)){
isBuy=!0;

}
i++;
}

}
if((idd1 == freeStyleID)){
isBuy=!0;

}
if(isBuy){
callMethod(this,GLOBAL.$app.connect,_31[28],[function(vv){
if((vv == 1)){
cb2(idd);

}
callMethod(this,th,_31[8]);

},_31[29],idd1]);

}else{
callMethod(this,GLOBAL.$app.popup,_31[30],[function(){
callMethod(this,GLOBAL.$app.connect,_31[28],[function(v,ar1){
if((v == GLOBAL.ErrorType.OK)){
GLOBAL.$app.user.curStyle1Items=ar1;
cb2(idd);
callMethod(this,th,_31[8]);

}else if((v == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_31[12],[_31[31]]);

}else{
callMethod(this,GLOBAL.$app.popup,_31[12],['\n\nПроизошла ошибка при покупке.']);

}


},_31[32],idd1]);

},function(){
var nmTimer=_31[33];
var tmm=null;
if(checkIn(GLOBAL.$app,nmTimer)){
var tmm=GLOBAL.$app[nmTimer];
if(tmm){
callMethod(this,tmm,_31[19]);

}

}
var sec=15;
var lastStyleID=GLOBAL.$app.styleAppType;
tmm=callMethod(this,Timer,_31[34],[(sec * 1000),function(){
callMethod(this,this,_31[19]);
callMethod(this,GLOBAL.$app,_31[26],[lastStyleID]);
GLOBAL.$app[nmTimer]=null;

}]);
GLOBAL.$app[nmTimer]=tmm;
callMethod(this,GLOBAL.$app,_31[26],[idd]);
callMethod(this,th,_31[8]);

}]);

}

}

};
callMethod(this,th.c.cnt,_31[1],[txt1]);
yy+=qw1;
i++;
}
yy+=qw1;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.color=16776960;
txt1.text=_31[35];
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
txt1.elObj=el;
txt1.click=function(){
th.curMenu=-1;
callMethod(this,th,_31[7],[1]);

};
callMethod(this,th.c.cnt,_31[1],[txt1]);

};
_app_shop_ShopScene[_31[17]]=function(){
var th=this;
var curID=0;
var txt=ctorObject(lang.text.TextField);
txt.fontSize=14;
txt.fontName=_31[24];
txt.bold=!0;
txt.text='Выберите услугу для просмотра информации';
txt.x=((450 - txt.width) / 2);
txt.y=10;
txt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_31[1],[txt]);
var txt=ctorObject(lang.text.TextField);
txt.fontSize=14;
txt.fontName=_31[24];
txt.bold=!0;
txt.text='услуги могут меняться, заходите чаще';
txt.x=((450 - txt.width) / 2);
txt.y=300;
txt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_31[1],[txt]);
curID+=1;
var qw1=30;
var yy=40;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.text=_31[36];
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
txt1.click=function(){
callMethod(this,th,_31[27]);

};
callMethod(this,th.c.cnt,_31[1],[txt1]);
yy+=qw1;
curID+=1;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.text=_31[37];
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
if((GLOBAL.$app.user.nickRainbowFlag == 0)){
txt1.click=function(){
callMethod(this,th,_31[8]);
callMethod(this,GLOBAL.$app.popup,_31[38],[function(){
callMethod(this,GLOBAL.$app.shopMaster,_31[39],[14,function(){
callMethod(this,GLOBAL.$app.shopMaster,_31[40]);

}]);

}]);

};

}else{
txt1.color=981891;
txt1.click=function(){
callMethod(this,th,_31[8]);
callMethod(this,GLOBAL.$app.popup,_31[41]);

};

}
callMethod(this,th.c.cnt,_31[1],[txt1]);
yy+=qw1;
curID+=1;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.text=_31[42];
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
if((GLOBAL.$app.user.nickColorFlag == 0)){
txt1.click=function(){
callMethod(this,th,_31[8]);
callMethod(this,GLOBAL.$app.popup,_31[43],[function(){
callMethod(this,GLOBAL.$app.shopMaster,_31[39],[15,function(){
callMethod(this,GLOBAL.$app.shopMaster,_31[40]);

}]);

}]);

};

}else{
txt1.color=981891;
txt1.click=function(){
callMethod(this,th,_31[8]);
callMethod(this,GLOBAL.$app.popup,_31[44]);

};

}
callMethod(this,th.c.cnt,_31[1],[txt1]);
yy+=qw1;
curID+=1;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.text=((_31[45] + GLOBAL.$app.shopMaster.testerGetMoney) + _31[46]);
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
if((GLOBAL.$app.user.tester == 0)){
txt1.click=function(){
callMethod(this,GLOBAL.$app.shopMaster,_31[47],[function(){
callMethod(this,th,_31[8]);

}]);

};

}else{
txt1.color=16776960;
txt1.click=function(){
callMethod(this,GLOBAL.$app.popup,_31[48]);

};

}
callMethod(this,th.c.cnt,_31[1],[txt1]);
yy+=qw1;
curID+=1;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_31[24];
txt1.bold=!0;
txt1.text=_31[49];
txt1.x=((450 - txt1.width) / 2);
txt1.y=yy;
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
if((GLOBAL.$app.user.nickLength < 3)){
txt1.click=function(){
callMethod(this,GLOBAL.$app.popup,_31[50],[function(){
callMethod(this,GLOBAL.$app.shopMaster,_31[39],[10,function(){
callMethod(this,th,_31[8]);
callMethod(this,GLOBAL.$app.shopMaster,_31[40]);

}]);

}]);

};

}else{
txt1.color=981891;
txt1.click=function(){
callMethod(this,GLOBAL.$app.popupHtml,_31[12],['\n\nУ вас уже максимальная длина ника!']);

};

}
callMethod(this,th.c.cnt,_31[1],[txt1]);

};
_app_shop_ShopScene[_31[54]]=function(){
var th=this;
var ww=450;
var spMoney=ctorObject(lang.display.Sprite);
var lapkiMoney=ctorObject(_31[51],[_31[52],function(){

}]);
lapkiMoney.mouseEnabled=!1;
callMethod(this,lapkiMoney,_31[53],[5]);
lapkiMoney.x=((ww - lapkiMoney.tf.width) / 2);
callMethod(this,spMoney,_31[1],[lapkiMoney]);
spMoney.y=80;
callMethod(this,this.c.cnt,_31[1],[spMoney]);

};
_app_shop_ShopScene[_31[55]]=function(){
var th=this;

};
_app_shop_ShopScene[_31[59]]=function(v){
var cnt=(v % 10);
if((cnt == 1)){
return (v + _31[56]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _31[57]);

}

}
return (v + _31[58]);

};
_app_shop_ShopScene[_31[60]]=function(){

};
_app_shop_ShopScene[_31[8]]=function(){
callMethod(this,this,_31[16]);
callMethod(this,this.parent,_31[8],[this]);

};
_app_shop_ShopScene[_31[61]]=function(w,h){
callMethod(this,this.bg,_31[61],[w,h]);
this.c.x=((w - 580) / 2);
this.c.y=((h - 400) / 2);

};
vm.registerClass(_31[62],_31[63],_app_shop_ShopScene);
})(window);



(function(window){
var _298=["app.popup.PopUpMinInfo1","addChild","Купить этот стиль?","Цена","app.bar.BarMoneyTypeSpr2","kosti","setMoney","посмотреть стиль 15 секунд","remove","ButtonOrangeText","Да","Нет","removeChild","resize","app.popup.PopUpBuyStyle1Info","lang.display.Sprite"];
var _app_popup_PopUpBuyStyle1Info={};
_app_popup_PopUpBuyStyle1Info["ctor"]=function(cb,cbview){
this.p1=ctorObject(_298[0],['']);
callMethod(this,null,_298[1],[this.p1]);
var th=this;
var price=GLOBAL.$app.shopMaster.priceBuyStyle1;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_298[1],[sp2]);
var yy=((120 - 30) / 2);
yy-=20;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_298[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=yy;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_298[1],[this.tf1]);
yy+=40;
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.text=_298[3];
this.tf2.x=((500 - this.tf1.width) / 2);
this.tf2.y=yy;
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_298[1],[this.tf2]);
var mm=ctorObject(_298[4],[_298[5],function(){

}]);
mm.mouseEnabled=!1;
mm.y=yy;
callMethod(this,mm,_298[6],[price]);
mm.x=(((510 - 40) - mm.tf.width) / 2);
callMethod(this,sp2,_298[1],[mm]);
yy+=40;
var tf1=ctorObject(lang.text.TextField);
tf1.color=16776960;
tf1.fontSize=16;
tf1.text=_298[7];
tf1.x=((450 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.buttonMode=!0;
tf1.click=function(){
if(cbview){
cbview();

}
callMethod(this,th,_298[8]);

};
callMethod(this,sp2,_298[1],[tf1]);
yy+=30;
var bb=ctorObject(_298[9],[_298[10],function(){
callMethod(this,th,_298[8]);
if(cb){
cb();

}

}]);
bb.x=110;
bb.y=168;
callMethod(this,sp2,_298[1],[bb]);
var bb2=ctorObject(_298[9],[_298[11],function(){
callMethod(this,th,_298[8]);

}]);
bb2.x=(bb.x + 120);
bb2.y=bb.y;
callMethod(this,sp2,_298[1],[bb2]);

};
_app_popup_PopUpBuyStyle1Info[_298[8]]=function(){
if(this.parent){
callMethod(this,this.parent,_298[12],[this]);

}

};
_app_popup_PopUpBuyStyle1Info[_298[13]]=function(w,h){
callMethod(this,this.p1,_298[13],[w,h]);

};
vm.registerClass(_298[14],_298[15],_app_popup_PopUpBuyStyle1Info);
})(window);



(function(window){
var _38=["addChild","Arial","setFontSize","createSpritePainter","setText","web","clear","border","rectRound","#FFFFFF","ToolTipRectText1","lang.display.Sprite"];
var _ToolTipRectText1={};
_ToolTipRectText1["ctor"]=function(txt){
this.s1=ctorObject(lang.display.Sprite);
callMethod(this,null,_38[0],[this.s1]);
this.mouseEnabled=!1;
this.roundedV=5;
this.expireTime=-1;
this.msgTF=ctorObject(lang.text.TextField);
this.msgTF.fontName=_38[1];
this.msgTF.bold=!1;
this.msgTF.color=0;
callMethod(this,this,_38[2],[14]);
var spr=callMethod(this,GLOBAL.AppUtils,_38[3]);
this.spr=spr;
callMethod(this,this.s1,_38[0],[spr,this.msgTF]);
this.w=0;
this.h=0;
callMethod(this,this,_38[4],[txt]);

};
_ToolTipRectText1[_38[2]]=function(v){
this.msgTF.fontSize=v;

};
_ToolTipRectText1[_38[4]]=function(v){
var maxWidth=350;
this.msgTF.maxWidth=maxWidth;
this.msgTF.text=v;
var textW=this.msgTF.width;
var textH=this.msgTF.height;
this.msgTF.width=textW;
this.w=(textW + 4);
this.h=((textH + this.msgTF.fontSize) + 4);
this.msgTF.x=(((this.w - textW) + 6) / 2);
this.msgTF.y=(((this.h - textH) + 6) / 2);
this.msgTF.y-=4;

callMethod(this,this.spr.painter,_38[6]);
callMethod(this,this.spr.painter,_38[7],[1,0]);
callMethod(this,this.spr.painter,_38[8],[0,0,(this.w + this.msgTF.x),this.h,_38[9],this.roundedV]);

};
vm.registerClass(_38[10],_38[11],_ToolTipRectText1);
})(window);

(function(window){
var _197=["static","init1","removeChild","clearTimer","clear","clearToolTip","add","ToolTipRectText1","tooltipWH","h","addTooltipText","stop","grabMousePos","on","mousemove","init","addChild","rollover","rollout","ToolTip"];
var _ToolTip={};
_ToolTip["ctor"]=function(){

};
_ToolTip[_197[0]]=function(){
this.curToolTipElem=null;
this.tm1=null;
this.rollOverTime=500;

};
_ToolTip[_197[1]]=function(){
this.ev=ctorObject(lang.events.EventsObjectMaster);

};
_ToolTip[_197[5]]=function(){
if(GLOBAL.ToolTip.curToolTipElem){
callMethod(this,GLOBAL.ToolTip.curToolTipElem.parent,_197[2],[GLOBAL.ToolTip.curToolTipElem]);

}
GLOBAL.ToolTip.curToolTipElem=null;
callMethod(this,GLOBAL.ToolTip,_197[3]);
callMethod(this,this.ev,_197[4]);

};
_ToolTip[_197[10]]=function(obj,txt,evv){
if(!evv){
evv=ctorObject(lang.events.EventsObjectMaster);

}
callMethod(this,this,_197[6],[obj,function(e){
var c=ctorObject(_197[7],[txt]);
c.x=((e.x * GLOBAL.$app.domScaleV) - ((c.w * GLOBAL.$app.domScaleV) / 2));
var hh=obj.height;
if(checkIn(obj,_197[8])){
if(checkIn(obj.tooltipWH,_197[9])){
hh=obj.tooltipWH.h;

}

}
c.y=((e.y - hh) - 20);
var sw=GLOBAL.$app.stage.stageWidth;
if(((e.x + c.w) > sw)){
c.x=((sw - c.w) - 5);

}
if((c.y < 5)){
c.y=(e.y + hh);

}
return c;

},evv]);

};
_ToolTip[_197[3]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_197[11]);
this.tm1=null;

}

};
_ToolTip[_197[6]]=function(obj,cb,ev){
var th=this;
if(obj){
if(cb){
var xy={x:0,y:0};
var cbOver=function(e){
callMethod(this,GLOBAL.ToolTip,_197[5]);
var pos=callMethod(this,System,_197[12]);
xy.x=(pos.x / GLOBAL.$app.scaleX);
xy.y=(pos.y / GLOBAL.$app.scaleY);
callMethod(this,th.ev,_197[13],[GLOBAL.$app.stage,_197[14],function(e){
xy.x=(e.mouseX / GLOBAL.$app.scaleX);
xy.y=(e.mouseY / GLOBAL.$app.scaleY);

}]);
th.tm1=callMethod(this,Timer,_197[15],[th.rollOverTime,function(){
callMethod(this,GLOBAL.ToolTip,_197[3]);
var mov=cb(xy);
callMethod(this,GLOBAL.$app.cnv,_197[16],[mov]);
GLOBAL.ToolTip.curToolTipElem=mov;

}]);

};
var cbOut=function(e){
callMethod(this,GLOBAL.ToolTip,_197[3]);
callMethod(this,GLOBAL.ToolTip,_197[5]);

};
callMethod(this,ev,_197[13],[obj,_197[17],cbOver]);
callMethod(this,ev,_197[13],[obj,_197[18],cbOut]);

}

}

};
vm.registerClass(_197[19],'',_ToolTip);
})(window);



(function(window){
var _286=["drawMovie","createSpritePainter","addChild","web","replaceAll","\n","<br />","wordBreak","css","word-break","break-all","clear","#FFFFFF","font-family","Arial","font-weight","bold","text-align","center","attr","scroll1","animAlphaSprite","remove","noBGClick","removeChild","rect","#000000","resize","PopUpMiddleDef","lang.display.Sprite"];
var _PopUpMiddleDef={};
_PopUpMiddleDef["ctor"]=function(txt,props){
var th=this;
var mov=callMethod(this,GLOBAL.$app.moviesReader,_286[0],[16]);
this.mov=mov;
this.sc=null;
this.bg=callMethod(this,GLOBAL.AppUtils,_286[1]);
this.bg.alpha=0.2;
callMethod(this,null,_286[2],[this.bg]);
callMethod(this,null,_286[2],[mov]);
var cnt=mov.cnt;
this.xx=cnt.x;
this.yy=cnt.y;
txt=callMethod(this,txt,_286[4],[_286[5],_286[6]]);

this.tf=ctorObject(lang.text.TextField);
this.tf=ctorObject(lang.display.Sprite);
if(props && checkIn(props,_286[7])){
callMethod(this,this.tf,_286[8],[{'word-break':_286[10]}]);

}

callMethod(this,cnt.painter,_286[11]);
this.w=(550 - cnt.x);
this.h=(400 - cnt.y);
this.tf.x=this.xx;
this.tf.y=this.yy;
callMethod(this,mov,_286[2],[this.tf]);

this.cnt=cnt;
this.tf.scroll=!0;
callMethod(this,this.tf,_286[8],[{color:_286[12],'font-family':_286[14],'font-weight':_286[16],'text-align':_286[18]}]);
this.tf.filters=GLOBAL.Config.filterBlue1;
this.tf.maxWidth=(this.w - 30);

this.tf.html=txt;
callMethod(this,this.tf,_286[19],[{className:_286[20]}]);

this.tf.width=this.w;
this.tf.height=(400 - this.tf.y);
callMethod(this,GLOBAL.AppUtils,_286[21],[mov.close,0.7,1]);
mov.close.click=function(e){
callMethod(this,th,_286[22]);

};
this.bg.click=function(){
callMethod(this,th,_286[22]);

};

};
_PopUpMiddleDef[_286[23]]=function(){
this.bg.click=function(){

};

};
_PopUpMiddleDef[_286[22]]=function(){
if(this.sc){
callMethod(this,this.sc,_286[22]);

}
callMethod(this,this.parent,_286[24],[this]);

};
_PopUpMiddleDef[_286[27]]=function(w,h){
this.mov.x=((w - 580) / 2);
this.mov.y=((h - 400) / 2);
callMethod(this,this.bg.painter,_286[11]);
callMethod(this,this.bg.painter,_286[25],[0,0,w,h,_286[26]]);

};
vm.registerClass(_286[28],_286[29],_PopUpMiddleDef);
})(window);



(function(window){
var _54=["drawMovie","getChildAt","createSpritePainter","addChild","noScroll","clear","web","css","#FFFFFF","font-family","Arial","font-weight","bold","text-align","center","attr","scroll1","animAlphaSprite","remove","setContent","reload","x","y","setTitleBitmap","removeChild","removeCB","rect","#000000","resize","PopUpMiddleDefSpr","lang.display.Sprite"];
var _PopUpMiddleDefSpr={};
_PopUpMiddleDefSpr["ctor"]=function(props){
var th=this;
this.w=580;
this.h=400;
this.removeCB=null;
var txt='';
var mov=callMethod(this,GLOBAL.$app.moviesReader,_54[0],[16]);
var el1=callMethod(this,mov,_54[1],[2]);
this.titleBM=el1;
this.sc=null;
this.mov=mov;
this.bg=callMethod(this,GLOBAL.AppUtils,_54[2]);
this.bg.alpha=0.2;
callMethod(this,null,_54[3],[this.bg]);
callMethod(this,null,_54[3],[mov]);
var cnt=mov.cnt;
if(!props){
props={};

}
var isScroll=!0;
if(checkIn(props,_54[4])){
if(props.noScroll){
isScroll=!1;

}

}
this.xx=cnt.x;
this.yy=cnt.y;
callMethod(this,cnt.painter,_54[5]);
this.ww=(550 - cnt.x);
this.hh=(400 - cnt.y);
this.cnt=cnt;
if(isScroll){
this.cnt.scroll=!0;

}
callMethod(this,this.cnt,_54[7],[{color:_54[8],'font-family':_54[10],'font-weight':_54[12],'text-align':_54[14]}]);
if(isScroll){
callMethod(this,this.cnt,_54[15],[{className:_54[16]}]);

}

callMethod(this,GLOBAL.AppUtils,_54[17],[mov.close,0.7,1]);
mov.close.click=function(e){
callMethod(this,th,_54[18]);

};

};
_PopUpMiddleDefSpr[_54[19]]=function(o){
var th=this;
if(o){
o.defSpr1=th;
callMethod(this,th.cnt,_54[3],[o]);

}

};
_PopUpMiddleDefSpr[_54[20]]=function(){
if(this.sc){
callMethod(this,this.sc,_54[20]);

}

};
_PopUpMiddleDefSpr[_54[23]]=function(bm,ob){
if(bm){
this.titleBM.src=bm;
if(ob){
if(checkIn(ob,_54[21])){
this.titleBM.x=ob.x;

}
if(checkIn(ob,_54[22])){
this.titleBM.y=ob.y;

}

}

}

};
_PopUpMiddleDefSpr[_54[18]]=function(){
callMethod(this,this.parent,_54[24],[this]);
if(this.sc){
callMethod(this,this.sc,_54[18]);

}
this.sc=null;
if(this.removeCB){
callMethod(this,this,_54[25]);

}
this.removeCB=null;

};
_PopUpMiddleDefSpr[_54[28]]=function(w,h){
this.mov.x=((w - this.w) / 2);
this.mov.y=((h - this.h) / 2);
callMethod(this,this.bg.painter,_54[5]);
callMethod(this,this.bg.painter,_54[26],[0,0,w,h,_54[27]]);

};
vm.registerClass(_54[29],_54[30],_PopUpMiddleDefSpr);
})(window);



(function(window){
var _267=["getAssetByName",".png","addChild","Fortuna","b1.png","Play","AppMenuPlayBut1","on","rollover","rollout","Bag","AppMenuBag1But","Clan","AppMenuClanBut","createSpritePainter","rect","#000000","init","start","playSFX","click","openPopUpOfflineModeText","MainMenuButton","lang.display.Sprite"];
var _MainMenuButton={};
_MainMenuButton["ctor"]=function(t,cb){
var th=this;
var bm=callMethod(this,GLOBAL.$app.moviesReader,_267[0],[(t + _267[1])]);
if(bm){
callMethod(this,null,_267[2],[bm]);

}
var spr2=ctorObject(lang.display.Sprite);
if((t == _267[3])){
spr2.mouseEnabled=!1;
var arrow1=callMethod(this,GLOBAL.$app.moviesReader,_267[0],[_267[4]]);
arrow1.x=-9;
arrow1.y=-9;
spr2.rotation=270;
spr2.x=48;
spr2.y=41;
callMethod(this,spr2,_267[2],[arrow1]);
callMethod(this,null,_267[2],[spr2]);

}else if((t == _267[5])){
var mv=ctorObject(_267[6]);
callMethod(this,null,_267[2],[mv]);
callMethod(this,mv.msk,_267[7],[_267[8],function(){
mv.alpha=0.7;

}]);
callMethod(this,mv.msk,_267[7],[_267[9],function(){
mv.alpha=1;

}]);
mv.msk.click=function(e){
cb(e);

};

}else if((t == _267[10])){
var mv=ctorObject(_267[11]);
callMethod(this,null,_267[2],[mv]);
callMethod(this,mv.but,_267[7],[_267[8],function(){
mv.alpha=0.7;

}]);
callMethod(this,mv.but,_267[7],[_267[9],function(){
mv.alpha=1;

}]);
mv.but.click=function(e){
cb(e);

};

}else if((t == _267[12])){
var mv=ctorObject(_267[13]);
mv.y=-4;
callMethod(this,null,_267[2],[mv]);
callMethod(this,mv.msk,_267[7],[_267[8],function(){
mv.alpha=0.7;

}]);
callMethod(this,mv.msk,_267[7],[_267[9],function(){
mv.alpha=1;

}]);
mv.msk.click=function(e){
cb(e);

};

}



if(bm){
this.tw1=null;
bm.x=5;
bm.y=-3;
if((t == _267[3])){
var msk1=callMethod(this,GLOBAL.AppUtils,_267[14]);
msk1.x=5;
msk1.buttonMode=!0;
msk1.alpha=0;
callMethod(this,msk1.painter,_267[15],[0,0,100,80,_267[16]]);
callMethod(this,msk1,_267[7],[_267[8],function(){
if(!th.tw1){
var tween=ctorObject(lib.Tween,[spr2]);
var r1=(spr2.rotation + 360);
callMethod(this,tween,_267[17],[{rotation:r1},1600,null,function(){
th.tw1=null;

}]);
th.tw1=tween;
callMethod(this,tween,_267[18]);

}

}]);
callMethod(this,null,_267[2],[msk1]);
msk1.click=function(e){
if(GLOBAL.$app.connect.isConnect){
callMethod(this,GLOBAL.$app,_267[19],[_267[20]]);
cb(e);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_267[21]);

}

};

}else{
bm.buttonMode=!0;
callMethod(this,bm,_267[7],[_267[8],function(){
this.alpha=0.7;

}]);
callMethod(this,bm,_267[7],[_267[9],function(){
this.alpha=1;

}]);
bm.click=function(e){
callMethod(this,GLOBAL.$app,_267[19],[_267[20]]);
cb(e);

};

}

}

};
vm.registerClass(_267[22],_267[23],_MainMenuButton);
})(window);

(function(window){
var _171=["createSpritePainter","getAssetByName","a16.png","rect","addChild","#000000","web","Arial","on","click","redraw","ButtonOrangeText","lang.display.Sprite"];
var _ButtonOrangeText={};
_ButtonOrangeText["ctor"]=function(txt,cb){
this.txt=txt;
this.cb=cb;
var spr2=callMethod(this,GLOBAL.AppUtils,_171[0]);
var bm=callMethod(this,GLOBAL.$app.moviesReader,_171[1],[_171[2]]);
callMethod(this,spr2.painter,_171[3],[0,0,bm.width,bm.height,bm]);
callMethod(this,null,_171[4],[spr2]);
var bg=callMethod(this,GLOBAL.AppUtils,_171[0]);
bg.x=14;
bg.y=7;
bg.alpha=0;
bg.buttonMode=!0;
callMethod(this,bg.painter,_171[3],[0,0,105,33,_171[5]]);
var tf=ctorObject(lang.text.TextField);
tf.filters=GLOBAL.Config.shadowText1;
tf.fontSize=17;
tf.color=16777215;
tf.fontName=_171[7];
tf.bold=!0;
tf.fontSize=16;

callMethod(this,null,_171[4],[tf]);
callMethod(this,null,_171[4],[bg]);
callMethod(this,bg,_171[8],[_171[9],cb]);
this.tf=tf;
callMethod(this,this,_171[10]);

};
_ButtonOrangeText[_171[10]]=function(){
this.tf.text=this.txt;
this.tf.width=(this.tf.width + 4);
this.tf.x=(5 + ((120 - this.tf.width) / 2));
this.tf.y=((55 - this.tf.height) / 2);
this.tf.y-=3;

};
vm.registerClass(_171[11],_171[12],_ButtonOrangeText);
})(window);



(function(window){
var _30=["drawMovie","playSFX","screen","addChild","setTarget","clear","getNaturalSize","getAspectRatioSize","setScale","ButtonOrangeText","Сохранить","web","removeChild","Arial","Идёт загрузка скриншота","createSpritePainter","rect","#000000","binaryGet","uploadScreenSS","Ссылка уже в поле ввода чата","init","stop","removeFunc2","appendChatInput","isShowChat","show","Ошибка при загрузке","on","click","removeFunc","addGCBlob","remove","removeFunc3","resize","app.popup.PopUpScreenMov1","lang.display.Sprite"];
var _app_popup_PopUpScreenMov1={};
_app_popup_PopUpScreenMov1["ctor"]=function(bm){
this.selectable=!1;
this.mov=callMethod(this,GLOBAL.$app.moviesReader,_30[0],[14]);
this.bm=bm;
this.url1=null;
callMethod(this,GLOBAL.$app,_30[1],[_30[2]]);
var th=this;
var bg=ctorObject(lang.display.Sprite);
callMethod(this,null,_30[3],[bg]);
bg.alpha=0.2;
this.bg=bg;
this.p1=ctorObject(lang.display.Painter);
callMethod(this,this.p1,_30[4],[bg]);
var maxW=505;
var maxH=330;
callMethod(this,this.mov.cnt.painter,_30[5]);
callMethod(this,null,_30[3],[this.mov]);
if(bm){
var cbLoad=function(){
var sz=callMethod(this,GLOBAL.BitmapUtils,_30[6],[bm]);
var sz1={width:0,height:0};
sz1.width=sz.width;
sz1.height=sz.height;
var bmm=bm;
var isRatio=!1;
if((sz.width >= maxW)){
isRatio=!0;

}
if((sz.height >= maxH)){
isRatio=!0;

}
if(isRatio){
sz1=callMethod(this,GLOBAL.BitmapUtils,_30[7],[sz,maxW,maxH]);

}
bmm.x+=castInt(((maxW - sz1.width) / 2));
bmm.y+=castInt(((maxH - sz1.height) / 2));
callMethod(this,GLOBAL.BitmapUtils,_30[8],[sz,bmm,sz1.width,sz1.height]);
callMethod(this,th.mov.cnt,_30[3],[bmm]);

};
var lastInfo1=null;
var butLocal=ctorObject(_30[9],[_30[10],function(){
butLocal.visible=!1;
if(lastInfo1){
if(lastInfo1.parent){
callMethod(this,lastInfo1.parent,_30[12],[lastInfo1]);

}
lastInfo1=null;

}
var sp5=ctorObject(lang.display.Sprite);
sp5.x=150;
sp5.y=190;
callMethod(this,th.mov,_30[3],[sp5]);
lastInfo1=sp5;
var sp6=ctorObject(lang.display.Sprite);
var tfFunc2=function(ttx){
var tff=ctorObject(lang.text.TextField);
tff.fontName=_30[13];
tff.fontSize=20;
tff.color=16777215;
tff.text=ttx;
tff.x=((320 - tff.width) / 2);
return tff;

};
if(GLOBAL.Config.ssServiceKey){
var urlq=bm.src;
var tf1=tfFunc2(_30[14]);
var rr=callMethod(this,GLOBAL.AppUtils,_30[15]);
rr.alpha=0.8;
callMethod(this,rr.painter,_30[16],[0,0,320,100,_30[17]]);
callMethod(this,sp5,_30[3],[rr,tf1]);
tf1.y=40;
callMethod(this,URL,_30[18],[urlq,function(baScreen){
callMethod(this,GLOBAL.$app,_30[19],[baScreen,function(urlV){
tf1.text=_30[20];
tf1.x=((320 - tf1.width) / 2);
callMethod(this,Timer,_30[21],[2000,function(){
callMethod(this,this,_30[22]);
callMethod(this,th,_30[23]);

}]);
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_30[24],[('' + urlV)]);
var isShow=callMethod(this,GLOBAL.$app.chat,_30[25]);
if(!isShow){
callMethod(this,GLOBAL.$app.chat,_30[26]);

}

}

},function(){
tf1.text=_30[27];
tf1.x=((320 - tf1.width) / 2);
butLocal.visible=!0;

}]);

}]);

}else{
callMethod(this,th,_30[23]);

}


}]);
butLocal.x=((600 - 130) / 2);
butLocal.y=(470 - 50);
callMethod(this,this.mov,_30[3],[butLocal]);
cbLoad();

}
this.ev1=ctorObject(lang.events.EventsObjectMaster);
callMethod(this,this.ev1,_30[28],[this.mov.close,_30[29],function(e){
callMethod(this,th,_30[30]);

}]);

};
_app_popup_PopUpScreenMov1[_30[30]]=function(){
if(this.bm){
callMethod(this,GLOBAL.$app.gcMaster,_30[31],[this.bm.src]);

}
if(this.url1){
callMethod(this,GLOBAL.$app.gcMaster,_30[31],[this.url1]);

}
callMethod(this,this.parent,_30[12],[this]);
callMethod(this,this.ev1,_30[5]);

};
_app_popup_PopUpScreenMov1[_30[23]]=function(){
if(checkIn(this.parent,_30[32])){
callMethod(this,this.parent,_30[32],[this]);

}else{
if(this.parent){
callMethod(this,this.parent,_30[12],[this]);

}

}
callMethod(this,this.ev1,_30[5]);

};
_app_popup_PopUpScreenMov1[_30[33]]=function(){
if(this.bm){
if(this.bm.parent){
callMethod(this,this.bm.parent,_30[12],[this.bm]);

}
callMethod(this,GLOBAL.$app.gcMaster,_30[31],[this.bm.src]);

}
if(this.url1){
callMethod(this,GLOBAL.$app.gcMaster,_30[31],[this.url1]);

}

};
_app_popup_PopUpScreenMov1[_30[34]]=function(w,h){
callMethod(this,this.p1,_30[5]);
callMethod(this,this.p1,_30[16],[0,0,w,h,_30[17]]);
var ww=560;
var hh=430;
this.mov.x=castInt(((w - ww) / 2));
this.mov.y=castInt(((h - hh) / 2));

};
vm.registerClass(_30[35],_30[36],_app_popup_PopUpScreenMov1);
})(window);



(function(window){
var _224=["AppSceneAuthMov1","addChild","Гостевой вход","Оффлайн режим","authOfflineMode","AppSceneAuthInput1Mov","регистрация","addPopupF","openPopUpRegVM2Info","Вход через страницу VM2","Вход по ссылке","timestampToStrDate2","обновлено ","indexOf","sess_","reg_","Идёт авторизация","authByKeyAuth","authSiteFunc","openPopUpMinText1","Пароль не может быть пустым","Логин не может быть пустым","loadAccountVM2","openPopUpMapEditorInputOne","введите числа из ссылки","Войти","guest","ButtonOrangeText","войти","web","aa43593","removeAllChilds","authError","Неправильный логин или пароль","errorConnect","Ошибка подключения к серверу","setScene","removeChild","removeScene","resize","scenes.AuthScene","lang.display.Sprite"];
var _scenes_AuthScene={};
_scenes_AuthScene["ctor"]=function(){
var th=this;
this.c=ctorObject(_224[0]);
callMethod(this,null,_224[1],[this.c]);
this.downPanel=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_224[1],[this.downPanel]);
this.isAddPopUp=!1;
this.butSpr2=ctorObject(lang.display.Sprite);
this.butSpr2.y=32;
callMethod(this,this.downPanel,_224[1],[this.butSpr2]);
this.tfGuest=ctorObject(lang.text.TextField);
this.tfGuest.fontSize=18;
this.tfGuest.color=16776960;
this.tfGuest.buttonMode=!0;
this.tfGuest.text=_224[2];
this.tfGuest.filters=GLOBAL.Config.shadowText2;
this.tfOffline=ctorObject(lang.text.TextField);
this.tfOffline.fontSize=18;
this.tfOffline.color=16777215;
this.tfOffline.buttonMode=!0;
this.tfOffline.text=_224[3];
this.tfOffline.filters=GLOBAL.Config.shadowText2;
this.tfOffline.click=function(){
callMethod(this,GLOBAL.$app,_224[4]);

};
callMethod(this,this.butSpr2,_224[1],[this.tfGuest,this.tfOffline]);
this.mov1=ctorObject(_224[5]);
this.mov1.x=7;
this.mov1.y=13;
this.spr2=ctorObject(lang.display.Sprite);
callMethod(this,this.c,_224[1],[this.spr2]);
this.tw1=0;
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=14;
this.tf2.filters=GLOBAL.Config.shadowText2;
this.tf2.color=16777215;
callMethod(this,null,_224[1],[this.tf2]);
this.tf3=ctorObject(lang.text.TextField);
this.tf3.fontSize=14;
this.tf3.filters=GLOBAL.Config.shadowText2;
this.tf3.color=16777215;
this.tf3.x=2;
this.regTF=ctorObject(lang.text.TextField);
this.regTF.fontSize=25;
this.regTF.buttonMode=!0;
this.regTF.filters=GLOBAL.Config.shadowText2;
this.regTF.color=16776960;
this.regTF.text=_224[6];
this.regTF.x=((320 - this.regTF.width) / 2);
this.regTF.y=-30;
this.regTF.click=function(){
callMethod(this,th,_224[7]);
callMethod(this,GLOBAL.$app.popup,_224[8]);

};
var tf5=ctorObject(lang.text.TextField);
tf5.fontSize=17;
tf5.buttonMode=!0;
tf5.filters=GLOBAL.Config.shadowText2;
tf5.color=16776960;
tf5.text=_224[9];
tf5.x=((320 - tf5.width) / 2);
tf5.y=60;
callMethod(this,this.c,_224[1],[tf5]);
var tf11=ctorObject(lang.text.TextField);
tf11.fontSize=17;
tf11.buttonMode=!0;
tf11.filters=GLOBAL.Config.shadowText2;
tf11.color=65535;
tf11.text=_224[10];
tf11.x=((320 - tf11.width) / 2);
tf11.y=(tf5.y + 60);
callMethod(this,this.c,_224[1],[tf11]);
this.tf5=tf5;
var tm3=GLOBAL.Config.updateFileTS;
if((tm3 > 0)){
var ss=callMethod(this,GLOBAL.DateUtils,_224[11],[tm3]);
this.tf2.text=(_224[12] + ss);
this.tw1=(this.tf2.width + 4);
this.tf2.width=(this.tw1 + 20);
this.tf3.text=('' + tm3);

}
var cbAuth=function(login,pass){
if((login.size > 0)){
var cPass=!1;
if((pass.size > 0)){
cPass=!0;

}
var p1=callMethod(this,login,_224[13],[_224[14]]);
if((p1 == -1)){
p1=callMethod(this,login,_224[13],[_224[15]]);

}
if((p1 > -1)){
cPass=!0;

}
if(cPass){
th.tf5.visible=!1;
th.mov1.visible=!1;
th.regTF.visible=!1;
th.butSpr2.visible=!1;
var tx=ctorObject(lang.text.TextField);
tx.text=_224[16];
tx.x=90;
tx.y=100;
callMethod(this,th.spr2,_224[1],[tx]);
if((p1 > -1)){
callMethod(this,GLOBAL.$app,_224[17],[login]);

}else{
callMethod(this,GLOBAL.$app,_224[18],[login,pass]);

}

}else{
callMethod(this,GLOBAL.$app.popupHtml,_224[19],[_224[20]]);

}

}else{
callMethod(this,GLOBAL.$app.popupHtml,_224[19],[_224[21]]);

}

};
tf5.click=function(){
var accountVM2=callMethod(this,GLOBAL.$app,_224[22]);
if(accountVM2){
cbAuth(accountVM2.login,accountVM2.pass);

}else{
callMethod(this,th,_224[7]);
callMethod(this,GLOBAL.$app.popupHtml,_224[19],['Мы не смогли получить данные для авторизации.\n\nПроверьте что вы авторизовались в игровом центре.']);

}

};
tf11.click=function(){
callMethod(this,GLOBAL.$app.popup,_224[23],[_224[24],_224[25],function(ob){
var msgV=ob.name;
if((msgV.size > 0)){
var loginn=(_224[14] + msgV);
cbAuth(loginn,'');

}

}]);

};
th.tfGuest.click=function(){
cbAuth(_224[26],_224[26]);

};
var but1=ctorObject(_224[27],[_224[28],function(){
var login=th.mov1.ti1.value;
var pass=th.mov1.ti2.value;
cbAuth(login,pass);

}]);
but1.x=90;
but1.y=170;
callMethod(this,this.mov1,_224[1],[but1]);


};
_scenes_AuthScene[_224[7]]=function(){
this.isAddPopUp=!0;
if(!checkIn(GLOBAL.$app,_224[30])){
GLOBAL.$app.aa43593=1;
callMethod(this,GLOBAL.$app,_224[1],[GLOBAL.$app.popup,GLOBAL.$app.popupHtml]);


}

};
_scenes_AuthScene[_224[36]]=function(t){
callMethod(this,this.spr2,_224[31]);
this.butSpr2.visible=!0;
if((t == _224[32])){
this.mov1.visible=!0;
this.regTF.visible=!0;
this.tf5.visible=!0;
if(this.isAddPopUp){
callMethod(this,GLOBAL.$app.popup,_224[19],[_224[33]]);

}
callMethod(this,this,_224[7]);

}else if((t == _224[34])){
this.mov1.visible=!0;
this.regTF.visible=!0;
this.tf5.visible=!0;
callMethod(this,this,_224[7]);
if(this.isAddPopUp){
callMethod(this,GLOBAL.$app.popup,_224[19],[_224[35]]);

}

}


};
_scenes_AuthScene[_224[38]]=function(){
if(this.downPanel.parent){
callMethod(this,this.downPanel.parent,_224[37],[this.downPanel]);

}

};
_scenes_AuthScene[_224[39]]=function(w,h){
this.c.x=((w - 320) / 2);
this.c.y=((h - 230) / 2);
this.tf2.x=((w - this.tw1) - 10);
this.tf2.y=(h - 110);
this.tf3.y=this.tf2.y;
var allTxtW=(this.tfGuest.width + this.tfOffline.width);
this.tfOffline.x=(this.tfGuest.width + 35);
this.butSpr2.x=((w - allTxtW) / 2);

};
vm.registerClass(_224[40],_224[41],_scenes_AuthScene);
})(window);



(function(window){
var _291=["ModPanel1","AppPopUpModPanelMov","addChild","attr","spellcheck","maxLength","getChildAt","Arial","remove","animAlphaSprite","createTxt1","действия","getCurUserID","push","Информация","openPopUpUserInfoSpr","Поиск леваков","sendCmd","openPopUpViewUsersListByIdsM1","openPopUpMinText1","<br /><br />Ничего не найдено","getLeftAccountsID","Доп информация","reg_time","Дата регистрации","dogsCount","Собачек","mapLevel","Уровень в путешествии","actionItemsNums","Предметов","last_active","Последний вход","nickRainbow","Радужный ник","timestampToStrDate2","openPopUpRenderItemsArrDelim",":","getUserInfoOther","История мини чата","openPopUpMiniChatHistoryUser","getHistoryMiniChat","openMenuList1","Действия","права доступа","openPopUpAccessUserSettings1","a","группа отправителей","openPopUpAccessUserRedir","зарплата","openPopUpModGetMoney","<br /><br />Действие выполнено","okActionMsg","errorActionMsg","send","mod.modCmd","removeChild","resize","scenes.admin.ModPanel","lang.display.Sprite"];
var _scenes_admin_ModPanel={};
_scenes_admin_ModPanel["ctor"]=function(){
var th=this;
th.popupName=_291[0];
this.mov=ctorObject(_291[1]);
callMethod(this,null,_291[2],[this.mov]);
callMethod(this,this.mov.idTI,_291[3],[{'spellcheck':'','maxLength':13}]);
var el1=callMethod(this,this.mov,_291[6],[3]);
if(el1){
el1.fontName=_291[7];
el1.bold=!0;

}
this.mov.close.click=function(){
callMethod(this,th,_291[8]);

};
callMethod(this,GLOBAL.AppUtils,_291[9],[this.mov.close,0.8,1]);
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.mov,_291[2],[sp2]);
var action1But=callMethod(this,this,_291[10],[_291[11],function(){
var userid=callMethod(this,th,_291[12]);
var menuList=[];
callMethod(this,menuList,_291[13],[[_291[14],function(){
callMethod(this,GLOBAL.$app.popup,_291[15],[userid]);

}]]);
callMethod(this,menuList,_291[13],[[_291[16],function(){
callMethod(this,th,_291[17],[function(arr){
if((arr.size > 0)){
callMethod(this,GLOBAL.$app.popup,_291[18],[arr]);

}else{
callMethod(this,GLOBAL.$app.popup,_291[19],[_291[20]]);

}

},_291[21]]);

}]]);
callMethod(this,menuList,_291[13],[[_291[22],function(){
callMethod(this,th,_291[17],[function(arr){
if((arr.size > 0)){
var ob2={'reg_time':_291[24],'dogsCount':_291[26],'mapLevel':_291[28],'actionItemsNums':_291[30],'last_active':_291[32],'nickRainbow':_291[34]};
var aa=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
var nm=el.k;
var vv=el.v;
if((nm == _291[31])){
vv=callMethod(this,GLOBAL.DateUtils,_291[35],[vv]);

}else if((nm == _291[23])){
vv=callMethod(this,GLOBAL.DateUtils,_291[35],[vv]);

}

if(checkIn(ob2,nm)){
nm=ob2[nm];

}
callMethod(this,aa,_291[13],[[nm,vv]]);
i++;
}
callMethod(this,GLOBAL.$app.popup,_291[36],[_291[14],_291[37],aa]);

}else{
callMethod(this,GLOBAL.$app.popup,_291[19],[_291[20]]);

}

},_291[38]]);

}]]);
callMethod(this,menuList,_291[13],[[_291[39],function(){
var userid=callMethod(this,th,_291[12]);
callMethod(this,th,_291[17],[function(arr){
if((arr.size > 0)){
callMethod(this,GLOBAL.$app.popup,_291[40],[userid,arr]);

}else{
callMethod(this,GLOBAL.$app.popup,_291[19],[_291[20]]);

}

},_291[41]]);

}]]);
callMethod(this,GLOBAL.$app.chat,_291[42],[menuList,_291[43],0,!0]);

}]);
action1But.x=310;
action1But.y=140;
callMethod(this,sp2,_291[2],[action1But]);
this.mov.butInfo.click=function(){
var userid=callMethod(this,th,_291[12]);
callMethod(this,GLOBAL.$app.popup,_291[15],[userid]);

};
var accessBut1=callMethod(this,this,_291[10],[_291[44],function(){
callMethod(this,GLOBAL.$app.popup,_291[45],[_291[46]]);

}]);
accessBut1.x=70;
accessBut1.y=100;
callMethod(this,this.mov,_291[2],[accessBut1]);
var accessBut2=callMethod(this,this,_291[10],[_291[47],function(){
callMethod(this,GLOBAL.$app.popup,_291[48]);

}]);
accessBut2.x=70;
accessBut2.y=135;
callMethod(this,this.mov,_291[2],[accessBut2]);
var getmoneyBut1=callMethod(this,this,_291[10],[_291[49],function(){
callMethod(this,GLOBAL.$app.popup,_291[50]);

}]);
getmoneyBut1.x=70;
getmoneyBut1.y=(accessBut1.y + 70);
callMethod(this,this.mov,_291[2],[getmoneyBut1]);

};
_scenes_admin_ModPanel[_291[10]]=function(nm,cb){
var tf1=ctorObject(lang.text.TextField);
tf1.buttonMode=!0;
tf1.fontName=_291[7];
tf1.bold=!0;
tf1.fontSize=17;
tf1.color=16777215;
tf1.text=('' + nm);
tf1.width=(tf1.width + 4);
tf1.click=cb;
return tf1;

};
_scenes_admin_ModPanel[_291[12]]=function(){
var id=castInt(this.mov.idTI.value);
return id;

};
_scenes_admin_ModPanel[_291[52]]=function(){
callMethod(this,GLOBAL.$app.popup,_291[19],[_291[51]]);

};
_scenes_admin_ModPanel[_291[53]]=function(){
callMethod(this,GLOBAL.$app.popup,_291[19],['<br /><br />Ошибка при выполнении действия']);

};
_scenes_admin_ModPanel[_291[17]]=function(cb,t,arg1,arg2,arg3){
var userid=callMethod(this,this,_291[12]);
if(!arg1){
arg1=0;

}
if(!arg2){
arg2=0;

}
if(!arg3){
arg3=0;

}
callMethod(this,GLOBAL.$app.connect,_291[54],[cb,_291[55],t,userid,arg1,arg2,arg3]);

};
_scenes_admin_ModPanel[_291[8]]=function(){
var th=this;
callMethod(this,th.parent,_291[56],[th]);

};
_scenes_admin_ModPanel[_291[57]]=function(w,h){
this.x=((w - 750) / 2);
this.y=((h - 450) / 2);

};
vm.registerClass(_291[58],_291[59],_scenes_admin_ModPanel);
})(window);



(function(window){
var _260=["BGKostiSprite","addChild","PopUpVipShopScene","AppPopUpShopVipMov1","30% к популярности за подарки","продажа подарков за 70%","за спасение от 2 до 4 собачек","значок V в информации и в чате","значок популярности в забегах","голосов","голоса","site","рубинов","рубина","день"," ","ButtonOrangeText","Купить","buyItemByID","remove","checkPaymentSrv","неделя","vip_trial","Бесплатно","openPopUpConfirmMsgYesNo","send","openPopUpMinText1","<br /><br />VIP получен!","shop.getTrialItem","vip","setTime","user.getVipInfo","VIP активен","Продлить","push","+ день (",")","+ неделя (","openMenuList1","animAlphaSprite","getTimestamp","initTimer","stopTimer","updateTimeV","init","toHourMinSecTxt2","до окончания: ","stop","resize","app.shop.ShopVipScene","lang.display.Sprite"];
var _app_shop_ShopVipScene={};
_app_shop_ShopVipScene["ctor"]=function(){
var th=this;
this.bg=ctorObject(_260[0]);
callMethod(this,null,_260[1],[this.bg]);
this.popupName=_260[2];
this.tm=null;
this.endTS=0;
var c=ctorObject(_260[3]);
var arr=[_260[4],_260[5],'бонус к опыту в забегах 4 * уровень',_260[6],_260[7],_260[8],'в забегах чаще находятся предметы'];
var priceTxt1=_260[9];
var priceTxt2=_260[10];
if((GLOBAL.Config.authType == _260[11])){
priceTxt1=_260[12];
priceTxt2=_260[13];

}
var spr1=ctorObject(lang.display.Sprite);
callMethod(this,c,_260[1],[spr1]);
spr1.x=140;
spr1.y=90;
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,c,_260[1],[spr2]);
spr2.x=260;
spr2.y=70;
var spr3=ctorObject(lang.display.Sprite);
callMethod(this,c,_260[1],[spr3]);
spr3.y=(spr1.y + 260);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=15;
tf1.color=16776960;
tf1.filters=GLOBAL.Config.shadowText1;
this.tf2=tf1;
callMethod(this,spr3,_260[1],[this.tf2]);
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=((310 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.shadowText1;
callMethod(this,spr1,_260[1],[tf1]);
yy+=24;
i++;
}
var yy=0;
var vipV=GLOBAL.$app.user.vip;
var priceVipDay1=GLOBAL.$app.shopMaster.votesVipDay1;
var priceVip1=GLOBAL.$app.shopMaster.votesVip1;
var priceVip2=GLOBAL.$app.shopMaster.votesVip2;
if((vipV == 0)){
var spr5=ctorObject(lang.display.Sprite);
callMethod(this,c,_260[1],[spr5]);
spr5.x=10;
var spr6=ctorObject(lang.display.Sprite);
callMethod(this,spr5,_260[1],[spr6]);
spr6.x=65;
var tf5=ctorObject(lang.text.TextField);
tf5.fontSize=14;
tf5.text=_260[14];
tf5.x=((310 - tf5.width) / 2);
tf5.y=308;
tf5.filters=GLOBAL.Config.shadowText1;
callMethod(this,spr6,_260[1],[tf5]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=14;
tf1.text=((('' + priceVipDay1) + _260[15]) + priceTxt2);
tf1.x=((310 - tf1.width) / 2);
tf1.y=(tf5.y + 17);
tf1.filters=GLOBAL.Config.shadowText1;
callMethod(this,spr6,_260[1],[tf1]);
var bb=ctorObject(_260[16],[_260[17],function(){
callMethod(this,GLOBAL.$app.shopMaster,_260[18],[13,function(){
callMethod(this,th,_260[19]);
callMethod(this,GLOBAL.$app.shopMaster,_260[20]);

}]);

}]);
bb.x=90;
bb.y=352;
callMethod(this,spr6,_260[1],[bb]);
var spr6=ctorObject(lang.display.Sprite);
callMethod(this,spr5,_260[1],[spr6]);
spr6.x=195;
var tf5=ctorObject(lang.text.TextField);
tf5.fontSize=14;
tf5.text=_260[21];
tf5.x=((310 - tf5.width) / 2);
tf5.y=308;
tf5.filters=GLOBAL.Config.shadowText1;
callMethod(this,spr6,_260[1],[tf5]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=14;
tf1.text=((('' + priceVip1) + _260[15]) + priceTxt1);
tf1.x=((310 - tf1.width) / 2);
tf1.y=(tf5.y + 17);
tf1.filters=GLOBAL.Config.shadowText1;
callMethod(this,spr6,_260[1],[tf1]);
var bb=ctorObject(_260[16],[_260[17],function(){
callMethod(this,GLOBAL.$app.shopMaster,_260[18],[11,function(){
callMethod(this,th,_260[19]);
callMethod(this,GLOBAL.$app.shopMaster,_260[20]);

}]);

}]);
bb.x=90;
bb.y=352;
callMethod(this,spr6,_260[1],[bb]);
var isVipTrial=!0;
if(checkIn(GLOBAL.$app.user,_260[22])){
if((GLOBAL.$app.user.vip_trial > 0)){
isVipTrial=!1;

}

}
if(isVipTrial){
var bb5=ctorObject(_260[16],[_260[23],function(){
callMethod(this,th,_260[19]);
callMethod(this,GLOBAL.$app.popup,_260[24],['Хотите получить VIP на 15 минут?',function(){
callMethod(this,GLOBAL.$app.connect,_260[25],[function(v){
if((v == 1)){
GLOBAL.$app.user.vip_trial=1;
callMethod(this,GLOBAL.$app.popup,_260[26],[_260[27]]);

}else{
callMethod(this,GLOBAL.$app.popup,_260[26],['<br /><br />Ошибка при получении']);

}

},_260[28],_260[29]]);

}]);

}]);
bb5.x=223;
bb5.y=400;
callMethod(this,spr5,_260[1],[bb5]);

}

}else{
callMethod(this,GLOBAL.$app.connect,_260[25],[function(ob){
if((ob.vip > 0)){
callMethod(this,th,_260[30],[ob.time]);

}

},_260[31]]);
if((vipV == 1)){
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_260[32];
tf1.x=((310 - tf1.width) / 2);
tf1.y=225;
tf1.filters=GLOBAL.Config.shadowText1;
callMethod(this,spr1,_260[1],[tf1]);
var bb2=ctorObject(_260[16],[_260[33],function(){
var menuList=[];
var strVipDay=((('' + priceVipDay1) + _260[15]) + priceTxt2);
var strVipWeek=((('' + priceVip1) + _260[15]) + priceTxt1);
callMethod(this,menuList,_260[34],[[((_260[35] + strVipDay) + _260[36]),function(){
callMethod(this,th,_260[19]);
callMethod(this,GLOBAL.$app.shopMaster,_260[18],[13,function(){
callMethod(this,GLOBAL.$app.shopMaster,_260[20]);

}]);

}]]);
callMethod(this,menuList,_260[34],[[((_260[37] + strVipWeek) + _260[36]),function(){
callMethod(this,th,_260[19]);
callMethod(this,GLOBAL.$app.shopMaster,_260[18],[11,function(){
callMethod(this,GLOBAL.$app.shopMaster,_260[20]);

}]);

}]]);
callMethod(this,GLOBAL.$app.chat,_260[38],[menuList,_260[33],0,!0]);

}]);
bb2.x=225;
bb2.y=392;
callMethod(this,c,_260[1],[bb2]);

}

}
this.c=c;
callMethod(this,null,_260[1],[c]);
c.close.click=function(e){
callMethod(this,th,_260[19]);

};
callMethod(this,GLOBAL.AppUtils,_260[39],[c.close,0.8,1]);

};
_app_shop_ShopVipScene[_260[30]]=function(v){
var th=this;
if((v > 0)){
var ts=callMethod(this,Date,_260[40]);
th.endTS=(ts + v);
callMethod(this,th,_260[41]);

}

};
_app_shop_ShopVipScene[_260[41]]=function(){
var th=this;
callMethod(this,th,_260[42]);
var tss=callMethod(this,Date,_260[40]);
var allV=(th.endTS - tss);
callMethod(this,th,_260[43],[allV]);
this.tm=callMethod(this,Timer,_260[44],[1000,function(){
var tss=callMethod(this,Date,_260[40]);
var allV=(th.endTS - tss);
if((allV <= 0)){
allV=0;

}
callMethod(this,th,_260[43],[allV]);

}]);

};
_app_shop_ShopVipScene[_260[43]]=function(allV){
var th=this;
var str5=callMethod(this,GLOBAL.DateUtils,_260[45],[allV]);
this.tf2.text=(_260[46] + str5);
this.tf2.x=((580 - this.tf2.width) / 2);
if((allV <= 0)){
callMethod(this,th,_260[42]);

}

};
_app_shop_ShopVipScene[_260[42]]=function(){
if(this.tm){
callMethod(this,this.tm,_260[47]);

}
this.tm=null;

};
_app_shop_ShopVipScene[_260[19]]=function(){
callMethod(this,this,_260[42]);
callMethod(this,this.parent,_260[19],[this]);

};
_app_shop_ShopVipScene[_260[48]]=function(w,h){
callMethod(this,this.bg,_260[48],[w,h]);
this.c.x=((w - 580) / 2);
this.c.y=((h - 400) / 2);

};
vm.registerClass(_260[49],_260[50],_app_shop_ShopVipScene);
})(window);



(function(window){
var _234=["app.popup.PopUpMinInfo1","addChild","Идёт загрузка...","Arial","user.testerGetMoney","ButtonOrangeText","Забрать","send","openPopUpMinText1","remove","init1","getTimestamp","initTimer","setTime","stopTimer","updateTimeV","init","toHourMinSecTxt2","До зарплаты ","stop","money","app.bar.BarMoneyTypeSpr2","kosti","setMoney","removeChild","resize","app.popup.PopUpTesterGetMoney","lang.display.Sprite"];
var _app_popup_PopUpTesterGetMoney={};
_app_popup_PopUpTesterGetMoney["ctor"]=function(tt){
this.p1=ctorObject(_234[0],['']);
callMethod(this,null,_234[1],[this.p1]);
var th=this;
this.tm=null;
this.endTS=0;
this.tt=tt;
this.visBut1=!1;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_234[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_234[1],[this.tf1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontName=_234[3];
this.tf2.bold=!0;
this.tf2.fontSize=17;
this.tf2.y=(this.tf1.y + 80);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_234[1],[this.tf2]);
var cmdd=_234[4];
var bb=ctorObject(_234[5],[_234[6],function(){
bb.visible=!1;
callMethod(this,GLOBAL.$app.connect,_234[7],[function(v){
if((v == 1)){

}else{
callMethod(this,GLOBAL.$app.popup,_234[8],['<br /><br />Ошибка получения зарплаты']);

}
callMethod(this,th,_234[9]);

},cmdd,1]);

}]);
bb.x=160;
bb.y=138;
this.but1=bb;
callMethod(this,GLOBAL.$app.connect,_234[7],[function(v,o){
callMethod(this,th,_234[10],[o]);

},cmdd,0]);

};
_app_popup_PopUpTesterGetMoney[_234[13]]=function(v){
var th=this;
if((v > 0)){
var ts=callMethod(this,Date,_234[11]);
th.endTS=(ts + v);
callMethod(this,th,_234[12]);

}

};
_app_popup_PopUpTesterGetMoney[_234[12]]=function(){
var th=this;
callMethod(this,th,_234[14]);
var tss=callMethod(this,Date,_234[11]);
var allV=(th.endTS - tss);
callMethod(this,th,_234[15],[allV]);
this.tm=callMethod(this,Timer,_234[16],[1000,function(){
var tss=callMethod(this,Date,_234[11]);
var allV=(th.endTS - tss);
if((allV <= 0)){
allV=0;

}
callMethod(this,th,_234[15],[allV]);
if((allV <= 0)){
if(!th.visBut1){
callMethod(this,th.p1.cnt,_234[1],[th.but1]);
th.visBut1=!0;

}

}

}]);

};
_app_popup_PopUpTesterGetMoney[_234[15]]=function(allV){
var th=this;
var str5=callMethod(this,GLOBAL.DateUtils,_234[17],[allV]);
this.tf2.text=(_234[18] + str5);
if((allV <= 0)){
this.tf2.text='';

}
this.tf2.x=((450 - this.tf2.width) / 2);
if((allV <= 0)){
callMethod(this,th,_234[14]);

}

};
_app_popup_PopUpTesterGetMoney[_234[14]]=function(){
if(this.tm){
callMethod(this,this.tm,_234[19]);

}
this.tm=null;

};
_app_popup_PopUpTesterGetMoney[_234[10]]=function(o){
var th=this;
if(o){
this.tf1.text='';
var qq=0;
if(checkIn(o,_234[20])){
qq=o.money;

}
var mm=ctorObject(_234[21],[_234[22],function(){

}]);
mm.mouseEnabled=!1;
mm.y=30;
callMethod(this,mm,_234[23],[qq]);
mm.x=(((450 - 40) - mm.tf.width) / 2);
callMethod(this,th.p1.cnt,_234[1],[mm]);
callMethod(this,this,_234[13],[o.time]);
if((o.time <= 0)){
if(!th.visBut1){
callMethod(this,th.p1.cnt,_234[1],[th.but1]);
th.visBut1=!0;

}

}

}

};
_app_popup_PopUpTesterGetMoney[_234[9]]=function(){
callMethod(this,this,_234[14]);
if(this.parent){
callMethod(this,this.parent,_234[24],[this]);

}

};
_app_popup_PopUpTesterGetMoney[_234[25]]=function(w,h){
callMethod(this,this.p1,_234[25],[w,h]);

};
vm.registerClass(_234[26],_234[27],_app_popup_PopUpTesterGetMoney);
})(window);



(function(window){
var _215=["BGKostiSprite","AppPopUpS1Mov1","attr","scroll1","addChild","remove","animAlphaSprite","load"," косточек"," косточка"," косточки","GetKostiStr","removeChild","removeAllChilds","Идёт загрузка...","send","parseObj","openPopUpMinText1","\n\nУслуга не найдена","user.nickRainbowAction","info","toHourMinSecTxt2","Arial","До окончания услуги ","Цена за отключение - ","отключить цвет","openPopUpConfirmMsgYesNo","Отключить?","\n\nРадужный ник отключен!","\n\nНедостаточно косточек","off","включить цвет","Включить?","\n\nРадужный ник включен!","on","resize","app.popup.PopUpSettingsNickRainbow","lang.display.Sprite"];
var _app_popup_PopUpSettingsNickRainbow={};
_app_popup_PopUpSettingsNickRainbow["ctor"]=function(){
var th=this;
this.bg=ctorObject(_215[0]);
this.c=ctorObject(_215[1]);
this.cSpr=ctorObject(lang.display.Sprite);
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=70;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_215[2],[{className:_215[3]}]);
callMethod(this,this.c,_215[4],[this.cnt,this.cSpr]);
callMethod(this,null,_215[4],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_215[5]);

};
callMethod(this,GLOBAL.AppUtils,_215[6],[this.c.close,0.8,1]);
callMethod(this,this,_215[7]);

};
_app_popup_PopUpSettingsNickRainbow[_215[11]]=function(v){
var cnt=(v % 10);
return (v + _215[8]);
if((cnt == 1)){
return (v + _215[9]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _215[10]);

}

}
return (v + _215[8]);

};
_app_popup_PopUpSettingsNickRainbow[_215[7]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_215[12],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_215[12],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_215[13]);
var txt1=ctorObject(lang.text.TextField);
txt1.color=16777215;
txt1.fontSize=17;
txt1.text=_215[14];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_215[4],[txt1]);
th.preloadTxt=txt1;
callMethod(this,GLOBAL.$app.connect,_215[15],[function(ob){
if(ob){
callMethod(this,th,_215[16],[ob]);

}else{
callMethod(this,th,_215[5]);
callMethod(this,GLOBAL.$app.popup,_215[17],[_215[18]]);
GLOBAL.$app.user.nickRainbowFlag=0;

}

},_215[19],_215[20]]);

};
_app_popup_PopUpSettingsNickRainbow[_215[16]]=function(o){
var th=this;
callMethod(this,th.cnt,_215[13]);
var sp2=ctorObject(lang.display.Sprite);
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_215[12],[th.preloadTxt]);

}

}
var yy=0;
if(th.preloadTxt){
th.preloadTxt.text='';

}
var str5=callMethod(this,GLOBAL.DateUtils,_215[21],[o.time]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_215[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=(_215[23] + str5);
tf1.x=((480 - tf1.width) / 2);
tf1.y=30;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_215[4],[tf1]);
var price1=GLOBAL.$app.shopMaster.priceOffNickRainbow;
var s7=callMethod(this,th,_215[11],[price1]);
var yy2=90;
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_215[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=15;
tf1.text=(_215[24] + s7);
tf1.x=((480 - tf1.width) / 2);
tf1.y=yy2;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_215[4],[tf1]);
var sp5=ctorObject(lang.display.Sprite);
callMethod(this,th.cnt,_215[4],[sp5]);
sp5.x=10;
sp5.y=230;
if((GLOBAL.$app.user.nickRainbow == 1)){
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_215[22];
tf1.color=16776960;
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=_215[25];
tf1.x=((480 - tf1.width) / 2);
tf1.y=-60;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,GLOBAL.$app.popup,_215[26],[_215[27],function(){
callMethod(this,GLOBAL.$app.connect,_215[15],[function(res){
if((res == GLOBAL.ErrorType.OK)){
callMethod(this,GLOBAL.$app.popup,_215[17],[_215[28]]);
callMethod(this,th,_215[7]);

}else if((res == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_215[17],[_215[29]]);

}else{
callMethod(this,GLOBAL.$app.popup,_215[17],['\n\nОшибка при выполнении действия']);

}


},_215[19],_215[30]]);

}]);

};
callMethod(this,sp5,_215[4],[tf1]);

}else{
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_215[22];
tf1.color=16776960;
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=_215[31];
tf1.x=((480 - tf1.width) / 2);
tf1.y=-60;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,GLOBAL.$app.popup,_215[26],[_215[32],function(){
callMethod(this,GLOBAL.$app.connect,_215[15],[function(res){
if((res == GLOBAL.ErrorType.OK)){
callMethod(this,GLOBAL.$app.popup,_215[17],[_215[33]]);
callMethod(this,th,_215[7]);

}else if((res == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_215[17],[_215[29]]);

}else{
callMethod(this,GLOBAL.$app.popup,_215[17],['\n\nОшибка при выполнении действия']);

}


},_215[19],_215[34]]);

}]);

};
callMethod(this,sp5,_215[4],[tf1]);

}

};
_app_popup_PopUpSettingsNickRainbow[_215[5]]=function(){
callMethod(this,this.parent,_215[5],[this]);

};
_app_popup_PopUpSettingsNickRainbow[_215[35]]=function(w,h){
callMethod(this,this.bg,_215[35],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_215[36],_215[37],_app_popup_PopUpSettingsNickRainbow);
})(window);



(function(window){
var _195=["BGKostiSprite","AppPopUpS1Mov1","attr","scroll1","addChild","remove","animAlphaSprite","load"," косточек"," косточка"," косточки","GetKostiStr","removeChild","removeAllChilds","Идёт загрузка...","send","parseObj","openPopUpMinText1","\n\nУслуга не найдена","user.nickColorAction","info","toHourMinSecTxt2","Arial","До окончания услуги ","с золотым VIP на ","% дешевле","floor","цены указаны с VIP (-","%)","Цена за смену цвета - ","Цена за отключение цвета - ","Выберите цвет"," (1 раз бесплатно)","отключить цвет","openPopUpConfirmMsgYesNo","Отключить цвет?","\n\nЦвет отключен!","\n\nНедостаточно косточек","reset","Установить цвет?","\n\nЦвет установлен!","set","cut","parseInt","текст","resize","app.popup.PopUpSettingsNickColor1","lang.display.Sprite"];
var _app_popup_PopUpSettingsNickColor1={};
_app_popup_PopUpSettingsNickColor1["ctor"]=function(){
var th=this;
this.bg=ctorObject(_195[0]);
this.c=ctorObject(_195[1]);
this.cSpr=ctorObject(lang.display.Sprite);
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=70;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_195[2],[{className:_195[3]}]);
callMethod(this,this.c,_195[4],[this.cnt,this.cSpr]);
callMethod(this,null,_195[4],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_195[5]);

};
callMethod(this,GLOBAL.AppUtils,_195[6],[this.c.close,0.8,1]);
callMethod(this,this,_195[7]);

};
_app_popup_PopUpSettingsNickColor1[_195[11]]=function(v){
var cnt=(v % 10);
return (v + _195[8]);
if((cnt == 1)){
return (v + _195[9]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _195[10]);

}

}
return (v + _195[8]);

};
_app_popup_PopUpSettingsNickColor1[_195[7]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_195[12],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_195[12],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_195[13]);
var txt1=ctorObject(lang.text.TextField);
txt1.color=16777215;
txt1.fontSize=17;
txt1.text=_195[14];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_195[4],[txt1]);
th.preloadTxt=txt1;
callMethod(this,GLOBAL.$app.connect,_195[15],[function(ob){
if(ob){
callMethod(this,th,_195[16],[ob]);

}else{
callMethod(this,th,_195[5]);
callMethod(this,GLOBAL.$app.popup,_195[17],[_195[18]]);
GLOBAL.$app.user.nickColorFlag=0;

}

},_195[19],_195[20]]);

};
_app_popup_PopUpSettingsNickColor1[_195[16]]=function(o){
var th=this;
callMethod(this,th.cnt,_195[13]);
var sp2=ctorObject(lang.display.Sprite);
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_195[12],[th.preloadTxt]);

}

}
var yy=0;
if(th.preloadTxt){
th.preloadTxt.text='';

}
var str5=callMethod(this,GLOBAL.DateUtils,_195[21],[o.time]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=(_195[23] + str5);
tf1.x=((480 - tf1.width) / 2);
tf1.y=30;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_195[4],[tf1]);
var price1=GLOBAL.$app.shopMaster.priceChangeNickColor;
var price2=GLOBAL.$app.shopMaster.priceChangeNickResetColor;
var percV=50;
var percN=(percV / 100);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=((_195[24] + percV) + _195[25]);
tf1.x=((480 - tf1.width) / 2);
tf1.y=60;
tf1.filters=GLOBAL.Config.filterBlue1;
if((GLOBAL.$app.user.vip == 1)){
var v1=callMethod(this,Math,_195[26],[(price1 * percN)]);
var v2=callMethod(this,Math,_195[26],[(price2 * percN)]);
price1-=v1;
price2-=v2;
tf1.text=((_195[27] + percV) + _195[28]);
tf1.x=((480 - tf1.width) / 2);

}
callMethod(this,th.cnt,_195[4],[tf1]);
var s7=callMethod(this,th,_195[11],[price1]);
var s8=callMethod(this,th,_195[11],[price2]);
var yy2=90;
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=15;
tf1.text=(_195[29] + s7);
tf1.x=((480 - tf1.width) / 2);
tf1.y=yy2;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_195[4],[tf1]);
yy2+=30;
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=15;
tf1.text=(_195[30] + s8);
tf1.x=((480 - tf1.width) / 2);
tf1.y=yy2;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_195[4],[tf1]);
var sp5=ctorObject(lang.display.Sprite);
callMethod(this,th.cnt,_195[4],[sp5]);
sp5.x=10;
sp5.y=230;
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.color=16777215;
tf1.bold=!0;
tf1.fontSize=18;
var ss3=_195[31];
if((o.free == 1)){
ss3+=_195[32];

}
tf1.text=ss3;
tf1.x=((480 - tf1.width) / 2);
tf1.y=-30;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp5,_195[4],[tf1]);
if((GLOBAL.$app.user.nickColor_pos > -1)){
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.color=16776960;
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=_195[33];
tf1.x=((480 - tf1.width) / 2);
tf1.y=-60;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,GLOBAL.$app.popup,_195[34],[_195[35],function(){
callMethod(this,GLOBAL.$app.connect,_195[15],[function(res){
if((res == GLOBAL.ErrorType.OK)){
callMethod(this,GLOBAL.$app.popup,_195[17],[_195[36]]);
GLOBAL.$app.user.nickColor_pos=-1;
callMethod(this,th,_195[7]);

}else if((res == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_195[17],[_195[37]]);

}else{
callMethod(this,GLOBAL.$app.popup,_195[17],['\n\nОшибка при выполнении действия']);

}


},_195[19],_195[38]]);

}]);

};
callMethod(this,sp5,_195[4],[tf1]);

}
var maxV=7;
var xx1=0;
var yy1=0;
var arr2=GLOBAL.Config.nickColorsList;
if(arr2){
var i=0;
while((i < arr2.size)){
var el=arr2[i];
var poss1=(i + 1);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_195[22];
tf1.poss1=(i + 1);
tf1.bold=!0;
tf1.fontSize=16;
tf1.buttonMode=!0;
tf1.click=function(){
var idd=this.poss1;
var v2=!0;
if((GLOBAL.$app.user.nickColor_pos > -1)){
if((GLOBAL.$app.user.nickColor_pos == idd)){
v2=!1;

}

}
if(v2){
callMethod(this,GLOBAL.$app.popup,_195[34],[_195[39],function(){
callMethod(this,GLOBAL.$app.connect,_195[15],[function(res){
if((res == GLOBAL.ErrorType.OK)){
callMethod(this,GLOBAL.$app.popup,_195[17],[_195[40]]);
callMethod(this,th,_195[7]);

}else if((res == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_195[17],[_195[37]]);

}else{
callMethod(this,GLOBAL.$app.popup,_195[17],['\n\nОшибка при выполнении действия']);

}


},_195[19],_195[41],idd]);

}]);

}else{
callMethod(this,GLOBAL.$app.popup,_195[17],['\nЭто ваш текущий цвет\nвыберите любой другой цвет']);

}

};
el=callMethod(this,el,_195[42],[1]);
el=callMethod(this,null,_195[43],[el,16]);
tf1.color=el;
tf1.text=_195[44];
tf1.x=xx1;
tf1.y=yy1;
xx1=(xx1 + 70);
if(((i % maxV) == (maxV - 1))){
xx1=0;
yy1+=30;

}
tf1.filters=GLOBAL.Config.shadowText1;
callMethod(this,sp5,_195[4],[tf1]);
i++;
}

}

};
_app_popup_PopUpSettingsNickColor1[_195[5]]=function(){
callMethod(this,this.parent,_195[5],[this]);

};
_app_popup_PopUpSettingsNickColor1[_195[45]]=function(w,h){
callMethod(this,this.bg,_195[45],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_195[46],_195[47],_app_popup_PopUpSettingsNickColor1);
})(window);



(function(window){
var _201=["PopUpSetNewScoreMap","app.popup.PopUpMinInfo1","addChild","Поздравляем!","toMinSec","Время ","Приз","app.bar.BarMoneyTypeSpr2","lapki","web","setMoney","vk","ButtonOrangeText","Рассказать","remove","поставил","а","Я "," новый рекорд "," на карте ","api","wall.post","removeChild","resize","app.popup.PopUpSetNewScoreMap","lang.display.Sprite"];
var _app_popup_PopUpSetNewScoreMap={};
_app_popup_PopUpSetNewScoreMap["ctor"]=function(mapid,user,time,prize){
this.popupName=_201[0];
this.p1=ctorObject(_201[1],['']);
callMethod(this,null,_201[2],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_201[2],[sp2]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_201[3];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((60 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_201[2],[this.tf1]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text='Вы поставили новый рекорд на карте!';
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((110 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_201[2],[this.tf1]);
var str1=callMethod(this,GLOBAL.DateUtils,_201[4],[time]);
this.tf3=ctorObject(lang.text.TextField);
this.tf3.fontSize=16;
this.tf3.color=16776960;
this.tf3.text=(_201[5] + str1);
this.tf3.x=((450 - this.tf3.width) / 2);
this.tf3.y=(this.tf1.y + 30);
this.tf3.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_201[2],[this.tf3]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.text=_201[6];
this.tf2.x=((380 - this.tf2.width) / 2);
this.tf2.y=(this.tf3.y + 35);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_201[2],[this.tf2]);
this.tf3=ctorObject(lang.text.TextField);
this.tf3.fontSize=16;
this.tf3.color=16777215;
this.tf3.text='*больше рекордов на этой карте - приз выше';
this.tf3.x=((450 - this.tf3.width) / 2);
this.tf3.y=(this.tf2.y + 70);
this.tf3.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_201[2],[this.tf3]);
var ww=400;
var mmoney=ctorObject(_201[7],[_201[8],function(){

}]);
mmoney.mouseEnabled=!1;
mmoney.y=100;

callMethod(this,mmoney,_201[10],[prize]);
mmoney.x=((this.tf2.x + this.tf2.width) + (mmoney.tf.width / 2));
callMethod(this,sp2,_201[2],[mmoney]);
if((GLOBAL.Config.authType == _201[11])){
var bb=ctorObject(_201[12],[_201[13],function(){
callMethod(this,th,_201[14]);
if((GLOBAL.Config.authType == _201[11])){
var s3=_201[15];
if((GLOBAL.$app.user.sex == GLOBAL.Sex.FEMALE)){
s3+=_201[16];

}
var msgA=((((((_201[17] + s3) + _201[18]) + str1) + _201[19]) + mapid) + '! Сможешь спасти собачек быстрее меня?');
var url2=GLOBAL.Config.vkAppURL;
callMethod(this,GLOBAL.$app.apiVK,_201[20],[_201[21],{message:msgA,attachments:('' + url2)},function(){

},function(){

}]);

}

}]);
bb.x=160;
bb.y=210;
callMethod(this,sp2,_201[2],[bb]);

}

};
_app_popup_PopUpSetNewScoreMap[_201[14]]=function(){
if(this.parent){
callMethod(this,this.parent,_201[22],[this]);

}

};
_app_popup_PopUpSetNewScoreMap[_201[23]]=function(w,h){
callMethod(this,this.p1,_201[23],[w,h]);

};
vm.registerClass(_201[24],_201[25],_app_popup_PopUpSetNewScoreMap);
})(window);



(function(window){
var _265=["BGKostiSprite","AppPopUpQuests1Mov","addChild","remove","animAlphaSprite","Загрузка заданий...","load","removeAllChilds","send","parseList","createTimePage","user.quests1Act","get","toHourMinSecTxt2","Задания будут доступны через "," косточек.","ButtonOrangeText","оплатить","openPopUpMinText1","\n\nУ вас недостаточно косточек","resetTime","removeChild","getAssetByName","a71.png","gift","giftItem","AppPopUpQuests1Item","openPopUpConfirmMsgYesNo","Отдать "," собачек?","\n\nУ вас недостаточно собачек","run","on","rollover","rollout","getURLByID","off","На данный момент нет заданий","resize","app.popup.PopUpQuests1Info","lang.display.Sprite"];
var _app_popup_PopUpQuests1Info={};
_app_popup_PopUpQuests1Info["ctor"]=function(){
var th=this;
var bg=ctorObject(_265[0]);
var c=ctorObject(_265[1]);
c.txt1.filters=GLOBAL.Config.filterBlue1;
c.txt2.filters=GLOBAL.Config.filterBlue1;
this.c=c;
this.bg=bg;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=30;
this.cnt.y=200;
callMethod(this,this.c,_265[2],[this.cnt]);
callMethod(this,null,_265[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_265[3]);

};
callMethod(this,GLOBAL.AppUtils,_265[4],[c.close,0.8,1]);
this.txt1=ctorObject(lang.text.TextField);
this.txt1.color=16777215;
this.txt1.filters=GLOBAL.Config.filterBlue1;
this.txt1.text=_265[5];
this.txt1.x=(((600 - this.cnt.x) - this.txt1.width) / 2);
callMethod(this,this.cnt,_265[2],[this.txt1]);
callMethod(this,this,_265[6]);

};
_app_popup_PopUpQuests1Info[_265[6]]=function(){
var th=this;
callMethod(this,th.cnt,_265[7]);
callMethod(this,GLOBAL.$app.connect,_265[8],[function(o){
if((o.time == 0)){
callMethod(this,th,_265[9],[o.items]);

}else{
callMethod(this,th,_265[10],[o.time]);

}

},_265[11],_265[12]]);

};
_app_popup_PopUpQuests1Info[_265[10]]=function(time){
var th=this;
var sp=ctorObject(lang.display.Sprite);
var yy=0;
var str5=callMethod(this,GLOBAL.DateUtils,_265[13],[time]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.text=(_265[14] + str5);
tf1.x=(((570 - th.cnt.x) - tf1.width) / 2);
tf1.y=yy;
callMethod(this,sp,_265[2],[tf1]);
yy+=30;
var price=10;
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.text=(('Вы можете снять ограничение всего за ' + price) + _265[15]);
tf1.x=(((570 - th.cnt.x) - tf1.width) / 2);
tf1.y=yy;
callMethod(this,sp,_265[2],[tf1]);
yy+=30;
var bb=ctorObject(_265[16],[_265[17],function(){
bb.visible=!1;
callMethod(this,GLOBAL.$app.connect,_265[8],[function(vv){
if((vv == GLOBAL.ErrorType.OK)){
callMethod(this,th,_265[6]);

}else if((vv == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_265[18],[_265[19]]);

}

bb.visible=!0;

},_265[11],_265[20]]);

}]);
bb.x=205;
bb.y=yy;
callMethod(this,sp,_265[2],[bb]);
callMethod(this,th.cnt,_265[2],[sp]);

};
_app_popup_PopUpQuests1Info[_265[9]]=function(a){
var th=this;
if((a.size > 0)){
if(th.txt1.parent){
callMethod(this,th.txt1.parent,_265[21],[th.txt1]);

}
var url2=callMethod(this,GLOBAL.$app.moviesReader,_265[22],[_265[23]]);
var sp=ctorObject(lang.display.Sprite);
callMethod(this,th.cnt,_265[2],[sp]);
var itemW=100;
var sz=a.size;
sp.x=((500 - (itemW * sz)) / 2);
var i=0;
while((i < a.size)){
var el=a[i];
var tt=el.prize_type;
var itemid=el.itemid;
var giftItemObj=null;
var v3=!1;
if((tt == _265[24])){
if(checkIn(el,_265[25])){
giftItemObj=el.giftItem;
if(giftItemObj){
v3=!0;

}

}

}else{
v3=!0;

}
if(v3){
var s=ctorObject(_265[26]);
s.x=(i * itemW);
s.itemid=el.id;
s.iconOrigSrc=s.icon1.src;
callMethod(this,s.but.parent,_265[21],[s.but]);
s.but.ell=el;
s.but.click=function(e){
var itemm=this.ell.id;
var nn=this.ell.nums;
callMethod(this,GLOBAL.$app.popup,_265[27],[((_265[28] + nn) + _265[29]),function(){
callMethod(this,th,_265[3]);
callMethod(this,GLOBAL.$app.connect,_265[8],[function(vv){
if((vv == GLOBAL.ErrorType.OK)){

}else if((vv == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popup,_265[18],[_265[30]]);

}else{
callMethod(this,GLOBAL.$app.popup,_265[18],['\n\nОшибка при выполнении действия']);

}


},_265[11],_265[31],itemm]);

}]);

};
callMethod(this,s.but,_265[32],[_265[33],function(e){
this.parent.icon1.src=url2.src;

}]);
callMethod(this,s.but,_265[32],[_265[34],function(e){
this.parent.icon1.src=this.parent.iconOrigSrc;

}]);
var tfName=ctorObject(lang.text.TextField);
tfName.filters=GLOBAL.Config.shadowText1;
tfName.color=16777215;
tfName.fontSize=13;
tfName.text=('' + el.nums);
tfName.x=((100 - tfName.width) / 2);
tfName.y=90;
tfName.mouseEnabled=!1;
callMethod(this,s,_265[2],[tfName]);
callMethod(this,s,_265[2],[s.but]);
callMethod(this,sp,_265[2],[s]);
if((tt == _265[24])){
var urlV=callMethod(this,GLOBAL.$app.giftsMaster,_265[35],[giftItemObj]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.mouseEnabled=!1;
callMethod(this,bm1,_265[32],[_265[6],function(){
callMethod(this,this,_265[36],[_265[6],arguments.callee]);
this.x=((96 - this.naturalWidth) / 2);
this.y=9;

}]);
bm1.src=urlV;
callMethod(this,s,_265[2],[bm1]);

}

}
i++;
}

}else{
th.txt1.text=_265[37];
th.txt1.x=((600 - th.txt1.width) / 2);

}

};
_app_popup_PopUpQuests1Info[_265[3]]=function(){
callMethod(this,this.parent,_265[3],[this]);

};
_app_popup_PopUpQuests1Info[_265[38]]=function(w,h){
callMethod(this,this.bg,_265[38],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_265[39],_265[40],_app_popup_PopUpQuests1Info);
})(window);



(function(window){
var _137=["BGKostiSprite","PopUpPaymentMov1","getAssetByName","b27.png","m","navMenu","addChild","remove","animAlphaSprite","getClassName","static","removeAllChilds","stopTimer1","loadMoneyInfo","loadItems","loadExchange","loadHistoryPayment","stop","Мой счёт","app.bar.BarMoneyTypeSpr2","lapki","setMoney","kosti","Идёт загрузка...","send","removeChild","Нет активных подписок","Произошла ошибка","subscribe","getList","loadSubscribe","attr","scroll1","timestampToStrDate2","parsePaymentsHistory","Загрузка истории...","История пополнений пустая","shop.paymentHistory","drawMovie","web","1","change","input","cut","android","on","Курс","Arial","=","Меняю","Получаю","ButtonOrangeText","Обменять","Выполняется обмен...","Обмен выполнен.","Доступ ограничен","Ошибка при обмене.","init","shop.exchangeMoney","openPopUpText1","getDefinitionByName","shop.paymentsList","renderItems","a70.png","a71.png","rollover","rollout","click","site","openPopUpPaymentItemSite","buyMoneyByID","floor","css","pointer-events","none","GetGolosStr"," рубин"," рубина"," рубинов"," голос"," голоса"," голосов","resize","app.popup.PopUpPaymentMov","lang.display.Sprite"];
var _app_popup_PopUpPaymentMov={};
_app_popup_PopUpPaymentMov["ctor"]=function(t){
var th=this;
var bg=ctorObject(_137[0]);
var c=ctorObject(_137[1]);
this.tm1=null;
this.tm5=null;
this.curMenu=0;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_137[2],[_137[3]]);
this.curMenuArr=[c.infoBut,c.addBut,c.exchangeBut,c.historyBut];
var i=0;
while((i < this.curMenuArr.size)){
var idd=(i + 1);
var nm3=(_137[4] + idd);
var ob3=c[nm3];
ob3.mouseEnabled=!1;
var el=this.curMenuArr[i];
el.menuID=idd;
el.origIconSrc=el.icon1.src;
el.msk.menuID=idd;
el.msk.click=function(){
callMethod(this,th,_137[5],[this.menuID]);

};
i++;
}
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=100;
this.c.cnt.y=90;
callMethod(this,this.c,_137[6],[this.c.cnt]);
this.bg=bg;
callMethod(this,null,_137[6],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_137[7]);

};
callMethod(this,GLOBAL.AppUtils,_137[8],[c.close,0.8,1]);
var navID=1;
if(t){
navID=t;

}
callMethod(this,this,_137[5],[navID]);

};
_app_popup_PopUpPaymentMov[_137[10]]=function(){
this.isLoad=!1;
this.clName=callMethod(this,System,_137[9],[this]);

};
_app_popup_PopUpPaymentMov[_137[5]]=function(id){
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
i++;
}
callMethod(this,this.c.cnt,_137[11]);
callMethod(this,this,_137[12]);
if((id == 1)){
callMethod(this,this,_137[13]);

}else if((id == 2)){
callMethod(this,this,_137[14]);

}else if((id == 3)){
callMethod(this,this,_137[15]);

}else if((id == 4)){
callMethod(this,this,_137[16]);

}else if((id == 5)){
callMethod(this,this,_137[16]);

}





}
this.curMenu=id;

};
_app_popup_PopUpPaymentMov[_137[12]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_137[17]);

}
if(this.tm5){
callMethod(this,this.tm5,_137[17]);

}
this.tm1=null;
this.tm5=null;

};
_app_popup_PopUpPaymentMov[_137[13]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_137[18];
txt1.x=((450 - txt1.width) / 2);
txt1.y=40;
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_137[6],[txt1]);
var u=GLOBAL.$app.user;
var ww=400;
var spMoney=ctorObject(lang.display.Sprite);
var lapkiMoney=ctorObject(_137[19],[_137[20],function(){

}]);
lapkiMoney.mouseEnabled=!1;
callMethod(this,lapkiMoney,_137[21],[u.money]);
lapkiMoney.x=((ww - lapkiMoney.tf.width) / 2);
callMethod(this,spMoney,_137[6],[lapkiMoney]);
var kostiMoney=ctorObject(_137[19],[_137[22],function(){

}]);
kostiMoney.mouseEnabled=!1;
callMethod(this,kostiMoney,_137[21],[u.kosti]);
kostiMoney.x=((ww - kostiMoney.tf.width) / 2);
kostiMoney.y=50;
callMethod(this,spMoney,_137[6],[kostiMoney]);
spMoney.y=80;
callMethod(this,this.c.cnt,_137[6],[spMoney]);

};
_app_popup_PopUpPaymentMov[_137[30]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_137[23];
txt1.x=((450 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_137[6],[txt1]);
callMethod(this,GLOBAL.$app.connect,_137[24],[function(res,arr){
if((res == GLOBAL.ErrorType.OK)){
if((arr.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_137[25],[txt1]);

}

}else{
txt1.text=_137[26];
txt1.x=((450 - txt1.width) / 2);

}

}else{
txt1.text=_137[27];
txt1.x=((450 - txt1.width) / 2);

}

},_137[28],_137[29]]);

};
_app_popup_PopUpPaymentMov[_137[34]]=function(arr){
var th=this;
var s2=ctorObject(lang.display.Sprite);
s2.width=380;
s2.height=300;
s2.scroll=!0;
callMethod(this,s2,_137[31],[{className:_137[32]}]);
s2.x=70;
callMethod(this,th.c.cnt,_137[6],[s2]);
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var ob={};
ob.id=el[0];
ob.type=el[1];
ob.value=el[2];
ob.time=el[3];
var sp=ctorObject(lang.display.Sprite);
var s1=callMethod(this,GLOBAL.DateUtils,_137[33],[ob.time]);
var tf=ctorObject(lang.text.TextField);
tf.fontSize=13;
tf.text=s1;
tf.color=16777215;
tf.filters=GLOBAL.Config.filterBlue1;
tf.y=10;
callMethod(this,sp,_137[6],[tf]);
sp.y=(i * 37);
var sp2=null;
if((ob.type == 1)){
sp2=ctorObject(_137[19],[_137[20],function(){

}]);

}else if((ob.type == 2)){
sp2=ctorObject(_137[19],[_137[22],function(){

}]);
sp2.y=5;

}

if(sp2){
sp2.mouseEnabled=!1;
callMethod(this,sp2,_137[21],[ob.value]);
sp2.x=150;
callMethod(this,sp,_137[6],[sp2]);

}
callMethod(this,s2,_137[6],[sp]);
i++;
}

}

};
_app_popup_PopUpPaymentMov[_137[16]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_137[35];
txt1.x=((450 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_137[6],[txt1]);
callMethod(this,GLOBAL.$app.connect,_137[24],[function(res,arr){
if((res == GLOBAL.ErrorType.OK)){
if((arr.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_137[25],[txt1]);

}
callMethod(this,th,_137[34],[arr]);

}else{
txt1.text=_137[36];
txt1.x=((450 - txt1.width) / 2);

}

}else{
txt1.text=_137[27];
txt1.x=((450 - txt1.width) / 2);

}

},_137[37]]);

};
_app_popup_PopUpPaymentMov[_137[15]]=function(){
var th=this;
var c=callMethod(this,GLOBAL.$app.moviesReader,_137[38],[49]);
c.x=80;
callMethod(this,this.c.cnt,_137[6],[c]);
var tf6=ctorObject(lang.text.TextField);
tf6.filters=GLOBAL.Config.shadowText1;
tf6.color=16347292;
tf6.fontSize=23;
tf6.x=192;
tf6.y=172;
tf6.y+=4;

callMethod(this,c,_137[6],[tf6]);
var tfLapki=tf6;
var curValue=0;
var upd1=function(v){
var vv=castInt(v);
if((vv <= 0)){
vv=0;

}
curValue=vv;
var v1=(vv * GLOBAL.$app.shopMaster.exchangeMoney);
tfLapki.text=('' + v1);

};
var ti=c.tiText;
ti.value=_137[40];
var t2=_137[41];
t2=_137[42];

var cbUpd=function(){
var v1=ti.value;
if((v1.size > 4)){
ti.value=callMethod(this,v1,_137[43],[0,4]);
v1=ti.value;

}
upd1(v1);

};
callMethod(this,ti,_137[45],[t2,cbUpd]);

var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=_137[46];
tf1.x=26;
tf1.y=68;
callMethod(this,c,_137[6],[tf1]);
tf1.y+=4;

var tf2=ctorObject(lang.text.TextField);
tf2.filters=GLOBAL.Config.shadowText1;
tf2.color=16759329;
tf2.fontSize=23;
tf2.text=_137[40];
tf2.x=110;
tf2.y=65;
tf2.y+=4;

callMethod(this,c,_137[6],[tf2]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontName=_137[47];
tf3.color=16777215;
tf3.fontSize=43;
tf3.text=_137[48];
tf3.x=(tf2.x + 27);
tf3.y=(tf2.y - 8);
callMethod(this,c,_137[6],[tf3]);
var tf4=ctorObject(lang.text.TextField);
tf4.filters=GLOBAL.Config.shadowText1;
tf4.color=16347292;
tf4.fontSize=23;
tf4.text=('' + GLOBAL.$app.shopMaster.exchangeMoney);
tf4.x=225;
tf4.y=65;
tf4.y+=4;

callMethod(this,c,_137[6],[tf4]);
var tf5=ctorObject(lang.text.TextField);
tf5.color=16777215;
tf5.fontSize=17;
tf5.text=_137[49];
tf5.x=40;
tf5.y=125;
callMethod(this,c,_137[6],[tf5]);
var tf6=ctorObject(lang.text.TextField);
tf6.color=16777215;
tf6.fontSize=17;
tf6.text=_137[50];
tf6.x=60;
tf6.y=173;
callMethod(this,c,_137[6],[tf6]);
tf5.y+=4;
tf6.y+=4;

upd1(ti.value);
var but1=ctorObject(_137[51],[_137[52],function(){
var v2=curValue;
if((v2 > 0)){
c.visible=!1;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_137[53];
txt1.x=((450 - txt1.width) / 2);
txt1.y=(280 / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_137[6],[txt1]);
callMethod(this,GLOBAL.$app.connect,_137[24],[function(status){
if((status == GLOBAL.ErrorType.OK)){
txt1.text=_137[54];

}else if((status == GLOBAL.ErrorType.NO_MONEY)){
txt1.text='Недостаточно косточек для обмена.';

}else if((status == GLOBAL.ErrorType.ACCESS_DENIED)){
txt1.text=_137[55];

}else{
txt1.text=_137[56];

}


txt1.x=((450 - txt1.width) / 2);
callMethod(this,th,_137[12]);
th.tm1=callMethod(this,Timer,_137[57],[3000,function(){
if(txt1.parent){
callMethod(this,txt1.parent,_137[25],[txt1]);

}
callMethod(this,th,_137[12]);
c.visible=!0;

}]);

},_137[58],v2]);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_137[59],['<br /><br />Минимальный обмен 1 косточка']);

}

}]);
callMethod(this,c,_137[6],[but1]);
but1.x=92;
but1.y=200;

};
_app_popup_PopUpPaymentMov[_137[14]]=function(){
var th=this;
var cl=callMethod(this,System,_137[60],[this.clName]);
if(!cl.isLoad){
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_137[47];
txt1.bold=!0;
txt1.text=_137[23];
txt1.x=((450 - txt1.width) / 2);
txt1.y=((300 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c.cnt,_137[6],[txt1]);
callMethod(this,GLOBAL.$app.connect,_137[24],[function(a){
cl.isLoad=!0;
if(txt1.parent){
callMethod(this,txt1.parent,_137[25],[txt1]);

}
GLOBAL.$app.shopMaster.paymentsKostiList=a;
callMethod(this,th,_137[14]);

},_137[61]]);

}else{
callMethod(this,th,_137[62],[GLOBAL.$app.shopMaster.paymentsKostiList]);

}

};
_app_popup_PopUpPaymentMov[_137[62]]=function(a){
var th=this;
if(a){
var yy=0;
var url1=callMethod(this,GLOBAL.$app.moviesReader,_137[2],[_137[63]]);
var url2=callMethod(this,GLOBAL.$app.moviesReader,_137[2],[_137[64]]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,this.c.cnt,_137[6],[spr2]);
var itemW=130;
var numW=3;
var nums=a.size;
var maxItems=6;
spr2.x=((510 - (itemW * numW)) / 2);
if((nums > maxItems)){
nums=maxItems;

}
var i=0;
while((i < nums)){
var el=a[i];
var s=callMethod(this,GLOBAL.$app.moviesReader,_137[38],[23]);
var qq=(i % numW);
s.x=(qq * itemW);
s.y=yy;
s.iconOrigSrc=s.icon1.src;
s.itemid=el.id;
callMethod(this,s.but,_137[45],[_137[65],function(e){
this.parent.icon1.src=url2.src;

}]);
callMethod(this,s.but,_137[45],[_137[66],function(e){
this.parent.icon1.src=this.parent.iconOrigSrc;

}]);
callMethod(this,s.but,_137[45],[_137[67],function(e){
var itemm=this.parent.itemid;
if((GLOBAL.Config.authType == _137[68])){
callMethod(this,GLOBAL.$app.popup,_137[69],[itemm]);

}else{
callMethod(this,GLOBAL.$app.shopMaster,_137[70],[itemm]);

}
callMethod(this,th,_137[7]);

}]);
var price=el.price;
var actionPerc=0;
if((actionPerc > 0)){
var price2=callMethod(this,Math,_137[71],[(price * (actionPerc / 100))]);
price+=price2;

}
var tf2=ctorObject(lang.text.TextField);
tf2.filters=GLOBAL.Config.shadowText1;
tf2.color=16759329;
tf2.fontSize=20;
tf2.fontName=_137[47];
tf2.bold=!0;
tf2.text=('' + price);
tf2.width=(tf2.width + 4);
tf2.x=((110 - tf2.width) / 2);
tf2.y=80;

tf2.mouseEnabled=!1;
callMethod(this,tf2,_137[72],[{'pointer-events':_137[74]}]);
var votes=el.votes;
var priceStr=callMethod(this,this,_137[75],[votes]);
var tf3=ctorObject(lang.text.TextField);
tf3.filters=GLOBAL.Config.filterBlue1;
tf3.color=16777215;
tf3.fontSize=15;
callMethod(this,tf3,_137[72],[{'pointer-events':_137[74]}]);
tf3.fontName=_137[47];
tf3.bold=!0;
tf3.text=('' + priceStr);
tf3.width=(tf3.width + 4);
tf3.x=((120 - tf3.width) / 2);
tf3.y=109;
tf3.mouseEnabled=!1;

callMethod(this,s,_137[6],[tf2,tf3]);
if((qq == (numW - 1))){
yy+=150;

}
callMethod(this,spr2,_137[6],[s]);
i++;
}

}

};
_app_popup_PopUpPaymentMov[_137[75]]=function(v){
var cnt=(v % 10);
if((GLOBAL.Config.authType == _137[68])){
if((cnt == 1)){
return (v + _137[76]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _137[77]);

}

}
return (v + _137[78]);

}
if((cnt == 1)){
return (v + _137[79]);

}
if((cnt >= 2)){
if((cnt <= 4)){
return (v + _137[80]);

}

}
return (v + _137[81]);

};
_app_popup_PopUpPaymentMov[_137[7]]=function(){
callMethod(this,this,_137[12]);
callMethod(this,this.parent,_137[7],[this]);

};
_app_popup_PopUpPaymentMov[_137[82]]=function(w,h){
callMethod(this,this.bg,_137[82],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_137[83],_137[84],_app_popup_PopUpPaymentMov);
})(window);



(function(window){
var _174=["PopUpNotifyMov","getAssetByName","notifyBG1.png","createPainter","addChild","on","click","remove","loadV","css","font-family","BIP","word-wrap","break-word","font-size","15px","relative","attr","scroll1","addDateInfoTS1",")\"><img src=\"","\"></span>  ","timestampToStrDate3","getUserID","createNickUser","gift","подарил","а","getURLByID","</span> "," <span style=\"color:#ffcc00;\">","</span> <img src=\"","msg"," <span style=\"color:#C9E79F;\">","</span>","systemMsg","parseArr","getChildAt","idd","removeChild","delNotifyByID","getInfoDayAndMonthByTS","rgba(0,0,0,0.2)","Date","getDate","Сегодня","Вчера"," ","Arial","Загрузка уведомлений...","send","load","loadAvaUsers","text-align","center","Произошла ошибка","user.notifyList","clear","rect","#000000","resize","app.popup.PopUpNotifyMov","lang.display.Sprite"];
var _app_popup_PopUpNotifyMov={};
_app_popup_PopUpNotifyMov["ctor"]=function(){
var th=this;
this.popupName=_174[0];
this.AllW=GLOBAL.Config.notifyPopUpSize[0];
this.AllH=GLOBAL.Config.notifyPopUpSize[1];
this.dateChatObj1={};
this.bgImg=callMethod(this,GLOBAL.$app.moviesReader,_174[1],[_174[2]]);
this.s2=null;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.bg=ctorObject(lang.display.Sprite);
this.bg.alpha=0.3;
callMethod(this,this.bg,_174[3]);
this.c=ctorObject(lang.display.Sprite);
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.isItemQ=1;
callMethod(this,this.c,_174[4],[this.c.cnt]);
callMethod(this,null,_174[4],[this.bg,this.bgImg,this.c]);
callMethod(this,this.ev,_174[5],[GLOBAL.$app.stage,_174[6],function(e){
var xx1=(e.mouseX - th.x);
var yy1=(e.mouseY - th.y);
var isV=!1;
if((xx1 < 0)){
isV=!0;

}else if((xx1 > th.AllW)){
isV=!0;

}else if((yy1 < 0)){
isV=!0;

}else if((yy1 > th.AllH)){
isV=!0;

}



if(isV){
callMethod(this,th,_174[7]);

}

}]);
callMethod(this,this,_174[8]);

};
_app_popup_PopUpNotifyMov[_174[36]]=function(idsUsers,arr){
var th=this;
var idsUsers=[];
var s2=ctorObject(lang.display.Sprite);
callMethod(this,s2,_174[9],[{'font-family':_174[11],'word-wrap':_174[13],'font-size':_174[15]}]);
s2.selectable=!1;
s2.width=460;
s2.height=350;
s2.position=_174[16];
s2.y=10;
s2.scroll=!0;
s2.isItemQ=1;
callMethod(this,s2,_174[17],[{className:_174[18]}]);
s2.x=10;
this.s2=s2;
callMethod(this,th.c.cnt,_174[4],[s2]);
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var ob={};
var id=el[0];
var type=el[1];
var ot=el[2];
var args=el[3];
var time=el[4];
var flags=el[5];
var otid=ot;
callMethod(this,th,_174[19],[s2,time]);
var sp=ctorObject(lang.display.Sprite);
sp.position=_174[16];
if(((1 << 1) & flags)){
sp.html+=(((('<span title="удалить" style="position:relative;top:3px;cursor:pointer;" class="noSelect" onclick="cbArgs(\'notifyDel\',' + id) + _174[20]) + GLOBAL.Config.delIcon1BM.src) + _174[21]);

}
var s1=callMethod(this,GLOBAL.DateUtils,_174[22],[time]);
var otUser=callMethod(this,GLOBAL.$app.cacheUsers,_174[23],[ot]);
var otStr=callMethod(this,GLOBAL.$app.chat,_174[24],[otUser]);
if((type == _174[25])){
var txt2=_174[26];
if((otUser.sex == GLOBAL.Sex.FEMALE)){
txt2+=_174[27];

}
if((args.size > 0)){
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_174[28],[args[0]]);
sp.html+=(((((((('<span style="color:#FFFFFF;position:relative;">В ' + s1) + _174[29]) + otStr) + _174[30]) + txt2) + _174[31]) + giftV) + '" style="max-width:50px;position:relative;top:9px;">');

}

}else if((type == _174[32])){
if((args.size > 0)){
var txt=args[0];
sp.html+=(((((('<span style="color:#FFFFFF;position:relative;">В ' + s1) + _174[29]) + otStr) + _174[33]) + txt) + _174[34]);

}

}else if((type == _174[35])){
if((args.size > 0)){
var txt=args[0];
sp.html+=(((('<span style="color:#FFFFFF;position:relative;">В ' + s1) + '</span> <span style="color:#FD92FE;">') + txt) + _174[34]);

}

}


sp.idd=id;
callMethod(this,s2,_174[4],[sp]);
i++;
}

}

};
_app_popup_PopUpNotifyMov[_174[40]]=function(id){
if(this.s2){
var i=0;
while((i < this.s2.numChildren)){
var el=callMethod(this,this.s2,_174[37],[i]);
if(el){
if(checkIn(el,_174[38])){
if((el.idd == id)){
callMethod(this,el.parent,_174[39],[el]);
return !0;

}

}

}
i++;
}

}
return !1;

};
_app_popup_PopUpNotifyMov[_174[19]]=function(spr,ts){
if((ts > 0)){
var dateObj1=callMethod(this,GLOBAL.AppUtils,_174[41],[ts]);
var s5=dateObj1.s;
if(checkIn(this.dateChatObj1,s5)){

}else{
this.dateChatObj1[s5]=1;
var sp2=ctorObject(lang.display.Sprite);
sp2.position=_174[16];
callMethod(this,sp2,_174[9],[{background:_174[42]}]);
var s2='';
var dt=ctorObject(_174[43]);
var dayV=callMethod(this,dt,_174[44]);
if((dateObj1.date == dayV)){
s2=_174[45];

}else if((dateObj1.date == (dayV - 1))){
s2=_174[46];

}else{
var month1=(dateObj1.month - 1);
var monthStr=GLOBAL.Config.monthsList1[month1];
s2=((('' + dateObj1.date) + _174[47]) + monthStr);

}

if((s2 != '')){
sp2.html+=(('<span class="noSelect" style="color:#ffcc00;text-align:center;">' + s2) + _174[34]);
callMethod(this,spr,_174[4],[sp2]);

}

}

}

};
_app_popup_PopUpNotifyMov[_174[8]]=function(){
var th=this;
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.fontName=_174[48];
txt1.color=16777215;
txt1.text=_174[49];
txt1.x=((480 - txt1.width) / 2);
txt1.y=(350 / 2);
callMethod(this,th.c.cnt,_174[4],[txt1]);
var tt=0;
callMethod(this,GLOBAL.$app.connect,_174[50],[function(res,ob){
if((res == GLOBAL.ErrorType.OK)){
if((ob.arr.size > 0)){
if(txt1.parent){
callMethod(this,txt1.parent,_174[39],[txt1]);

}
var idsUsers=ob.users;
callMethod(this,GLOBAL.$app.cacheUsers,_174[51],[idsUsers,function(){
callMethod(this,GLOBAL.$app.cacheUsers,_174[52],[idsUsers,function(){
callMethod(this,th,_174[36],[ob.users,ob.arr]);

}]);

}]);

}else{
txt1.x=20;
txt1.fontSize=12;
callMethod(this,txt1,_174[9],[{'text-align':_174[54]}]);
txt1.text='Нет уведомлений<br />Здесь будут показываться уведомления о новых подарках, и многое другое.';

}

}else{
txt1.text=_174[55];
txt1.x=((480 - txt1.width) / 2);

}

},_174[56],tt]);

};
_app_popup_PopUpNotifyMov[_174[7]]=function(){
callMethod(this,this.ev,_174[57]);
callMethod(this,this.parent,_174[7],[this]);

};
_app_popup_PopUpNotifyMov[_174[60]]=function(w,h){
callMethod(this,this.bg.painter,_174[57]);
var margin=4;
callMethod(this,this.bg.painter,_174[58],[-margin,-margin,(this.AllW + (margin * 2)),(this.AllH + (margin * 2)),_174[59]]);

};
vm.registerClass(_174[61],_174[62],_app_popup_PopUpNotifyMov);
})(window);



(function(window){
var _244=["app.popup.PopUpMinInfo1","addChild","Идёт загрузка...","Arial","mod.getMoneyMod","modmaps","mod.getMoneyModMaps","ButtonOrangeText","Забрать","send","openPopUpMinText1","remove","init1","getTimestamp","initTimer","setTime","stopTimer","updateTimeV","init","toHourMinSecTxt2","До зарплаты ","stop","money","app.bar.BarMoneyTypeSpr2","kosti","setMoney","removeChild","resize","app.popup.PopUpModGetMoney","lang.display.Sprite"];
var _app_popup_PopUpModGetMoney={};
_app_popup_PopUpModGetMoney["ctor"]=function(tt){
this.p1=ctorObject(_244[0],['']);
callMethod(this,null,_244[1],[this.p1]);
var th=this;
this.tm=null;
this.endTS=0;
this.tt=tt;
this.visBut1=!1;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_244[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_244[1],[this.tf1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontName=_244[3];
this.tf2.bold=!0;
this.tf2.fontSize=17;
this.tf2.y=(this.tf1.y + 80);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_244[1],[this.tf2]);
var cmdd=_244[4];
if((tt == _244[5])){
cmdd=_244[6];

}
var bb=ctorObject(_244[7],[_244[8],function(){
bb.visible=!1;
callMethod(this,GLOBAL.$app.connect,_244[9],[function(v){
if((v == 1)){

}else{
callMethod(this,GLOBAL.$app.popup,_244[10],['<br /><br />Ошибка получения зарплаты']);

}
callMethod(this,th,_244[11]);

},cmdd,1]);

}]);
bb.x=160;
bb.y=138;
this.but1=bb;
callMethod(this,GLOBAL.$app.connect,_244[9],[function(v,o){
callMethod(this,th,_244[12],[o]);

},cmdd,0]);

};
_app_popup_PopUpModGetMoney[_244[15]]=function(v){
var th=this;
if((v > 0)){
var ts=callMethod(this,Date,_244[13]);
th.endTS=(ts + v);
callMethod(this,th,_244[14]);

}

};
_app_popup_PopUpModGetMoney[_244[14]]=function(){
var th=this;
callMethod(this,th,_244[16]);
var tss=callMethod(this,Date,_244[13]);
var allV=(th.endTS - tss);
callMethod(this,th,_244[17],[allV]);
this.tm=callMethod(this,Timer,_244[18],[1000,function(){
var tss=callMethod(this,Date,_244[13]);
var allV=(th.endTS - tss);
if((allV <= 0)){
allV=0;

}
callMethod(this,th,_244[17],[allV]);
if((allV <= 0)){
if(!th.visBut1){
callMethod(this,th.p1.cnt,_244[1],[th.but1]);
th.visBut1=!0;

}

}

}]);

};
_app_popup_PopUpModGetMoney[_244[17]]=function(allV){
var th=this;
var str5=callMethod(this,GLOBAL.DateUtils,_244[19],[allV]);
this.tf2.text=(_244[20] + str5);
if((allV <= 0)){
this.tf2.text='';

}
this.tf2.x=((450 - this.tf2.width) / 2);
if((allV <= 0)){
callMethod(this,th,_244[16]);

}

};
_app_popup_PopUpModGetMoney[_244[16]]=function(){
if(this.tm){
callMethod(this,this.tm,_244[21]);

}
this.tm=null;

};
_app_popup_PopUpModGetMoney[_244[12]]=function(o){
var th=this;
if(o){
this.tf1.text='';
var qq=0;
if(checkIn(o,_244[22])){
qq=o.money;

}
var mm=ctorObject(_244[23],[_244[24],function(){

}]);
mm.mouseEnabled=!1;
mm.y=30;
callMethod(this,mm,_244[25],[qq]);
mm.x=(((450 - 40) - mm.tf.width) / 2);
callMethod(this,th.p1.cnt,_244[1],[mm]);
callMethod(this,this,_244[15],[o.time]);
if((o.time <= 0)){
if(!th.visBut1){
callMethod(this,th.p1.cnt,_244[1],[th.but1]);
th.visBut1=!0;

}

}

}

};
_app_popup_PopUpModGetMoney[_244[11]]=function(){
callMethod(this,this,_244[16]);
if(this.parent){
callMethod(this,this.parent,_244[26],[this]);

}

};
_app_popup_PopUpModGetMoney[_244[27]]=function(w,h){
callMethod(this,this.p1,_244[27],[w,h]);

};
vm.registerClass(_244[28],_244[29],_app_popup_PopUpModGetMoney);
})(window);



(function(window){
var _158=["BGKostiSprite","drawMovie","cnt","removeChild","css","font-family","Arial","font-weight","bold","font-size","16px","color","#FFFFFF","word-break","break-all","attr","scroll1","addChild","app.ui.VScrollBar2","resize","remove","animAlphaSprite","load","removeAllChilds","Идёт загрузка...","parseList","timestampToStrDate2","HTMLSprite"," -> ","</span>","<br /><br />","reload","Поиск не дал результата","app.popup.PopUpMiniChatHistoryUser","lang.display.Sprite"];
var _app_popup_PopUpMiniChatHistoryUser={};
_app_popup_PopUpMiniChatHistoryUser["ctor"]=function(userid,arr){
var th=this;
this.arr=arr;
this.userid=userid;
this.bg=ctorObject(_158[0]);
this.c=callMethod(this,GLOBAL.$app.moviesReader,_158[1],[16]);
if(checkIn(th.c,_158[2])){
callMethod(this,th.c,_158[3],[th.c.cnt]);

}
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.sc=null;
this.maxW=500;
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=this.maxW;
this.cnt.height=300;
this.cnt.maxWidth=this.maxW;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_158[4],[{'font-family':_158[6],'font-weight':_158[8],'font-size':_158[10],'color':_158[12],'word-break':_158[14]}]);
callMethod(this,this.cnt,_158[15],[{className:_158[16]}]);
callMethod(this,this.c,_158[17],[this.cnt]);
callMethod(this,null,_158[17],[this.bg,this.c]);
if(GLOBAL.$app.isStandalone){
var h2=300;
th.sc=ctorObject(_158[18],[th.cnt,h2]);
callMethod(this,th.sc,_158[19],[7,h2]);
callMethod(this,th.c,_158[17],[th.sc]);

}
this.c.close.click=function(e){
callMethod(this,th,_158[20]);

};
callMethod(this,GLOBAL.AppUtils,_158[21],[this.c.close,0.8,1]);
callMethod(this,this,_158[22]);

};
_app_popup_PopUpMiniChatHistoryUser[_158[22]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_158[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_158[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_158[23]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_158[24];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_158[17],[txt1]);
th.preloadTxt=txt1;
callMethod(this,th,_158[25],[this.arr]);

};
_app_popup_PopUpMiniChatHistoryUser[_158[25]]=function(arr){
var th=this;
callMethod(this,th.cnt,_158[23]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_158[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_158[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var ss2='';
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
if(el){
var tm1=callMethod(this,GLOBAL.DateUtils,_158[26],[el.time]);
if(GLOBAL.$app.isStandalone){
var q2=ctorObject(_158[27]);
q2.maxWidth=(th.maxW - 20);
q2.htmll=(((('<span style="font-family:Arial;color:#FFFFFF;font-size:16px;">' + tm1) + _158[28]) + el.msg) + _158[29]);
q2.y=yy;
yy=((yy + q2.allHeight) + 10);
callMethod(this,th.cnt,_158[17],[q2]);

}else{
ss2=(((((ss2 + '') + tm1) + _158[28]) + el.msg) + _158[30]);

}

}
i++;
}
th.cnt.html=ss2;
if(th.sc){
callMethod(this,th.sc,_158[31]);
th.sc.x=(th.maxW + 40);

}

}else{
if(th.preloadTxt){
th.preloadTxt.text=_158[32];
th.preloadTxt.x=((580 - th.preloadTxt.width) / 2);

}

}

}

};
_app_popup_PopUpMiniChatHistoryUser[_158[20]]=function(){
callMethod(this,this.parent,_158[20],[this]);
if(this.sc){
callMethod(this,this.sc,_158[20]);

}

};
_app_popup_PopUpMiniChatHistoryUser[_158[19]]=function(w,h){
callMethod(this,this.bg,_158[19],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_158[33],_158[34],_app_popup_PopUpMiniChatHistoryUser);
})(window);



(function(window){
var _221=["app.popup.PopUpMinInfo1","addChild","Идёт загрузка...","send","init1","mod.getBanInfo","getTimestamp","initTimer","setTime","stopTimer","updateTimeV","init","toHourMinSecTxt2","stop","Выход из бана через","ButtonOrangeText","Разбанить","remove","openPopUpMinText1","<br /><br />Игрок разбанен","chat.unbanUser","Нет информации о бане","removeChild","resize","app.popup.PopUpBanUserInfo","lang.display.Sprite"];
var _app_popup_PopUpBanUserInfo={};
_app_popup_PopUpBanUserInfo["ctor"]=function(userid){
this.p1=ctorObject(_221[0],['']);
callMethod(this,null,_221[1],[this.p1]);
var th=this;
this.tm=null;
this.endTS=0;
this.userid=userid;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_221[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_221[1],[this.tf1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.y=(this.tf1.y + 20);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_221[1],[this.tf2]);
callMethod(this,GLOBAL.$app.connect,_221[3],[function(ob){
callMethod(this,th,_221[4],[ob]);

},_221[5],userid]);

};
_app_popup_PopUpBanUserInfo[_221[8]]=function(v){
var th=this;
if((v > 0)){
var ts=callMethod(this,Date,_221[6]);
th.endTS=(ts + v);
callMethod(this,th,_221[7]);

}

};
_app_popup_PopUpBanUserInfo[_221[7]]=function(){
var th=this;
callMethod(this,th,_221[9]);
var tss=callMethod(this,Date,_221[6]);
var allV=(th.endTS - tss);
callMethod(this,th,_221[10],[allV]);
this.tm=callMethod(this,Timer,_221[11],[1000,function(){
var tss=callMethod(this,Date,_221[6]);
var allV=(th.endTS - tss);
if((allV <= 0)){
allV=0;

}
callMethod(this,th,_221[10],[allV]);

}]);

};
_app_popup_PopUpBanUserInfo[_221[10]]=function(allV){
var th=this;
var str5=callMethod(this,GLOBAL.DateUtils,_221[12],[allV]);
this.tf2.text=('' + str5);
this.tf2.x=((450 - this.tf2.width) / 2);
if((allV <= 0)){
callMethod(this,th,_221[9]);

}

};
_app_popup_PopUpBanUserInfo[_221[9]]=function(){
if(this.tm){
callMethod(this,this.tm,_221[13]);

}
this.tm=null;

};
_app_popup_PopUpBanUserInfo[_221[4]]=function(banInfo){
var th=this;
if(banInfo){
this.tf1.text=_221[14];
this.tf1.x=((450 - this.tf1.width) / 2);
callMethod(this,this,_221[8],[banInfo.expire]);
var bb=ctorObject(_221[15],[_221[16],function(){
callMethod(this,th,_221[17]);
callMethod(this,GLOBAL.$app.connect,_221[3],[function(res){
if((res == GLOBAL.ErrorType.OK)){
callMethod(this,GLOBAL.$app.popupHtml,_221[18],[_221[19]]);

}else{
callMethod(this,GLOBAL.$app.popupHtml,_221[18],['<br /><br />Невозможно выполнить действие']);

}

},_221[20],th.userid]);

}]);
bb.x=160;
bb.y=138;
callMethod(this,th.p1.cnt,_221[1],[bb]);

}else{
th.tf1.text=_221[21];
th.tf1.x=((450 - th.tf1.width) / 2);

}

};
_app_popup_PopUpBanUserInfo[_221[17]]=function(){
callMethod(this,this,_221[9]);
if(this.parent){
callMethod(this,this.parent,_221[22],[this]);

}

};
_app_popup_PopUpBanUserInfo[_221[23]]=function(w,h){
callMethod(this,this.p1,_221[23],[w,h]);

};
vm.registerClass(_221[24],_221[25],_app_popup_PopUpBanUserInfo);
})(window);



(function(window){
var _109=["BGKostiSprite","AppPopUpS1Mov1","admin.eventsAPanel","attr","scroll1","addChild","remove","animAlphaSprite","load","removeChild","removeAllChilds","Идёт загрузка...","send","parseList","get","ButtonOrangeText","Добавить","openPopUpInputOne","Тип события","openPopUpMinText1","add","bitmap","DeleteMsg.png","on","click","openPopUpConfirmMsgYesNo","Удалить событие?","end_ts","timestampToStrDate2"," (",") до ","toHourMinSecTxt2",") старт через ","css","white-space","nowrap","Нет событий, добавьте новое.","resize","app.popup.PopUpAdminActionPanel","lang.display.Sprite"];
var _app_popup_PopUpAdminActionPanel={};
_app_popup_PopUpAdminActionPanel["ctor"]=function(){
var th=this;
this.bg=ctorObject(_109[0]);
this.c=ctorObject(_109[1]);
this.cSpr=ctorObject(lang.display.Sprite);
this.preloadTxt=null;
this.preloadTxt2=null;
this.cmdV=_109[2];
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_109[3],[{className:_109[4]}]);
callMethod(this,this.c,_109[5],[this.cnt,this.cSpr]);
callMethod(this,null,_109[5],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_109[6]);

};
callMethod(this,GLOBAL.AppUtils,_109[7],[this.c.close,0.8,1]);
callMethod(this,this,_109[8]);

};
_app_popup_PopUpAdminActionPanel[_109[8]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_109[9],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_109[9],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_109[10]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_109[11];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_109[5],[txt1]);
th.preloadTxt=txt1;
callMethod(this,GLOBAL.$app.connect,_109[12],[function(arr,srvtime){
callMethod(this,th,_109[13],[arr,srvtime]);

},th.cmdV,_109[14]]);

};
_app_popup_PopUpAdminActionPanel[_109[13]]=function(arr,srvtime){
var th=this;
callMethod(this,th.cnt,_109[10]);
var bb=ctorObject(_109[15],[_109[16],function(){
callMethod(this,GLOBAL.$app.popup,_109[17],[_109[18],_109[16],'',function(ob){
var idd=ob.name;
callMethod(this,GLOBAL.$app.connect,_109[12],[function(v){
if(v){
callMethod(this,th,_109[8]);

}else{
callMethod(this,GLOBAL.$app.popup,_109[19],['\n\nОшибка при выполнении действия']);

}

},th.cmdV,_109[20],idd]);

}]);

}]);
bb.x=235;
bb.y=402;
callMethod(this,th.cSpr,_109[5],[bb]);
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,th.cnt,_109[5],[sp2]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_109[9],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_109[9],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var sp=ctorObject(lang.display.Sprite);
var isInitiatorV=!1;
if(!isInitiatorV){
var delBM=callMethod(this,null,_109[21],[_109[22]]);
delBM.y=4;
delBM.buttonMode=!0;
delBM.itemObj=el;
callMethod(this,delBM,_109[23],[_109[24],function(e){
var idd=this.itemObj.id;
callMethod(this,GLOBAL.$app.popup,_109[25],[_109[26],function(){
callMethod(this,GLOBAL.$app.connect,_109[12],[function(v){
if(v){
callMethod(this,th,_109[8]);

}else{
callMethod(this,GLOBAL.$app.popup,_109[19],['<br /><br />Ошибка при выполнении действия']);

}

},th.cmdV,_109[6],idd]);

}]);

}]);
callMethod(this,sp,_109[5],[delBM]);

}
var endTime=0;
if(checkIn(el,_109[27])){
endTime=el.end_ts;

}
var s5=callMethod(this,GLOBAL.DateUtils,_109[28],[endTime]);
var tf=ctorObject(lang.text.TextField);
tf.x=30;
tf.color=16777215;
tf.text=((((('' + el.name) + _109[29]) + el.type) + _109[30]) + s5);
if((srvtime > 0)){
if((srvtime < el.start_ts)){
s5=callMethod(this,GLOBAL.DateUtils,_109[31],[(el.start_ts - srvtime)]);
tf.text=((((('' + el.name) + _109[29]) + el.type) + _109[32]) + s5);

}

}
tf.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf,_109[33],[{'white-space':_109[35]}]);
callMethod(this,sp,_109[5],[tf]);
sp.y=yy;
callMethod(this,sp2,_109[5],[sp]);
yy+=32;
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text='';

}
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text=_109[36];
txt1.x=((580 - txt1.width) / 2);
txt1.y=(th.preloadTxt.y + 25);
txt1.filters=GLOBAL.Config.filterBlue1;
th.preloadTxt2=txt1;
callMethod(this,th.c,_109[5],[txt1]);

}

}

};
_app_popup_PopUpAdminActionPanel[_109[6]]=function(){
callMethod(this,this.parent,_109[6],[this]);

};
_app_popup_PopUpAdminActionPanel[_109[37]]=function(w,h){
callMethod(this,this.bg,_109[37],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_109[38],_109[39],_app_popup_PopUpAdminActionPanel);
})(window);



(function(window){
var _20=["AppChatBanMov1","addChild","ButtonOrangeText","Выйти","openPopUpBuyBanExit","getTimestamp","setTime","stopTimer","updateTimeV","init","send","user.getBanInfo","initTimer","toHourMinSecTxt2","remove","user.exitBan","isVis","stop","removeChild","app.chat.ChatBanMov","lang.display.Sprite"];
var _app_chat_ChatBanMov={};
_app_chat_ChatBanMov["ctor"]=function(){
this.tm=null;
this.endTS=0;
this.correctTS=0;
this.mov=ctorObject(_20[0]);
this.mov.txt1.width=(this.mov.txt1.width + 4);
callMethod(this,null,_20[1],[this.mov]);
var th=this;
var bb=ctorObject(_20[2],[_20[3],function(){
callMethod(this,GLOBAL.$app.popup,_20[4]);

}]);
bb.x=60;
bb.y=48;
callMethod(this,this.mov,_20[1],[bb]);

};
_app_chat_ChatBanMov[_20[6]]=function(v){
var th=this;
if((v > 0)){
var ts=callMethod(this,Date,_20[5]);
th.endTS=(ts + v);
th.correctTS=(ts + 60);

}

};
_app_chat_ChatBanMov[_20[12]]=function(){
var th=this;
callMethod(this,th,_20[7]);
var tss=callMethod(this,Date,_20[5]);
var allV=(th.endTS - tss);
callMethod(this,th,_20[8],[allV]);
this.tm=callMethod(this,Timer,_20[9],[1000,function(){
var tss=callMethod(this,Date,_20[5]);
if((tss > th.correctTS)){
th.correctTS=(tss + 60);
callMethod(this,GLOBAL.$app.connect,_20[10],[function(ob){
if(ob){
th.endTS=(tss + ob.expire);

}

},_20[11]]);

}
var allV=(th.endTS - tss);
if((allV <= 0)){
allV=0;

}
callMethod(this,th,_20[8],[allV]);

}]);

};
_app_chat_ChatBanMov[_20[8]]=function(allV){
var th=this;
var str5=callMethod(this,GLOBAL.DateUtils,_20[13],[allV]);
th.mov.txt2.text=('' + str5);
th.mov.txt2.width=(th.mov.txt2.width + 4);
th.mov.txt2.x=((243 - th.mov.txt2.width) / 2);
if((allV <= 0)){
callMethod(this,GLOBAL.$app.connect,_20[10],[function(vv){
if((vv == 1)){
callMethod(this,th,_20[14]);

}

},_20[15],0]);

}

};
_app_chat_ChatBanMov[_20[16]]=function(v){
var th=this;
if(v){
callMethod(this,th,_20[12]);

}else{
callMethod(this,th,_20[7]);

}

};
_app_chat_ChatBanMov[_20[7]]=function(){
if(this.tm){
callMethod(this,this.tm,_20[17]);

}
this.tm=null;

};
_app_chat_ChatBanMov[_20[14]]=function(){
if(this.tm){
callMethod(this,this.tm,_20[17]);

}
this.tm=null;
if(this.parent){
callMethod(this,this.parent,_20[18],[this]);

}
if(GLOBAL.$app.chat){
if(GLOBAL.$app.chat.banSpr){
GLOBAL.$app.chat.banSpr=null;

}

}

};
vm.registerClass(_20[19],_20[20],_app_chat_ChatBanMov);
})(window);



(function(window){
var _194=["app.bar.BarUI","lang.display.Sprite"];
var _app_bar_BarUI={};
_app_bar_BarUI["ctor"]=function(){

};
vm.registerClass(_194[0],_194[1],_app_bar_BarUI);
})(window);

(function(window){
var _108=["Arial","web","shadow","#000000","addChild","setLevel","?","app.bar.BarStarLevel2","lang.display.Sprite"];
var _app_bar_BarStarLevel2={};
_app_bar_BarStarLevel2["ctor"]=function(){
var tt='';
var tt2='';
var clr=16777215;
var tf=ctorObject(lang.text.TextField);
tf.fontSize=15;
tf.y=15;
tf.fontName=_108[0];
tf.bold=!0;

this.tf=tf;
tf.filters=[{id:_108[2],color:_108[3],blur:3,offsetX:0,offsetY:0},{id:_108[2],color:_108[3],blur:3,offsetX:0,offsetY:0}];
tf.color=16777215;
callMethod(this,null,_108[4],[tf]);
callMethod(this,this,_108[5],[_108[6]]);

};
_app_bar_BarStarLevel2[_108[5]]=function(v){
this.tf.text=('' + v);
this.tf.x=castInt(((43 - this.tf.width) / 2));

};
vm.registerClass(_108[7],_108[8],_app_bar_BarStarLevel2);
})(window);

(function(window){
var _59=["web","Arial","lapki","a9","a8","kosti","a7","a6","getAssetByName",".png","a12.png","addChild","createSpritePainter","rect","#000000","on","rollover","rollout","setMoney","???","max","app.bar.BarMoneyTypeSpr","lang.display.Sprite"];
var _app_bar_BarMoneyTypeSpr={};
_app_bar_BarMoneyTypeSpr["ctor"]=function(t,cb){
var tt='';
var tt2='';
var clr=16777215;
this.t=t;
var tf=ctorObject(lang.text.TextField);
tf.fontSize=16;
tf.x=54;
tf.y=4;

tf.fontName=_59[1];
tf.bold=!0;
tf.filters=GLOBAL.Config.shadowText1;

this.tf=tf;
if((t == _59[2])){
tt=_59[3];
tt2=_59[4];
clr=16347292;
tf.y+=2;

}else if((t == _59[5])){
tt=_59[6];
tt2=_59[7];
clr=16759329;
tf.x-=8;

}

tf.color=clr;
var bm=callMethod(this,GLOBAL.$app.moviesReader,_59[8],[(tt + _59[9])]);
bm.scaleX=0.5;
bm.scaleY=0.5;
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_59[8],[(tt2 + _59[9])]);
var addImg=callMethod(this,GLOBAL.$app.moviesReader,_59[8],[_59[10]]);
bm2.scaleX=0.5;
bm2.scaleY=0.5;
addImg.scaleX=0.5;
addImg.scaleY=0.5;
addImg.x=45;
addImg.y=23;
if(bm){
bm2.x=15;
bm2.y=17;
if((t == _59[5])){
bm.y=-6;
addImg.y-=1;

}
callMethod(this,null,_59[11],[bm2,tf,addImg,bm]);
var spr2=callMethod(this,GLOBAL.AppUtils,_59[12]);
spr2.alpha=0;
spr2.buttonMode=!0;
callMethod(this,null,_59[11],[spr2]);
callMethod(this,spr2.painter,_59[13],[0,0,75,20,_59[14]]);
spr2.x=40;
spr2.y=23;
spr2.click=cb;
callMethod(this,spr2,_59[15],[_59[16],function(){
addImg.alpha=0.8;

}]);
callMethod(this,spr2,_59[15],[_59[17],function(){
addImg.alpha=1;

}]);
this.spr2=spr2;
callMethod(this,this,_59[18],[_59[19]]);

}

};
_app_bar_BarMoneyTypeSpr[_59[18]]=function(v){
this.tf.text=('' + v);
var x1=40;
if((this.t == _59[5])){
x1-=5;

}
var x2=callMethod(this,Math,_59[20],[0,((70 - this.tf.width) / 2)]);
this.tf.x=(x1 + x2);

};
vm.registerClass(_59[21],_59[22],_app_bar_BarMoneyTypeSpr);
})(window);

(function(window){
var _239=["addChild","web","Arial","createPainter","rect","#000000","setTarget","clickChatUser","on","rollover","floor","startTween","init","stop","replaceHTMLSymbols1","setNick","app.bar.PlashkaNick2","lang.display.Sprite"];
var _app_bar_PlashkaNick2={};
_app_bar_PlashkaNick2["ctor"]=function(){
var th=this;
this.maxNickW=130;
this.startX=0;
this.spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_239[0],[this.spr2]);
var tf=ctorObject(lang.text.TextField);
tf.fontSize=20;
tf.y=8;

tf.color=6768401;
tf.fontName=_239[2];
tf.bold=!0;
tf.y=5;

var spr1=ctorObject(lang.display.Sprite);
spr1.alpha=0;
spr1.buttonMode=!0;
spr1.x=9;
spr1.y=4;
callMethod(this,this.spr2,_239[0],[tf]);
this.tf=tf;
var msk2=ctorObject(lang.display.Sprite);
callMethod(this,msk2,_239[3]);
callMethod(this,msk2.painter,_239[4],[0,0,this.maxNickW,30,_239[5]]);
this.spr2.mask=msk2;
var p=ctorObject(lang.display.Painter);
callMethod(this,p,_239[6],[spr1]);
callMethod(this,p,_239[4],[0,0,(this.maxNickW - 10),30,_239[5]]);
callMethod(this,this,_239[0],[spr1]);
spr1.click=function(){
callMethod(this,GLOBAL.$app.chat,_239[7],[GLOBAL.$app.user,!1,!0]);

};
var isAnim=!1;
var tw=null;
callMethod(this,spr1,_239[8],[_239[9],function(){
if(!isAnim){
if((th.tf.width > th.maxNickW)){
var tm=callMethod(this,Math,_239[10],[((th.tf.width / th.maxNickW) * 1000)]);
var prop1={x:-(th.tf.width - th.maxNickW)};
isAnim=!0;
callMethod(this,null,_239[11],[th.tf,prop1,tm,{ok:function(){
prop1.x=th.startX;
callMethod(this,Timer,_239[12],[500,function(){
callMethod(this,this,_239[13]);
callMethod(this,null,_239[11],[th.tf,prop1,tm,{ok:function(){
isAnim=!1;

}}]);

}]);

}}]);

}

}

}]);

};
_app_bar_PlashkaNick2[_239[15]]=function(v){
var th=this;
v=callMethod(this,GLOBAL.AppUtils,_239[14],[v]);
this.tf.text=('' + v);
var nickW=this.tf.width;
this.tf.x=0;
if((nickW < (this.maxNickW - this.spr2.x))){
this.tf.x=((this.maxNickW - nickW) / 2);

}
th.startX=this.tf.x;

};
vm.registerClass(_239[16],_239[17],_app_bar_PlashkaNick2);
})(window);

(function(window){
var _281=["Arial","web","shadow","#733110","#000000","lapki","a9","a8","kosti","a7","a6","getAssetByName",".png","a12.png","rubies","addChild","createSpritePainter","on","rollover","rollout","setMoney","???","clear","rect","app.bar.BarMoneyTypeSpr2","lang.display.Sprite"];
var _app_bar_BarMoneyTypeSpr2={};
_app_bar_BarMoneyTypeSpr2["ctor"]=function(t,cb){
var tt='';
var tt2='';
var clr=16777215;
var tf=ctorObject(lang.text.TextField);
tf.fontSize=16;
tf.x=34;
tf.y=10;
tf.fontName=_281[0];
tf.bold=!0;
tf.filters=[{id:_281[2],color:_281[3],blur:2,offsetX:1,offsetY:1},{id:_281[2],color:_281[4],blur:3,offsetX:0,offsetY:0}];

this.tf=tf;
if((t == _281[5])){
tt=_281[6];
tt2=_281[7];
clr=16347292;
tf.y+=2;


}else if((t == _281[8])){
tt=_281[9];
tt2=_281[10];
clr=16759329;
tf.x-=8;
tf.y-=4;


}

tf.color=clr;
var bm=callMethod(this,GLOBAL.$app.moviesReader,_281[11],[(tt + _281[12])]);
var bm2=callMethod(this,GLOBAL.$app.moviesReader,_281[11],[(tt2 + _281[12])]);
var addImg=callMethod(this,GLOBAL.$app.moviesReader,_281[11],[_281[13]]);
addImg.x=45;
addImg.y=24;
if(bm){
bm2.x=15;
bm2.y=17;
bm.scaleX=0.3;
bm.scaleY=0.3;
if((t == _281[8])){
bm.y=-6;
addImg.y-=1;

}else if((t == _281[14])){
tf.x+=10;

}

callMethod(this,null,_281[15],[tf,bm]);
var spr2=callMethod(this,GLOBAL.AppUtils,_281[16]);
spr2.alpha=0;
spr2.buttonMode=!0;
callMethod(this,null,_281[15],[spr2]);
spr2.x=6;
spr2.y=3;
if((t == _281[8])){
spr2.y-=7;

}
spr2.click=cb;
callMethod(this,spr2,_281[17],[_281[18],function(){
addImg.alpha=0.8;

}]);
callMethod(this,spr2,_281[17],[_281[19],function(){
addImg.alpha=1;

}]);
this.spr2=spr2;
callMethod(this,this,_281[20],[_281[21]]);

}

};
_app_bar_BarMoneyTypeSpr2[_281[20]]=function(v){
this.tf.text=('' + v);
callMethod(this,this.spr2.painter,_281[22]);
callMethod(this,this.spr2.painter,_281[23],[0,0,((24 + this.tf.width) + 4),28,_281[4]]);

};
vm.registerClass(_281[24],_281[25],_app_bar_BarMoneyTypeSpr2);
})(window);



(function(window){
var _261=["getRoomFlags","isDialogRoom","removeUser","push","addUser","int","del","id","Array","writeIdUserObj","st","prizeTopMsg","args","ot","komu","getUsersAllIds","removeMsgByID","removeMsgByObj","getMsgPos","getMsgByID","removeUserByID","getUserID","getUserByID","getUserByNick","flags","parseMsgs","parseUsers","parseObj","isNoChangeRoomMsgs","isSend","shift","pushMsg","clearMessages","app.chat.ChatRoom"];
var _app_chat_ChatRoom={};
_app_chat_ChatRoom["ctor"]=function(id,name,type){
this.id=id;
this.name=name;
this.type=type;
this.stype=0;
this.flags=0;
this.messages=[];
this.users=[];
this.countUsers=0;
this.dateChatObj1={};
this.spr=null;
this.userid=0;
this.ownerid=0;
this.isChangeR=!1;
this.isLoad=!1;

};
_app_chat_ChatRoom[_261[0]]=function(){
var v=this.flags;
return v;

};
_app_chat_ChatRoom[_261[1]]=function(){
var v=!1;
if((this.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM)){
v=!0;

}else if((this.stype == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
v=!0;

}

return v;

};
_app_chat_ChatRoom[_261[4]]=function(u){
if(u){
var rr=callMethod(this,this,_261[2],[u.id]);
var aa=[u];
this.countUsers+=1;
var i=0;
while((i < this.users.size)){
var el=this.users[i];
callMethod(this,aa,_261[3],[el]);
i++;
}
this.users=aa;

}

};
_app_chat_ChatRoom[_261[2]]=function(id){
var i=0;
while((i < this.users.size)){
var el=this.users[i];
if(checkIs(el,_261[5])){
if((el == id)){
callMethod(this,this.users,_261[6],[i]);
this.countUsers-=1;
if((this.countUsers < 0)){
this.countUsers=0;

}
return !0;

}

}else{
if(checkIn(el,_261[7])){
if((el.id == id)){
callMethod(this,this.users,_261[6],[i]);
this.countUsers-=1;
if((this.countUsers < 0)){
this.countUsers=0;

}
return !0;

}

}

}
i++;
}
return !1;

};
_app_chat_ChatRoom[_261[9]]=function(ob,o,a){
if(checkIs(o,_261[5])){
if(!checkIn(ob,o)){
if((o != 0)){
ob[o]=1;
callMethod(this,a,_261[3],[o]);

}

}

}else if(checkIs(o,_261[8])){
var i=0;
while((i < o.size)){
callMethod(this,this,_261[9],[ob,o[i],a]);
i++;
}

}else if(checkIn(o,_261[7])){
var iduser=o.id;
if(!checkIn(ob,iduser)){
if((iduser != 0)){
ob[iduser]=1;
callMethod(this,a,_261[3],[iduser]);

}

}

}



};
_app_chat_ChatRoom[_261[15]]=function(){
var ob={};
var a=[];
callMethod(this,this,_261[9],[ob,this.users,a]);
var i=0;
while((i < this.messages.size)){
var el=this.messages[i];
if(el){
if((el.type == GLOBAL.app.chat.MessageType.EVENT_MSG)){
var st='';
var args=[];
if(checkIn(el,_261[10])){
st=el.st;

}
if((st == _261[11])){
if(checkIn(el,_261[12])){
args=el.args;

}
callMethod(this,this,_261[9],[ob,args[0],a]);

}

}
if(checkIn(el,_261[13])){
callMethod(this,this,_261[9],[ob,el.ot,a]);

}
if(checkIn(el,_261[14])){
callMethod(this,this,_261[9],[ob,el.komu,a]);

}

}
i++;
}
return a;

};
_app_chat_ChatRoom[_261[16]]=function(id){
var i=0;
while((i < this.messages.size)){
var el=this.messages[i];
if((el.id == id)){
callMethod(this,this.messages,_261[6],[i]);
return !0;

}
i++;
}
return !1;

};
_app_chat_ChatRoom[_261[17]]=function(o){
var i=0;
while((i < this.messages.size)){
var el=this.messages[i];
if((el == o)){
callMethod(this,this.messages,_261[6],[i]);
return !0;

}
i++;
}
return !1;

};
_app_chat_ChatRoom[_261[18]]=function(id){
var i=0;
while((i < this.messages.size)){
var el=this.messages[i];
if((el.id == id)){
return i;

}
i++;
}
return -1;

};
_app_chat_ChatRoom[_261[19]]=function(id){
var i=0;
while((i < this.messages.size)){
var el=this.messages[i];
if((el.id == id)){
return el;

}
i++;
}
return null;

};
_app_chat_ChatRoom[_261[20]]=function(id){
var v=callMethod(this,this,_261[2],[id]);
return v;

};
_app_chat_ChatRoom[_261[22]]=function(id){
var i=0;
while((i < this.users.size)){
var el=this.users[i];
if((el.id == id)){
return el;

}
i++;
}
var u=callMethod(this,GLOBAL.$app.cacheUsers,_261[21],[id]);
if(u){
return u;

}
return null;

};
_app_chat_ChatRoom[_261[23]]=function(v){
if((v == GLOBAL.$app.systemUser.nick)){
return GLOBAL.$app.systemUser;

}
var i=0;
while((i < this.users.size)){
var el=this.users[i];
if((el.nick == v)){
return el;

}
i++;
}
return null;

};
_app_chat_ChatRoom[_261[27]]=function(o){
this.dateChatObj1={};
this.countUsers=o.countUsers;
if(o){
if(checkIn(o,_261[24])){
this.flags=o.flags;

}
callMethod(this,this,_261[25],[o.messages]);
callMethod(this,this,_261[26],[o.users]);

}

};
_app_chat_ChatRoom[_261[26]]=function(a){
this.users=a;

};
_app_chat_ChatRoom[_261[28]]=function(){
if(this.isChangeR){
this.isChangeR=!1;
return !1;

}
return !0;

};
_app_chat_ChatRoom[_261[25]]=function(a){
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
if(!checkIn(el,_261[29])){
el.isSend=!0;

}
i++;
}
this.messages=a;
this.isChangeR=!0;

}

};
_app_chat_ChatRoom[_261[31]]=function(o){
var sz=this.messages.size;
if((sz >= GLOBAL.app.chat.Chat.maxMessagesRoom)){
var rr=callMethod(this,this.messages,_261[30]);

}
callMethod(this,this.messages,_261[3],[o]);
this.isChangeR=!0;

};
_app_chat_ChatRoom[_261[32]]=function(){
this.messages=[];

};
vm.registerClass(_261[33],'',_app_chat_ChatRoom);
})(window);



(function(window){
var _59=["static","charAt","push","text","splitText","removeAllChilds","parseDom","calculatePos1","redraw","parseString","<root>","</root>","style","parseCssProps","class","split"," ",".","classList","parseAttrList","indexOf","http","isHTTPUrl","http://","https://","blob:","/","getAbsoluteURL","stop","removeChild","removeURLDisplay","init","cut","...","Arial","createPainter","border","rect","#FFFFFF","addChild","initURLDisplay","Array","attrObj","id","node","root","div","span","attr","img","src","sourceRect","pop","gif","applyRatioScaleBitmap","off","load","bm3","onchange","web","getTimestamp","on","bitmap","applyEvents","a","href","click","exec","open ","android","rollover","rollout","createText","applyAttr","applyStyles","textVal","apply","width","height","max-width","max-height","scale","min","font-family","font-size","color","cursor","pointer","opacity","font-weight","bold","title","addTooltipText",":hover",":active","mousedown","textArrList","onclick","parseCallFunction","addEventV","match","parseCssText","replaceAll","px","Function","(","'","getChildAt","top","w","h","dispX","calcMaxHeightLine","clear","HTMLSprite","lang.display.Sprite"];
var _HTMLSprite={};
_HTMLSprite["ctor"]=function(){
var th=this;
this._html='';
this.scaleV=1;
this.allWidth=0;
this.allHeight=0;
this.maxWidth=0;
this.tm1=null;
this.onchange=null;
this.xmlObj=null;

};
_HTMLSprite[_59[0]]=function(){
this.cssPropRegex=/([a-z0-9-]+):([^;]+);?/g;
this.cssTextRegex=/(.|#)([\w:]+)\s*\{([^\}]+)\s*\}/g;
this.urlLastSpr=null;
this.styles={};
this.urlObjCB={};

};
_HTMLSprite[_59[4]]=function(txtV,ww){
var tf=this;
if((ww <= 0)){
ww=1;

}
var xx=0;
var ss='';
var pp=0;
var arr=[];
if(tf){
if(txtV){
xx=tf.x;
var lastText=tf.text;
tf.text='';
var i=0;
while((i < txtV.length)){
var ch=callMethod(this,txtV,_59[1],[i]);
tf.text=ch;
var tw=tf.width;
xx+=tw;
if((xx > ww)){
xx=0;
if((ss.length > 1)){
i-=1;

}else{
ss+=ch;

}
callMethod(this,arr,_59[2],[{type:_59[3],text:ss}]);
ss='';

}else{
ss+=ch;

}
i++;
}
if((ss.length > 0)){
callMethod(this,arr,_59[2],[{type:_59[3],text:ss}]);

}

}

}
return arr;

};
_HTMLSprite[_59[8]]=function(){
var th=this;
th.allWidth=0;
th.allHeight=0;
if((th.numChildren > 0)){
callMethod(this,th,_59[5]);

}
if(th.xmlObj){
callMethod(this,th,_59[6],[th.xmlObj,th]);
callMethod(this,th,_59[7],[th]);

}

};
_HTMLSprite[_59[19]]=function(attrArr){
var th=this;
var attrObj={};
if(attrArr){
var i=0;
while((i < attrArr.length)){
var pr=attrArr[i];
var kk=pr.key;
var vv=pr.value;
if((kk == _59[12])){
vv=callMethod(this,th,_59[13],[vv]);

}else if((kk == _59[14])){
var ob4={};
if(vv){
var spl=callMethod(this,vv,_59[15],[_59[16]]);
if(spl){
var k=0;
while((k < spl.length)){
var qq=spl[k];
var nmm=(_59[17] + qq);
ob4[nmm]=!0;
k++;
}

}

}
kk=_59[18];
vv=ob4;

}

attrObj[kk]=vv;
i++;
}

}
return attrObj;

};
_HTMLSprite[_59[22]]=function(v){
var q=!1;
if(v){
var p1=callMethod(this,v,_59[20],[_59[21]]);
if((p1 == 0)){
q=!0;

}

}
return q;

};
_HTMLSprite[_59[27]]=function(v){
var domainV=GLOBAL.$app.domain;
var q=!1;
var p1=-1;
if(v){
p1=callMethod(this,v,_59[20],[_59[23]]);
if((p1 == 0)){
q=!0;

}else{
p1=callMethod(this,v,_59[20],[_59[24]]);
if((p1 == 0)){
q=!0;

}else{
p1=callMethod(this,v,_59[20],[_59[25]]);
if((p1 == 0)){
q=!0;

}

}

}
if(!q){
if((v.size > 0)){
var ch=callMethod(this,v,_59[1],[0]);
if((ch == _59[26])){
v=(domainV + v);

}else{
v=((domainV + _59[26]) + v);

}

}

}

}
return v;

};
_HTMLSprite[_59[30]]=function(){
var th=this;
if(th.tm1){
callMethod(this,th.tm1,_59[28]);

}
th.tm1=null;
if(th.urlLastSpr){
if(th.urlLastSpr.parent){
callMethod(this,th.urlLastSpr.parent,_59[29],[th.urlLastSpr]);

}

}
th.urlLastSpr=null;

};
_HTMLSprite[_59[40]]=function(s){
var th=this;
callMethod(this,th,_59[30]);
if(s){
if((s.size > 0)){
if(th.tm1){
callMethod(this,th.tm1,_59[28]);

}
th.tm1=null;
th.tm1=callMethod(this,Timer,_59[31],[100,function(){
callMethod(this,this,_59[28]);
th.tm1=null;
var hh=25;
var ww=300;
var stageW=GLOBAL.$app.stageScaleWidth;
var stageH=GLOBAL.$app.stageScaleHeight;
var stW=stageW;
if((s.size > 100)){
s=callMethod(this,s,_59[32],[0,100]);
s+=_59[33];

}
var tf=ctorObject(lang.text.TextField);
tf.x=3;
tf.y=4;
tf.fontName=_59[34];
tf.color=0;
tf.fontSize=15;
tf.text=s;
var tw=tf.width;
if((tw < ww)){
ww=(tw + 12);

}else if((tw > ww)){
ww=(tw + 12);

}

var spr=ctorObject(lang.display.Sprite);
spr.mouseEnabled=!1;
var sp=ctorObject(lang.display.Sprite);
callMethod(this,sp,_59[35]);
callMethod(this,sp.painter,_59[36],[1,0,0.5]);
callMethod(this,sp.painter,_59[37],[0,0,ww,hh,_59[38]]);
callMethod(this,spr,_59[39],[sp]);
callMethod(this,spr,_59[39],[tf]);
spr.y=(stageH - (hh - 2));
th.urlLastSpr=spr;
spr.mouseEnabled=!1;
callMethod(this,GLOBAL.$app.cnv,_59[39],[spr]);

}]);

}

}

};
_HTMLSprite[_59[6]]=function(o,spr,par,aObj,itemsArr,pos){
var th=this;
var applyStyle=!0;
if(!pos){
pos={x:0,y:0};

}
var res=null;
if(!spr){
spr=ctorObject(lang.display.Sprite);
res=spr;

}
if(o){
var id=null;
var attrObj={};
if(checkIs(o,_59[41])){
var i=0;
while((i < o.length)){
callMethod(this,th,_59[6],[o[i],spr,par,aObj,itemsArr,pos]);
i++;
}

}else{
if(checkIn(o,_59[42])){
attrObj=o.attrObj;

}
if(checkIn(o,_59[43])){
id=o.id;

}
if((o.type == _59[44])){
if((id == _59[45])){
id=_59[46];

}else if((id == _59[47])){
id=_59[46];

}

if(checkIn(o,_59[48])){
attrObj=callMethod(this,th,_59[19],[o.attr]);

}
if((id == _59[46])){
var sz1=o.list.length;
if((o.id == _59[47])){
if((sz1 == 0)){
callMethod(this,o.list,_59[2],[{id:_59[47],type:_59[3],value:_59[16],isSpace:!0}]);
++sz1;
}

}
var i=0;
while((i < sz1)){
var el=callMethod(this,th,_59[6],[o.list[i],spr,o,attrObj,itemsArr,pos]);
if(el){
if((el != spr) && !el.parent){
callMethod(this,spr,_59[39],[el]);

}

}
i++;
}

}else if((id == _59[49])){
var bm=ctorObject(lang.display.Bitmap);
var srcV=null;
if(checkIn(attrObj,_59[50])){
srcV=callMethod(this,th,_59[27],[attrObj.src]);

}
bm.obj2=attrObj;
if(checkIn(attrObj,_59[12])){
bm.style=attrObj.style;

}
if(checkIn(attrObj,_59[51])){
var r1=attrObj.sourceRect;
if(r1 && (r1.size > 0)){
var spl=callMethod(this,r1,_59[15],[_59[16]]);
if(spl && (spl.length > 3)){
var frameX=parseFloat(spl[0]);
var frameY=parseFloat(spl[1]);
var frameW=parseFloat(spl[2]);
var frameH=parseFloat(spl[3]);
bm.sourceRect={x:frameX,y:frameY,w:frameW,h:frameH};

}

}

}
var isURL=callMethod(this,th,_59[22],[srcV]);
if(isURL){
var spl3=callMethod(this,srcV,_59[15],[_59[17]]);
if(spl3 && (spl3.length > 0)){
var ext=callMethod(this,spl3,_59[52]);
if((ext == _59[53])){
bm.isGif=!0;

}

}
bm.origSrc=srcV;

}
var cb3=function(origBM,bmm,obj2){
var imgW=origBM.naturalWidth;
var imgH=origBM.naturalHeight;
callMethod(this,th,_59[54],[bmm,imgW,imgH,obj2]);
if((imgH != 0)){
if((th.maxWidth > 0)){
pos.x=(pos.x + ((imgW * bmm.scaleX) * th.scaleV));
if((pos.x > th.maxWidth)){
pos.x=0;

}

}

}

};
if(srcV){
var cbLoad=function(){
callMethod(this,this,_59[55],[_59[56],arguments.callee]);
cb3(this,this,this.obj2);
this.obj2=null;
if(checkIn(this,_59[57])){
this.bm3.src=this;

}
callMethod(this,th,_59[7],[th]);
if(th.onchange){
callMethod(this,th,_59[58]);

}

};
var isLoadV=!0;
if(checkIn(th.urlObjCB,srcV)){
isLoadV=!1;

}
if(isLoadV){
var ob3=null;
if(isURL){
var ts=callMethod(this,Date,_59[60]);
ob3={status:_59[56],time:ts,cbList:[]};

}
callMethod(this,bm,_59[61],[_59[56],cbLoad]);
bm.src=srcV;
var imgHH=bm.naturalHeight;
if((imgHH != 0)){
if(ob3){
ob3.bitmap=bm;

}

}else if(ob3){
var cb4=function(bm5){
callMethod(this,ob3.cbList,_59[2],[function(bm2){
bm5.src=bm2;

}]);

};
cb4(bm);

}


}else{
var v3=th.urlObjCB[srcV];
if(v3){
var ts2=callMethod(this,Date,_59[60]);
v3.time=ts2;
if(checkIn(v3,_59[62])){
bm.src=v3.bitmap;
cb3(bm,bm,bm.obj2);

}

}

}


}
callMethod(this,th,_59[63],[bm,attrObj]);
res=bm;

}else if((id == _59[64])){
var arr2=[];
o.id=_59[47];
callMethod(this,th,_59[6],[o,spr,null,attrObj,arr2,pos]);
o.id=id;
var urlV=null;
if(checkIn(attrObj,_59[65])){
urlV=callMethod(this,th,_59[27],[attrObj.href]);

}
var i=0;
while((i < arr2.length)){
var ell=arr2[i];
if(urlV){
ell.hrefValue=urlV;
ell.buttonMode=!0;
callMethod(this,ell,_59[61],[_59[66],function(){
callMethod(this,th,_59[30]);
callMethod(this,System,_59[67],[(_59[68] + this.hrefValue)]);

}]);
callMethod(this,ell,_59[61],[_59[70],function(e){
callMethod(this,th,_59[40],[this.hrefValue]);

}]);
callMethod(this,ell,_59[61],[_59[71],function(e){
callMethod(this,th,_59[30]);

}]);


}
i++;
}

}



}else if((o.type == _59[3])){
var txtV=o.value;
var arr3=[];
if(txtV){
if(checkIn(aObj,_59[12])){
applyStyle=!1;

}
var tf=callMethod(this,th,_59[72],[txtV,aObj,th.maxWidth,pos,arr3]);
res=tf;
if((arr3.length > 1)){
res=null;
var i=0;
while((i < arr3.length)){
var tff=arr3[i];
tff.textArrList=arr3;
callMethod(this,th,_59[73],[tff,aObj]);
if(spr){
callMethod(this,spr,_59[39],[tff]);

}
if(itemsArr){
callMethod(this,itemsArr,_59[2],[tff]);

}
i++;
}

}
if(res){
if(spr){
callMethod(this,spr,_59[39],[res]);

}

}
callMethod(this,th,_59[63],[tf,aObj]);

}

}


}

}
if(res){
if(itemsArr && (res != spr)){
callMethod(this,itemsArr,_59[2],[res]);

}
callMethod(this,th,_59[73],[res,aObj]);
if(applyStyle){
if(attrObj){
if(checkIn(attrObj,_59[12])){
callMethod(this,th,_59[74],[res,attrObj.style]);

}

}

}

}
return res;

};
_HTMLSprite[_59[72]]=function(v,aObj,maxWidth,pos,resArr){
var th=this;
if(!pos){
pos={x:0,y:0};

}
var tf=ctorObject(lang.text.TextField);
if(aObj){
if(checkIn(aObj,_59[12])){
callMethod(this,th,_59[74],[tf,aObj.style]);

}

}
if(aObj && checkIn(aObj,_59[75])){
tf.textVal=aObj.textVal;

}
tf.text=v;
var tfW=tf.width;
if((maxWidth > 0)){
var lastPP=pos.x;
pos.x+=tfW;
if((pos.x > maxWidth)){
pos.x=0;
var lastTxtX=tf.x;
tf.x=lastPP;
var aa3=null;
aa3=callMethod(this,th.splitText,_59[76],[tf,[v,maxWidth]]);

tf.x=lastTxtX;
if(aObj){
aObj.textVal=v;

}
if(aa3){
var k=0;
while((k < aa3.length)){
var ell=aa3[k];
if(ell && (ell.type == _59[3])){
var tf2=callMethod(this,th,_59[72],[ell.text,aObj,0,pos]);
if(tf2){
if(resArr){
callMethod(this,resArr,_59[2],[tf2]);

}

}

}
k++;
}

}

}

}
return tf;

};
_HTMLSprite[_59[54]]=function(bmm,origW,origH,attrObj){
var th=this;
var ratio=1;
if(bmm){
if(attrObj){
var styleObj=null;
var w1=0;
var h1=0;
if(checkIn(attrObj,_59[12])){
styleObj=attrObj.style;

}
if(checkIn(attrObj,_59[77])){
w1=parseFloat(attrObj.width);

}
if(checkIn(attrObj,_59[78])){
h1=parseFloat(attrObj.height);

}
if(styleObj){
if(checkIn(styleObj,_59[79])){
w1=parseFloat(styleObj[_59[79]]);

}
if(checkIn(styleObj,_59[80])){
h1=parseFloat(styleObj[_59[80]]);

}

}
if(checkIn(attrObj,_59[81])){
bmm.scaleX=attrObj.scale;
bmm.scaleY=attrObj.scale;

}else if(checkIn(attrObj,_59[77]) && checkIn(attrObj,_59[78])){
bmm.scaleX=(w1 / origW);
bmm.scaleY=(h1 / origH);

}else if(styleObj && checkIn(styleObj,_59[79]) && checkIn(styleObj,_59[80])){
if((w1 > origW)){
w1=origW;

}
if((h1 > origH)){
h1=origH;

}
bmm.scaleX=(w1 / origW);
bmm.scaleY=(h1 / origH);

}else{
if(checkIn(attrObj,_59[77])){
ratio=callMethod(this,Math,_59[82],[(w1 / origW),(imgH / imgH)]);

}
bmm.scaleX=ratio;
bmm.scaleY=ratio;

}



}

}

};
_HTMLSprite[_59[74]]=function(el,styles,isChange){
var th=this;
if(el){
if(styles){
var fontSz=15;
var color=0;
var alphaV=1;
var fontFamily=_59[34];
if(checkIn(styles,_59[83])){
fontFamily=styles[_59[83]];

}
if(checkIn(styles,_59[84])){
fontSz=styles[_59[84]];

}
if(checkIn(styles,_59[85])){
color=styles.color;

}
if(checkIn(styles,_59[86])){
if((styles.cursor == _59[87])){
el.buttonMode=!0;

}else{
if(isChange){

}else{
el.buttonMode=!1;

}

}

}
if(checkIs(el,lang.text.TextField)){
if(isChange){
if(checkIn(styles,_59[83])){
el.fontName=fontFamily;

}
if(checkIn(styles,_59[84])){
el.fontSize=fontSz;

}
if(checkIn(styles,_59[85])){
el.color=color;

}
if(checkIn(styles,_59[88])){
alphaV=parseFloat(styles.opacity);

}

}else{
el.fontName=fontFamily;
el.fontSize=fontSz;
el.color=color;

}
el.alpha=alphaV;
if(checkIn(styles,_59[89])){
var fontWe=styles[_59[89]];
if((fontWe == _59[90])){
el.bold=!0;

}

}

}

}

}

};
_HTMLSprite[_59[73]]=function(el,attrObj){
var styles2=GLOBAL.HTMLSprite.styles;
var th=this;
if(el){
if(attrObj){
if(checkIn(attrObj,_59[91])){
var titleV=attrObj.title;
if(titleV && (titleV.length > 0)){
callMethod(this,GLOBAL.ToolTip,_59[92],[el,titleV]);


}

}
if(checkIn(attrObj,_59[18])){
var clObj=attrObj.classList;
var hoverObj=null;
var clickObj=null;
if(clObj){
for(var n in clObj){
var hoverStyle=(n + _59[93]);
var clickStyle=(n + _59[94]);
if(checkIn(styles2,n)){
callMethod(this,th,_59[74],[el,styles2[n],!0]);

}
if(checkIn(styles2,hoverStyle)){
hoverObj=styles2[hoverStyle];

}else if(checkIn(styles2,clickStyle)){
clickObj=styles2[clickStyle];

}


}
if(clickObj){
callMethod(this,el,_59[61],[_59[95],function(){
callMethod(this,th,_59[74],[this,clickObj,!0]);

}]);
callMethod(this,el,_59[61],[_59[66],function(){
var st2=null;
if(checkIn(attrObj,_59[12])){
st2=attrObj.style;

}else{
st2={};

}
callMethod(this,th,_59[74],[this,st2,!0]);

}]);

}
if(hoverObj){
var overCB=function(ell,ob2){
if(ell){
if(checkIn(ell,_59[96]) && ell.textArrList){
var i=0;
while((i < ell.textArrList.length)){
var el3=ell.textArrList[i];
if(el3){
callMethod(this,th,_59[74],[el3,ob2,!0]);

}
i++;
}

}else{
callMethod(this,th,_59[74],[ell,ob2,!0]);

}

}

};
callMethod(this,el,_59[61],[_59[70],function(){
overCB(this,hoverObj);

}]);
callMethod(this,el,_59[61],[_59[71],function(){
var st2=null;
if(checkIn(attrObj,_59[12])){
st2=attrObj.style;

}else{
st2={};

}
overCB(this,st2);

}]);

}

}

}

}

}

};
_HTMLSprite[_59[63]]=function(el,attrObj){
var th=this;
if(el){
if(attrObj){
if(checkIn(attrObj,_59[97])){
var clickV=attrObj.onclick;
if(clickV){
el.buttonMode=!0;
var evClick=callMethod(this,th,_59[98],[clickV]);
if(evClick){
callMethod(this,th,_59[99],[el,_59[66],evClick]);

}

}

}

}

}

};
_HTMLSprite[_59[101]]=function(s){
var th=this;
var ob3={};
if(s){
var mm=callMethod(this,th.cssTextRegex,_59[100],[s]);
if(mm){
var i=0;
while((i < mm.length)){
var el=mm[i];
var tt=el[1];
var nm=el[2];
var vv=callMethod(this,th,_59[13],[el[3]]);
var qq=(tt + nm);
ob3[qq]=vv;
i++;
}

}

}
return ob3;

};
_HTMLSprite[_59[13]]=function(v){
var ob={};
if(v){
var arr=callMethod(this,this.cssPropRegex,_59[100],[v]);
if(arr){
var isNumObj={'font-size':1,width:1,height:1,scale:1,'max-width':1,'max-height':1,left:1,top:1,opacity:1};
var i=0;
while((i < arr.length)){
var rr=arr[i];
var key=rr[1];
var val=rr[2];
if(val){
val=callMethod(this,val,_59[102],[_59[103],'']);

}
if(checkIn(isNumObj,key)){
val=parseFloat(val);

}
ob[key]=val;
i++;
}

}

}
return ob;

};
_HTMLSprite[_59[99]]=function(disp,t,o){
if(disp){
if(t){
if(o){
callMethod(this,disp,_59[61],[t,function(e){
var cbName=o.name;
var gl=GLOBAL;
if(checkIn(gl,cbName)){
var cbb=gl[cbName];
if(checkIs(cbb,_59[104])){
callMethod(this,cbb,_59[76],[this,o.args]);

}

}

}]);

}

}

}

};
_HTMLSprite[_59[98]]=function(ss){
if(ss){
if((ss.size > 0)){
var ind=callMethod(this,ss,_59[20],[_59[105]]);
if((ind > -1)){
var re=/[^,()]+/g;
var res=callMethod(this,re,_59[100],[ss]);
var funcArgs=[];
var funcName=null;
var d1=_59[106];
if(res){
if((res.size > 0)){
var el1=res[0];
funcName=el1[0];
var i=1;
while((i < res.size)){
var el=res[i];
var vv=el[0];
if((vv.size > 0)){
var chh=callMethod(this,vv,_59[1],[0]);
if((chh == d1)){
vv=callMethod(this,vv,_59[32],[1]);
if((vv.size > 0)){
chh=callMethod(this,vv,_59[1],[(vv.size - 1)]);
if((chh == d1)){
vv=callMethod(this,vv,_59[32],[0,(vv.size - 1)]);

}

}

}

}
callMethod(this,funcArgs,_59[2],[vv]);
i++;
}

}

}

}
if(funcName){
var ob={name:funcName,args:funcArgs};
return ob;

}

}

}
return null;

};
_HTMLSprite[_59[112]]=function(disp,posv){
var th=this;
var hh=0;
var d=null;
var top=0;
var pos={x:0,y:0};
if(disp){
if(checkIs(disp,lang.display.Sprite)){
var i=posv;
while((i < disp.numChildren)){
var el=callMethod(this,disp,_59[107],[i]);
if(checkIn(el,_59[12])){
if(checkIn(el.style,_59[108])){
var topV=el.style.top;
if((top < topV)){
top=topV;

}

}

}
var w3=el.width;
var h3=el.height;
if(checkIn(el,_59[51])){
if(checkIn(el.sourceRect,_59[109])){
w3=el.sourceRect.w;

}
if(checkIn(el.sourceRect,_59[110])){
h3=el.sourceRect.h;

}

}
var qq=(top + (h3 * el.scaleY));
var ww=(w3 * el.scaleX);
var posX=pos.x;
if(checkIn(el,_59[111])){
posX=(posX + el.dispX);

}
pos.x+=ww;
if((hh < qq)){
hh=qq;
d=el;

}
if((th.maxWidth > 0) && (pos.x > th.maxWidth)){
return {h:hh,target:d,top:top};

}
i++;
}

}

}
return {h:hh,target:d,top:top};

};
_HTMLSprite[_59[7]]=function(disp,pos){
var th=this;
th.allWidth=0;
th.allHeight=0;
if(!pos){
pos={x:0,y:0};

}
if(disp){
var isDispX=!1;
if(!checkIn(disp,_59[111])){
disp.dispX=disp.x;

}
if(checkIs(disp,lang.display.Sprite)){
var yy1=0;
var lineV=callMethod(this,th,_59[112],[disp,0]);
var lineTop=lineV.top;
var lineNoTop=(lineV.h - lineTop);
disp.origHeight=lineNoTop;
var i=0;
while((i < disp.numChildren)){
var el=callMethod(this,disp,_59[107],[i]);
var yy=0;
var top=0;
if(checkIn(el,_59[12])){
if(checkIn(el.style,_59[108])){
top=el.style.top;

}

}
var w3=el.width;
var h3=el.height;
if(checkIn(el,_59[51])){
if(checkIn(el.sourceRect,_59[109])){
w3=el.sourceRect.w;

}
if(checkIn(el.sourceRect,_59[110])){
h3=el.sourceRect.h;

}

}
var ww=(w3 * el.scaleX);
var hh=(h3 * el.scaleY);
if(checkIs(el,lang.text.TextField)){
yy=(lineNoTop - hh);

}else{
yy=((lineNoTop + (top / 2)) - hh);

}
var posX=pos.x;
if(checkIn(el,_59[111])){
posX+=el.dispX;

}
pos.x+=ww;
if((th.allWidth < pos.x)){
th.allWidth=pos.x;

}
if((th.maxWidth > 0)){
if((pos.x > th.maxWidth)){
posX=0;
pos.x=ww;
th.allWidth=th.maxWidth;
lineV=callMethod(this,th,_59[112],[disp,i]);
yy1=(yy1 + lineV.h);

}

}
el.x=posX;
el.y=(yy + yy1);
disp.origHeight=(yy1 + lineNoTop);
if((th.allHeight < hh)){
th.allHeight=hh;

}
if((th.allHeight < (el.y + hh))){
th.allHeight=(el.y + hh);

}
i++;
}

}

}

};
_HTMLSprite[_59[113]]=function(){
var th=this;
while((th.numChildren > 0)){
var el=callMethod(this,th,_59[107],[0]);
if(el){
callMethod(this,th,_59[29],[el]);

}
if(el && (el != th)){
if(checkIs(el,GLOBAL.HTMLSprite)){
callMethod(this,el,_59[113]);

}

}

}
this._html='';
this.onchange=null;
this.xmlObj=null;

};
_HTMLSprite["_get"]={htmll:function(){
var th=this;
return th._html;

}};
_HTMLSprite["_set"]={htmll:function(v){
var th=this;
th._html=v;
var xmlObj=callMethod(this,XML,_59[9],[((_59[10] + v) + _59[11])]);
th.xmlObj=xmlObj;
callMethod(this,th,_59[8]);

}};
vm.registerClass(_59[114],_59[115],_HTMLSprite);
})(window);



(function(window){
var _212=["MenuPersHomeScene","AppBGHome1Spr","initHomeBG1","sprite","addChild","scenes.MainLevelsScene","load","updateDogsCount","MainMenuButton","Play","playOnlineRoom","AppButtonExit2","on","rollover","rollout","navHome","updateUserV","updateUserInfo","removeScene","removeChild","resize","scenes.TravelLevels","lang.display.Sprite"];
var _scenes_TravelLevels={};
_scenes_TravelLevels["ctor"]=function(){
var th=this;
this.sceneName=_212[0];
this.bgMov=ctorObject(_212[1]);
callMethod(this,GLOBAL.$app,_212[2],[this.bgMov]);
this.mainSpr=callMethod(this,null,_212[3]);
callMethod(this,null,_212[4],[this.mainSpr]);
this.levels=GLOBAL.$app.mainMapSpr;
if(!this.levels){
this.levels=ctorObject(_212[5]);
GLOBAL.$app.mainMapSpr=this.levels;
callMethod(this,this.levels,_212[6]);

}else{
callMethod(this,this.levels,_212[7]);

}
callMethod(this,this.mainSpr,_212[4],[this.levels]);
var playBut=ctorObject(_212[8],[_212[9],function(){
callMethod(this,GLOBAL.$app.gameMaster,_212[10]);

}]);
playBut.y=-10;
this.playBut=playBut;
this.menuDownSpr=callMethod(this,null,_212[3]);
this.menuDownSpr.y=3;
this.buttonsDown=callMethod(this,null,_212[3]);
this.buttonsDown.y=-13;
callMethod(this,this.buttonsDown,_212[4],[playBut]);
callMethod(this,GLOBAL.$app.scene.menuDownSpr,_212[4],[this.menuDownSpr]);
this.exitBut=ctorObject(_212[11]);
callMethod(this,this.exitBut.msk,_212[12],[_212[13],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.exitBut.msk,_212[12],[_212[14],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
callMethod(this,GLOBAL.$app,_212[15]);

};
callMethod(this,this.menuDownSpr,_212[4],[this.exitBut,this.buttonsDown]);

};
_scenes_TravelLevels[_212[17]]=function(id,u){
if((id == GLOBAL.$app.user.id)){
if(this.levels){
callMethod(this,this.levels,_212[16],[u]);

}

}

};
_scenes_TravelLevels[_212[18]]=function(){
callMethod(this,this.levels,_212[18]);
if(this.menuDownSpr.parent){
callMethod(this,this.menuDownSpr.parent,_212[19],[this.menuDownSpr]);

}

};
_scenes_TravelLevels[_212[20]]=function(w,h){
var hh2=(h - 90);
callMethod(this,this.bgMov,_212[20],[w,hh2]);
h=hh2;
callMethod(this,this.levels,_212[20],[(w - this.levels.x),h]);
this.playBut.x=((w - 100) / 2);
this.exitBut.x=(w - 200);

};
vm.registerClass(_212[21],_212[22],_scenes_TravelLevels);
})(window);



(function(window){
var _54=["idle","persBrownBig","persAnimImgMin1","getAssetByName",".png","Arial","createSpritePainter","addChild","push","add","setUser","setState","setLeft","app.chat.pers.DialogPers","remove","nickVisible","web","scenes.world.PersWorldSprite","staticCreate","jump1","move","setNickCallback","redrawMaskNick","stopAnim","run","playAnim","nickRainbow","getNickColor","clear","rect","#000000","gotoAndPlay","gotoAndStop","stop","removeSprite","addMessage","app.chat.pers.DialogPersMsg","setFontSize","setText","печатает...","addSprite","init","addMessageAnimQ","start","persMoveFunc","lang.display.Sprite"];
var _scenes_world_PersWorldSprite={};
_scenes_world_PersWorldSprite["ctor"]=function(u,isHtml,isBig){
var th=this;
this.isLeft=0;
this.isOut=!1;
this.isPlay=!1;
this.curTween=null;
this.isJumpSpring=!1;
this.isIceMode=!1;
this.key='';
this.isHtml=isHtml;
this.keyJump=!1;
this.isPressJump=!1;
this.isLeft=0;
this.persScale=1;
this.persState=_54[0];
this.groundCActive=0;
this.lastItemCollision=null;
this.ballCollisionNums=0;
this.isGroundC=0;
this.isJump=!1;
this.curLV={x:0,y:0};
var persW=56;
persW=41;
var persH=39;
persH=32;
this.persW=persW;
this.persH=persH;
this.userid=u.id;
this.maxNickWidth=150;
var pt=GLOBAL.scenes.world.PersType;
var nm1=_54[1];
if(!isBig){
nm1=_54[2];

}
if((u.pers == pt.DOG_GRAY)){

}
var persImg1=callMethod(this,GLOBAL.$app.moviesReader,_54[3],[(nm1 + _54[4])]);
var tfNick=ctorObject(lang.text.TextField);
tfNick.mouseEnabled=!1;
tfNick.fontName=_54[5];
tfNick.bold=!0;
this.nickTxt=tfNick;
tfNick.fontSize=16;
var spr3=ctorObject(lang.display.Sprite);
tfNick.filters=GLOBAL.Config.shadowText2;
tfNick.y=-persH;
this.mskNick=callMethod(this,GLOBAL.AppUtils,_54[6]);
this.rectNick=callMethod(this,GLOBAL.AppUtils,_54[6]);
this.rectNick.alpha=0;
callMethod(this,null,_54[7],[this.mskNick]);
tfNick.mask=this.mskNick;
var persAnim=ctorObject(lang.display.BitmapMovieClip,[persImg1]);
if((nm1 == _54[2])){
this.persScale=0.5;
persAnim.scaleY=0.5;

}
persAnim.mouseEnabled=!1;
var sz3=GLOBAL.Config.persFramesBig.length;
var frames=[];
var i=0;
while((i < sz3)){
callMethod(this,frames,_54[8],[[0,0,persImg1.naturalWidth,persImg1.naturalHeight,0,0,0]]);
i++;
}
var pp={x:(persW + 28),y:(persH + 30)};
if(!isBig){
pp={x:40,y:20};
frames=GLOBAL.Config.persFrames;

}
persAnim.point=pp;
persAnim.frames=frames;
this.spr=persAnim;
var fr1=persAnim.frames[0];
var fr11=persAnim.frames[11];
var allW=fr1[2];
var allH=fr1[3];
if(this.isHtml){
callMethod(this,GLOBAL.$app.fpsMaster,_54[9],[persAnim]);

}
callMethod(this,spr3,_54[7],[persAnim,tfNick,this.rectNick]);
callMethod(this,null,_54[7],[spr3]);
callMethod(this,this,_54[10],[u]);
callMethod(this,this,_54[11],[_54[0]]);
callMethod(this,this,_54[12],[0]);
this.persMsgAnimSpr1=null;
this.persDialog=ctorObject(_54[13]);
this.persDialog.y=-55;
callMethod(this,null,_54[7],[this.persDialog]);

};
_scenes_world_PersWorldSprite[_54[14]]=function(){
if(this.isHtml){
callMethod(this,GLOBAL.$app.fpsMaster,_54[14],[this.spr]);

}

};
_scenes_world_PersWorldSprite[_54[15]]=function(v){
this.nickTxt.visible=v;

};
_scenes_world_PersWorldSprite[_54[18]]=function(u){
var persImg=null;
persImg=ctorObject(_54[17],[u,!0,1]);

return persImg;

};
_scenes_world_PersWorldSprite[_54[19]]=function(){
if(!this.isJump){
this.isJump=!0;
if(!this.keyJump){
this.keyJump=!0;

}

}

};
_scenes_world_PersWorldSprite[_54[20]]=function(t){
this.key=t;

};
_scenes_world_PersWorldSprite[_54[21]]=function(cb){
if(cb){
this.rectNick.buttonMode=!0;
this.rectNick.click=cb;

}

};
_scenes_world_PersWorldSprite[_54[12]]=function(v){
var ww=this.nickTxt.width;
if((this.nickTxt.width > this.maxNickWidth)){
ww=this.maxNickWidth;

}
if(v){
this.isLeft=1;
this.nickTxt.x=(((this.persW - 50) - ww) / 2);
this.spr.scaleX=-this.persScale;

}else{
this.isLeft=0;
this.nickTxt.x=(((this.persW - 24) - ww) / 2);
this.spr.scaleX=this.persScale;

}
callMethod(this,this,_54[22]);

};
_scenes_world_PersWorldSprite[_54[23]]=function(){
callMethod(this,null,_54[11],[_54[0]]);

};
_scenes_world_PersWorldSprite[_54[25]]=function(){
callMethod(this,null,_54[11],[_54[24]]);

};
_scenes_world_PersWorldSprite[_54[10]]=function(u){
if(u){
this.userid=u.id;
this.nickTxt.text=('' + u.nick);
var ww=this.nickTxt.width;
if((this.nickTxt.width > this.maxNickWidth)){
ww=this.maxNickWidth;

}
var isRainbow=!1;
if(checkIn(u,_54[26])){
if((u.nickRainbow == 1)){


}

}
if(!isRainbow){
this.nickTxt.color=callMethod(this,GLOBAL.AppUtils,_54[27],[u.mode]);

}
if((this.nickTxt.width < 20)){
this.nickTxt.width=90;

}
if(GLOBAL.$app.user){
if((u.id == GLOBAL.$app.user.id)){

}

}
callMethod(this,this,_54[12],[0]);

}

};
_scenes_world_PersWorldSprite[_54[22]]=function(){
var ww=(this.nickTxt.width + 15);
if((this.nickTxt.width > this.maxNickWidth)){
ww=this.maxNickWidth;

}
this.mskNick.x=(this.nickTxt.x - 10);
this.mskNick.y=(this.nickTxt.y - 5);
callMethod(this,this.mskNick.painter,_54[28]);
callMethod(this,this.mskNick.painter,_54[29],[0,0,ww,30,_54[30]]);
callMethod(this,this.rectNick.painter,_54[28]);
callMethod(this,this.rectNick.painter,_54[29],[(this.nickTxt.x - 10),(this.nickTxt.y - 5),ww,30,_54[30]]);

};
_scenes_world_PersWorldSprite[_54[11]]=function(t){
if((t == _54[24])){
if((this.persState != t)){
callMethod(this,this.spr,_54[31],[1]);
this.isPlay=!0;

}

}else if((t == _54[0])){
callMethod(this,this.spr,_54[32],[11]);
this.isPlay=!1;

}

this.persState=t;

};
_scenes_world_PersWorldSprite[_54[35]]=function(txt){
if(txt){
var p2=this.persMsgAnimSpr1;
if(p2){
if(p2.tm){
callMethod(this,p2.tm,_54[33]);
p2.tm=null;

}

}
callMethod(this,this.persDialog,_54[34],[p2]);
this.persMsgAnimSpr1=null;
if((txt.size > 0)){
callMethod(this,this.persDialog,_54[35],[txt]);

}

}

};
_scenes_world_PersWorldSprite[_54[42]]=function(){
var th=this;
if(!this.persMsgAnimSpr1){
var m=ctorObject(_54[36]);
callMethod(this,m,_54[37],[14]);
m.v1=2;
this.persMsgAnimSpr1=m;
callMethod(this,m,_54[38],[_54[39]]);
callMethod(this,this.persDialog,_54[40],[m]);
m.tm=callMethod(this,Timer,_54[41],[3000,function(){
m.v1-=1;
if((m.v1 <= 0)){
callMethod(this,this,_54[33]);
callMethod(this,th.persDialog,_54[34],[m]);
th.persMsgAnimSpr1=null;

}

}]);

}else{
this.persMsgAnimSpr1.v1=2;

}

};
_scenes_world_PersWorldSprite[_54[44]]=function(speed,xx,yy,storona,cb){
var th=this;
var isLeft=(storona == 0);
callMethod(this,th,_54[12],[isLeft]);
var x1=castInt((xx - (3 / 2)));
var y1=castInt((yy - (10 / 2)));
if(!th.isPlay){
callMethod(this,th,_54[25]);

}
var tween=null;
if(th.curTween){
tween=th.curTween;

}
if(!tween){
tween=ctorObject(lib.Tween,[th]);
th.curTween=tween;

}
callMethod(this,tween,_54[41],[{x:x1,y:y1},speed,null,function(){
th.curTween=null;
callMethod(this,th,_54[23]);
if(cb){
cb();

}

}]);
callMethod(this,tween,_54[43]);

};
vm.registerClass(_54[17],_54[45],_scenes_world_PersWorldSprite);
})(window);



(function(window){
var _257=["app.popup.PopUpMinInfo1","addChild","Идёт загрузка...","chat","чат","minichat","мини чат","private","приваты","sell_gifts","продажа подарков","разрешить продажу подарков","send_gifts","отправка подарков","разрешить дарить подарки","money_exchange","обмен валюты","разрешить обмен валюты","send_maps_moderation","отправка карт","правила","openInfoRules","ButtonOrangeText","Создать","removeAllChilds","Создание страницы...","sendCmd","create","createInfo","remove","openPopUpMinText1","UICheckboxSpr2","соглашаюсь с правилами","Будет доступно с "," уровня","removeChild","info","openPopUpSrv","ownerAccountRules","ag6.ru/48/s/","https://","css","font-family","BIP","font-size","16px","color","#FFFFFF","text-shadow","cсылка <a href=\"https://","</a>","web","права доступа","createAccessPage","удалить","openPopUpConfirmMsgYesNo","Удалить страницу?","del","\n\nСтраница удалена.","access","push","getAssetByName","getinfo_2081.png","<br /><br />Нет описания","Сохранить","join",",","updateAccess","\n\nИзменения сохранены.","\n\nПроизошла ошибка.","send","user.accountOwner","resize","app.popup.PopUpCreateAccountOwner","lang.display.Sprite"];
var _app_popup_PopUpCreateAccountOwner={};
_app_popup_PopUpCreateAccountOwner["ctor"]=function(cb){
this.p1=ctorObject(_257[0],['']);
callMethod(this,null,_257[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
var ww=450;
var tfLoad=ctorObject(lang.text.TextField);
tfLoad.fontSize=16;
tfLoad.text=_257[2];
tfLoad.x=((ww - tfLoad.width) / 2);
tfLoad.y=60;
tfLoad.filters=GLOBAL.Config.filterBlue1;
this.accessList=[{id:_257[3],name:_257[4],info:'разрешить отправку сообщений в чат'},{id:_257[5],name:_257[6],info:'разрешить отправку сообщений в забегах (над персонажем)'},{id:_257[7],name:_257[8],info:'разрешить отправку сообщений в приват'},{id:_257[9],name:_257[10],info:_257[11]},{id:_257[12],name:_257[13],info:_257[14]},{id:_257[15],name:_257[16],info:_257[17]},{id:_257[18],name:_257[19],info:'разрешает отправку карт на модерацию'}];
this.accessListObj={};
var i=0;
while((i < th.accessList.size)){
var el=th.accessList[i];
var id1=el.id;
th.accessListObj[id1]=el;
i++;
}
callMethod(this,this.p1.cnt,_257[1],[tfLoad]);
this.p1.bg.bg.click=function(){

};
var arr=['Вы как хозяин страницы можете создать страницу','которую можете отдать поиграть.','Ознакомьтесь пожалуйста с правилами.'];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
if((i == 2)){
tf1.fontSize=15;

}
tf1.text=('' + el);
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_257[1],[tf1]);
yy+=24;
i++;
}
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=16;
tf3.color=16776960;
tf3.text=_257[20];
tf3.x=((ww - tf3.width) / 2);
tf3.y=85;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
callMethod(this,th,_257[21]);

};
callMethod(this,sp2,_257[1],[tf3]);
var bb=ctorObject(_257[22],[_257[23],function(){
callMethod(this,sp2,_257[24]);
tfLoad.text=_257[25];
tfLoad.x=((ww - tfLoad.width) / 2);
tfLoad.visible=!0;
callMethod(this,th,_257[26],[_257[27],function(rr){
tfLoad.visible=!1;
if(rr){
callMethod(this,th,_257[28],[rr]);

}else{
callMethod(this,th,_257[29]);
callMethod(this,GLOBAL.$app.popup,_257[30],['\n\nОшибка при создании страницы.']);

}

},null,null]);

}]);
bb.x=165;
bb.y=178;
var q=ctorObject(_257[31],[_257[32],!1,function(rr){
if(rr){
var lvlV=3;
if((GLOBAL.$app.user.level >= lvlV)){
callMethod(this,sp2,_257[1],[bb]);

}else{
var tfLoad2=ctorObject(lang.text.TextField);
tfLoad2.fontSize=16;
tfLoad2.text=((_257[33] + lvlV) + _257[34]);
tfLoad2.x=((ww - tfLoad2.width) / 2);
tfLoad2.y=120;
tfLoad2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_257[1],[tfLoad2]);

}
if(q.parent){
callMethod(this,q.parent,_257[35],[q]);

}

}else{
callMethod(this,sp2,_257[35],[bb]);

}

}]);
q.x=130;
q.y=(80 + 45);
callMethod(this,sp2,_257[1],[q]);
callMethod(this,this,_257[26],[_257[36],function(res){
tfLoad.visible=!1;
if(res){
callMethod(this,th,_257[28],[res]);

}else{
callMethod(this,th.p1.cnt,_257[1],[sp2]);

}

},null,null]);

};
_app_popup_PopUpCreateAccountOwner[_257[21]]=function(){
callMethod(this,GLOBAL.$app.popup,_257[37],[_257[38]]);

};
_app_popup_PopUpCreateAccountOwner[_257[28]]=function(o){
var th=this;
var ww=450;
if(o){
var sp=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_257[1],[sp]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=16;
tf3.color=16776960;
tf3.text=_257[20];
tf3.x=((ww - tf3.width) / 2);
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
callMethod(this,th,_257[21]);

};
callMethod(this,sp,_257[1],[tf3]);
var accountid=o.id;
var url=(_257[39] + accountid);
var fullUrl=(_257[40] + url);
var tfPage2=ctorObject(lang.display.Sprite);
callMethod(this,tfPage2,_257[41],[{'font-family':_257[43],'font-size':_257[45],'color':_257[47],'text-shadow':'rgb(75, 113, 128) -1px -1px 1px, rgb(75, 113, 128) 1px -1px 1px, rgb(75, 113, 128) -1px 1px 1px, rgb(75, 113, 128) 1px 1px 1px'}]);
tfPage2.width=340;
tfPage2.html=((((_257[49] + url) + '" target="_blank" style="font-family:BIP;font-size:16px;text-decoration:none;color:#FFFFFF;">') + url) + _257[50]);

tfPage2.x=120;
tfPage2.y=50;
callMethod(this,sp,_257[1],[tfPage2]);
var sp3=ctorObject(lang.display.Sprite);
sp3.x=88;
sp3.y=120;
callMethod(this,sp,_257[1],[sp3]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_257[52];
tf1.x=20;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,th,_257[53],[o,sp]);

};
callMethod(this,sp3,_257[1],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_257[54];
tf1.x=180;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,GLOBAL.$app.popup,_257[55],[_257[56],function(){
callMethod(this,th,_257[29]);
callMethod(this,th,_257[26],[_257[57],function(vv){
if((vv == 1)){
callMethod(this,GLOBAL.$app.popup,_257[30],[_257[58]]);

}else{
callMethod(this,GLOBAL.$app.popup,_257[30],['\n\nОшибка при удалении страницы.']);

}

},accountid,null]);

}]);

};
callMethod(this,sp3,_257[1],[tf1]);

}

};
_app_popup_PopUpCreateAccountOwner[_257[53]]=function(o,sp3){
var th=this;
if(!checkIn(o,_257[59])){
o.access=[];

}
callMethod(this,th.p1.cnt,_257[35],[sp3]);
var sp=ctorObject(lang.display.Sprite);
sp.x=40;
sp.y=-7;
callMethod(this,th.p1.cnt,_257[1],[sp]);
var h=28;
var yy=0;
var origArr=[];
var origObj={};
var i=0;
while((i < o.access.size)){
var ell=o.access[i];
callMethod(this,origArr,_257[60],[ell]);
origObj[ell]=1;
i++;
}
var cbb=function(v){
var isFindPos=-1;
var tt=this.elObj.id;
var i=0;
while((i < o.access.size)){
var ell=o.access[i];
if((ell == tt)){
isFindPos=i;

}
i++;
}
if(v){
if((isFindPos == -1)){
callMethod(this,o.access,_257[60],[tt]);

}

}else{
if((isFindPos > -1)){
callMethod(this,o.access,_257[57],[isFindPos]);

}

}

};
var i=0;
while((i < th.accessList.size)){
var el=th.accessList[i];
var nm=el.name;
var id2=el.id;
var rr=ctorObject(lang.display.Sprite);
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_257[61],[_257[62]]);
bm1.scaleX=0.7;
bm1.scaleY=0.7;
bm1.y=-4;
bm1.buttonMode=!0;
bm1.click=function(){
var txt1=_257[63];
if(checkIn(this.elObj,_257[36])){
txt1=this.elObj.info;

}
callMethod(this,GLOBAL.$app.popup,_257[30],[('' + txt1)]);

};
bm1.elObj=el;
callMethod(this,rr,_257[1],[bm1]);
var vv=!1;
if(checkIn(origObj,id2)){
vv=!0;

}
var q=ctorObject(_257[31],[nm,vv,cbb]);
q.checkBox.elObj=el;
q.x=30;
rr.y=yy;
callMethod(this,rr,_257[1],[q]);
callMethod(this,sp,_257[1],[rr]);
yy+=h;
i++;
}
var bb=ctorObject(_257[22],[_257[64],function(){
if(sp.parent){
callMethod(this,sp.parent,_257[35],[sp]);

}
callMethod(this,th.p1.cnt,_257[1],[sp3]);
var accountid=o.id;
var accessV=callMethod(this,o.access,_257[65],[_257[66]]);
callMethod(this,th,_257[26],[_257[67],function(vv){
if((vv == 1)){
callMethod(this,GLOBAL.$app.popup,_257[30],[_257[68]]);

}else{
callMethod(this,GLOBAL.$app.popup,_257[30],[_257[69]]);

}

},accountid,accessV]);

}]);
bb.x=(165 - sp.x);
bb.y=178;
callMethod(this,sp,_257[1],[bb]);

};
_app_popup_PopUpCreateAccountOwner[_257[26]]=function(t,cb,arg1,arg2){
callMethod(this,GLOBAL.$app.connect,_257[70],[cb,_257[71],t,arg1,arg2]);

};
_app_popup_PopUpCreateAccountOwner[_257[29]]=function(){
if(this.parent){
callMethod(this,this.parent,_257[35],[this]);

}

};
_app_popup_PopUpCreateAccountOwner[_257[72]]=function(w,h){
callMethod(this,this.p1,_257[72],[w,h]);

};
vm.registerClass(_257[73],_257[74],_app_popup_PopUpCreateAccountOwner);
})(window);



(function(window){
var _18=["PopUpMin1","PopUpMinMov1","navVis","BGKostiSprite","remove","addChild","animAlphaSprite","web","replaceAll","\n","<br />","css","#FFFFFF","font-family","Arial","font-weight","bold","text-align","center","setText","removeChild","resize","app.popup.PopUpMinInfo1","lang.display.Sprite"];
var _app_popup_PopUpMinInfo1={};
_app_popup_PopUpMinInfo1["ctor"]=function(txt){
var th=this;
this.popupName=_18[0];
this.c=ctorObject(_18[1]);
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.y=80;
callMethod(this,this,_18[2],[!1]);
this.bg=ctorObject(_18[3]);
this.bg.bg.click=function(){
callMethod(this,th,_18[4]);

};
callMethod(this,null,_18[5],[this.bg,this.c]);
callMethod(this,this.c,_18[5],[this.cnt]);
this.c.closeBut.click=function(e){
callMethod(this,th,_18[4]);

};
callMethod(this,GLOBAL.AppUtils,_18[6],[this.c.closeBut,0.8,1]);
txt=callMethod(this,txt,_18[8],[_18[9],_18[10]]);

this.tf=ctorObject(lang.text.TextField);

this.w=400;
this.h=300;
this.tf.x=50;
callMethod(this,this.cnt,_18[5],[this.tf]);
this.tf.scroll=!0;
callMethod(this,this.tf,_18[11],[{color:_18[12],'font-family':_18[14],'font-weight':_18[16],'text-align':_18[18]}]);
this.tf.filters=GLOBAL.Config.filterBlue1;
this.tf.maxWidth=(this.w - 60);
callMethod(this,this,_18[19],[txt]);

};
_app_popup_PopUpMinInfo1[_18[19]]=function(v){
this.tf.text=('' + v);
this.tf.width=(this.w - this.tf.x);
this.tf.height=(200 - this.tf.y);

};
_app_popup_PopUpMinInfo1[_18[2]]=function(v){
if(v){

}else{
callMethod(this,this.c,_18[20],[this.c.navImg1,this.c.navImg2,this.c.navLeft,this.c.navRight]);

}

};
_app_popup_PopUpMinInfo1[_18[4]]=function(){
callMethod(this,this.parent,_18[4],[this]);

};
_app_popup_PopUpMinInfo1[_18[21]]=function(w,h){
callMethod(this,this.bg,_18[21],[w,h]);
this.c.x=((w - 460) / 2);
this.c.y=((h - 290) / 2);

};
vm.registerClass(_18[22],_18[23],_app_popup_PopUpMinInfo1);
})(window);



(function(window){
var _10=["runtime","js","events","rectangle","sprite","addChild","bitmapData","draw","hgroup","getChildAt","vgroup","Arial","text","Array","allW","center","line","fontName","fontSize","color","bold","maxWidth","align","w","rem","Function","eventInfo","off","removeChild","clear","propsObj","border","rect","createPainter","resize","add","rsz","getEngineInfo","h","ratio","initEngine","bitmap","setGlobal","String","getAssetByName","startTween","ok","update","yoyo","init","start","on","mouseup","stopDrag","onDragStop","click","clearToolTip","web","removeRClick","push","Сделать скриншот","saveScreen","rclick","cbContextMenuRClick","openMenuList1","Меню","mousedown","onDragStart","isDragItem","startDrag","AppInit"];
var _AppInit={};
_AppInit["ctor"]=function(){

};
_AppInit[_10[40]]=function(m){
var runtimeType='';
if(checkIn(System.platform,_10[0])){
runtimeType=System.platform.runtime;

}
var st=m.stage;
var glob=function(k,v){
GLOBAL[k]=v;
if((runtimeType == _10[1])){
window[k]=v;

}

};
glob(_10[2],function(){
var o=ctorObject(lang.events.EventsObjectMaster);
return o;

});
glob(_10[3],function(x,y,w,h){
var o=ctorObject(lang.geom.Rectangle,[x,y,w,h]);
return o;

});
glob(_10[4],function(o){
var sp=ctorObject(lang.display.Sprite);
if(o){
callMethod(this,o,_10[5],[sp]);

}
return sp;

});
glob(_10[6],function(w,h,o){
var sp=ctorObject(lang.display.BitmapData,[w,h,!0,0]);
if(o){
callMethod(this,sp,_10[7],[o]);

}
return sp;

});
glob(_10[8],function(o,sz){
if(o){
if(!sz){
sz=0;

}
var xx=0;
var i=0;
while((i < o.numChildren)){
var el=callMethod(this,o,_10[9],[i]);
var ww=el.width;
el.x=xx;
xx=((xx + ww) + sz);
i++;
}

}

});
glob(_10[10],function(o,sz){
if(o){
if(!sz){
sz=0;

}
var xx=0;
var i=0;
while((i < o.numChildren)){
var el=callMethod(this,o,_10[9],[i]);
var hh=el.height;
el.y=xx;
xx=((xx + hh) + sz);
i++;
}

}

});
var textDefStyles={fontSize:16,fontName:_10[11],color:16777215};
glob(_10[12],function(txt,styles,cont){
if(checkIs(txt,_10[13])){
var spr=callMethod(this,null,_10[4]);
var yy=0;
var allW=0;
if(styles && checkIn(styles,_10[14])){
allW=styles.allW;

}
var i=0;
while((i < txt.length)){
var tff=callMethod(this,null,_10[12],[txt[i],styles,spr]);
var isCenter=!1;
if(styles){
if(checkIn(styles,_10[15]) && styles.center){
isCenter=!0;

}

}
if(isCenter){
tff.x=((allW - tff.width) / 2);

}
tff.y=yy;
var hh=tff.height;
if(styles && checkIn(styles,_10[16])){
hh=styles.line;

}
yy+=hh;
i++;
}
if(cont){
callMethod(this,cont,_10[5],[spr]);

}
return spr;

}else{
var tf=ctorObject(lang.text.TextField);
var color=textDefStyles.color;
var fontSize=textDefStyles.fontSize;
var fontName=textDefStyles.fontName;
var maxW=0;
if(styles){
if(checkIn(styles,_10[17])){
fontName=styles.fontName;

}
if(checkIn(styles,_10[18])){
fontSize=styles.fontSize;

}
if(checkIn(styles,_10[19])){
color=styles.color;

}
if(checkIn(styles,_10[20])){
tf.bold=styles.bold;

}
if(checkIn(styles,_10[21])){
maxW=styles.maxWidth;
tf.maxWidth=maxW;

}

}
tf.fontName=fontName;
tf.color=color;
tf.fontSize=fontSize;
tf.text=('' + txt);
if(styles){
if(checkIn(styles,_10[22])){
if((styles.align == _10[15])){
if((maxW > 0)){
tf.align=_10[15];

}else if(checkIn(styles,_10[23])){
if((styles.w > 0)){
tf.x=((styles.w - tf.width) / 2);

}

}


}

}

}
if(cont){
callMethod(this,cont,_10[5],[tf]);

}
return tf;

}
return null;

});
glob(_10[24],function(o){
if(this){
o=this;

}
if(checkIs(o,_10[25])){
if(checkIn(o,_10[26])){
var ev=o.eventInfo;
if(ev.o){
callMethod(this,ev.o,_10[27],[ev.type,ev.cb]);

}

}

}else{
if(o && o.parent){
callMethod(this,o.parent,_10[28],[o]);

}

}

});
var resizeRect=function(w,h){
var o=this;
callMethod(this,o.painter,_10[29]);
if((w > 0) && (h > 0)){
if(checkIn(o,_10[30])){
var pr=o.propsObj;
if(checkIn(pr,_10[31])){
callMethod(this,o.painter,_10[31],[pr.border,pr.color]);

}

}
callMethod(this,o.painter,_10[32],[0,0,w,h,o.fillValue]);

}

};
glob(_10[32],function(w,h,fill,props){
var o=callMethod(this,null,_10[4]);
if(fill){
if(checkIs(fill,_10[25])){
fill=fill();

}

}
o.fillValue=fill;
o.resize=resizeRect;
callMethod(this,o,_10[33]);
if(props){
o.propsObj=props;

}
callMethod(this,o,_10[34],[w,h]);
return o;

});
glob(_10[35],function(o){
if(o){
var i=1;
while((i < arguments.length)){
var el=arguments[i];
if(el){
callMethod(this,o,_10[5],[el]);

}
i++;
}

}

});
glob(_10[36],function(o,w,h){
var factor=1;
var mw=st.stageWidth;
var mh=st.stageHeight;
if(checkIn(m,_10[37])){
var info=callMethod(this,m,_10[37]);
if(info){
if(checkIn(info,_10[23])){
mw=info.w;

}
if(checkIn(info,_10[38])){
mh=info.h;

}
if(checkIn(info,_10[39])){
factor=info.ratio;

}

}

}
if((arguments.length == 2)){
mw=w;

}
if((arguments.length == 3)){
mh=h;

}
mw=(mw / factor);
mh=(mh / factor);
if(o){
if(checkIn(o,_10[34])){
if(checkIs(o.resize,_10[25])){
callMethod(this,o,_10[34],[mw,mh]);

}

}

}

});

};
_AppInit[_10[49]]=function(m){
callMethod(this,this,_10[40],[m]);
callMethod(this,VM,_10[42],[_10[41],function(nm){
var bm=null;
if(checkIs(nm,_10[43])){
bm=callMethod(this,GLOBAL.$app.moviesReader,_10[44],[nm]);
if(bm){
bm.scaleX=0.5;
bm.scaleY=0.5;

}

}
return bm;

}]);
callMethod(this,VM,_10[42],[_10[45],function(o,props,time,obj){
if(!obj){
obj={};

}
var cbok=null;
var cbupd=null;
if(checkIn(obj,_10[46])){
cbok=obj.ok;

}
if(checkIn(obj,_10[47])){
cbupd=obj.update;

}
if(o){
var tw=ctorObject(lib.Tween,[o]);
if(checkIn(obj,_10[48]) && obj.yoyo){
callMethod(this,tw,_10[48],[!0]);

}
callMethod(this,tw,_10[49],[props,time,cbupd,cbok]);
callMethod(this,tw,_10[50]);
return tw;

}
return null;

}]);
m.resizeArr=[];
m.dragList=[];
m.curRClickElem=null;
callMethod(this,m.stage,_10[51],[_10[52],function(e){
var targ=e.target;
if(checkIn(targ,_10[52])){
callMethod(this,targ,_10[52],[e]);

}
var i=0;
while((i < m.mouseUpEventsOne.size)){
var cbb=m.mouseUpEventsOne[i];
if(cbb){
cbb(e);

}
i++;
}
m.mouseUpEventsOne=[];
var i=0;
while((i < m.dragList.size)){
var o=GLOBAL.$app.dragList[i];
callMethod(this,o,_10[53]);
o.x=castInt(o.x);
o.y=castInt(o.y);
if(checkIn(o,_10[54])){
callMethod(this,o,_10[54],[e]);

}
i++;
}
m.dragList=[];

}]);
callMethod(this,GLOBAL.$app.stage,_10[51],[_10[55],function(e){
var targ=e.target;
m.curClickElem=targ;
if(checkIn(targ,_10[55])){
callMethod(this,GLOBAL.ToolTip,_10[56]);
callMethod(this,targ,_10[55],[e]);

}

}]);
callMethod(this,m.cnv,_10[58]);
runtime.cbContextMenuRClick=function(){
var menuItems=[];
callMethod(this,menuItems,_10[59],[[_10[60],function(){
callMethod(this,GLOBAL.$app,_10[61]);

}]]);
return menuItems;

};
callMethod(this,m.cnv,_10[51],[_10[62],function(e){
var targ=e.target;
m.curRClickElem=targ;
var isRclickV=!1;
if(checkIn(targ,_10[62])){
isRclickV=!0;
callMethod(this,targ,_10[62],[e]);

}
if(!isRclickV){
var menuList=callMethod(this,runtime,_10[63]);
if(menuList){
if(GLOBAL.$app.chat){
callMethod(this,GLOBAL.$app.chat,_10[64],[menuList,_10[65],0,!0,!1,!0]);

}

}

}

}]);

callMethod(this,m.stage,_10[51],[_10[66],function(e){
var targ=e.target;
if(checkIn(targ,_10[66])){
callMethod(this,targ,_10[66],[e]);

}
if(checkIn(targ,_10[67])){
callMethod(this,targ,_10[67]);
callMethod(this,m.dragList,_10[59],[targ]);

}else if(checkIn(targ,_10[68])){
callMethod(this,targ,_10[69]);
callMethod(this,m.dragList,_10[59],[targ]);

}else{

}


}]);

};
vm.registerClass(_10[70],'',_AppInit);
})(window);



(function(window){
var _13=["createPainter","Для выхода нажмите ESCAPE","rect","#000000","addChild","Arial","push","on","keyup","createScreen","removeScene","getGlobalMousePos","web","mousemove","min","abs","removeChild","clear","mouseup","draw","app.popup.PopUpScreenMov1","autoResize","del","openPopUpMinText1","resize","scenes.Screenshot","lang.display.Sprite"];
var _scenes_Screenshot={};
_scenes_Screenshot["ctor"]=function(bm){
var th=this;
this.firstRsz=!1;
this.ww=0;
this.hh=0;
this.bm=bm;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.rectV=ctorObject(lang.geom.Rectangle);
GLOBAL.$app.curScreenshotScene=th;
var spr=ctorObject(lang.display.Sprite);
spr.alpha=0.5;
spr.isDragItem=!0;
callMethod(this,spr,_13[0]);
var helpSpr=ctorObject(lang.display.Sprite);
helpSpr.mouseEnabled=!1;
var txtSpr=ctorObject(lang.display.Sprite);
var helpW=480;
var helpH=150;
var arr=['Выделите необходимую область и нажмите ENTER','Если нужен полный скриншот - нажмите ПРОБЕЛ',_13[1]];
if(bm){
var r1=ctorObject(lang.display.Sprite);
r1.alpha=0.6;
callMethod(this,r1,_13[0]);
callMethod(this,r1.painter,_13[2],[0,0,helpW,helpH,_13[3]]);
callMethod(this,helpSpr,_13[4],[r1,txtSpr]);
helpSpr.x=((bm.naturalWidth - helpW) / 2);
helpSpr.y=100;
var yy=8;
var i=0;
while((i < arr.length)){
var txt=arr[i];
var tf=ctorObject(lang.text.TextField);
tf.fontName=_13[5];
tf.bold=!0;
tf.fontSize=18;
tf.color=16777215;
tf.text=txt;
tf.x=((helpW - tf.width) / 2);
tf.y=yy;
yy+=28;
callMethod(this,txtSpr,_13[4],[tf]);
i++;
}
txtSpr.y=((helpH - yy) / 2);
callMethod(this,null,_13[4],[bm,spr,helpSpr]);
callMethod(this,GLOBAL.$app.resizeArr,_13[6],[th]);
var keyui=lang.ui.Keyboard;
callMethod(this,this.ev,_13[7],[GLOBAL.$app.stage,_13[8],function(e){
if((e.keyCode == keyui.SPACE)){
callMethod(this,th,_13[9],[!0]);

}else if((e.keyCode == keyui.ESCAPE)){
callMethod(this,th,_13[10]);

}else if((e.keyCode == keyui.ENTER)){
th.rectV.x=spr.x;
th.rectV.y=spr.y;
if((th.rectV.width > 0) && (th.rectV.height > 0)){
callMethod(this,th,_13[9],[!1,th.rectV]);

}else{
callMethod(this,th,_13[10]);

}

}



}]);
bm.mousedown=function(e){
var poss=callMethod(this,GLOBAL.AppUtils,_13[11],[th,e.mouseX,e.mouseY]);
var dragPos={};
var minVal=5;

dragPos.x=poss.x;
dragPos.y=poss.y;
callMethod(this,th.ev2,_13[7],[GLOBAL.$app.stage,_13[13],function(e){
var pos=callMethod(this,GLOBAL.AppUtils,_13[11],[th,e.mouseX,e.mouseY]);

var _x=callMethod(this,Math,_13[14],[pos.x,dragPos.x]);
var _y=callMethod(this,Math,_13[14],[pos.y,dragPos.y]);
var w=callMethod(this,Math,_13[15],[(pos.x - dragPos.x)]);
var h=callMethod(this,Math,_13[15],[(pos.y - dragPos.y)]);
w=castInt(w);
h=castInt(h);
_x=castInt(_x);
_y=castInt(_y);
if((w < minVal)){
w=minVal;

}
if((h < minVal)){
h=minVal;

}
if(helpSpr && helpSpr.parent){
callMethod(this,helpSpr.parent,_13[16],[helpSpr]);
helpSpr=null;

}
callMethod(this,spr.painter,_13[17]);
callMethod(this,spr.painter,_13[2],[0,0,w,h,_13[3]]);
spr.x=_x;
spr.y=_y;
th.rectV.x=_x;
th.rectV.y=_y;
th.rectV.width=w;
th.rectV.height=h;

}]);
callMethod(this,th.ev2,_13[7],[GLOBAL.$app.stage,_13[18],function(){
callMethod(this,th.ev2,_13[17]);

}]);

};

}

};
_scenes_Screenshot[_13[9]]=function(isFull,rect){
var allW=this.bm.naturalWidth;
var allH=this.bm.naturalHeight;
var origW=allW;
var origH=allH;
var bm2=this.bm;
var bmd=null;
if(rect){
allW=rect.width;
allH=rect.height;

}
callMethod(this,this,_13[10]);
if(rect){
if((rect.x < 0)){
allW=(rect.width + rect.x);
rect.x=0;

}
if((rect.y < 0)){
allH=(rect.height + rect.y);
rect.y=0;

}
if(((rect.x + rect.width) > origW)){
allW=(origW - rect.x);

}
if(((rect.y + rect.height) > origH)){
allH=(origH - rect.y);

}

}
if((allW > 0) && (allH > 0)){
if(!isFull){
if(rect){
this.bm.x=-rect.x;
this.bm.y=-rect.y;
bmd=ctorObject(lang.display.BitmapData,[allW,allH,!0,0]);
callMethod(this,bmd,_13[19],[this.bm]);
this.bm.x=0;
this.bm.y=0;
bm2=ctorObject(lang.display.Bitmap);
bm2.src=bmd;
bm2.imageSizeData={width:allW,height:allH};

}

}else{
bm2=this.bm;
bmd=this.bm.bmdData;

}

}
if(bm2){
bm2.bmdData=bmd;
var c=ctorObject(_13[20],[bm2]);
callMethod(this,GLOBAL.$app.popup.cnt,_13[4],[c]);
callMethod(this,GLOBAL.$app,_13[21]);

}

};
_scenes_Screenshot[_13[10]]=function(){
var th=this;
callMethod(this,th.ev,_13[17]);
callMethod(this,th.ev2,_13[17]);
GLOBAL.$app.curScreenshotScene=null;
var arr=GLOBAL.$app.resizeArr;
if(th.parent){
callMethod(this,th.parent,_13[16],[th]);

}
var i=0;
while((i < arr.length)){
var el=arr[i];
if((el == th)){
callMethod(this,arr,_13[22],[i]);

}
i++;
}

};
_scenes_Screenshot[_13[24]]=function(w,h){
var th=this;
var rsz=!1;
if((th.ww != w)){
rsz=!0;

}else if((th.hh != h)){
rsz=!0;

}

if(!th.firstRsz){
th.firstRsz=!0;
rsz=!1;

}
th.ww=w;
th.hh=h;
if(rsz){
callMethod(this,GLOBAL.$app.popup,_13[23],['Был изменён размер окна.\n\nСоздайте скриншот повторно.']);
callMethod(this,th,_13[10]);

}

};
vm.registerClass(_13[25],_13[26],_scenes_Screenshot);
})(window);



(function(window){
var _108=["BGKostiSprite","addChild","drawMovie","clear","remove","animAlphaSprite","createPainter","или выберите файл","ButtonOrangeText","Выбрать","web","openFileDialog","readBytes","readUTFBytes","decode","rect","#000000","on","drop","/savemaps","isDirectory","openPopUpSelectFileLocal","isFile","openFilesystem","off","resize","app.popup.PopUpMapEditorOpenMapDrag","lang.display.Sprite"];
var _app_popup_PopUpMapEditorOpenMapDrag={};
_app_popup_PopUpMapEditorOpenMapDrag["ctor"]=function(cb){
var th=this;
this.bg=ctorObject(_108[0]);
callMethod(this,null,_108[1],[this.bg]);
var c=callMethod(this,GLOBAL.$app.moviesReader,_108[2],[16]);
callMethod(this,c.cnt.painter,_108[3]);
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=100;
this.c.cnt.y=90;
callMethod(this,this.c,_108[1],[this.c.cnt]);
callMethod(this,null,_108[1],[c]);
c.close.click=function(e){
callMethod(this,th,_108[4]);

};
callMethod(this,GLOBAL.AppUtils,_108[5],[c.close,0.8,1]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text='Перетащите в это окно файл с картой';
this.tf1.x=((400 - this.tf1.width) / 2);
this.tf1.y=100;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,c.cnt,_108[1],[this.tf1]);
var qw=ctorObject(lang.display.Sprite);
qw.alpha=0;
qw.x=-this.c.cnt.x;
qw.y=(-this.c.cnt.y + 80);
callMethod(this,qw,_108[6]);
callMethod(this,c.cnt,_108[1],[qw]);
var tf2=ctorObject(lang.text.TextField);
tf2.fontSize=17;
tf2.text=_108[7];
tf2.x=((400 - tf2.width) / 2);
tf2.y=(this.tf1.y + 30);
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,c.cnt,_108[1],[tf2]);
var bb=ctorObject(_108[8],[_108[9],function(){
callMethod(this,th,_108[4]);
callMethod(this,System,_108[11],[function(file){
if(file){
var bb=callMethod(this,file,_108[12],[function(ba){
var ob=null;
if((ba.size > 0)){
var ss=callMethod(this,ba,_108[13],[ba.size]);
ob=callMethod(this,JSON,_108[14],[ss]);

}
if(cb){
cb(ob);

}

}]);

}

}]);


}]);
bb.x=135;
bb.y=170;
callMethod(this,c.cnt,_108[1],[bb]);
callMethod(this,qw.painter,_108[15],[0,0,580,360,_108[16]]);
this.cb2=function(e){
if((e.files.size > 0)){
var file=e.files[0];
callMethod(this,file,_108[12],[function(ba){
var ss=callMethod(this,ba,_108[13],[ba.size]);
var ob=null;
if(ss){
ob=callMethod(this,JSON,_108[14],[ss]);

}
callMethod(this,th,_108[4]);
if(cb){
cb(ob);

}

}]);

}

};
callMethod(this,GLOBAL.$app.stage,_108[17],[_108[18],this.cb2]);

};
_app_popup_PopUpMapEditorOpenMapDrag[_108[23]]=function(cb){
var th=this;
var pathFull=(GLOBAL.$app.fullPathAppData + _108[19]);
var fi2=ctorObject(lang.io.File,[pathFull]);
var isExt2=callMethod(this,fi2,_108[20]);
if(!isExt2){
pathFull=GLOBAL.$app.fullPathAppData;

}
var fileV=callMethod(this,GLOBAL.$app.popup,_108[21],[pathFull,function(path){
var fi=ctorObject(lang.io.File,[path]);
var isFile=callMethod(this,fi,_108[22]);
if(isFile){
var bb=callMethod(this,fi,_108[12]);
if(bb){
if((bb.size > 0)){
var ss=callMethod(this,bb,_108[13],[bb.size]);
var ob=null;
if(ss){
ob=callMethod(this,JSON,_108[14],[ss]);

}
if(ob){
callMethod(this,fileV,_108[4]);

}
if(cb){
cb(ob);

}

}

}

}

}]);

};
_app_popup_PopUpMapEditorOpenMapDrag[_108[4]]=function(){
callMethod(this,GLOBAL.$app.stage,_108[24],[_108[18],this.cb2]);
if(this.parent){
callMethod(this,this.parent,_108[4],[this]);

}

};
_app_popup_PopUpMapEditorOpenMapDrag[_108[25]]=function(w,h){
callMethod(this,this.bg,_108[25],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 400) / 2);

};
vm.registerClass(_108[26],_108[27],_app_popup_PopUpMapEditorOpenMapDrag);
})(window);



(function(window){
var _139=["/","BGKostiSprite","addChild","drawMovie","clear","remove","animAlphaSprite","app.ui.VScrollBar2","resize","openFilesystem","removeAllChilds","FolderClass","isDirectory","readFolder","Arial","папка: ","split","pop","join","назад","выбрать эту папку","cbSelectFolder","sort","папка ","cb","reload","app.popup.PopUpSelectFile1","lang.display.Sprite"];
var _app_popup_PopUpSelectFile1={};
_app_popup_PopUpSelectFile1["ctor"]=function(path,cb,cbSelectFolder){
var th=this;
if(!path){
path='';

}
if((path == _139[0])){
path='';

}
this.path=path;
this.sc=null;
this.cb=cb;
this.cbSelectFolder=cbSelectFolder;
this.folder=null;
this.bg=ctorObject(_139[1]);
callMethod(this,null,_139[2],[this.bg]);
var c=callMethod(this,GLOBAL.$app.moviesReader,_139[3],[16]);
callMethod(this,c.cnt.painter,_139[4]);
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.y=90;
callMethod(this,this.c,_139[2],[this.c.cnt]);
callMethod(this,null,_139[2],[c]);
c.close.click=function(e){
callMethod(this,th,_139[5]);

};
callMethod(this,GLOBAL.AppUtils,_139[6],[c.close,0.8,1]);
var sp=th.c.cnt;
var ww=500;
var yy=0;
var h2=300;
sp.width=ww;
sp.height=300;
sp.scroll=!0;
th.sc=ctorObject(_139[7],[sp,h2]);
th.sc.noSetWidth=!0;
th.sc.posY2=5;
callMethod(this,th.sc,_139[8],[7,h2]);
callMethod(this,th.c,_139[2],[th.sc]);
callMethod(this,th,_139[9],[th.path]);

};
_app_popup_PopUpSelectFile1[_139[9]]=function(path){
var th=this;
callMethod(this,th.c.cnt,_139[10]);
th.folder=ctorObject(_139[11],[_139[0]]);
var sp=th.c.cnt;
var ww=600;
var yy=0;
var h2=300;
var fi=ctorObject(lang.io.File,[path]);
var isExt=callMethod(this,fi,_139[12]);
if(isExt){
callMethod(this,th.folder,_139[13],[path]);

}
var nm1=path;
if((nm1.size <= 0)){
nm1=_139[0];

}
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_139[14];
tf1.bold=!0;
tf1.fontSize=17;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.text=(_139[15] + nm1);
tf1.x=((ww - tf1.width) / 2);
if((tf1.x < 100)){
tf1.x=100;

}
tf1.y=yy;
callMethod(this,sp,_139[2],[tf1]);
yy+=30;
if((path.size > 0)){
var spl=callMethod(this,path,_139[16],[_139[0]]);
if((spl.size > 0)){
callMethod(this,spl,_139[17]);

}
var p3=callMethod(this,spl,_139[18],[_139[0]]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_139[14];
tf1.bold=!0;
tf1.fontSize=17;
tf1.color=65535;
tf1.text=_139[19];
tf1.buttonMode=!0;
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.click=function(){
callMethod(this,th,_139[9],[p3]);

};
callMethod(this,sp,_139[2],[tf1]);
yy+=30;

}
if(th.cbSelectFolder){
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_139[14];
tf1.bold=!0;
tf1.fontSize=17;
tf1.color=16776960;
tf1.text=_139[20];
tf1.buttonMode=!0;
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.click=function(){
if(th.cbSelectFolder){
callMethod(this,th,_139[21],[path]);

}

};
callMethod(this,sp,_139[2],[tf1]);
yy+=30;

}
var aa=th.folder.list;
if(checkIn(Array,_139[22])){
callMethod(this,aa,_139[22],[function(a,b){
var n1=0;
var n2=0;
if(checkIs(a,GLOBAL.FolderClass)){
n1=1;

}
if(checkIs(b,GLOBAL.FolderClass)){
n2=1;

}
return (n2 - n1);

}]);

}
var i=0;
while((i < aa.size)){
var el=aa[i];
if(checkIs(el,GLOBAL.FolderClass)){
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_139[14];
tf1.bold=!0;
tf1.fontSize=17;
tf1.text=(_139[23] + el.name);
tf1.buttonMode=!0;
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.elObj=el;
tf1.click=function(){
var fo=this.elObj;
var fullPath=path;
if((path.size > 0)){
fullPath+=_139[0];

}
fullPath=(fullPath + fo.name);
callMethod(this,th,_139[9],[fullPath]);

};
callMethod(this,sp,_139[2],[tf1]);

}else{
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_139[14];
tf1.bold=!0;
tf1.fontSize=17;
tf1.color=16776960;
tf1.text=('' + el.name);
tf1.buttonMode=!0;
tf1.x=((ww - tf1.width) / 2);
if((tf1.x <= 100)){
tf1.x=100;

}
tf1.y=yy;
tf1.elObj=el;
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.click=function(){
var thh=this;
var fullPath=path;
if((path.size > 0)){
fullPath+=_139[0];

}
fullPath=(fullPath + thh.elObj.name);
if(th.cb){
callMethod(this,th,_139[24],[fullPath]);

}

};
callMethod(this,sp,_139[2],[tf1]);

}
yy=(yy + 30);
i++;
}
callMethod(this,th.sc,_139[25]);
th.sc.x=(ww - 60);

};
_app_popup_PopUpSelectFile1[_139[5]]=function(){
if(this.sc){
callMethod(this,this.sc,_139[5]);

}
this.sc=null;
callMethod(this,this.parent,_139[5],[this]);

};
_app_popup_PopUpSelectFile1[_139[8]]=function(w,h){
callMethod(this,this.bg,_139[8],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 400) / 2);

};
vm.registerClass(_139[26],_139[27],_app_popup_PopUpSelectFile1);
})(window);



(function(window){
var _244=["#000000","#CCCCCC","addChild","createPainter","bitmap","joyCircle1.png","joyCircle2.png","Arial","^","joyJump.png","web","clear","border","circle","setScale","C","N","S","W","E","cb","on","mousedown","isInterEl","getAbsolutePos","touchPointID","jump","cbDraw","mousemove","mouseup","click","isInterItem","resize","destroy","Joystick","lang.display.Sprite"];
var _Joystick={};
_Joystick["ctor"]=function(cb){
var th=this;
var w=120;
var h=w;
var clr1=_244[0];
var clr2=_244[1];
var borderColor=13421772;
var origW=w;
var origH=h;
th.isImgJoy=!0;
th.scaleVal=1;
th.allW=0;
th.allH=0;
th.startX=0;
th.startY=0;
th.touchID=-1;
th.touchIDJump=-1;
th.isActive=!1;
th.w=w;
th.h=h;
th.cb=cb;
th.ev=ctorObject(lang.events.EventsObjectMaster);
th.ev2=ctorObject(lang.events.EventsObjectMaster);
th.ev3=ctorObject(lang.events.EventsObjectMaster);
th.kk='';
th.cnt=ctorObject(lang.display.Sprite);
var directionHorizontalLimitPos=0;
var directionHorizontalLimitNeg=0;
var directionVerticalLimitPos=0;
var directionVerticalLimitNeg=0;
callMethod(this,null,_244[2],[th.cnt]);
var joy=ctorObject(lang.display.Sprite);
var spr=ctorObject(lang.display.Sprite);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,spr,_244[3]);
callMethod(this,spr2,_244[3]);
if(th.isImgJoy){
spr=callMethod(this,null,_244[4],[_244[5]]);
spr2=callMethod(this,null,_244[4],[_244[6]]);

}
th.sp1=spr;
th.sp2=spr2;
callMethod(this,joy,_244[2],[spr,spr2]);
th.joy=joy;
var createJumpArrow=function(){
var spp=ctorObject(lang.display.Sprite);
var i=0;
while((i < 2)){
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_244[7];
tf1.fontSize=50;
tf1.color=16777215;
tf1.bold=!0;
tf1.text=_244[8];
tf1.y=(i * 25);
callMethod(this,spp,_244[2],[tf1]);
i++;
}
return spp;

};
var jumpButton=ctorObject(lang.display.Sprite);
var jumpButtonTex=ctorObject(lang.display.Sprite);
callMethod(this,jumpButtonTex,_244[3]);
if(th.isImgJoy){
jumpButton=callMethod(this,null,_244[4],[_244[9]]);

}else{
var jumpArrows=createJumpArrow();
jumpArrows.x=-14;
jumpArrows.y=-24;

callMethod(this,jumpButton,_244[2],[jumpButtonTex,jumpArrows]);

}
callMethod(this,th.cnt,_244[2],[joy,jumpButton]);
th.jumpButton=jumpButton;
th.setScale=function(v){
v=1;
th.w=(origW * v);
th.h=(origH * v);
th.scaleVal=v;
th.internalRadius=((th.w - ((th.w / 2) + 10)) / 2);
th.externalRadius=(th.internalRadius + (20 * v));
th.maxMoveStick=(th.internalRadius + (5 * v));
directionHorizontalLimitPos=(th.w / 20);
directionHorizontalLimitNeg=(directionHorizontalLimitPos * -1);
directionVerticalLimitPos=(th.h / 20);
directionVerticalLimitNeg=(directionVerticalLimitPos * -1);
th.centerX=(th.w / 2);
th.centerY=(th.h / 2);
th.startX=th.centerX;
th.startY=th.centerY;
th.movedX=th.centerX;
th.movedY=th.centerY;
th.jumpButton.x=th.startX;
th.jumpButton.y=th.startY;
var border=2;
var a2=(th.externalRadius + border);
var a3=(th.internalRadius + border);
spr.x=th.centerX;
spr.y=th.centerY;
spr2.x=th.movedX;
spr2.y=th.movedX;
if(th.isImgJoy){
spr.point={x:a2,y:a2};
spr2.point={x:a3,y:a3};
th.jumpButton.point={x:a2,y:a2};

}else{
callMethod(this,spr.painter,_244[11]);
callMethod(this,spr.painter,_244[12],[2,borderColor]);
callMethod(this,spr.painter,_244[13],[0,0,th.externalRadius,clr1]);
callMethod(this,spr2.painter,_244[11]);
callMethod(this,spr2.painter,_244[12],[2,0]);
callMethod(this,spr2.painter,_244[13],[0,0,th.internalRadius,clr2]);
callMethod(this,jumpButtonTex.painter,_244[11]);
callMethod(this,jumpButtonTex.painter,_244[12],[2,borderColor]);
callMethod(this,jumpButtonTex.painter,_244[13],[0,0,th.externalRadius,clr1]);

}

};
callMethod(this,th,_244[14],[1]);
th.cbDraw=function(){
if((th.movedX < th.internalRadius)){
th.movedX=th.maxMoveStick;

}
if(((th.movedX + th.internalRadius) > th.w)){
th.movedX=(th.w - th.maxMoveStick);

}
if((th.movedY < th.internalRadius)){
th.movedY=th.maxMoveStick;

}
if(((th.movedY + th.internalRadius) > th.h)){
th.movedY=(th.h - th.maxMoveStick);

}
th.sp2.x=th.movedX;
th.sp2.y=th.movedY;
var result='';
var horizontal=(th.movedX - th.centerX);
var vertical=(th.movedY - th.centerY);
if((vertical >= directionVerticalLimitNeg)){
if((vertical <= directionVerticalLimitPos)){
result=_244[15];

}

}
if((vertical < directionVerticalLimitNeg)){
result=_244[16];

}
if((vertical > directionVerticalLimitPos)){
result=_244[17];

}
if((horizontal < directionHorizontalLimitNeg)){
if((result == _244[15])){
result=_244[18];

}else{
result+=_244[18];

}

}
if((horizontal > directionHorizontalLimitPos)){
if((result == _244[15])){
result=_244[19];

}else{
result+=_244[19];

}

}
if((result == _244[15])){
result='';

}
if((th.kk != result)){
th.kk=result;
if(th.cb){
callMethod(this,th,_244[20],[result]);

}

}

};
callMethod(this,th.ev,_244[21],[th.stage,_244[22],function(e){
var isInter=callMethod(this,th,_244[23],[e.target]);
if(!isInter){
var pp=callMethod(this,th.cnt,_244[24]);
var tid=-1;
if(checkIn(e,_244[25])){
tid=e.touchPointID;

}
var scaleV=(GLOBAL.$app.scaleFactor * th.scaleVal);
var omx=(e.mouseX / scaleV);
var omy=(e.mouseY / scaleV);
var mx=(omx - pp.x);
var my=(omy - pp.y);
var absPos1=callMethod(this,th.jumpButton,_244[24]);
var isJumpKey=!1;
if(th.jumpButton && (omx >= (absPos1.x - th.externalRadius))){
isJumpKey=!0;

}
if(isJumpKey){
if((omy > (absPos1.y - th.externalRadius))){
my=(-5 / scaleV);

}
th.touchIDJump=tid;
th.jumpButton.y=my;
if(th.cb){
callMethod(this,th,_244[20],[_244[26]]);

}

}else if(th.isActive){
if(th.cb){
callMethod(this,th,_244[20],[_244[26]]);

}

}else if((th.touchID == -1)){
th.touchID=tid;
callMethod(this,th.ev2,_244[11]);
th.isActive=!0;
joy.x=(mx - th.centerX);
joy.y=(my - th.centerY);
th.movedX=mx;
th.movedY=my;
callMethod(this,th,_244[27]);
callMethod(this,th.ev2,_244[21],[th.stage,_244[28],function(e){
var tid2=-1;
if(checkIn(e,_244[25])){
tid2=e.touchPointID;

}
if((tid2 == th.touchID)){
th.movedX=(((e.mouseX / scaleV) - pp.x) - joy.x);
th.movedY=(((e.mouseY / scaleV) - pp.y) - joy.y);
callMethod(this,th,_244[27]);

}

}]);

}



}

}]);
callMethod(this,th.ev,_244[21],[th.stage,_244[29],function(e){
var touchv=-1;
if(checkIn(e,_244[25])){
touchv=e.touchPointID;

}
if((touchv == th.touchID)){
th.movedX=th.centerX;
th.movedY=th.centerY;
th.isActive=!1;
joy.x=0;
joy.y=0;
th.touchID=-1;
callMethod(this,th,_244[27]);
callMethod(this,th.ev2,_244[11]);

}
if((touchv == th.touchIDJump)){
th.touchIDJump=-1;
th.jumpButton.y=th.startY;
callMethod(this,th.ev3,_244[11]);

}

}]);

};
_Joystick[_244[23]]=function(o){
var par=o;
if(o){
if(checkIn(o,_244[30]) || checkIn(o,_244[22]) || o.buttonMode || checkIs(o,lang.text.TextInput)){
return !0;

}

}
while(par){
if(checkIn(par,_244[31])){
return !0;

}
par=par.parent;

}
return !1;

};
_Joystick[_244[32]]=function(w,h){
var th=this;
th.allW=w;
th.allH=h;
th.cnt.x=60;
if(th.jumpButton){
th.jumpButton.x=((w - (th.w / 2)) - (th.cnt.x * 2));

}
th.cnt.y=(h - (th.h + 5));

};
_Joystick[_244[33]]=function(){
callMethod(this,this.ev,_244[11]);
callMethod(this,this.ev2,_244[11]);
callMethod(this,this.ev3,_244[11]);

};
vm.registerClass(_244[34],_244[35],_Joystick);
})(window);



(function(window){
var _199=["BGKostiSprite","drawMovie","cnt","removeChild","css","font-family","Arial","font-weight","bold","font-size","16px","color","#FFFFFF","white-space","nowrap","attr","scroll1","addChild","remove","animAlphaSprite","load","Идёт загрузка...","getAssetURL","a7.png","getURLByID","removeAllChilds","час","day","день","Лучшие спасатели за ","!","getUserID"," место: ","text-overflow","clip","overflow","hidden","openPopUpUserInfoSpr","остальным "," дарим подарок","resize","app.popup.PopUpChatWinMsgInfo","lang.display.Sprite"];
var _app_popup_PopUpChatWinMsgInfo={};
_app_popup_PopUpChatWinMsgInfo["ctor"]=function(t,users,giftid){
var th=this;
this.t=t;
this.users=users;
this.giftid=giftid;
this.bg=ctorObject(_199[0]);
this.c=callMethod(this,GLOBAL.$app.moviesReader,_199[1],[16]);
if(checkIn(th.c,_199[2])){
callMethod(this,th.c,_199[3],[th.c.cnt]);

}
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=80;
callMethod(this,this.cnt,_199[4],[{'font-family':_199[6],'font-weight':_199[8],'font-size':_199[10],'color':_199[12],'white-space':_199[14]}]);
callMethod(this,this.cnt,_199[15],[{className:_199[16]}]);
callMethod(this,this.c,_199[17],[this.cnt]);
callMethod(this,null,_199[17],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_199[18]);

};
callMethod(this,GLOBAL.AppUtils,_199[19],[this.c.close,0.8,1]);
callMethod(this,this,_199[20]);

};
_app_popup_PopUpChatWinMsgInfo[_199[20]]=function(){
var th=this;
var allW=480;
var txt1=ctorObject(lang.text.TextField);
txt1.fontName=_199[6];
txt1.fontSize=17;
txt1.text=_199[21];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_199[17],[txt1]);
th.preloadTxt=txt1;
var img1=callMethod(this,GLOBAL.$app.moviesReader,_199[22],[_199[23]]);
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_199[24],[th.giftid]);
var usersIds=th.users;
callMethod(this,GLOBAL.$app.cacheUsers,_199[20],[usersIds,function(){
callMethod(this,th.cnt,_199[25]);
var tx2=_199[26];
if((th.t == _199[27])){
tx2=_199[28];

}
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_199[6];
tf1.fontSize=17;
tf1.text=((_199[29] + tx2) + _199[30]);
tf1.x=((allW - tf1.width) / 2);
tf1.y=10;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_199[17],[tf1]);
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_199[3],[th.preloadTxt]);

}

}
var sp3=ctorObject(lang.display.Sprite);
sp3.y=40;
callMethod(this,th.cnt,_199[17],[sp3]);
var sp5=ctorObject(lang.display.Sprite);
sp5.y=240;
var nn=0;
var yy=0;
var yy2=0;
var i=0;
while((i < th.users.size)){
var idd=th.users[i];
var u=callMethod(this,GLOBAL.$app.cacheUsers,_199[31],[idd]);
var pos=(i + 1);
var arr2=GLOBAL.Config.prizesHourArr;
if((th.t == _199[27])){
arr2=GLOBAL.Config.prizesDayArr;

}
if(u){
if((i < arr2.size)){
var prize=arr2[i];
var tf=ctorObject(lang.text.TextField);
tf.fontName=_199[6];
tf.fontSize=16;
tf.text=((('' + pos) + _199[32]) + u.nick);
tf.filters=GLOBAL.Config.shadowText2;
var ww=tf.width;
if((ww > 330)){
tf.width=330;
ww=330;
callMethod(this,tf,_199[4],[{'white-space':_199[14],'text-overflow':_199[34],'overflow':_199[36]}]);

}
tf.x=((allW - ww) / 2);
tf.y=yy;
tf.buttonMode=!0;
tf.elUser=u;
tf.click=function(){
callMethod(this,GLOBAL.$app.popup,_199[37],[this.elUser.id]);

};
callMethod(this,sp3,_199[17],[tf]);
var sp4=ctorObject(lang.display.Sprite);
sp4.x=((tf.x + tf.width) + 14);
sp4.y=(yy - 2);
callMethod(this,sp3,_199[17],[sp4]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.src=img1;
bm1.scaleX=0.3;
bm1.scaleY=0.25;
bm1.y=-4;
callMethod(this,sp4,_199[17],[bm1]);
var tf=ctorObject(lang.text.TextField);
tf.fontName=_199[6];
tf.fontSize=16;
tf.color=16759329;
tf.text=('' + prize);
tf.filters=GLOBAL.Config.shadowText2;
tf.x=28;
tf.y=5;
callMethod(this,sp4,_199[17],[tf]);
yy+=30;

}else{
nn+=1;

}

}
i++;
}
if((th.giftid > 0)){
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_199[6];
tf1.fontSize=17;
tf1.text=((_199[38] + nn) + _199[39]);
tf1.x=((allW - tf1.width) / 2);
tf1.y=-25;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp5,_199[17],[tf1]);
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_199[24],[th.giftid]);
if((giftV.size > 0)){
var bm1=ctorObject(lang.display.Bitmap);
bm1.src=giftV;
bm1.x=((allW - 50) / 2);
bm1.scaleX=0.8;
bm1.scaleY=0.8;
callMethod(this,sp5,_199[17],[bm1]);

}
callMethod(this,th.cnt,_199[17],[sp5]);

}

}]);

};
_app_popup_PopUpChatWinMsgInfo[_199[18]]=function(){
callMethod(this,this.parent,_199[18],[this]);

};
_app_popup_PopUpChatWinMsgInfo[_199[40]]=function(w,h){
callMethod(this,this.bg,_199[40],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_199[41],_199[42],_app_popup_PopUpChatWinMsgInfo);
})(window);



(function(window){
var _280=["BGKostiSprite","AppPopUpInputOne1","attr","spellcheck","addChild","remove","animAlphaSprite","ButtonOrangeText","removeChild","resize","app.popup.PopUpInputOne","lang.display.Sprite"];
var _app_popup_PopUpInputOne={};
_app_popup_PopUpInputOne["ctor"]=function(nm,butName,value,cb){
var th=this;
this.selectable=!1;
var bg=ctorObject(_280[0]);
var c=ctorObject(_280[1]);
this.mov=c;
this.ti=c.tiText;
this.ti.value=('' + value);
callMethod(this,this.ti,_280[2],[{'spellcheck':''}]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=('' + nm);
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_280[4],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_280[4],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_280[5]);

};
callMethod(this,GLOBAL.AppUtils,_280[6],[c.close,0.8,1]);
var but1=ctorObject(_280[7],[butName,function(){
callMethod(this,th,_280[5]);
var v2=th.ti.value;
if(cb){
cb({name:v2});

}

}]);
callMethod(this,c,_280[4],[but1]);
but1.x=92;
but1.y=195;

};
_app_popup_PopUpInputOne[_280[5]]=function(){
callMethod(this,this.parent,_280[8],[this]);

};
_app_popup_PopUpInputOne[_280[9]]=function(w,h){
callMethod(this,this.bg,_280[9],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_280[10],_280[11],_app_popup_PopUpInputOne);
})(window);



(function(window){
var _286=["app.popup.PopUpMinInfo1","addChild","reload","removeAllChilds","Идёт загрузка...","sendCmd","info","createInfo","Конкурс кабанчик","ButtonOrangeText","создать","выбрать подарок","openPopUpSendGifts","Подарок: ","UICheckboxSpr2","пост в группу вк","Готово","t1","create","remove","openPopUpMinText1","Кабанчик создан","Не удалось создать кабанчика","Необходимо выбрать подарок","список победителей","загрузка данных...","infoUsers","data","openPopUpBoarListUsers1","Завершить","openPopUpConfirmMsgYesNo","Завершить конкурс?","stop","v","Конкурс завершён","Не удалось завершить конкурс","giftInfo","name","send","game.boarAct1","removeChild","resize","app.popup.PopUpBuyBoarAct1","lang.display.Sprite"];
var _app_popup_PopUpBuyBoarAct1={};
_app_popup_PopUpBuyBoarAct1["ctor"]=function(cb){
this.p1=ctorObject(_286[0],['']);
callMethod(this,null,_286[1],[this.p1]);
this.p1.bg.bg.click=function(){

};
var th=this;
callMethod(this,th,_286[2]);

};
_app_popup_PopUpBuyBoarAct1[_286[2]]=function(){
var th=this;
callMethod(this,th.p1.cnt,_286[3]);
var ww=450;
var tfLoad=ctorObject(lang.text.TextField);
tfLoad.fontSize=16;
tfLoad.text=_286[4];
tfLoad.x=((ww - tfLoad.width) / 2);
tfLoad.y=60;
tfLoad.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_286[1],[tfLoad]);
callMethod(this,th,_286[5],[_286[6],function(res){
tfLoad.visible=!1;
if(res){
callMethod(this,th,_286[7],[res]);

}

},null,null]);

};
_app_popup_PopUpBuyBoarAct1[_286[7]]=function(o){
var th=this;
var ww=450;
if(o){
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_286[1],[sp2]);
var arr=[_286[8]];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
if((i == 2)){
tf1.fontSize=15;

}
tf1.text=('' + el);
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_286[1],[tf1]);
yy+=24;
i++;
}
if((o.v == 0)){
var bb=ctorObject(_286[9],[_286[10],function(){
callMethod(this,sp2,_286[3]);
var giftid=0;
var giftTxt=ctorObject(lang.text.TextField);
giftTxt.fontSize=16;
giftTxt.color=16776960;
giftTxt.text=_286[11];
giftTxt.x=((ww - giftTxt.width) / 2);
giftTxt.y=5;
giftTxt.filters=GLOBAL.Config.shadowText2;
giftTxt.buttonMode=!0;
giftTxt.click=function(){
callMethod(this,GLOBAL.$app.popup,_286[12],[0,function(el){
giftid=el.id;
giftTxt.text=(_286[13] + el.name);
giftTxt.x=((ww - giftTxt.width) / 2);

}]);

};
callMethod(this,sp2,_286[1],[giftTxt]);
var checkPostVK=ctorObject(_286[14],[_286[15],!0,function(rr){

}]);
checkPostVK.x=150;
checkPostVK.y=55;
callMethod(this,sp2,_286[1],[checkPostVK]);
var bb2=ctorObject(_286[9],[_286[16],function(){
if((giftid > 0)){
var isPostVK=checkPostVK.checkBox.selected;
var isPrivate1=!0;
var a1=[_286[17],giftid,isPostVK,isPrivate1];
callMethod(this,th,_286[5],[_286[18],function(res){
callMethod(this,th,_286[19]);
if((res.v == 1)){
callMethod(this,GLOBAL.$app.popup,_286[20],[_286[21]]);

}else{
callMethod(this,GLOBAL.$app.popup,_286[20],[_286[22]]);

}

},a1,null]);

}else{
callMethod(this,GLOBAL.$app.popup,_286[20],[_286[23]]);

}

}]);
bb2.x=165;
bb2.y=195;
callMethod(this,sp2,_286[1],[bb2]);

}]);
bb.x=165;
bb.y=108;
callMethod(this,sp2,_286[1],[bb]);

}else{
var isLoad2=!1;
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=16;
tf3.color=65535;
tf3.text=_286[24];
tf3.x=((ww - tf3.width) / 2);
tf3.y=(yy + 50);
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
if(!isLoad2){
isLoad2=!0;
tf3.text=_286[25];
tf3.x=((ww - tf3.width) / 2);
callMethod(this,th,_286[5],[_286[26],function(res){
isLoad2=!1;
tf3.text=_286[24];
tf3.x=((ww - tf3.width) / 2);
var ids=[];
if(res){
if(checkIn(res,_286[27])){
var ar3=res.data;
if(ar3){
ids=ar3;

}

}

}
callMethod(this,GLOBAL.$app.popup,_286[28],[ids]);

}]);

}

};
callMethod(this,sp2,_286[1],[tf3]);
var bb=ctorObject(_286[9],[_286[29],function(){
callMethod(this,GLOBAL.$app.popup,_286[30],[_286[31],function(){
callMethod(this,th,_286[5],[_286[32],function(res){
var vv=0;
if(res){
if(checkIn(res,_286[33])){
vv=res.v;

}

}
if((vv == 1)){
callMethod(this,th,_286[19]);
callMethod(this,GLOBAL.$app.popup,_286[20],[_286[34]]);

}else{
callMethod(this,th,_286[19]);
callMethod(this,GLOBAL.$app.popup,_286[20],[_286[35]]);

}

}]);

}]);

}]);
bb.x=165;
bb.y=128;
callMethod(this,sp2,_286[1],[bb]);
o=o.data;
var giftName='';
if(checkIn(o,_286[36])){
if(checkIn(o.giftInfo,_286[37])){
giftName=(_286[13] + o.giftInfo.name);

}

}
var giftTxt=ctorObject(lang.text.TextField);
giftTxt.fontSize=16;
giftTxt.color=16776960;
giftTxt.text=giftName;
giftTxt.x=((ww - giftTxt.width) / 2);
giftTxt.y=40;
giftTxt.filters=GLOBAL.Config.shadowText2;
callMethod(this,sp2,_286[1],[giftTxt]);

}

}

};
_app_popup_PopUpBuyBoarAct1[_286[5]]=function(t,cb,arg1,arg2){
callMethod(this,GLOBAL.$app.connect,_286[38],[cb,_286[39],t,arg1,arg2]);

};
_app_popup_PopUpBuyBoarAct1[_286[19]]=function(){
if(this.parent){
callMethod(this,this.parent,_286[40],[this]);

}

};
_app_popup_PopUpBuyBoarAct1[_286[41]]=function(w,h){
callMethod(this,this.p1,_286[41],[w,h]);

};
vm.registerClass(_286[42],_286[43],_app_popup_PopUpBuyBoarAct1);
})(window);



(function(window){
var _101=["addChild","removeAllChilds","loadBackgroundBitmap","resize","changeCB","setBG","BitmapNaturalSize","setScale","app.game.BackgroundSprite","lang.display.Sprite"];
var _app_game_BackgroundSprite={};
_app_game_BackgroundSprite["ctor"]=function(){
this.bg=null;
this.w=0;
this.h=0;
this.bgid=0;
this.changeCB=null;
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,null,_101[0],[this.spr]);

};
_app_game_BackgroundSprite[_101[5]]=function(id){
var th=this;
th.bgid=id;
callMethod(this,th.spr,_101[1]);
callMethod(this,GLOBAL.$app.gameMaster,_101[2],[id,function(bm){
th.bg=bm;
callMethod(this,th.spr,_101[1]);
if(bm){
callMethod(this,th.spr,_101[0],[th.bg]);
callMethod(this,th,_101[3],[th.w,th.h]);
if(th.changeCB){
callMethod(this,th,_101[4],[bm,id]);

}

}

}]);

};
_app_game_BackgroundSprite[_101[3]]=function(w,h){
this.w=w;
this.h=h;
if(this.bg){
var sz=callMethod(this,GLOBAL.AppUtils,_101[6],[this.bg]);
callMethod(this,GLOBAL.BitmapUtils,_101[7],[sz,this.bg,w,h]);

}

};
vm.registerClass(_101[8],_101[9],_app_game_BackgroundSprite);
})(window);



(function(window){
var _142=["app.popup.PopUpMinInfo1","addChild","забеги, альбом, редактор","createZoomSpr","setZoomContent","saveFunc","кнопки управления","setZoomGamePad","init","stop","saveCfg","-","%","push","+","removeChild","removeV","cb2","remove","resize","app.popup.PopUpZoomSettings1","lang.display.Sprite"];
var _app_popup_PopUpZoomSettings1={};
_app_popup_PopUpZoomSettings1["ctor"]=function(cb,cb2){
this.tm=null;
this.p1=ctorObject(_142[0],['']);
callMethod(this,null,_142[1],[this.p1]);
var th=this;
this.tm2=null;
this.cb2=cb2;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_142[1],[sp2]);
this.p1.bg.bg.click=function(){

};
var sp3=ctorObject(lang.display.Sprite);
callMethod(this,sp2,_142[1],[sp3]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=16;
this.tf1.text=_142[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
var zoomSpr=callMethod(this,this,_142[3],[GLOBAL.Config.PercGameRoomScale,20,function(v){
GLOBAL.Config.PercGameRoomScale=v;
GLOBAL.$app.cfgDataObj.percGRScale=v;
var sc=GLOBAL.$app.scenesMaster.curScene;
if(sc){
if(checkIn(sc,_142[4])){
callMethod(this,sc,_142[4],[(v / 100)]);

}

}
callMethod(this,th,_142[5]);

}]);
zoomSpr.x=170;
zoomSpr.y=20;
callMethod(this,sp3,_142[1],[this.tf1,zoomSpr]);
var sp3=ctorObject(lang.display.Sprite);
callMethod(this,sp2,_142[1],[sp3]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=16;
this.tf1.text=_142[6];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=90;
this.tf1.filters=GLOBAL.Config.filterBlue1;
var zoomSpr=callMethod(this,this,_142[3],[GLOBAL.Config.PercGameRoomGamePadScale,100,function(v){
GLOBAL.Config.PercGameRoomGamePadScale=v;
GLOBAL.$app.cfgDataObj.percGamePadScale=v;
var sc=GLOBAL.$app.scenesMaster.curScene;
if(sc){
if(checkIn(sc,_142[7])){
callMethod(this,sc,_142[7],[(v / 100)]);

}

}
callMethod(this,th,_142[5]);

}]);
zoomSpr.x=170;
zoomSpr.y=(this.tf1.y + 20);
callMethod(this,sp3,_142[1],[this.tf1,zoomSpr]);

};
_app_popup_PopUpZoomSettings1[_142[5]]=function(){
var th=this;
if(!th.tm){
th.tm=callMethod(this,Timer,_142[8],[5000,function(){
callMethod(this,this,_142[9]);
th.tm=null;
callMethod(this,GLOBAL.$app,_142[10]);

}]);

}

};
_app_popup_PopUpZoomSettings1[_142[3]]=function(perc,minLimit,cb){
var th=this;
var vv=perc;
var sp=ctorObject(lang.display.Sprite);
var xx=0;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=35;
tf1.color=16776960;
tf1.text=_142[11];
tf1.buttonMode=!0;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp,_142[1],[tf1]);
xx+=30;
var percInfo=ctorObject(lang.text.TextField);
percInfo.fontSize=16;
percInfo.text=(('' + perc) + _142[12]);
percInfo.filters=GLOBAL.Config.filterBlue1;
percInfo.x=xx;
percInfo.y=10;
callMethod(this,sp,_142[1],[percInfo]);
var cb5=function(isMin,val){
if(!isMin){
vv+=val;
if((vv > 400)){
vv=400;

}

}else{
vv-=val;
if((vv < minLimit)){
vv=minLimit;

}

}
percInfo.text=(('' + vv) + _142[12]);
if(cb){
cb(vv);

}

};
var cb7=function(isMin,val){
if(th.tm2){
callMethod(this,th.tm2,_142[9]);
th.tm2=null;

}
cb5(isMin,val);
th.tm2=callMethod(this,Timer,_142[8],[150,function(){
cb5(isMin,val);

}]);
callMethod(this,GLOBAL.$app.mouseUpEventsOne,_142[13],[function(){
if(th.tm2){
callMethod(this,th.tm2,_142[9]);
th.tm2=null;

}

}]);

};
tf1.mousedown=function(){
cb7(!0,10);

};
xx=((xx + percInfo.width) + 10);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=35;
tf1.color=16776960;
tf1.text=_142[14];
tf1.buttonMode=!0;
tf1.x=(xx + 4);
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.mousedown=function(){
cb7(!1,10);

};
callMethod(this,sp,_142[1],[tf1]);
return sp;

};
_app_popup_PopUpZoomSettings1[_142[16]]=function(){
if(this.tm2){
callMethod(this,this.tm2,_142[9]);

}
this.tm2=null;
if(this.parent){
callMethod(this,this.parent,_142[15],[this]);

}

};
_app_popup_PopUpZoomSettings1[_142[18]]=function(){
callMethod(this,this,_142[16]);
if(this.cb2){
callMethod(this,this,_142[17]);

}

};
_app_popup_PopUpZoomSettings1[_142[19]]=function(w,h){
callMethod(this,this.p1,_142[19],[w,h]);

};
vm.registerClass(_142[20],_142[21],_app_popup_PopUpZoomSettings1);
})(window);



(function(window){
var _229=["addChild","createPad","left","right","createKeyJump","jump","#000000","#00CC00","clear","rect","cb","setKeyActive","createPainter","startDrag","isJump","stopDrag","on","mouseup","init","stop","resize","setZoom","remove","destroy","app.game.GamePad1","lang.display.Sprite"];
var _app_game_GamePad1={};
_app_game_GamePad1["ctor"]=function(cb){
this.w=0;
this.h=0;
this.cb=cb;
this.koef=1;
this.keyW=70;
this.keyH=70;
this.marg=5;
this.spr=ctorObject(lang.display.Sprite);
this.spr.alpha=0.6;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.spr.x=15;
callMethod(this,null,_229[0],[this.spr]);
this.keyLeft=callMethod(this,this,_229[1],[_229[2]]);
this.keyRight=callMethod(this,this,_229[1],[_229[3]]);
this.keyUp=callMethod(this,this,_229[4],[_229[5]]);
this.keysList=[this.keyLeft,this.keyRight,this.keyUp];
this.keyRight.x=(this.keyW + this.marg);
callMethod(this,this.spr,_229[0],[this.keyLeft,this.keyRight,this.keyUp]);

};
_app_game_GamePad1[_229[11]]=function(sp,key,isactive){
if(sp){
var clr=_229[6];
if(isactive){
clr=_229[7];

}
callMethod(this,sp.painter,_229[8]);
callMethod(this,sp.painter,_229[9],[0,0,this.keyW,this.keyH,clr]);
if(!isactive && (key != _229[5])){
key='';

}
if(this.cb){
callMethod(this,this,_229[10],[key,isactive]);

}

}

};
_app_game_GamePad1[_229[1]]=function(key){
var th=this;
var sp=ctorObject(lang.display.Sprite);
sp.isDragQQ=!1;
sp.isDragV2=!1;
sp.isActive=!1;
callMethod(this,sp,_229[12]);
callMethod(this,sp.painter,_229[9],[0,0,th.keyW,th.keyH,_229[6]]);
sp.mousedown=function(e){
callMethod(this,th.ev,_229[8]);
if(sp.isDragQQ){
sp.isDragQQ=!1;
sp.isDragV2=!0;
callMethod(this,sp,_229[13]);

}else{
callMethod(this,th,_229[11],[sp,key,!0]);

}
var cb2=function(e){
if(checkIn(e.target,_229[14])){

}else{
callMethod(this,th.ev,_229[8]);
if(sp.isDragV2){
sp.isDragV2=!1;
callMethod(this,sp,_229[15]);

}else{
callMethod(this,th,_229[11],[sp,key,!1]);

}

}

};
callMethod(this,th.ev,_229[16],[th.stage,_229[17],cb2]);

};
sp.rclick=function(){
this.isDragQQ=!0;

};
return sp;

};
_app_game_GamePad1[_229[4]]=function(key){
var th=this;
var sp=ctorObject(lang.display.Sprite);
sp.isJump=!0;
sp.isActive=!1;
sp.isDragQQ=!1;
sp.isDragV2=!1;
callMethod(this,sp,_229[12]);
callMethod(this,sp.painter,_229[9],[0,0,th.keyW,th.keyH,_229[6]]);
sp.mousedown=function(e){
if(sp.isDragQQ){
sp.isDragQQ=!1;
sp.isDragV2=!0;
callMethod(this,sp,_229[13]);
var cb2=function(e){
callMethod(this,th.ev2,_229[8]);
if(sp.isDragV2){
sp.isDragV2=!1;
callMethod(this,sp,_229[15]);

}

};
callMethod(this,th.ev2,_229[16],[th.stage,_229[17],cb2]);

}else{
callMethod(this,th,_229[11],[sp,key,!0]);
callMethod(this,Timer,_229[18],[100,function(){
callMethod(this,this,_229[19]);
callMethod(this,th,_229[11],[sp,key,!1]);

}]);

}

};
sp.rclick=function(){
this.isDragQQ=!0;

};
return sp;

};
_app_game_GamePad1[_229[21]]=function(v){
this.koef=v;
this.spr.scaleX=this.koef;
this.spr.scaleY=this.koef;
callMethod(this,this,_229[20],[this.w,this.h]);

};
_app_game_GamePad1[_229[22]]=function(){
callMethod(this,this.ev,_229[8]);

};
_app_game_GamePad1[_229[23]]=function(){
callMethod(this,this,_229[22]);

};
_app_game_GamePad1[_229[20]]=function(w,h){
this.w=w;
this.h=h;
this.spr.y=(h - ((this.keyH + this.marg) * this.koef));
this.keyUp.x=((((w / this.koef) - this.spr.x) - this.keyW) - this.marg);

};
vm.registerClass(_229[24],_229[25],_app_game_GamePad1);
})(window);



(function(window){
var _256=["add","getBitmap","AssetsObj"];
var _AssetsObj={};
_AssetsObj["ctor"]=function(){
this.ob={};

};
_AssetsObj[_256[0]]=function(name,o){
var th=this;
if(o){
var ob={name:name,data:o};
th.ob[name]=ob;

}

};
_AssetsObj[_256[1]]=function(name){
var th=this;
if(checkIn(th.ob,name)){
var info=th.ob[name];
if(info){
if(info.data){
var bm=ctorObject(lang.display.Bitmap);
bm.src=info.data;
return bm;

}

}

}
return null;

};
vm.registerClass(_256[2],'',_AssetsObj);
})(window);

(function(window){
var _113=["png","jpg","jpeg","gif","PNG","JPG","JPEG","GIF","isImage","split",".","isImageByStr","apply","deleteCallbacks","runCallbacks","ok","error","AssetsObj","load","add","/","pop","bitmap","loadList","Function","async","fast","push","web","indexOf","?","cut","/dogsgame3","binary","readBytes","sound","createCacheURL","android","isFile","binaryGet","saveLocal","on","off","audio/mpeg","image/png","createURL","isDirectory","mkdir","createFolder","join","write","AssetsDownloader"];
var _AssetsDownloader={};
_AssetsDownloader["ctor"]=function(){
this.cacheObjURL={};
this.callbacksObj={};

};
_AssetsDownloader[_113[8]]=function(ext){
var extList=[_113[0],_113[1],_113[2],_113[3],_113[4],_113[5],_113[6],_113[7]];
var i=0;
while((i < extList.length)){
var el1=extList[i];
if((ext == el1)){
return !0;

}
i++;
}
return !1;

};
_AssetsDownloader[_113[11]]=function(s){
if(s){
var spl=callMethod(this,s,_113[9],[_113[10]]);
if(spl){
if((spl.size > 0)){
var sz1=(spl.size - 1);
var nm=spl[sz1];
var vv=callMethod(this,this,_113[8],[nm]);
return vv;

}

}

}
return !1;

};
_AssetsDownloader[_113[14]]=function(url,args){
var th=this;
if(url){
if(checkIn(th.callbacksObj,url)){
var arr=th.callbacksObj[url];
if(arr){
var i=0;
while((i < arr.length)){
var el=arr[i];
if(el.cb){
callMethod(this,el.cb,_113[12],[null,args]);

}
i++;
}

}

}
callMethod(this,th,_113[13],[url]);

}

};
_AssetsDownloader[_113[13]]=function(url){
var th=this;
if(url){
if(checkIn(th.callbacksObj,url)){
delete th.callbacksObj[url];

}

}

};
_AssetsDownloader[_113[23]]=function(arr,props){
var th=this;
if(!props){
props={};

}
var cbok=null;
var cberr=null;
if(checkIn(props,_113[15])){
cbok=props.ok;

}
if(checkIn(props,_113[16])){
cberr=props.error;

}
var obj=ctorObject(_113[17]);
if(arr){
var nn=arr.length;
var nums=0;
var errorLoad=function(){
if(cberr){
cberr();

}

};
var loadCB=function(nm,url,tt){
callMethod(this,th,_113[18],[url,tt,{ok:function(bm){
callMethod(this,obj,_113[19],[nm,bm]);
++nums;if((nums >= nn)){
nums=0;
if(cbok){
cbok(obj);

}

}

},error:errorLoad}]);

};
var i=0;
while((i < arr.length)){
var nm=arr[i];
var url=nm;
var spl=callMethod(this,nm,_113[9],[_113[10]]);
var spl2=callMethod(this,nm,_113[9],[_113[20]]);
var ext=nm;
if(spl){
if((spl.length > 0)){
ext=callMethod(this,spl,_113[21]);

}

}
if(spl2){
if((spl2.length > 0)){
nm=callMethod(this,spl2,_113[21]);

}

}
var tt='';
var isImg=callMethod(this,this,_113[8],[ext]);
if(isImg){
tt=_113[22];

}
loadCB(nm,url,tt);
i++;
}

}

};
_AssetsDownloader[_113[18]]=function(url,type,props){
var th=this;
var cbok=null;
var cberr=null;
var isFast=!1;
var isAsync=!0;
if(props){
if(checkIs(props,_113[24])){
cbok=props;

}else{
if(checkIn(props,_113[15])){
cbok=props.ok;

}
if(checkIn(props,_113[16])){
cberr=props.error;

}
if(checkIn(props,_113[25])){
isAsync=props.async;

}
if(checkIn(props,_113[26])){
if(props.fast){
isFast=!0;

}

}

}

}
if(url){
if(type){
var urlOrig=url;
var isCB=!1;
if(!checkIn(th.callbacksObj,urlOrig)){
th.callbacksObj[urlOrig]=[];

}else{
isCB=!0;

}
var a2=th.callbacksObj[urlOrig];
callMethod(this,a2,_113[27],[{cb:cbok}]);
var noWeb=!1;
var isType1=!1;

if(noWeb){
var p4=callMethod(this,url,_113[29],[_113[30]]);
if((p4 > -1)){
url=callMethod(this,url,_113[31],[0,p4]);

}

}
var urlSrv=(GLOBAL.$app.domainUrl + _113[32]);
var url2=((urlSrv + _113[20]) + url);
if(isType1){
var folder=GLOBAL.$app.fullPathAppData;
var cb4=function(fii){
var res=fii;
if((type == _113[33])){
var bb2=callMethod(this,fii,_113[34]);
res=bb2;

}else if((type == _113[35])){
var bb=callMethod(this,fii,_113[34]);
if(bb){
var urlV1=callMethod(this,th,_113[36],[type,bb]);
res=urlV1;

}

}

callMethod(this,th,_113[14],[urlOrig,[res]]);

};
var fullpath=((folder + _113[20]) + url);

var fi=ctorObject(lang.io.File,[fullpath]);
var isExt=callMethod(this,fi,_113[38]);
if(!isExt){
if(!isCB){
callMethod(this,URL,_113[39],[url2,function(ba){
callMethod(this,th,_113[40],[url,ba]);
var isExt2=callMethod(this,fi,_113[38]);
if(isExt2){
cb4(fi);

}

},function(){
callMethod(this,th,_113[13],[urlOrig]);
if(cberr){
cberr();

}

}]);

}

}else{
cb4(fi);

}

}else{
if(checkIn(th.cacheObjURL,urlOrig)){
var vv=th.cacheObjURL[urlOrig];
callMethod(this,th,_113[14],[urlOrig,[vv]]);

}else{
if(!isCB){
if((type == _113[22])){
var bm=ctorObject(lang.display.Bitmap);
bm.async=isAsync;
if(isFast && noWeb){
bm.src=url2;
var imgHH=bm.naturalHeight;
if((imgHH != 0)){
callMethod(this,th,_113[14],[urlOrig,[bm]]);

}else{
callMethod(this,bm,_113[41],[_113[18],function(){
callMethod(this,this,_113[42],[_113[18],arguments.callee]);
callMethod(this,th,_113[14],[urlOrig,[this]]);

}]);
bm.src=url2;

}

}else{
if(isFast){
bm.src=url2;
callMethod(this,th,_113[14],[urlOrig,[bm]]);

}else{
callMethod(this,bm,_113[41],[_113[18],function(){
callMethod(this,this,_113[42],[_113[18],arguments.callee]);
callMethod(this,th,_113[14],[urlOrig,[this]]);

}]);
bm.src=url2;

}

}

}else if((type == _113[35])){
th.cacheObjURL[urlOrig]=url2;
callMethod(this,th,_113[14],[urlOrig,[url2]]);

}else{
callMethod(this,URL,_113[39],[url2,function(ba){
var res2=ba;
if((type == _113[33])){

}else{
res2=callMethod(this,th,_113[36],[type,ba]);
if((type == _113[35])){
th.cacheObjURL[urlOrig]=res2;

}

}
callMethod(this,th,_113[14],[urlOrig,[res2]]);

},function(){
callMethod(this,th,_113[13],[urlOrig]);
if(cberr){
cberr();

}

}]);

}


}

}

}

}

}

};
_AssetsDownloader[_113[36]]=function(type,ba){
var th=this;
var tt='';
if(ba){
if((type == _113[35])){
tt=_113[43];

}else if((type == _113[22])){
tt=_113[44];

}

var urlV=callMethod(this,URL,_113[45],[ba,tt]);
th.cacheObjURL[urlOrig]=urlV;
return urlV;

}
return null;

};
_AssetsDownloader[_113[48]]=function(path){
if(path){
var spl=callMethod(this,path,_113[9],[_113[20]]);
if(spl){
var pp='';
var i=0;
while((i < spl.length)){
var el=spl[i];
if((pp.size > 0)){
pp+=_113[20];

}
pp+=el;
var fi=ctorObject(lang.io.File,[pp]);
var isDir=callMethod(this,fi,_113[46]);
if(!isDir){
callMethod(this,fi,_113[47]);

}
i++;
}

}

}

};
_AssetsDownloader[_113[40]]=function(url,ba){
var th=this;
var folder=GLOBAL.$app.fullPathAppData;
if(url){
if(ba){
var spl=callMethod(this,url,_113[9],[_113[20]]);
if(spl){
var pp=((folder + _113[20]) + url);
var fileName=callMethod(this,spl,_113[21]);
url=callMethod(this,spl,_113[49],[_113[20]]);
callMethod(this,th,_113[48],[((folder + _113[20]) + url)]);

var qq=ctorObject(lang.io.File,[pp]);
callMethod(this,qq,_113[50],[ba]);

}

}

}

};
vm.registerClass(_113[51],'',_AssetsDownloader);
})(window);



(function(window){
var _193=["setTarget","Arial","addChild","parseTextFunc1","setText","remove","update","removeChild","clear","rect","#000000","resize","NotifyTypeTextSpr","lang.display.Sprite"];
var _NotifyTypeTextSpr={};
_NotifyTypeTextSpr["ctor"]=function(){
this.textW=0;
this.speed=2;
this.count=0;
this.startX=0;
this.maxH=30;
this.isEnd=!1;
this.countDel=-1;
this.xx=0;
this.mouseEnabled=!1;
this.selectable=!1;
this.spr=ctorObject(lang.display.Sprite);
this.spr.alpha=0.5;
this.p1=ctorObject(lang.display.Painter);
callMethod(this,this.p1,_193[0],[this.spr]);
this.tf=ctorObject(lang.text.TextField);
this.tf.fontName=_193[1];
this.tf.color=16777215;
callMethod(this,null,_193[2],[this.spr,this.tf]);

};
_NotifyTypeTextSpr[_193[4]]=function(v){
var th=this;
v=callMethod(this,GLOBAL.AppUtils,_193[3],[v]);
this.tf.text=('' + v);
this.textW=(this.tf.width + 4);
this.tf.width=this.textW;
var w=GLOBAL.$app.stage.stageWidth;
this.startX=castInt(((w + this.textW) - this.textW));
this.tf.x=this.startX;
this.tf.y=7;
this.xx=this.startX;

};
_NotifyTypeTextSpr[_193[6]]=function(){
if(!this.isEnd){
this.tf.x=this.xx;
var sp=this.speed;
this.xx-=sp;
if(((this.textW + this.xx) <= 0)){
this.xx=this.startX;
if((this.countDel != -1)){
this.countDel-=1;
if((this.countDel <= 0)){
callMethod(this,this,_193[5]);

}

}

}

}

};
_NotifyTypeTextSpr[_193[5]]=function(){
var th=this;
callMethod(this,this.parent,_193[7],[this]);
this.isEnd=!0;

};
_NotifyTypeTextSpr[_193[11]]=function(w,h){
this.spr.width=w;
this.spr.height=this.maxH;
var hh=GLOBAL.$app.stage.stageHeight;
this.startX=((w + this.textW) - this.textW);
callMethod(this,this.p1,_193[8]);
callMethod(this,this.p1,_193[9],[0,0,w,this.maxH,_193[10]]);

};
vm.registerClass(_193[12],_193[13],_NotifyTypeTextSpr);
})(window);

(function(window){
var _153=["addChild","setTarget","#00CC00","#FFFF00","#FF0000","Arial","init","stop","loadOk","setPercent","update","clear","rect","setText","Перезапуск через "," сек.","remove","#000000"," важных","Идёт загрузка"," обновлений ","%","removeChild","resize","AutoUpdateSpr1","lang.display.Sprite"];
var _AutoUpdateSpr1={};
_AutoUpdateSpr1["ctor"]=function(t,url){
this.t=t;
this.w=GLOBAL.$app.stage.stageWidth;
this.h=25;
this.margin=2;
this.isEnd=!1;
this.mouseEnabled=!1;
var spr=ctorObject(lang.display.Sprite);
spr.alpha=0.2;
callMethod(this,null,_153[0],[spr]);
this.p=ctorObject(lang.display.Painter);
callMethod(this,this.p,_153[1],[spr]);
this.clr=_153[2];
if((this.t == 2)){
this.clr=_153[3];

}else if((this.t == 3)){
this.clr=_153[4];

}

var spr2=ctorObject(lang.display.Sprite);
callMethod(this,null,_153[0],[spr2]);
spr2.alpha=0.7;
spr2.x=this.margin;
spr2.y=this.margin;
this.p2=ctorObject(lang.display.Painter);
callMethod(this,this.p2,_153[1],[spr2]);
var th=this;
var txt=ctorObject(lang.text.TextField);
this.txt=txt;
txt.fontName=_153[5];
txt.color=0;
txt.fontSize=15;
callMethod(this,null,_153[0],[txt]);
var perc1=0;
this.tm1=null;
var tm1=callMethod(this,Timer,_153[6],[100,function(){
if((perc1 > 100)){
perc1=0;
callMethod(this,this,_153[7]);
callMethod(this,th,_153[8]);

}else{
callMethod(this,th,_153[9],[perc1]);

}
perc1+=1;

}]);
callMethod(this,th,_153[9],[perc1]);
var appUrl=(GLOBAL.$app.fileUrl + '');

};
_AutoUpdateSpr1[_153[10]]=function(){

};
_AutoUpdateSpr1[_153[8]]=function(){
var th=this;
if((this.t == 2)){
var interv=10;
this.tm1=callMethod(this,Timer,_153[6],[1000,function(){
if((interv <= 0)){
interv=0;

}
interv-=1;
var ww=castInt(((interv / 10) * (th.w - (th.margin * 2))));
callMethod(this,th.p2,_153[11]);
callMethod(this,th.p2,_153[12],[0,0,ww,(th.h - (th.margin * 2)),th.clr]);
callMethod(this,th,_153[13],[((_153[14] + interv) + _153[15])]);
if((interv <= 0)){
document.location.href='';
th.isEnd=!0;
callMethod(this,th,_153[16]);

}

}]);
callMethod(this,th,_153[13],[((_153[14] + interv) + _153[15])]);

}else if((this.t == 3)){
th.isEnd=!0;
document.location.href='';
callMethod(this,this,_153[16]);

}else{
th.isEnd=!0;
callMethod(this,this,_153[16]);

}


};
_AutoUpdateSpr1[_153[13]]=function(v){
this.txt.text=v;
this.txt.width=(this.txt.width + 4);
this.txt.x=((this.w - this.txt.width) / 2);
this.txt.y=8;

};
_AutoUpdateSpr1[_153[9]]=function(v){
var t5='';
var ww=castInt(((v / 100) * (this.w - (this.margin * 2))));
callMethod(this,this.p,_153[11]);
callMethod(this,this.p,_153[12],[0,0,this.w,this.h,_153[17]]);
callMethod(this,this.p2,_153[11]);
callMethod(this,this.p2,_153[12],[0,0,ww,(this.h - (this.margin * 2)),this.clr]);
if((this.t == 3)){
t5=_153[18];

}
callMethod(this,this,_153[13],[((((_153[19] + t5) + _153[20]) + v) + _153[21]),v]);

};
_AutoUpdateSpr1[_153[16]]=function(){
var th=this;
if(th.tm1){
callMethod(this,th.tm1,_153[7]);

}
callMethod(this,this.parent,_153[22],[this]);

};
_AutoUpdateSpr1[_153[23]]=function(w,h){
this.w=w;
var hh=GLOBAL.$app.stage.stageHeight;
this.y=((hh - this.h) + 1);

};
vm.registerClass(_153[24],_153[25],_AutoUpdateSpr1);
})(window);



(function(window){
var _98=["createSpritePainter","Arial","web","addChild","remove","cb","on","rollover","setState","rollout","resize","clear","reset1","rect","#000000","app.chat.ChatMenuSprItem","lang.display.Sprite"];
var _app_chat_ChatMenuSprItem={};
_app_chat_ChatMenuSprItem["ctor"]=function(menu,o){
var th=this;
this.item=o;
this.w=0;
this.h=0;
this.cb=o[1];
this.obj=null;
this.bg=callMethod(this,GLOBAL.AppUtils,_98[0]);
this.bg2=callMethod(this,GLOBAL.AppUtils,_98[0]);
this.bg2.alpha=0;
this.bg2Init=!1;
this.tf=ctorObject(lang.text.TextField);
this.tf.fontSize=14;
this.tf.bold=!1;
this.tf.fontName=_98[1];
this.tf.text=o[0];
this.tf.mouseEnabled=!1;
this.tf.width=(this.tf.width + 4);

this.tf.x=4;
this.selectable=!1;
callMethod(this,null,_98[3],[this.bg,this.tf,this.bg2]);
this.bg2.buttonMode=!0;
this.bg2.click=function(e){
callMethod(this,menu,_98[4]);
if(th.cb){
callMethod(this,th,_98[5],[th.obj]);

}

};
callMethod(this,menu.ev,_98[6],[this.bg2,_98[7],function(e){
callMethod(this,th,_98[8],[1]);

}]);
callMethod(this,menu.ev,_98[6],[this.bg2,_98[9],function(e){
callMethod(this,th,_98[8],[0]);

}]);

};
_app_chat_ChatMenuSprItem[_98[8]]=function(v){
this.state=v;
callMethod(this,this,_98[10],[this.w,this.h]);

};
_app_chat_ChatMenuSprItem[_98[12]]=function(){
callMethod(this,this.bg2.painter,_98[11]);
this.bg2Init=!1;

};
_app_chat_ChatMenuSprItem[_98[10]]=function(w,h){
this.h=h;
if(!this.bg2Init){
callMethod(this,this.bg2.painter,_98[13],[0,0,this.w,h,_98[14]]);
this.bg2Init=!0;
callMethod(this,this,_98[8],[0]);

}
callMethod(this,this.bg.painter,_98[11]);
this.tf.color=16777215;
this.tf.x=((w - this.tf.width) / 2);
this.tf.y=((h - this.tf.height) / 2);
var clr2=GLOBAL.Config.menu1Styles.noSelectItem;
if((this.state == 1)){
this.tf.color=16777164;
clr2=GLOBAL.Config.menu1Styles.selectItem;

}
callMethod(this,this.bg.painter,_98[13],[0,0,this.w,h,clr2]);

};
vm.registerClass(_98[15],_98[16],_app_chat_ChatMenuSprItem);
})(window);

(function(window){
var _57=["web","createSpritePainter","addChild","Arial","on","click","remove","app.chat.ChatMenuSprItem","resize","redraw","getChildAt","reset1","updPos","clear","removeChild","[","]","setInfo","border","rect","app.chat.ChatUserMenuSpr","lang.display.Sprite"];
var _app_chat_ChatUserMenuSpr={};
_app_chat_ChatUserMenuSpr["ctor"]=function(menuList){
var th=this;
this.w=180;
this.h=300;
this.menuH=30;
this.isInterItem=!0;
this.scaleX=GLOBAL.$app.devicePixelRatio;
this.scaleY=GLOBAL.$app.devicePixelRatio;

this.menuList=menuList;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.bg1=callMethod(this,GLOBAL.AppUtils,_57[1]);
callMethod(this,null,_57[2],[this.bg1]);
this.cnt=ctorObject(lang.display.Sprite);
this.margin=4;
this.margin2=2;
this.tf=ctorObject(lang.text.TextField);
this.tf.x=(this.margin + 2);
this.tf.y=this.margin;
this.tf.fontSize=14;
this.tf.bold=!1;
this.tf.fontName=_57[3];
this.tf.color=16777164;
this.selectable=!1;
this.tfLvl=ctorObject(lang.text.TextField);
this.tfLvl.x=this.margin;
this.tfLvl.y=this.margin;
this.tfLvl.y+=2;

this.tfLvl.fontSize=12;
this.tfLvl.fontName=_57[3];
this.tfLvl.color=6750156;
callMethod(this,null,_57[2],[this.tf,this.tfLvl,this.cnt]);
this.cnt.y=25;
this.h=((this.menuH + this.margin2) * this.menuList.size);
this.h+=(22 + this.margin);
this.firstClick=!1;
callMethod(this,this.ev,_57[4],[GLOBAL.$app.stage,_57[5],function(){
if(!th.firstClick){
th.firstClick=!0;

}else{
callMethod(this,th,_57[6]);

}

}]);
var yy=0;
var i=0;
while((i < this.menuList.size)){
var el=this.menuList[i];
var sp=ctorObject(_57[7],[this,el]);
if((el.size > 2)){
sp.obj=el[2];

}
sp.w=(this.w - (this.margin * 2));
callMethod(this,sp,_57[8],[sp.w,this.menuH]);
sp.x=this.margin;
sp.y=(i * (this.menuH + this.margin2));
callMethod(this,this.cnt,_57[2],[sp]);
i++;
}
callMethod(this,this,_57[9]);

};
_app_chat_ChatUserMenuSpr[_57[12]]=function(){
var i=0;
while((i < this.cnt.numChildren)){
var sp=callMethod(this,this.cnt,_57[10],[i]);
callMethod(this,sp,_57[11]);
sp.w=(this.w - (this.margin * 2));
callMethod(this,sp,_57[8],[sp.w,this.menuH]);
sp.y=(i * (this.menuH + this.margin2));
i++;
}

};
_app_chat_ChatUserMenuSpr[_57[6]]=function(){
callMethod(this,this.ev,_57[13]);
if(this.parent){
callMethod(this,this.parent,_57[14],[this]);

}

};
_app_chat_ChatUserMenuSpr[_57[17]]=function(nick,level){
this.tf.text=nick;
this.tf.width=(this.tf.width + 4);
if((level != 0)){
this.tfLvl.text=((_57[15] + level) + _57[16]);

}
var w3=(this.tf.width + this.tfLvl.width);
this.tf.x=((this.w - w3) / 2);
if((this.tf.x <= this.margin)){
this.tf.x=this.margin;

}
this.tfLvl.x=((this.tf.x + this.tf.width) + 4);
var w2=((this.tfLvl.x + this.tfLvl.width) + 12);
if((w2 > this.w)){
this.w=w2;
callMethod(this,this,_57[12]);

}
callMethod(this,this,_57[9]);

};
_app_chat_ChatUserMenuSpr[_57[9]]=function(){
var border=3;
callMethod(this,this.bg1.painter,_57[13]);
if((this.tf.width > this.w)){
this.w=((this.tf.width + this.tfLvl.width) + 12);
callMethod(this,this,_57[12]);

}
var clr2=0;
var clr3=GLOBAL.Config.menu1Styles.noSelectItem;
var clr4=GLOBAL.Config.menu1Styles.bg;
callMethod(this,this.bg1.painter,_57[18],[border,clr2]);
callMethod(this,this.bg1.painter,_57[19],[0,0,(this.w + border),(this.h + border),clr4]);
callMethod(this,this.bg1.painter,_57[19],[border,border,(this.w - (border * 2)),(22 - border),clr3]);

};
vm.registerClass(_57[20],_57[21],_app_chat_ChatUserMenuSpr);
})(window);



(function(window){
var _53=["BGKostiSprite","AppPopUpMapEditorTextSettingsMov","addChild","remove","animAlphaSprite","attr","spellcheck","color","getHexColor","maxLength","6","change","web","input","parseInt","updateObj","текст","android","on","rainbow","UICheckboxSpr","радужный","размер","app.ui.HSlider","toString","0","stop","removeChild","resize","app.popup.PopUpMapEditorTextSettings","lang.display.Sprite"];
var _app_popup_PopUpMapEditorTextSettings={};
_app_popup_PopUpMapEditorTextSettings["ctor"]=function(el){
var th=this;
this.selectable=!1;
this.el=el;
this.tm=null;
var bg=ctorObject(_53[0]);
var c=ctorObject(_53[1]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text='';
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_53[2],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_53[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_53[3]);

};
callMethod(this,GLOBAL.AppUtils,_53[4],[c.close,0.8,1]);
this.ti=c.tiText;
this.ti.value=('' + el.ob.text);
callMethod(this,this.ti,_53[5],[{'spellcheck':''}]);
var colorV=16777215;
if(checkIn(el.ob.fill,_53[7])){
colorV=el.ob.fill.color;

}
var clrHex=callMethod(this,this,_53[8],[colorV]);
callMethod(this,c.tiColor,_53[5],[{'maxLength':_53[10]}]);
c.tiColor.value=('' + clrHex);
var t2=_53[11];
t2=_53[13];

var colorCB=function(){
var v1=c.tiColor.value;
var clrV=callMethod(this,null,_53[14],[v1,16]);
if((el.ob.fill.color != clrV)){
el.ob.fill.color=clrV;
callMethod(this,el,_53[15]);

}

};
var tiCB=function(){
var v1=th.ti.value;
if((v1.size <= 0)){
v1=_53[16];

}
if((el.ob.text != v1)){
el.ob.text=v1;
callMethod(this,el,_53[15]);

}

};
callMethod(this,c.tiColor,_53[18],[t2,colorCB]);
callMethod(this,this.ti,_53[18],[t2,tiCB]);

var isRainbow=!1;
if((el.ob.fill.t == _53[19])){
isRainbow=!0;

}
var b3=ctorObject(_53[20],[_53[21],isRainbow,function(v){
if(v){
el.ob.fill.t=_53[19];

}else{
el.ob.fill.t=_53[7];

}
callMethod(this,el,_53[15]);

}]);
b3.x=30;
b3.y=140;
callMethod(this,c,_53[2],[b3]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,c,_53[2],[spr2]);
spr2.x=40;
spr2.y=120;
var tf1=ctorObject(lang.text.TextField);
tf1.y=-24;
tf1.fontSize=15;
tf1.text=_53[22];
callMethod(this,spr2,_53[2],[tf1]);
var sliderFontSize=ctorObject(_53[23],[50,200,function(v){
el.ob.fontSize=v;
callMethod(this,el,_53[15]);

}]);
sliderFontSize.minValue=el.defFontSize;
sliderFontSize.value=el.ob.fontSize;
callMethod(this,spr2,_53[2],[sliderFontSize]);
var tfPage=ctorObject(lang.display.Sprite);
tfPage.width=110;
tfPage.html='<a href="https://colorscheme.ru" target="_blank" style="font-family:BIP;font-size:14px;text-decoration:none;color:#FFFFFF;">палитра цветов</a>';
tfPage.x=30;
tfPage.y=180;
callMethod(this,c,_53[2],[tfPage]);
var tfPage2=ctorObject(lang.display.Sprite);
tfPage2.width=140;
tfPage2.html='<a href="http://classic.getemoji.com" target="_blank" style="font-family:BIP;font-size:14px;text-decoration:none;color:#FFFFFF;">цветные символы</a>';
tfPage2.x=160;
tfPage2.y=180;
callMethod(this,c,_53[2],[tfPage2]);

};
_app_popup_PopUpMapEditorTextSettings[_53[8]]=function(color){
var vv=('' + callMethod(this,color,_53[24],[16]));
var num=vv.size;
var qw='';
if((num < 6)){
var i=0;
while((i < (6 - num))){
qw+=_53[25];
i++;
}

}
var q=((qw + '') + vv);
return q;

};
_app_popup_PopUpMapEditorTextSettings[_53[3]]=function(){
if(this.tm){
callMethod(this,this.tm,_53[26]);

}
this.tm=null;
callMethod(this,this.parent,_53[27],[this]);

};
_app_popup_PopUpMapEditorTextSettings[_53[28]]=function(w,h){
callMethod(this,this.bg,_53[28],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_53[29],_53[30],_app_popup_PopUpMapEditorTextSettings);
})(window);

(function(window){
var _282=["BGKostiSprite","AppPopUpMapEditorTextSettingsMov","addChild","remove","animAlphaSprite","renderTextObj","attr","spellcheck","color","getHexColor","maxLength","6","change","web","input","on","parseInt","updateObj","текст","rainbow","UICheckboxSpr","радужный","размер","app.ui.HSlider","toString","0","removeChild","resize","app.popup.PopUpMapEditorTextSettingsWorld","lang.display.Sprite"];
var _app_popup_PopUpMapEditorTextSettingsWorld={};
_app_popup_PopUpMapEditorTextSettingsWorld["ctor"]=function(el){
var th=this;
this.selectable=!1;
this.el=el;
var bg=ctorObject(_282[0]);
var c=ctorObject(_282[1]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text='';
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_282[2],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_282[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_282[3]);

};
callMethod(this,GLOBAL.AppUtils,_282[4],[c.close,0.8,1]);
var txtObj=el.o.text;
el.updateObj=function(){
callMethod(this,el,_282[5],[txtObj]);

};
this.ti=c.tiText;
this.ti.value=('' + txtObj.text);
callMethod(this,this.ti,_282[6],[{'spellcheck':''}]);
var colorV=16777215;
if(checkIn(txtObj.fill,_282[8])){
colorV=txtObj.fill.color;

}
var clrHex=callMethod(this,this,_282[9],[colorV]);
callMethod(this,c.tiColor,_282[6],[{'maxLength':_282[11]}]);
c.tiColor.value=('' + clrHex);
var t2=_282[12];
t2=_282[14];

callMethod(this,c.tiColor,_282[15],[t2,function(e){
var v1=c.tiColor.value;
var clrV=callMethod(this,null,_282[16],[v1,16]);
txtObj.fill.color=clrV;
callMethod(this,el,_282[17]);

}]);
callMethod(this,this.ti,_282[15],[t2,function(e){
var v1=th.ti.value;
if((v1.size <= 0)){
v1=_282[18];

}
txtObj.text=v1;
callMethod(this,el,_282[17]);

}]);
var isRainbow=!1;
if((txtObj.fill.t == _282[19])){
isRainbow=!0;

}
var b3=ctorObject(_282[20],[_282[21],isRainbow,function(v){
if(v){
txtObj.fill.t=_282[19];

}else{
txtObj.fill.t=_282[8];

}
callMethod(this,el,_282[17]);

}]);
b3.x=30;
b3.y=140;
callMethod(this,c,_282[2],[b3]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,c,_282[2],[spr2]);
spr2.x=40;
spr2.y=120;
var tf1=ctorObject(lang.text.TextField);
tf1.y=-24;
tf1.fontSize=15;
tf1.text=_282[22];
callMethod(this,spr2,_282[2],[tf1]);
var sliderFontSize=ctorObject(_282[23],[50,200,function(v){
txtObj.fontSize=v;
callMethod(this,el,_282[17]);

}]);
sliderFontSize.minValue=16;
sliderFontSize.value=txtObj.fontSize;
callMethod(this,spr2,_282[2],[sliderFontSize]);

};
_app_popup_PopUpMapEditorTextSettingsWorld[_282[9]]=function(color){
var vv=('' + callMethod(this,color,_282[24],[16]));
var num=vv.size;
var qw='';
if((num < 6)){
var i=0;
while((i < (6 - num))){
qw+=_282[25];
i++;
}

}
var q=((qw + '') + vv);
return q;

};
_app_popup_PopUpMapEditorTextSettingsWorld[_282[3]]=function(){
callMethod(this,this.parent,_282[26],[this]);

};
_app_popup_PopUpMapEditorTextSettingsWorld[_282[27]]=function(w,h){
callMethod(this,this.bg,_282[27],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_282[28],_282[29],_app_popup_PopUpMapEditorTextSettingsWorld);
})(window);



(function(window){
var _119=["gameItem","собрано "," из ","левой кнопкой мыши","касанием по экрану","Arial","addChild","bitmap","def","push","Собирайте "," в забегах","и получайте подарки!","Собирать можно собачкой, или ","declination","За ","boar","пальцем","Кабанчик"," уже в забегах!","!","o","giftInfo","Приз: ","MainMenuButton","Play","close","playOnlineRoom","resize","app.popup.PopUpEventInfoT1","lang.display.Sprite"];
var _app_popup_PopUpEventInfoT1={};
_app_popup_PopUpEventInfoT1["ctor"]=function(o){
var th=this;
var c=ctorObject(lang.display.Sprite);
var ww=530;
var tt=o.t;
var nums=(GLOBAL.$app.user.actionItems1 * GLOBAL.$app.user.actionItemsNumsPos);
var gi=null;
if(checkIn(o,_119[0])){
gi=o.gameItem;

}
var s6=(((_119[1] + GLOBAL.$app.user.actionItemsNums) + _119[2]) + nums);
var title1='';
var s3='';
var s5=_119[3];
if(GLOBAL.$app.isMobile){
s5=_119[4];

}
var createTF=function(txt,fontSize,color){
var tf=ctorObject(lang.text.TextField);
tf.fontName=_119[5];
tf.bold=!0;
tf.fontSize=fontSize;
tf.color=color;
tf.filters=GLOBAL.Config.filterBlue1;
tf.text=txt;
tf.x=((ww - tf.width) / 2);
return tf;

};
var createTextMulti=function(arr,fontSize,color,hh){
var sp=ctorObject(lang.display.Sprite);
if(arr){
var yy1=0;
var i=0;
while((i < arr.length)){
var el=arr[i];
var tff=createTF(el,fontSize,color);
callMethod(this,sp,_119[6],[tff]);
tff.y=yy1;
yy1=(yy1 + hh);
i++;
}

}
return sp;

};
var yy2=0;
var bm=callMethod(this,null,_119[7],[o.icon]);
if(bm){
bm.x=((ww - (bm.naturalWidth * bm.scaleX)) / 2);
yy2=(yy2 + (bm.naturalHeight * bm.scaleY));
callMethod(this,c,_119[6],[bm]);

}
yy2+=5;
if((tt == _119[8])){
var nm1=gi.name;
var arr1=[];
callMethod(this,arr1,_119[9],[((_119[10] + nm1) + _119[11])]);
callMethod(this,arr1,_119[9],[_119[12]]);
var arr2=[];
callMethod(this,arr2,_119[9],[(_119[13] + s5)]);
callMethod(this,arr2,_119[9],[(('' + nm1) + ' появляются после того как вы взяли ключ.')]);
title1=callMethod(this,GLOBAL.AppUtils,_119[14],[nums,gi.titles]);
s3=((_119[15] + title1) + ' вы получите случайный подарок!');
var sp1=createTextMulti(arr1,18,16777215,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);
yy2+=48;
var sp1=createTextMulti([s6],16,16776960,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);
yy2+=25;
var sp1=createTextMulti([s3],16,16777215,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);

}else if((tt == _119[16])){
var s8=_119[3];
if(GLOBAL.$app.isMobile){
s8=_119[17];

}
var nmBoar=_119[18];
var arr1=[];
callMethod(this,arr1,_119[9],[(nmBoar + _119[19])]);
var arr2=[(('когда встретите его, нажмите на него ' + s8) + _119[20])];
var sp1=createTextMulti(arr1,18,16777215,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);
yy2+=28;
var sp1=createTextMulti(arr2,16,16777215,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);
yy2+=48;
var giftItem=null;
if(checkIn(o,_119[21])){
var obb=o.o;
if(obb){
if(checkIn(obb,_119[22])){
if(obb.giftInfo){
giftItem=obb.giftInfo;

}

}

}

}
if(giftItem){
var s10=(_119[23] + giftItem.name);
var sp1=createTextMulti([s10],16,16776960,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);
yy2+=30;

}

}

yy2+=30;
var playBut2=ctorObject(_119[24],[_119[25],function(){
var r3=!1;
var scc=GLOBAL.$app.scenesMasterHtml5.curScene;
if(checkIs(scc,GLOBAL.scenes.game.GameRoom)){
r3=!0;

}else if(checkIs(scc,GLOBAL.scenes.game.PrestartGameRoom1)){
r3=!0;

}

callMethod(this,GLOBAL.$app.popup,_119[26],[th]);
if(r3){

}else{
callMethod(this,GLOBAL.$app.gameMaster,_119[27]);

}

}]);
playBut2.x=210;
playBut2.y=yy2;
callMethod(this,c,_119[6],[playBut2]);
yy2+=110;
if((tt == _119[8])){
var sp1=createTextMulti(arr2,14,16777215,20);
sp1.y=yy2;
callMethod(this,c,_119[6],[sp1]);

}else if((tt == _119[16])){

}

this.c=c;
callMethod(this,null,_119[6],[c]);

};
_app_popup_PopUpEventInfoT1[_119[28]]=function(w,h){
callMethod(this,this.c,_119[28],[w,h]);

};
vm.registerClass(_119[29],_119[30],_app_popup_PopUpEventInfoT1);
})(window);



(function(window){
var _265=["addDomCanvas","PawsAnimationMovie","addChild","Arial","вход в мир","initTimer","init","stop","openPopUpMinText1","navHome","resize","setText","stopCheckTimer","update","removeDomCanvas","removeScene","scenes.world.WorldRoomPreload","lang.display.Sprite"];
var _scenes_world_WorldRoomPreload={};
_scenes_world_WorldRoomPreload["ctor"]=function(){
var th=this;
callMethod(this,GLOBAL.$app,_265[0]);
this.tm1=null;
this.pawsAnim=ctorObject(_265[1],[10]);
this.pawsAnim.x=70;
this.pawsAnim.y=200;
callMethod(this,null,_265[2],[this.pawsAnim]);
var tf1=ctorObject(lang.text.TextField);
this.tf1=tf1;
tf1.fontName=_265[3];
tf1.fontSize=30;
tf1.filters=GLOBAL.Config.shadowText1;
tf1.color=16777215;
tf1.text=_265[4];
tf1.bold=!0;
callMethod(this,null,_265[2],[tf1]);
callMethod(this,this,_265[5]);

};
_scenes_world_WorldRoomPreload[_265[5]]=function(){
var th=this;
var endTm=10;
this.tm2=callMethod(this,Timer,_265[6],[(endTm * 1000),function(){
callMethod(this,this,_265[7]);
callMethod(this,GLOBAL.$app.popup,_265[8],['<br /><br />Что то пошло не так.']);
callMethod(this,GLOBAL.$app,_265[9]);

}]);

};
_scenes_world_WorldRoomPreload[_265[11]]=function(v){
this.tf1.text=v;
callMethod(this,this,_265[10],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

};
_scenes_world_WorldRoomPreload[_265[12]]=function(){
if(this.tm2){
callMethod(this,this.tm2,_265[7]);

}
this.tm2=null;

};
_scenes_world_WorldRoomPreload[_265[10]]=function(w,h){
var th=this;
h=((h - this.y) - 90);
this.tf1.x=((w - this.tf1.width) / 2);
this.tf1.y=(h - 110);
this.pawsAnim.x=((w - this.pawsAnim.w) / 2);
this.pawsAnim.y=(h - 70);

};
_scenes_world_WorldRoomPreload[_265[13]]=function(){
callMethod(this,this.pawsAnim,_265[13]);

};
_scenes_world_WorldRoomPreload[_265[15]]=function(){
callMethod(this,this,_265[12]);
callMethod(this,GLOBAL.$app,_265[14]);

};
vm.registerClass(_265[16],_265[17],_scenes_world_WorldRoomPreload);
})(window);

(function(window){
var _51=["WorldRoom","decode","scenes.world.GameMap","parseMap","scenes.world.GameRoom","world","autoResize","addChild","initStream","on","addUser","User","parseObj","push","persXY","addPers","join","setStream","updateUserInfo","setZoomContent","removeScene","update","resize","scenes.world.WorldRoomScene","lang.display.Sprite"];
var _scenes_world_WorldRoomScene={};
_scenes_world_WorldRoomScene["ctor"]=function(ob){
this.downPanel=ctorObject(lang.display.Sprite);
this.stream=null;
this.ob=ob;
this.g=null;
this.sceneName=_51[0];
var mapO=callMethod(this,JSON,_51[1],[ob.map]);
var mapCl=ctorObject(_51[2]);
callMethod(this,mapCl,_51[3],[mapO]);
this.map=mapCl;
ob.map=mapCl;

};
_scenes_world_WorldRoomScene[_51[17]]=function(v){
var th=this;
if(v){
this.stream=v;
if(!th.g){
th.g=ctorObject(_51[4],[_51[5],th.ob.users,th.ob,GLOBAL.$app.user.id]);
callMethod(this,GLOBAL.$app,_51[6]);
callMethod(this,th,_51[7],[th.g]);
callMethod(this,th.g,_51[8],[th.stream]);

}
callMethod(this,th.stream,_51[9],[_51[10],function(u){
var uu=ctorObject(_51[11]);
callMethod(this,uu,_51[12],[u]);
callMethod(this,th.g.users,_51[13],[uu]);
var persX=th.map.persObj.x;
var persY=th.map.persObj.y;
if(checkIn(uu,_51[14])){
if(uu.persXY){
if((uu.persXY.size > 1)){
persX=uu.persXY[0];
persY=uu.persXY[1];

}

}

}
callMethod(this,th.g,_51[15],[uu,persX,persY]);

}]);
callMethod(this,th.stream,_51[16]);

}

};
_scenes_world_WorldRoomScene[_51[18]]=function(id,v){
if(this.g){
callMethod(this,this.g,_51[18],[id,v]);

}

};
_scenes_world_WorldRoomScene[_51[19]]=function(v){
if(this.g){
callMethod(this,this.g,_51[19],[v]);

}

};
_scenes_world_WorldRoomScene[_51[20]]=function(){
if(this.g){
callMethod(this,this.g,_51[20]);

}

};
_scenes_world_WorldRoomScene[_51[21]]=function(){
if(this.g){
callMethod(this,this.g,_51[21]);

}

};
_scenes_world_WorldRoomScene[_51[22]]=function(w,h){
if(this.g){
callMethod(this,this.g,_51[22],[w,h]);

}

};
vm.registerClass(_51[23],_51[24],_scenes_world_WorldRoomScene);
})(window);



(function(window){
var _233=["app.popup.PopUpMinInfo1","addChild","ButtonOrangeText","Да","remove","Нет","removeChild","resize","app.popup.PopUpConfirmMsgYesNo","lang.display.Sprite"];
var _app_popup_PopUpConfirmMsgYesNo={};
_app_popup_PopUpConfirmMsgYesNo["ctor"]=function(title,cb,cbno){
this.p1=ctorObject(_233[0],['']);
callMethod(this,null,_233[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_233[1],[sp2]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=('' + title);
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_233[1],[this.tf1]);
var bb=ctorObject(_233[2],[_233[3],function(){
callMethod(this,th,_233[4]);
if(cb){
cb();

}

}]);
bb.x=110;
bb.y=168;
callMethod(this,sp2,_233[1],[bb]);
var bb2=ctorObject(_233[2],[_233[5],function(){
callMethod(this,th,_233[4]);
if(cbno){
cbno();

}

}]);
bb2.x=(bb.x + 120);
bb2.y=bb.y;
callMethod(this,sp2,_233[1],[bb2]);

};
_app_popup_PopUpConfirmMsgYesNo[_233[4]]=function(){
if(this.parent){
callMethod(this,this.parent,_233[6],[this]);

}

};
_app_popup_PopUpConfirmMsgYesNo[_233[7]]=function(w,h){
callMethod(this,this.p1,_233[7],[w,h]);

};
vm.registerClass(_233[8],_233[9],_app_popup_PopUpConfirmMsgYesNo);
})(window);



(function(window){
var _251=["css","font-family","Arial","word-break","break-all","font-size","15px","font-weight","bold","attr","scroll1","createPainter","addChild","on","mousedown","clear","mouseup","getChildAt","removeChild","render","add","update","removeAllChilds","removeAll","remove","scrollDown","resize","app.chat.ChatContainer","lang.display.Sprite"];
var _app_chat_ChatContainer={};
_app_chat_ChatContainer["ctor"]=function(){
var th=this;
this.w=0;
this.h=0;
this.lastW=0;
this.lastH=0;
this.cntH=0;
this.scrollActive=!0;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.maxMessages=0;
this.cnt=ctorObject(lang.display.Sprite);
this.sc=null;
callMethod(this,this.cnt,_251[0],[{'font-family':_251[2],'word-break':_251[4],'font-size':_251[6],'font-weight':_251[8]}]);
callMethod(this,this.cnt,_251[9],[{className:_251[10]}]);
this.msk=ctorObject(lang.display.Sprite);
callMethod(this,this.msk,_251[11]);
callMethod(this,null,_251[12],[this.cnt]);
callMethod(this,this.cnt,_251[13],[_251[14],function(e){
th.scrollActive=!1;
callMethod(this,th.ev,_251[15]);
callMethod(this,th.ev,_251[13],[GLOBAL.$app.stage,_251[16],function(){
th.scrollActive=!0;
callMethod(this,th.ev,_251[15]);

}]);

}]);

};
_app_chat_ChatContainer[_251[20]]=function(o){
if(o){
if((this.maxMessages > 0)){
if((this.cnt.numChildren >= this.maxMessages)){
var el=callMethod(this,this.cnt,_251[17],[0]);
callMethod(this,this.cnt,_251[18],[el]);

}

}
callMethod(this,this.cnt,_251[12],[o]);
callMethod(this,this,_251[19]);

}

};
_app_chat_ChatContainer[_251[21]]=function(){

};
_app_chat_ChatContainer[_251[23]]=function(){
callMethod(this,this.cnt,_251[22]);

};
_app_chat_ChatContainer[_251[24]]=function(o){
if(o){
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_251[17],[i]);
if((el == o)){
callMethod(this,this.cnt,_251[18],[el]);
callMethod(this,this,_251[19]);
return !0;

}
i++;
}

}
return !1;

};
_app_chat_ChatContainer[_251[19]]=function(){

};
_app_chat_ChatContainer[_251[25]]=function(){
if(this.scrollActive){
this.cnt.scrollTop=this.cnt.scrollHeight;

}

};
_app_chat_ChatContainer[_251[26]]=function(w,h){
this.w=w;
this.h=h;
this.cnt.width=(w - 8);
this.cnt.height=h;
this.cnt.scroll=!0;

};
vm.registerClass(_251[27],_251[28],_app_chat_ChatContainer);
})(window);



(function(window){
var _151=["BGKostiSprite","drawMovie","replaceHTMLSymbols1","attr","spellcheck","maxLength","Придумайте новый ник","addChild","floor","check","Цена","web","createTF1","пол:","мужской","женский","changeSex","remove","animAlphaSprite","ButtonOrangeText","Изменить","openPopUpMinText1","\n\nСлишком короткий ник","updateNick","\n\nНик успешно изменён","send","add","\n\nНедостаточно лапок","\n\nНик уже занят","shop.changeNick","removeChild","resize","app.popup.PopUpMyChangeNick","lang.display.Sprite"];
var _app_popup_PopUpMyChangeNick={};
_app_popup_PopUpMyChangeNick["ctor"]=function(){
var th=this;
this.selectable=!1;
var bg=ctorObject(_151[0]);
var c=callMethod(this,GLOBAL.$app.moviesReader,_151[1],[25]);
this.curValue=0;
this.ti=c.tiText;
this.curSex=GLOBAL.$app.user.sex;
var maxLen=(GLOBAL.Config.defLengthNick + (5 * GLOBAL.$app.user.nickLength));
var nickV=callMethod(this,GLOBAL.AppUtils,_151[2],[GLOBAL.$app.user.nick]);
if(GLOBAL.Config.isTestAuth){

}else{
this.ti.value=('' + nickV);
callMethod(this,this.ti,_151[3],[{'spellcheck':'','maxLength':maxLen}]);

}
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=_151[6];
tf1.width=(tf1.width + 4);
tf1.x=60;
tf1.y=68;
callMethod(this,c,_151[7],[tf1]);
var price2=0;
var priceCurV=GLOBAL.$app.shopMaster.priceChangeNick;
if((GLOBAL.$app.user.vip == 1)){
price2=callMethod(this,Math,_151[8],[(priceCurV * 0.3)]);

}else if((GLOBAL.$app.user.vip == 2)){
price2=callMethod(this,Math,_151[8],[(priceCurV * 0.2)]);

}

var priceV=(priceCurV - price2);
var checkFree=callMethod(this,GLOBAL.$app.flagsMaster,_151[9],[1,3]);
if(!checkFree){
priceV=0;

}
var tf4=ctorObject(lang.text.TextField);
tf4.filters=GLOBAL.Config.shadowText1;
tf4.color=16347292;
tf4.fontSize=23;
tf4.text=('' + priceV);
tf4.x=175;
tf4.y=150;
callMethod(this,c,_151[7],[tf4]);
var tf5=ctorObject(lang.text.TextField);
tf5.color=16777215;
tf5.fontSize=17;
tf5.text=_151[10];
tf5.x=87;
tf5.y=153;
callMethod(this,c,_151[7],[tf5]);
if(!GLOBAL.$app.isMobile){
tf4.y+=6;
tf5.y+=6;

}

var spr3=ctorObject(lang.display.Sprite);
spr3.x=60;
spr3.y=200;
callMethod(this,c,_151[7],[spr3]);
var tf7=callMethod(this,this,_151[12],[_151[13],17]);
tf7.y=-2;
callMethod(this,spr3,_151[7],[tf7]);
var sexMaleTF=callMethod(this,this,_151[12],[_151[14],15]);
sexMaleTF.x=50;
sexMaleTF.buttonMode=!0;
callMethod(this,spr3,_151[7],[sexMaleTF]);
var sexFemaleTF=callMethod(this,this,_151[12],[_151[15],15]);
sexFemaleTF.x=((sexMaleTF.x + sexMaleTF.width) + 30);
sexFemaleTF.buttonMode=!0;
sexMaleTF.y=0;
sexFemaleTF.y=0;
callMethod(this,spr3,_151[7],[sexFemaleTF]);
sexMaleTF.click=function(){
th.curSex=GLOBAL.Sex.MALE;
callMethod(this,th,_151[16],[GLOBAL.Sex.MALE,!0]);

};
sexFemaleTF.click=function(){
th.curSex=GLOBAL.Sex.FEMALE;
callMethod(this,th,_151[16],[GLOBAL.Sex.FEMALE,!0]);

};
this.sexMaleTF=sexMaleTF;
this.sexFemaleTF=sexFemaleTF;
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_151[7],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_151[17]);

};
callMethod(this,GLOBAL.AppUtils,_151[18],[c.close,0.8,1]);
var but1=ctorObject(_151[19],[_151[20],function(){
callMethod(this,th,_151[17]);
var v2=th.ti.value;
if(GLOBAL.Config.isTestAuth){
if((v2.size <= 0)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],[_151[22]]);

}else{
callMethod(this,GLOBAL.$app.user,_151[23],[v2]);
callMethod(this,GLOBAL.$app.popupHtml,_151[21],[_151[24]]);

}

}else{
callMethod(this,GLOBAL.$app.connect,_151[25],[function(status,nickV){
if((status == GLOBAL.ErrorType.OK)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],[_151[24]]);
callMethod(this,GLOBAL.$app.flagsMaster,_151[26],[1,3]);

}else if((status == GLOBAL.ErrorType.NO_CHANGE)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],['\n\nНик не отличается от текущего']);

}else if((status == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],[_151[27]]);

}else if((status == GLOBAL.ErrorType.EMPTY)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],[_151[22]]);

}else if((status == GLOBAL.ErrorType.EXISTS)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],[_151[28]]);

}else if((status == GLOBAL.ErrorType.TIME_EXISTS)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],['\n\n\nВы недавно уже меняли ник\n\nПовторите попытку через несколько минут.']);

}else if((status == GLOBAL.ErrorType.WARN)){
callMethod(this,GLOBAL.$app.popupHtml,_151[21],['\n\n\nНик нарушает правила!\nВозможно в нике есть плохие слова или флуд.']);

}







},_151[29],v2,th.curSex]);

}

}]);
callMethod(this,c,_151[7],[but1]);
but1.x=92;
but1.y=230;
callMethod(this,this,_151[16],[GLOBAL.$app.user.sex,!1]);

};
_app_popup_PopUpMyChangeNick[_151[16]]=function(v,isupd){
var th=this;
if(GLOBAL.$app.user){
var check1=!1;
check1=!0;
if(check1){
if(!this.q1){
var tfCur=(v == GLOBAL.Sex.MALE) ? this.sexMaleTF : this.sexFemaleTF;
th.sexMaleTF.color=16777215;
th.sexFemaleTF.color=16777215;
tfCur.color=65535;
if(isupd){

}else{
tfCur.color=65535;

}

}

}

}

};
_app_popup_PopUpMyChangeNick[_151[12]]=function(txt,fontSize){
var tf=ctorObject(lang.text.TextField);
tf.color=16777215;
tf.fontSize=fontSize;
tf.text=txt;
tf.width=(tf.width + 4);
return tf;

};
_app_popup_PopUpMyChangeNick[_151[17]]=function(){
callMethod(this,this.parent,_151[30],[this]);

};
_app_popup_PopUpMyChangeNick[_151[31]]=function(w,h){
callMethod(this,this.bg,_151[31],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_151[32],_151[33],_app_popup_PopUpMyChangeNick);
})(window);



(function(window){
var _135=["addChild","init","checkMsgs","getTimestamp","getChildAt","expireTime","removeSprite","resetPosCnt","addSprite","removeChild","startTween","app.game.DialogPersMsg","setText","addMessage","stop","tweenV","remove","removeDialog","app.game.DialogPers","lang.display.Sprite"];
var _app_game_DialogPers={};
_app_game_DialogPers["ctor"]=function(){
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,null,_135[0],[this.cnt]);
this.maxMessages=3;
var th=this;
this.tm=null;

};
_app_game_DialogPers[_135[1]]=function(){
var th=this;
if(!this.tm){
this.tm=callMethod(this,Timer,_135[1],[3000,function(){
callMethod(this,th,_135[2]);

}]);

}

};
_app_game_DialogPers[_135[2]]=function(){
var aa=[];
var ts=callMethod(this,Date,_135[3]);
var i=(this.cnt.numChildren - 1);
while((i >= 0)){
var el=callMethod(this,this.cnt,_135[4],[i]);
if(el){
if(checkIn(el,_135[5])){
var expTime=el.expireTime;
if((expTime > -1)){
if((ts >= expTime)){
callMethod(this,this,_135[6],[el]);

}

}

}

}
i--;
}

};
_app_game_DialogPers[_135[7]]=function(){
var yy=0;
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_135[4],[i]);
if(el){
el.y=yy;
yy=((yy + el.h) + 1);

}
i++;
}
this.cnt.y=-yy;

};
_app_game_DialogPers[_135[8]]=function(o){
if(o){
callMethod(this,this.cnt,_135[0],[o]);
callMethod(this,this,_135[7]);

}

};
_app_game_DialogPers[_135[6]]=function(o,noAnim){
var th=this;
if(o){
if(noAnim){
if(o.parent){
callMethod(this,o.parent,_135[9],[o]);

}
callMethod(this,th,_135[7]);

}else{
var tween=callMethod(this,null,_135[10],[o,{alpha:0},400,{ok:function(){
if(o.parent){
callMethod(this,o.parent,_135[9],[o]);

}
callMethod(this,th,_135[7]);

}}]);
o.tweenV=tween;

}

}

};
_app_game_DialogPers[_135[13]]=function(txt,noParse){
if(txt){
if((txt.size > 0)){
if((this.maxMessages > 0)){
if((this.cnt.numChildren > 0)){
if((this.cnt.numChildren >= this.maxMessages)){
var q=callMethod(this,this.cnt,_135[4],[0]);
callMethod(this,this.cnt,_135[9],[q]);

}

}

}
var ts=callMethod(this,Date,_135[3]);
var tm=(ts + 10);
var m=ctorObject(_135[11]);
m.noParse=noParse;
m.expireTime=tm;
callMethod(this,m,_135[12],[txt]);
m.alpha=0;
callMethod(this,this.cnt,_135[0],[m]);
callMethod(this,this,_135[7]);
var tween=callMethod(this,null,_135[10],[m,{alpha:1},400]);
m.tweenV=tween;

}

}

};
_app_game_DialogPers[_135[17]]=function(){
if(this.tm){
callMethod(this,this.tm,_135[14]);

}
this.tm=null;
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_135[4],[i]);
if(el){
if(checkIn(el,_135[15])){
callMethod(this,TWEEN,_135[16],[el.tweenV]);

}

}
i++;
}

};
vm.registerClass(_135[18],_135[19],_app_game_DialogPers);
})(window);

(function(window){
var _10=["addChild","HTMLSprite","Arial","setFontSize","createSpritePainter","calcPos","resetPosCnt","replaceStr","parseURLItem1","parseStringMsg","</span>","setText","clear","rectRound","#000000","app.game.DialogPersMsg","lang.display.Sprite"];
var _app_game_DialogPersMsg={};
_app_game_DialogPersMsg["ctor"]=function(){
var th=this;
this.s1=ctorObject(lang.display.Sprite);
callMethod(this,null,_10[0],[this.s1]);
this.noParse=null;
this.roundedV=5;
this.expireTime=-1;
this.mov=ctorObject(_10[1]);
this.mov.a1=!0;
this.msgTF=ctorObject(lang.text.TextField);
this.msgTF.fontName=_10[2];
this.msgTF.color=0;
callMethod(this,this,_10[3],[14]);
this.msgTF.x=10;
this.msgTF.y=10;
var spr=callMethod(this,GLOBAL.AppUtils,_10[4]);
this.spr=spr;
spr.alpha=0.7;
callMethod(this,this.s1,_10[0],[spr,this.msgTF,this.mov]);
this.w=0;
this.h=0;
this.mov.onchange=function(){
callMethod(this,th,_10[5]);
if(th.parent){
if(th.parent.parent){
if(checkIn(th.parent.parent,_10[6])){
callMethod(this,th.parent.parent,_10[6]);

}

}

}

};

};
_app_game_DialogPersMsg[_10[3]]=function(v){
this.msgTF.fontSize=v;

};
_app_game_DialogPersMsg[_10[11]]=function(v){
var th=this;
if(th.noParse){

}else{
v=callMethod(this,GLOBAL.$app.chat,_10[7],[v]);

}
v=callMethod(this,GLOBAL.$app.chat,_10[8],[v,!0]);
if(GLOBAL.$app.isStandalone){

}
v=callMethod(this,GLOBAL.$app.smilesMaster,_10[9],[v,!0]);
var maxWidth=250;
this.mov.maxWidth=maxWidth;
this.mov.htmll=(('<span style="font-family:Arial;color:#FFFFFF;font-size:14px;">' + v) + _10[10]);
callMethod(this,this,_10[5]);

};
_app_game_DialogPersMsg[_10[5]]=function(){
var th=this;
this.mov.x=0;
this.mov.y=0;
var textW=this.mov.allWidth;
var textH=this.mov.allHeight;
this.mov.x=10;
this.mov.y=10;
this.w=(textW + 4);
this.h=((textH + this.msgTF.fontSize) + 4);
callMethod(this,this.spr.painter,_10[12]);
callMethod(this,this.spr.painter,_10[13],[0,0,((this.w + this.mov.x) + 4),this.h,_10[14],this.roundedV]);
var xx2=((this.w + this.mov.x) / 2);
this.x=-xx2;

};
vm.registerClass(_10[15],_10[16],_app_game_DialogPersMsg);
})(window);



(function(window){
var _116=["addChild","init","checkMsgs","getTimestamp","getChildAt","expireTime","removeSprite","resetPosCnt","addSprite","removeChild","app.chat.pers.DialogPersMsg","setText","addMessage","stop","removeDialog","app.chat.pers.DialogPers","lang.display.Sprite"];
var _app_chat_pers_DialogPers={};
_app_chat_pers_DialogPers["ctor"]=function(){
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,null,_116[0],[this.cnt]);
this.maxMessages=3;
var th=this;
this.tm=null;

};
_app_chat_pers_DialogPers[_116[1]]=function(){
var th=this;
if(!this.tm){
this.tm=callMethod(this,Timer,_116[1],[3000,function(){
callMethod(this,th,_116[2]);

}]);

}

};
_app_chat_pers_DialogPers[_116[2]]=function(){
var aa=[];
var ts=callMethod(this,Date,_116[3]);
var i=(this.cnt.numChildren - 1);
while((i >= 0)){
var el=callMethod(this,this.cnt,_116[4],[i]);
if(el){
if(checkIn(el,_116[5])){
var expTime=el.expireTime;
if((expTime > -1)){
if((ts >= expTime)){
callMethod(this,this,_116[6],[el]);

}

}

}

}
i--;
}

};
_app_chat_pers_DialogPers[_116[7]]=function(){
var yy=0;
var i=0;
while((i < this.cnt.numChildren)){
var el=callMethod(this,this.cnt,_116[4],[i]);
if(el){
el.y=yy;
yy=((yy + el.h) + 1);

}
i++;
}
this.cnt.y=-yy;

};
_app_chat_pers_DialogPers[_116[8]]=function(o){
if(o){
callMethod(this,this.cnt,_116[0],[o]);
callMethod(this,this,_116[7]);

}

};
_app_chat_pers_DialogPers[_116[6]]=function(o){
if(o){
if(o.parent){
callMethod(this,o.parent,_116[9],[o]);

}
callMethod(this,this,_116[7]);

}

};
_app_chat_pers_DialogPers[_116[12]]=function(txt){
if(txt){
if((txt.size > 0)){
if((this.maxMessages > 0)){
if((this.cnt.numChildren > 0)){
if((this.cnt.numChildren >= this.maxMessages)){
var q=callMethod(this,this.cnt,_116[4],[0]);
callMethod(this,this.cnt,_116[9],[q]);

}

}

}
var ts=callMethod(this,Date,_116[3]);
var tm=(ts + 10);
var m=ctorObject(_116[10]);
m.expireTime=tm;
callMethod(this,m,_116[11],[txt]);
callMethod(this,this.cnt,_116[0],[m]);
callMethod(this,this,_116[7]);

}

}

};
_app_chat_pers_DialogPers[_116[14]]=function(){
if(this.tm){
callMethod(this,this.tm,_116[13]);

}

};
vm.registerClass(_116[15],_116[16],_app_chat_pers_DialogPers);
})(window);



(function(window){
var _140=["addChild","Arial","setFontSize","createSpritePainter","css","word-wrap","break-word","clear","border","rectRound","#FFFFFF","setText","app.chat.pers.DialogPersMsg","lang.display.Sprite"];
var _app_chat_pers_DialogPersMsg={};
_app_chat_pers_DialogPersMsg["ctor"]=function(){
this.s1=ctorObject(lang.display.Sprite);
callMethod(this,null,_140[0],[this.s1]);
this.roundedV=5;
this.expireTime=-1;
this.msgTF=ctorObject(lang.text.TextField);
this.msgTF.fontName=_140[1];
this.msgTF.color=0;
callMethod(this,this,_140[2],[16]);
this.msgTF.x=10;
var spr=callMethod(this,GLOBAL.AppUtils,_140[3]);
this.spr=spr;
spr.alpha=0.7;
callMethod(this,this.s1,_140[0],[spr,this.msgTF]);
this.w=0;
this.h=0;

};
_app_chat_pers_DialogPersMsg[_140[2]]=function(v){
this.msgTF.fontSize=v;

};
_app_chat_pers_DialogPersMsg[_140[11]]=function(v){
var maxWidth=350;
this.msgTF.maxWidth=maxWidth;
this.msgTF.text=v;
callMethod(this,this.msgTF,_140[4],[{'word-wrap':_140[6]}]);
var textW=(this.msgTF.width + 4);
var textH=this.msgTF.height;
this.w=(textW + 4);
this.h=((textH + this.msgTF.fontSize) + 4);
this.msgTF.y=((this.h - textH) / 2);
callMethod(this,this.spr.painter,_140[7]);
callMethod(this,this.spr.painter,_140[8],[1,0]);
callMethod(this,this.spr.painter,_140[9],[0,0,(this.w + this.msgTF.x),this.h,_140[10],this.roundedV]);
this.x=(-this.w / 2);

};
vm.registerClass(_140[12],_140[13],_app_chat_pers_DialogPersMsg);
})(window);



(function(window){
var _153=["PopUpGiftUserInfo","app.popup.PopUpMinInfo1","addChild","Вам подарок!","giftFree","от: ","от вас","css","white-space","nowrap","text-overflow","clip","overflow","hidden","clickChatUser","getByID","getURLByID","on","load","off","vk","ButtonOrangeText","Рассказать","remove","Мне подарили подарок ",". Играй с нами!","api","wall.post","int","loadItems","removeChild","resize","app.popup.PopUpGiftUserInfo","lang.display.Sprite"];
var _app_popup_PopUpGiftUserInfo={};
_app_popup_PopUpGiftUserInfo["ctor"]=function(ot,giftid,tt){
this.popupName=_153[0];
this.tt=tt;
this.p1=ctorObject(_153[1],['']);
callMethod(this,null,_153[2],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_153[2],[sp2]);
var txt2=_153[3];
if((tt == _153[4])){
txt2='Ваш ежедневный случайный подарок!';

}
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=('' + txt2);
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=4;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_153[2],[this.tf1]);
if((tt == _153[4])){
var tf8=ctorObject(lang.text.TextField);
tf8.fontSize=15;
tf8.text='следующий подарок будет через 24 часа.';
tf8.x=((450 - tf8.width) / 2);
tf8.y=160;
tf8.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_153[2],[tf8]);

}
if(ot){
var tf2=ctorObject(lang.text.TextField);
tf2.fontSize=16;
var nickV=(_153[5] + ot.nick);
if(GLOBAL.$app.user){
if((GLOBAL.$app.user.id == ot.id)){
nickV=_153[6];

}

}
tf2.text=nickV;
tf2.filters=GLOBAL.Config.shadowText1;
tf2.width=(tf2.width + 4);
var tw=tf2.width;
if((tf2.width > 200)){
tw=200;
tf2.width=200;
callMethod(this,tf2,_153[7],[{'white-space':_153[9],'text-overflow':_153[11],'overflow':_153[13]}]);

}
tf2.x=((450 - tw) / 2);
tf2.y=34;
tf2.buttonMode=!0;
tf2.click=function(){
callMethod(this,GLOBAL.$app.chat,_153[14],[ot,!1,!0]);

};
callMethod(this,sp2,_153[2],[tf2]);
var cb3=function(){
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_153[15],[giftid]);
if(giftV){
var urlV=callMethod(this,GLOBAL.$app.giftsMaster,_153[16],[giftid]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.mouseEnabled=!1;
bm1.y=65;
callMethod(this,bm1,_153[17],[_153[18],function(){
callMethod(this,this,_153[19],[_153[18],arguments.callee]);
this.x=((450 - this.naturalWidth) / 2);
this.visible=!0;

}]);
bm1.src=urlV;
bm1.visible=!1;
callMethod(this,sp2,_153[2],[bm1]);
if((GLOBAL.Config.authType == _153[20])){
var bb=ctorObject(_153[21],[_153[22],function(){
callMethod(this,th,_153[23]);
if((GLOBAL.Config.authType == _153[20])){
var msgA=((_153[24] + giftV.name) + _153[25]);
var url2=GLOBAL.Config.vkAppURL;
callMethod(this,GLOBAL.$app.apiVK,_153[26],[_153[27],{message:msgA,attachments:('' + url2)},function(){

},function(){

}]);

}

}]);
bb.x=160;
bb.y=170;
callMethod(this,sp2,_153[2],[bb]);

}

}

};
if(checkIs(giftid,_153[28])){
if(!GLOBAL.$app.giftsMaster.isLoad){
callMethod(this,GLOBAL.$app.giftsMaster,_153[29],[function(){
cb3();

}]);

}else{
cb3();

}

}else{
cb3();

}

}

};
_app_popup_PopUpGiftUserInfo[_153[23]]=function(){
if(this.parent){
callMethod(this,this.parent,_153[30],[this]);

}

};
_app_popup_PopUpGiftUserInfo[_153[31]]=function(w,h){
callMethod(this,this.p1,_153[31],[w,h]);

};
vm.registerClass(_153[32],_153[33],_app_popup_PopUpGiftUserInfo);
})(window);



(function(window){
var _250=["addChild","ceil","AppGiftsSceneMovItem","loadPage","getUserID","app.chat.ChatUserNickSpr2","del","removeItemByID","removeAllChilds","eachPage","AppGiftsSceneGiftItem","КОЛ-ВО ","web","getURLByID","on","load","off","createPainter","rect","#000000","draw","openPopUpSellGiftUser","sellStatus","send","remove","removeChild","shop.sellGift","cbReload","scenes.MyGiftsScenePolka","lang.display.Sprite"];
var _scenes_MyGiftsScenePolka={};
_scenes_MyGiftsScenePolka["ctor"]=function(thh,userid,items){
var th=this;
this.thh=thh;
this.cbReload=null;
this.userid=userid;
this.items=items;
this.curPage=1;
this.maxItems=5;
this.polkaW=600;
this.sp=ctorObject(lang.display.Sprite);
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.y=-40;
this.sp.x=10;
callMethod(this,null,_250[0],[this.sp]);
this.pages=callMethod(this,Math,_250[1],[(th.items.size / th.maxItems)]);
this.m=ctorObject(_250[2]);
this.m.bm1.mouseEnabled=!1;
callMethod(this,this.sp,_250[0],[this.cnt,this.m]);
callMethod(this,this,_250[3],[this.curPage]);
this.m.navRight.click=function(){
if((th.curPage < th.pages)){
th.curPage+=1;
callMethod(this,th,_250[3],[th.curPage]);

}

};
this.m.navLeft.click=function(){
if((th.curPage > 0)){
th.curPage-=1;
callMethod(this,th,_250[3],[th.curPage]);

}

};
var u=callMethod(this,thh.cacheUsers,_250[4],[userid]);
if(u){
var nickSpr=ctorObject(_250[5],[u]);
nickSpr.x=(((th.polkaW - 65) - nickSpr.w) / 2);
nickSpr.y=48;
callMethod(this,this.sp,_250[0],[nickSpr]);

}

};
_scenes_MyGiftsScenePolka[_250[7]]=function(id){
var arr=this.items;
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
if((el.size > 0)){
var idd=el[0];
if((id == idd)){
callMethod(this,arr,_250[6],[i]);
return !0;

}

}
i++;
}

}
return !1;

};
_scenes_MyGiftsScenePolka[_250[3]]=function(v){
callMethod(this,this.cnt,_250[8]);
var th=this;
var obj2=th.thh.giftsObj;
this.m.navLeft.visible=(v > 1);
this.m.navRight.visible=(v < th.pages);
var w1=100;
var aa=callMethod(this,this.items,_250[9],[v,th.maxItems]);
if(aa){
if((aa.size > 0)){
var i=0;
while((i < aa.size)){
var el=aa[i];
var q=ctorObject(_250[10]);
q.x=(i * w1);
q.el=el;
var uniq=el[0];
var idd=el[1];
var nums=el[2];
if(checkIn(obj2,idd)){
var giftObjV=obj2[idd];
q.uniqID=uniq;
q.giftID=idd;
q.giftNums=nums;
q.giftObj=giftObjV;
q.itemObj=el;
var tfName=ctorObject(lang.text.TextField);
tfName.filters=GLOBAL.Config.shadowText1;
tfName.color=16777215;
tfName.fontSize=10;
tfName.text=(_250[11] + nums);
tfName.x=((w1 - tfName.width) / 2);
tfName.y=5;
tfName.y+=4;

tfName.mouseEnabled=!1;
callMethod(this,q,_250[0],[tfName]);
var urlBM=callMethod(this,GLOBAL.$app.giftsMaster,_250[13],[q.giftObj]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.y=11;
bm1.mouseEnabled=!1;
callMethod(this,bm1,_250[14],[_250[15],function(){
callMethod(this,this,_250[16],[_250[15],arguments.callee]);
this.x=((96 - this.naturalWidth) / 2);

}]);
bm1.src=urlBM;
callMethod(this,q,_250[0],[bm1]);
var rectSpr=ctorObject(lang.display.Sprite);
rectSpr.x=2;
rectSpr.alpha=0;
callMethod(this,rectSpr,_250[17]);
rectSpr.buttonMode=!0;
callMethod(this,rectSpr.painter,_250[18],[0,0,(w1 - 5),100,_250[19]]);
rectSpr.itemSpr=q;
callMethod(this,q,_250[0],[rectSpr]);
rectSpr.click=function(){
var th2=this;
var uniqq=this.itemSpr.uniqID;
var lastX=this.itemSpr.x;
var bmm=ctorObject(lang.display.BitmapData,[150,150,!0,0]);
this.itemSpr.x=0;
this.itemSpr.scaleX=(1 / GLOBAL.$app.scaleFactor);
this.itemSpr.scaleY=(1 / GLOBAL.$app.scaleFactor);
callMethod(this,bmm,_250[20],[this.itemSpr]);
this.itemSpr.scaleX=1;
this.itemSpr.scaleY=1;
this.itemSpr.x=lastX;
var bm1=ctorObject(lang.display.Bitmap);
bm1.src=bmm;
var popup1=callMethod(this,GLOBAL.$app.popup,_250[21],[bm1,this.itemSpr.giftObj,this.itemSpr.giftNums,function(){
callMethod(this,popup1,_250[22],[0]);
var nn=(th2.itemSpr.giftNums - popup1.nums);
callMethod(this,GLOBAL.$app.connect,_250[23],[function(vv){
callMethod(this,popup1,_250[24]);
if(vv){
if((nn <= 0)){
if(th2.itemSpr.parent){
callMethod(this,th2.itemSpr.parent,_250[25],[th2.itemSpr]);

}
callMethod(this,th,_250[7],[uniqq]);

}else{
th2.itemSpr.itemObj[2]=nn;

}
callMethod(this,th,_250[3],[th.curPage]);

}

},_250[26],uniqq,popup1.nums]);

}]);

};
callMethod(this,this.cnt,_250[0],[q]);

}
i++;
}

}else{
if(th.cbReload){
callMethod(this,th,_250[27]);

}

}

}
this.cnt.x=((th.polkaW - (w1 * this.cnt.numChildren)) / 2);

};
vm.registerClass(_250[28],_250[29],_scenes_MyGiftsScenePolka);
})(window);

(function(window){
var _118=["addDomCanvas","app.master.CacheUsersMaster","AppBGHome1Spr","initHomeBG1","web","getAssetByName","navleft.png","navright.png","addChild","loadPage","AppButtonExit2","on","rollover","rollout","navHome","load","send","user.getGifts","count","parseArr","giftsSellAllBut.png","openPopUpSellAllGiftsUser","resize","openPopUpMinText1","\n\nУ вас нет подарков","всего: ","ceil","reloadPage","removeDomCanvas","removeChild","clear","removeScene","removeAllChilds","eachPage","scenes.MyGiftsScenePolka","scenes.MyGiftsScene","lang.display.Sprite"];
var _scenes_MyGiftsScene={};
_scenes_MyGiftsScene["ctor"]=function(){
callMethod(this,GLOBAL.$app,_118[0]);
var th=this;
this.cacheUsers=ctorObject(_118[1]);
this.bgMov=ctorObject(_118[2]);
callMethod(this,GLOBAL.$app,_118[3],[this.bgMov]);
this.w=0;
this.h=0;
this.sellBut=null;
this.maxRows=3;
this.maxScrollH=0;
this.pages=0;
this.curPage=1;
this.giftsObj={};
this.arr=[];
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ev2=ctorObject(lang.events.EventsObjectMaster);
this.spr=ctorObject(lang.display.Sprite);
this.spr.y=120;
this.cnt=ctorObject(lang.display.Sprite);
var cntStartY=60;
this.cntStartYY=60;

this.navSpr=ctorObject(lang.display.Sprite);
var navLeftImg=callMethod(this,GLOBAL.$app.moviesReader,_118[5],[_118[6]]);
var navRightImg=callMethod(this,GLOBAL.$app.moviesReader,_118[5],[_118[7]]);
callMethod(this,this.navSpr,_118[8],[navLeftImg,navRightImg]);
navLeftImg.buttonMode=!0;
navRightImg.buttonMode=!0;
navRightImg.x=80;
navLeftImg.click=function(){
if((th.curPage > 0)){
th.curPage-=1;
callMethod(this,th,_118[9],[th.curPage]);

}

};
navRightImg.click=function(){
if((th.curPage < th.pages)){
th.curPage+=1;
callMethod(this,th,_118[9],[th.curPage]);

}

};
this.navLeftImg=navLeftImg;
this.navRightImg=navRightImg;
this.cnt.y=cntStartY;
this.downPanel=ctorObject(lang.display.Sprite);
callMethod(this,null,_118[8],[this.spr]);
this.mov=ctorObject(lang.display.Sprite);
callMethod(this,this.spr,_118[8],[this.cnt,this.mov]);
this.txtCount=ctorObject(lang.text.TextField);
this.txtCount.color=16777215;
this.txtCount.y=15;
this.txtCount.filters=GLOBAL.Config.shadowText2;
this.exitBut=ctorObject(_118[10]);
callMethod(this,this.exitBut.msk,_118[11],[_118[12],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.exitBut.msk,_118[11],[_118[13],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
callMethod(this,GLOBAL.$app,_118[14]);

};
callMethod(this,this.downPanel,_118[8],[this.exitBut,this.navSpr,this.txtCount]);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_118[8],[this.downPanel]);
callMethod(this,this,_118[15]);

};
_scenes_MyGiftsScene[_118[15]]=function(){
var th=this;
callMethod(this,GLOBAL.$app.webconnect,_118[16],[_118[17],{},function(o){
var allNums=0;
if(o){
if(checkIn(o,_118[18])){
allNums=o.count;

}
if((o.items.size > 0)){
var usersIds=o.users;
callMethod(this,th.cacheUsers,_118[15],[usersIds,function(){
callMethod(this,th,_118[19],[o.items,o.gifts]);

}]);
var lvlv=5;
var sellBut=callMethod(this,GLOBAL.$app.moviesReader,_118[5],[_118[20]]);
sellBut.y=30;
callMethod(this,th.downPanel,_118[8],[sellBut]);
sellBut.buttonMode=!0;
th.sellBut=sellBut;
sellBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_118[21],[function(){
callMethod(this,GLOBAL.$app,_118[14]);

}]);

};
callMethod(this,th,_118[22],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

}else{
callMethod(this,GLOBAL.$app.popup,_118[23],[_118[24]]);
callMethod(this,GLOBAL.$app,_118[14]);

}

}
th.txtCount.text=(_118[25] + allNums);

}]);

};
_scenes_MyGiftsScene[_118[19]]=function(a,giftsObj){
if(a){
if((a.size > 0)){
this.pages=callMethod(this,Math,_118[26],[(a.size / this.maxRows)]);
this.giftsObj=giftsObj;
this.arr=a;
callMethod(this,this,_118[9],[this.curPage]);

}

}

};
_scenes_MyGiftsScene[_118[27]]=function(){
callMethod(this,this,_118[9],[this.curPage]);

};
_scenes_MyGiftsScene[_118[31]]=function(){
callMethod(this,GLOBAL.$app,_118[28]);
if(this.downPanel.parent){
callMethod(this,this.downPanel.parent,_118[29],[this.downPanel]);

}
callMethod(this,this.ev,_118[30]);
callMethod(this,this.ev2,_118[30]);

};
_scenes_MyGiftsScene[_118[9]]=function(v){
var th=this;
callMethod(this,this.cnt,_118[32]);
this.cnt.y=this.cntStartYY;
var aa=callMethod(this,th.arr,_118[33],[v,th.maxRows]);
var hh2=134;
this.navLeftImg.visible=(v > 1);
this.navRightImg.visible=(v < th.pages);
var ii=0;
var i=0;
while((i < aa.size)){
var ob=aa[i];
var userid=ob[0];
var items=ob[1];
if((items.size > 0)){
var sp=ctorObject(_118[34],[th,userid,items]);
sp.cbReload=function(){
callMethod(this,th,_118[27]);

};
sp.y=(ii * hh2);
ii+=1;
callMethod(this,this.cnt,_118[8],[sp]);

}
i++;
}
this.maxScrollH=(ii * hh2);
this.maxScrollH+=50;

};
_scenes_MyGiftsScene[_118[22]]=function(w,h){
this.w=w;
this.h=(h - 90);
callMethod(this,this.bgMov,_118[22],[w,(h - 90)]);
this.spr.x=((w - 620) / 2);
if(GLOBAL.$app.uiMobile){

}else{
this.spr.y=90;

}
this.exitBut.x=(w - 200);
this.exitBut.y=15;
if(this.sellBut){
this.sellBut.x=(this.spr.x + 80);

}
this.navSpr.x=(this.spr.x + 240);
this.navSpr.y=20;
this.txtCount.x=(this.spr.x + 260);

};
vm.registerClass(_118[35],_118[36],_scenes_MyGiftsScene);
})(window);



(function(window){
var _216=["delUserID","addUser","Array","id","User","parseObj","Object","getUserID","updateNick","updateUserNick","updateUserField","usersObj","alert","push","loadWeb","send","users.get","load","join",",","api","getAvaByUserID","web","apiA","photo_50","photo_100","indexOf","logo50.jpg","loadAvaUsers","clear","app.master.CacheUsersMaster"];
var _app_master_CacheUsersMaster={};
_app_master_CacheUsersMaster["ctor"]=function(){
this.usersObj={};
this.avaUsers={};

};
_app_master_CacheUsersMaster[_216[0]]=function(id){
if(checkIn(this.usersObj,id)){
delete this.usersObj[id];

}

};
_app_master_CacheUsersMaster[_216[1]]=function(id,u){
this.usersObj[id]=u;

};
_app_master_CacheUsersMaster[_216[7]]=function(id){
var qq=id;
if(checkIs(qq,_216[2])){
if((qq.size > 0)){
var el=qq[0];
if(checkIn(el,_216[3])){
var u=ctorObject(_216[4]);
callMethod(this,u,_216[5],[el]);
return u;

}else{
id=el;

}

}

}else if(checkIs(qq,_216[6])){
if(checkIn(qq,_216[3])){
var u=ctorObject(_216[4]);
callMethod(this,u,_216[5],[qq]);
return u;

}

}

var el=checkIn(this.usersObj,('' + id)) ? this.usersObj[id] : null;
return el;

};
_app_master_CacheUsersMaster[_216[9]]=function(id,nick){
var u=callMethod(this,this,_216[7],[id]);
if(u){
u.nick=nick;
if(GLOBAL.$app.user){
if((id == GLOBAL.$app.user.id)){
callMethod(this,GLOBAL.$app.user,_216[8],[nick]);

}

}

}

};
_app_master_CacheUsersMaster[_216[10]]=function(id,field,v){
var u=callMethod(this,this,_216[7],[id]);
if(u){
u[field]=v;

}

};
_app_master_CacheUsersMaster[_216[17]]=function(ids,cb,props){
var th=this;
var arr=[];
var uObj=th.usersObj;
if(props){
if(checkIn(props,_216[11])){
uObj=props.usersObj;
callMethod(this,null,_216[12],[57]);

}

}
if(!uObj){
uObj={};

}
if(checkIs(ids,_216[2])){
var i=0;
while((i < ids.size)){
var q4=ids[i];
if(!checkIn(uObj,q4)){
callMethod(this,arr,_216[13],[q4]);

}
i++;
}

}else{
if(!checkIn(uObj,ids)){
callMethod(this,arr,_216[13],[ids]);

}

}
if((arr.size > 0)){
if(GLOBAL.Config.isTestAuth){
callMethod(this,this,_216[14],[ids,cb,props]);

}else{
callMethod(this,GLOBAL.$app.connect,_216[15],[function(o){
if(o){
var i=0;
while((i < o.size)){
var el=o[i];
var u=ctorObject(_216[4]);
callMethod(this,u,_216[5],[el]);
var idd=u.id;
uObj[idd]=u;
i++;
}

}
cb(uObj);

},_216[16],arr]);

}

}else{
cb(uObj);

}

};
_app_master_CacheUsersMaster[_216[14]]=function(ids,cb,props){
var th=this;
var arr=[];
var uObj=th.usersObj;
if(props){
if(checkIn(props,_216[11])){
uObj=props.usersObj;

}

}
if(!uObj){
uObj={};

}
if(checkIs(ids,_216[2])){
var i=0;
while((i < ids.size)){
var q4=ids[i];
if(!checkIn(uObj,q4)){
callMethod(this,arr,_216[13],[q4]);

}
i++;
}

}else{
if(!checkIn(uObj,ids)){
callMethod(this,arr,_216[13],[ids]);

}

}
if((arr.size > 0)){
var str=callMethod(this,arr,_216[18],[_216[19]]);
callMethod(this,GLOBAL.$app,_216[20],[_216[16],{id:str},function(o){
if(o){
var i=0;
while((i < o.size)){
var el=o[i];
var u=ctorObject(_216[4]);
callMethod(this,u,_216[5],[el]);
var idd=u.id;
uObj[idd]=u;
i++;
}

}
cb(uObj);

}]);

}else{
cb(uObj);

}

};
_app_master_CacheUsersMaster[_216[21]]=function(id){
if(checkIn(this.avaUsers,id)){
var v=this.avaUsers[id];
return v;

}
return GLOBAL.Config.defaultAvaURL;

};
_app_master_CacheUsersMaster[_216[28]]=function(ids,cb){
var th=this;
var loginsList=[];
var loginsVK=[];
var loginsIds={};
callMethod(this,th,_216[17],[ids,function(){
var i=0;
while((i < ids.size)){
var u=callMethod(this,th,_216[7],[ids[i]]);
if(u){
var login=u.login;
if(login){
if((login.size > 2)){
var userid=u.id;
if(!checkIn(th.avaUsers,userid)){
callMethod(this,loginsList,_216[13],[login]);
loginsIds[login]=userid;

}

}

}

}
i++;
}
var isWeb=!0;

if((loginsList.size > 0)){
var str2=callMethod(this,loginsList,_216[18],[_216[19]]);
callMethod(this,GLOBAL.MainApi,_216[23],[_216[16],{id:str2},function(o){
var i=0;
while((i < o.size)){
var u=o[i];
var idd=u.id;
var loginV=u.login;
var url='';
if(checkIn(u,_216[24])){
url=u.photo_50;

}
if(checkIn(u,_216[25])){
url=u.photo_100;

}
if(url){
if((url.size > 0)){
var p2=callMethod(this,url,_216[26],[_216[27]]);
if((p2 > -1)){
url=GLOBAL.Config.defaultAvaURL;

}

}

}
if(checkIn(loginsIds,loginV)){
var userid=loginsIds[loginV];
th.avaUsers[userid]=url;

}
i++;
}
cb();

}]);

}else{
cb();

}

}]);

};
_app_master_CacheUsersMaster[_216[29]]=function(){
this.usersObj={};
this.avaUsers={};

};
vm.registerClass(_216[30],'',_app_master_CacheUsersMaster);
})(window);



(function(window){
var _153=["BGKostiSprite","AppPopUpS1Mov1","a","attr","scroll1","addChild","remove","animAlphaSprite","load","removeChild","removeAllChilds","Идёт загрузка...","send","parseList","user.accessSettingsRedirAction","get","ButtonOrangeText","Добавить","openPopUpInputOne","ID игроков через пробел","openPopUpMinText1","add","bitmap","DeleteMsg.png","on","click","openPopUpConfirmMsgYesNo","Убрать группу?","join"," ","ID ","css","white-space","nowrap","настроить","Обновить","update","resize","app.popup.PopUpAccessUserRedir","lang.display.Sprite"];
var _app_popup_PopUpAccessUserRedir={};
_app_popup_PopUpAccessUserRedir["ctor"]=function(){
var th=this;
this.bg=ctorObject(_153[0]);
this.c=ctorObject(_153[1]);
this.cSpr=ctorObject(lang.display.Sprite);
this.preloadTxt=null;
this.preloadTxt2=null;
this.accessList1=[];
this.type=_153[2];
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_153[3],[{className:_153[4]}]);
callMethod(this,this.c,_153[5],[this.cnt,this.cSpr]);
callMethod(this,null,_153[5],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_153[6]);

};
callMethod(this,GLOBAL.AppUtils,_153[7],[this.c.close,0.8,1]);
callMethod(this,this,_153[8]);

};
_app_popup_PopUpAccessUserRedir[_153[8]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_153[9],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_153[9],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_153[10]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_153[11];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_153[5],[txt1]);
th.preloadTxt=txt1;
var cb4=function(){
callMethod(this,GLOBAL.$app.connect,_153[12],[function(arr){
callMethod(this,th,_153[13],[arr]);

},_153[14],th.type,_153[15]]);

};
cb4();

};
_app_popup_PopUpAccessUserRedir[_153[13]]=function(arr){
var th=this;
callMethod(this,th.cnt,_153[10]);
var bb=ctorObject(_153[16],[_153[17],function(){
callMethod(this,GLOBAL.$app.popup,_153[18],[_153[19],_153[17],'',function(ob){
var idd=ob.name;
callMethod(this,GLOBAL.$app.connect,_153[12],[function(v){
if((v == 1)){
callMethod(this,th,_153[8]);

}else{
callMethod(this,GLOBAL.$app.popup,_153[20],['\n\nОшибка при выполнении действия']);

}

},_153[14],th.type,_153[21],idd]);

}]);

}]);
bb.x=235;
bb.y=402;
callMethod(this,th.cSpr,_153[5],[bb]);
var sp2=ctorObject(lang.display.Sprite);
var accessSpr=ctorObject(lang.display.Sprite);
callMethod(this,th.cnt,_153[5],[sp2,accessSpr]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_153[9],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_153[9],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var sp=ctorObject(lang.display.Sprite);
var isInitiatorV=!1;
if(!isInitiatorV){
var delBM=callMethod(this,null,_153[22],[_153[23]]);
delBM.y=4;
delBM.buttonMode=!0;
delBM.itemObj=el;
callMethod(this,delBM,_153[24],[_153[25],function(e){
var idd=this.itemObj.id;
callMethod(this,GLOBAL.$app.popup,_153[26],[_153[27],function(){
callMethod(this,GLOBAL.$app.connect,_153[12],[function(v){
if((v == 1)){
callMethod(this,th,_153[8]);

}else{
callMethod(this,GLOBAL.$app.popup,_153[20],['<br /><br />Ошибка при выполнении действия']);

}

},_153[14],th.type,_153[6],idd]);

}]);

}]);
callMethod(this,sp,_153[5],[delBM]);

}
var idsStr=callMethod(this,el.users,_153[28],[_153[29]]);
var tf=ctorObject(lang.text.TextField);
tf.x=30;
tf.color=16777215;
tf.text=(_153[30] + idsStr);
tf.filters=GLOBAL.Config.filterBlue1;
callMethod(this,tf,_153[31],[{'white-space':_153[33]}]);
callMethod(this,sp,_153[5],[tf]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=14;
tf3.color=16776960;
var ss2=_153[34];
tf3.text=ss2;
tf3.el=el;
tf3.x=380;
tf3.y=3;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
var ell=this.el;
var uniqid=ell.id;
var str2=callMethod(this,ell.users,_153[28],[_153[29]]);
callMethod(this,GLOBAL.$app.popup,_153[18],[_153[19],_153[35],str2,function(ob){
var idd=ob.name;
callMethod(this,GLOBAL.$app.connect,_153[12],[function(v){
if((v == 1)){
callMethod(this,th,_153[8]);

}else{
callMethod(this,GLOBAL.$app.popup,_153[20],['\n\nОшибка при выполнении действия']);

}

},_153[14],th.type,_153[36],idd,uniqid]);

}]);

};
callMethod(this,sp,_153[5],[tf3]);
sp.y=yy;
callMethod(this,sp2,_153[5],[sp]);
yy+=32;
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text='';

}
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text='Чтобы настроить группу, добавьте игроков.';
txt1.x=((580 - txt1.width) / 2);
txt1.y=(th.preloadTxt.y + 25);
txt1.filters=GLOBAL.Config.filterBlue1;
th.preloadTxt2=txt1;
callMethod(this,th.c,_153[5],[txt1]);

}

}

};
_app_popup_PopUpAccessUserRedir[_153[6]]=function(){
callMethod(this,this.parent,_153[6],[this]);

};
_app_popup_PopUpAccessUserRedir[_153[37]]=function(w,h){
callMethod(this,this.bg,_153[37],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_153[38],_153[39],_app_popup_PopUpAccessUserRedir);
})(window);



(function(window){
var _228=["addChild","removeMessageIndex","add","append","update","removeAllChilds","removeAll","libChatSpr","del","remove","render","scrollDown","resize","app.chat.ChatContainer2","lang.display.Sprite"];
var _app_chat_ChatContainer2={};
_app_chat_ChatContainer2["ctor"]=function(){
var th=this;
this.w=0;
this.h=0;
this.cntH=0;
this.scrollActive=!0;
this.cnt=ctorObject(lang.display.Sprite);
this.cntChat=ctorObject(lib.chat.Sprite);
var cfg=ctorObject(lib.chat.Config);
cfg.scrollWidth=8;
cfg.scrollColor=16571306;
this.isUpd=!0;
this.m=ctorObject(lib.chat.Chat,[cfg]);
this.m.x=3;
this.m.curItems=this.cntChat;
callMethod(this,null,_228[0],[this.m,this.cnt]);
this.maxMessages=0;

};
_app_chat_ChatContainer2[_228[2]]=function(o){
if(o){
if((this.maxMessages > 0)){
if((this.cntChat.list.size >= this.maxMessages)){
callMethod(this,this.m,_228[1],[0,!1]);

}

}
if(!this.isUpd){
callMethod(this,this.m.curItems,_228[2],[o]);

}else{
callMethod(this,this.m,_228[3],[o]);

}

}

};
_app_chat_ChatContainer2[_228[6]]=function(){
this.cntChat.list=[];
callMethod(this,this.m,_228[4]);
callMethod(this,this.cnt,_228[5]);

};
_app_chat_ChatContainer2[_228[9]]=function(o){
var th=this;
var spr1=null;
if(o){
if(checkIn(o,_228[7])){
spr1=o.libChatSpr;

}

}
if(spr1){
if(th.cntChat){
var arr=th.cntChat.list;
var i=0;
while((i < arr.size)){
var el=arr[i];
if((el == spr1)){
callMethod(this,arr,_228[8],[i]);
return !0;

}
i++;
}

}

}
return !1;

};
_app_chat_ChatContainer2[_228[10]]=function(){

};
_app_chat_ChatContainer2[_228[4]]=function(isScroll){
if(!isScroll){
isScroll=!0;

}
if(this.isUpd){
callMethod(this,this.m,_228[4]);
if(isScroll){
callMethod(this,this,_228[11]);

}

}

};
_app_chat_ChatContainer2[_228[11]]=function(){
if(this.scrollActive){
callMethod(this,this.m,_228[11]);

}

};
_app_chat_ChatContainer2[_228[12]]=function(w,h){
this.w=w;
this.h=h;
callMethod(this,this.m,_228[12],[(w - this.m.x),h]);

};
vm.registerClass(_228[13],_228[14],_app_chat_ChatContainer2);
})(window);



(function(window){
var _52=["addDomCanvas","PawsAnimationMovie","addChild","Arial","setText","stopCheckTimer","init","stop","openPopUpMinText1","navHome","initTimer","resize","update","removeDomCanvas","removeScene","scenes.SceneTextInfo","lang.display.Sprite"];
var _scenes_SceneTextInfo={};
_scenes_SceneTextInfo["ctor"]=function(txt){
var th=this;
callMethod(this,GLOBAL.$app,_52[0]);
this.tm1=null;
this.pawsAnim=ctorObject(_52[1],[10]);
this.pawsAnim.x=70;
this.pawsAnim.y=200;
callMethod(this,null,_52[2],[this.pawsAnim]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_52[3];
tf1.bold=!0;
tf1.fontSize=30;
tf1.filters=GLOBAL.Config.shadowText1;
tf1.color=16777215;
tf1.text='';
callMethod(this,null,_52[2],[tf1]);
this.tf1=tf1;
callMethod(this,this,_52[4],[txt]);

};
_scenes_SceneTextInfo[_52[10]]=function(endTm){
var th=this;
callMethod(this,th,_52[5]);
this.tm2=callMethod(this,Timer,_52[6],[(endTm * 1000),function(){
callMethod(this,this,_52[7]);
callMethod(this,GLOBAL.$app.popup,_52[8],['<br /><br />Что то пошло не так.']);
callMethod(this,GLOBAL.$app,_52[9]);

}]);

};
_scenes_SceneTextInfo[_52[4]]=function(v){
this.tf1.text=v;
callMethod(this,this,_52[11],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

};
_scenes_SceneTextInfo[_52[5]]=function(){
if(this.tm2){
callMethod(this,this.tm2,_52[7]);

}
this.tm2=null;

};
_scenes_SceneTextInfo[_52[11]]=function(w,h){
var th=this;
h=(h - 130);
this.tf1.x=((w - this.tf1.width) / 2);
this.tf1.y=(h - 110);
this.pawsAnim.x=((w - this.pawsAnim.w) / 2);
this.pawsAnim.y=(h - 70);

};
_scenes_SceneTextInfo[_52[12]]=function(){
callMethod(this,this.pawsAnim,_52[12]);

};
_scenes_SceneTextInfo[_52[14]]=function(){
callMethod(this,this,_52[5]);
callMethod(this,GLOBAL.$app,_52[13]);

};
vm.registerClass(_52[15],_52[16],_scenes_SceneTextInfo);
})(window);



(function(window){
var _23=["idle","app.game.DialogPers","addChild","persAnimImgMin1","persBlackBig","getAssetByName",".png","BIP","createPainter","push","setState","setUser","run","gotoAndPlay","gotoAndStop","setLeft","NickColor","rect","#000000","createMask","removeDialog","removeChild","destroy","scenes.history.PersHistory","lang.display.Sprite"];
var _scenes_history_PersHistory={};
_scenes_history_PersHistory["ctor"]=function(pers,u){
this.user=u;
this.body=null;
this.moveType='';
this.lastBarkTS=0;
this.barkSpr=null;
this.maxNickWidth=150;
this.barkSprX=7;
this.isLeft=0;
this.isOut=!1;
this.isPlay=!1;
this.curTween=null;
this.isLeft=0;
this.persState=_23[0];
this.persMsgAnimSpr1=null;
this.persDialog=ctorObject(_23[1]);
this.persDialog.y=-55;
callMethod(this,null,_23[2],[this.persDialog]);
this.msk=ctorObject(lang.display.Sprite);
callMethod(this,null,_23[2],[this.msk]);
var defNm1=_23[3];
var pt=GLOBAL.scenes.world.PersType;
var nm1=defNm1;
if((pers == pt.DOG_BLACK)){
nm1=_23[4];

}
var persImg1=callMethod(this,GLOBAL.$app.moviesReader,_23[5],[(nm1 + _23[6])]);
var tfNick=ctorObject(lang.text.TextField);
tfNick.mouseEnabled=!1;
var persW=41;
var persH=32;
this.persW=persW;
this.persH=persH;
this.nickTxt=tfNick;
tfNick.fontName=_23[7];
tfNick.fontSize=15;
var spr3=ctorObject(lang.display.Sprite);
tfNick.filters=GLOBAL.Config.shadowText2;
tfNick.y=-(persH + 20);
this.mskNick=ctorObject(lang.display.Sprite);
callMethod(this,this.mskNick,_23[8]);
this.rectNick=ctorObject(lang.display.Sprite);
callMethod(this,this.rectNick,_23[8]);
this.rectNick.alpha=0;
callMethod(this,null,_23[2],[this.mskNick]);
var persAnim=ctorObject(lang.display.BitmapMovieClip,[persImg1]);
persAnim.mouseEnabled=!1;
var pp={x:(persW + 58),y:(persH + 40)};
if((nm1 == defNm1)){
persAnim.frames=GLOBAL.Config.persFrames;
pp={x:50,y:40};

}else{
var sz3=GLOBAL.Config.persFramesBig.length;
var frames=[];
var i=0;
while((i < sz3)){
callMethod(this,frames,_23[9],[[0,0,persImg1.naturalWidth,persImg1.naturalHeight,0,0,0]]);
i++;
}
persAnim.frames=frames;

}
persAnim.point=pp;
this.spr=persAnim;
var fr1=persAnim.frames[0];
var fr11=persAnim.frames[11];
var allW=fr1[2];
var allH=fr1[3];
this.persScale=1;
if((nm1 != defNm1)){
allW-=8;
allH-=8;
this.persScale=(persW / allW);
persAnim.scaleX=this.persScale;
persAnim.scaleY=(persH / allH);

}else{
this.persScale=0.5;
persAnim.scaleY=0.5;

}
persAnim.x=-1;
persAnim.y=-4;
callMethod(this,spr3,_23[2],[persAnim,tfNick,this.rectNick]);
callMethod(this,null,_23[2],[spr3]);
callMethod(this,this,_23[10],[_23[0]]);
this.item1Spr=null;
callMethod(this,this,_23[11],[u]);

};
_scenes_history_PersHistory[_23[10]]=function(t){
if((t == _23[12])){
if((this.persState != t)){
callMethod(this,this.spr,_23[13],[1]);
this.isPlay=!0;

}

}else if((t == _23[0])){
callMethod(this,this.spr,_23[14],[11]);
this.isPlay=!1;

}

this.persState=t;

};
_scenes_history_PersHistory[_23[15]]=function(v){
var ww=this.nickTxt.width;
if((this.nickTxt.width > this.maxNickWidth)){
ww=this.maxNickWidth;

}
if(v){
this.isLeft=1;
this.nickTxt.x=(((this.persW - 50) - ww) / 2);
this.spr.scaleX=-this.persScale;

}else{
this.isLeft=0;
this.nickTxt.x=(((this.persW - 36) - ww) / 2);
this.spr.scaleX=this.persScale;

}

};
_scenes_history_PersHistory[_23[11]]=function(u){
if(u){
this.userid=u.id;
this.nickTxt.text=('' + u.nick);
this.nickTxt.color=callMethod(this,GLOBAL.$app,_23[16],[u.mode]);
var ww=this.nickTxt.width;
if((this.nickTxt.width > this.maxNickWidth)){
ww=this.maxNickWidth;

}
if((this.nickTxt.width < 20)){
this.nickTxt.width=90;

}
callMethod(this,this,_23[15],[this.isLeft ? 1 : 0]);

}

};
_scenes_history_PersHistory[_23[19]]=function(){
this.msk.alpha=0;
callMethod(this,this.msk,_23[8]);
callMethod(this,this.msk.painter,_23[17],[-15,-30,30,30,_23[18]]);
callMethod(this,null,_23[2],[this.msk]);

};
_scenes_history_PersHistory[_23[22]]=function(){
if(this.persDialog){
callMethod(this,this.persDialog,_23[20]);
callMethod(this,null,_23[21],[this.persDialog]);

}

};
vm.registerClass(_23[23],_23[24],_scenes_history_PersHistory);
})(window);

(function(window){
var _16=["addDomCanvas","createPainter","addChild","getBitmap","bgLand1.png","bgSpace1.png","пропустить сюжет","endSceneV","init","stop","assets/sounds/musicLand1.mp3","load","sound","play","scenes.history.PersHistory","setState","run","idle","addMessage","Хорошо тут","start","User","setLeft","eachTime","getChildAt","persRunAnim1","createTimer","navStep2","Тем временем, в космосе...","autoResize","removeChild","navSpace1","UFOHistoryPersMov","clear","rect","#8E7DD5","createUFO1","drawBG1","push","getAssetByName","moon1.png","createCagePersNums","Отличная работа!","Что это???","Спасаааайтесь","Key1.png","Выполнили работу?","И мы потеряли ключ...","Собачки, я вас спасу!","и мы будем править миром!","GameRoomItemFinish","cbEnd","#000000","resize","destroy","removeDomCanvas","removeScene","scenes.history.HistoryStart","lang.display.Sprite"];
var _scenes_history_HistoryStart={};
_scenes_history_HistoryStart["ctor"]=function(assets,cbend){
callMethod(this,GLOBAL.$app,_16[0]);
var th=this;
this.ww=0;
this.hh=0;
this.cbEnd=cbend;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.ar1=[[0,0,782,-96],[1,0,710,-86],[0,1,652,-45],[0,0,517,1],[0,0,432,-4],[1,0,50,3]];
this.ar2=[[0,0,290,7],[1,0,342,-11],[0,0,409,14],[0,0,498,-19],[0,0,574,-79],[1,0,627,-38]];
this.ufoPos=[[90,200],[130,330]];
this.ufoSprList=[];
this.ufoPersSpr1=null;
this.bg5=ctorObject(lang.display.Sprite);
callMethod(this,this.bg5,_16[1]);
this.bg5.alpha=0.5;
this.cnt3=ctorObject(lang.display.Sprite);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.color=16777215;
this.tf1.fontSize=21;
this.mov=ctorObject(lang.display.Sprite);
this.mov2=ctorObject(lang.display.Sprite);
this.mov.bg=ctorObject(lang.display.Bitmap);
this.mov2.bg=ctorObject(lang.display.Bitmap);
callMethod(this,this.mov,_16[2],[this.mov.bg]);
callMethod(this,this.mov2,_16[2],[this.mov2.bg]);
this.mov.bg.src=callMethod(this,assets,_16[3],[_16[4]]);
this.mov2.bg.src=callMethod(this,assets,_16[3],[_16[5]]);
callMethod(this,this.mov,_16[2],[this.bg5]);
callMethod(this,null,_16[2],[this.mov]);
this.tt=0;
this.isRemove=!1;
this.downPanel=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_16[2],[this.downPanel]);
var skipTxt=ctorObject(lang.text.TextField);
skipTxt.color=16777215;
skipTxt.text=_16[6];
skipTxt.buttonMode=!0;
skipTxt.filters=GLOBAL.Config.shadowText2;
skipTxt.x=150;
skipTxt.y=35;
skipTxt.click=function(){
callMethod(this,th,_16[7]);

};
callMethod(this,Timer,_16[8],[(10 * 1000),function(){
callMethod(this,this,_16[9]);
callMethod(this,th.downPanel,_16[2],[skipTxt]);

}]);
this.skipTxt=skipTxt;
this.bgBlack=ctorObject(lang.display.Sprite);
callMethod(this,this.bgBlack,_16[1]);
callMethod(this,this.cnt3,_16[2],[this.bgBlack]);
this.so=null;
this.so=ctorObject(lang.media.Sound);
this.so.volume=50;
var path=_16[10];
callMethod(this,GLOBAL.$app.assetsDownloader,_16[11],[path,_16[12],function(ba){
if(th.so){
th.so.src=ba;
callMethod(this,th.so,_16[13]);

}

}]);
this.cnt1=ctorObject(lang.display.Sprite);
this.cntPers=ctorObject(lang.display.Sprite);
callMethod(this,this.cnt1,_16[2],[this.cntPers]);
callMethod(this,this.mov,_16[2],[this.cnt1]);
var myPers=ctorObject(_16[14],[0,GLOBAL.$app.user]);
myPers.x=200;
callMethod(this,myPers,_16[15],[_16[16]]);
callMethod(this,this.cnt1,_16[2],[myPers]);
this.myPers=myPers;
callMethod(this,myPers.persDialog,_16[8]);
var myPersTw=ctorObject(lib.Tween,[myPers]);
callMethod(this,myPersTw,_16[8],[{x:500,y:-70},2100,function(){

},function(){
callMethod(this,myPers,_16[15],[_16[17]]);
callMethod(this,myPers.persDialog,_16[18],[_16[19]]);

}]);
callMethod(this,myPersTw,_16[20]);
var i=0;
while((i < th.ar2.size)){
var el=th.ar2[i];
var uu=ctorObject(_16[21],[0,'']);
var persType=el[0];
var v1=el[1];
var pers1=ctorObject(_16[14],[0,uu]);
pers1.x=el[2];
pers1.y=el[3];
if((v1 == 1)){
callMethod(this,pers1,_16[22],[!0]);

}
callMethod(this,th.cntPers,_16[2],[pers1]);
i++;
}
var pos=0;
callMethod(this,th.ar1,_16[23],[300,function(a){
var persEl=callMethod(this,th.cntPers,_16[24],[pos]);
pos+=1;
var xx=a[2];
var yy=a[3];
callMethod(this,th,_16[25],[xx,yy,persEl]);

}]);
callMethod(this,th,_16[26],[(5 * 1000),function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[27]);

}]);

};
_scenes_history_HistoryStart[_16[26]]=function(v,cb){
var q=callMethod(this,Timer,_16[8],[v,cb]);
if(this.isRemove){
callMethod(this,q,_16[9]);

}
return q;

};
_scenes_history_HistoryStart[_16[25]]=function(xx,yy,el){
if(el){
callMethod(this,el,_16[15],[_16[16]]);
var tw=ctorObject(lib.Tween,[el]);
if((el.x > xx)){
callMethod(this,el,_16[22],[!0]);

}
callMethod(this,tw,_16[8],[{x:xx,y:yy},2000,function(){

},function(){
callMethod(this,el,_16[15],[_16[17]]);
callMethod(this,el,_16[22],[!1]);

}]);
callMethod(this,tw,_16[20]);

}

};
_scenes_history_HistoryStart[_16[27]]=function(){
var th=this;
if(th.so){
callMethod(this,th.so,_16[9]);

}
th.so=null;
this.tt=2;
callMethod(this,this.cnt3,_16[2],[this.tf1]);
callMethod(this,null,_16[2],[this.cnt3]);
this.tf1.text=_16[28];
callMethod(this,GLOBAL.$app,_16[29]);
callMethod(this,th,_16[26],[3000,function(){
callMethod(this,this,_16[9]);
th.tt=3;
callMethod(this,th,_16[30],[th.cnt3]);
callMethod(this,th,_16[31]);

}]);

};
_scenes_history_HistoryStart[_16[36]]=function(isDialog){
var s=ctorObject(lang.display.Sprite);
var q=ctorObject(_16[32]);
var uu=ctorObject(_16[21],[0,'']);
var pers1=ctorObject(_16[14],[2,uu]);
pers1.x=40;
pers1.y=6;
if(isDialog){
callMethod(this,pers1.persDialog,_16[8]);

}
callMethod(this,q.a5.painter,_16[33]);
callMethod(this,q.cnt.painter,_16[33]);
q.a1.alpha=0;
callMethod(this,q.cnt,_16[2],[pers1]);
q.qw2=ctorObject(lang.display.Sprite);
callMethod(this,q.qw2,_16[1]);
q.qw2.x=-17;
q.qw2.y=-20;
q.qw2.alpha=0.5;
callMethod(this,q.a5,_16[2],[q.qw2]);
q.vFunc=function(vv){
callMethod(this,this.qw2.painter,_16[33]);
if(vv){
var stH=(GLOBAL.$app.stage.stageHeight + 150);
callMethod(this,this.qw2.painter,_16[34],[0,0,190,stH,_16[35]]);

}

};
callMethod(this,s,_16[2],[q]);
s.ufo=q;
s.pers=pers1;
return s;

};
_scenes_history_HistoryStart[_16[37]]=function(v){
callMethod(this,this.bg5.painter,_16[33]);
if(v){
callMethod(this,this.bg5.painter,_16[34],[0,0,this.ww,this.hh,_16[35]]);

}

};
_scenes_history_HistoryStart[_16[31]]=function(){
callMethod(this,null,_16[2],[this.mov2]);
var th=this;
var i=0;
while((i < th.ufoPos.size)){
var el=th.ufoPos[i];
var q=callMethod(this,this,_16[36],[!0]);
q.x=el[0];
q.y=el[1];
callMethod(this,this.mov2,_16[2],[q]);
callMethod(this,this.ufoSprList,_16[38],[q]);
i++;
}
var u1=th.ufoSprList[0];
var sp2=ctorObject(lang.display.Sprite);
var moonBM=callMethod(this,GLOBAL.$app.moviesReader,_16[39],[_16[40]]);
moonBM.scaleX=1.1;
moonBM.scaleY=1.1;
callMethod(this,sp2,_16[2],[moonBM]);
var cage1=callMethod(this,th,_16[41],[3]);
cage1.x=85;
cage1.y=10;
sp2.x=580;
sp2.y=160;
callMethod(this,sp2,_16[2],[cage1]);
callMethod(this,this.mov2,_16[2],[sp2]);
var sp3=ctorObject(lang.display.Sprite);
callMethod(this,this.mov2,_16[2],[sp3]);
sp3.x=340;
sp3.y=300;
var moonBM2=callMethod(this,GLOBAL.$app.moviesReader,_16[39],[_16[40]]);
moonBM2.scaleX=1.2;
moonBM2.scaleY=1.2;
callMethod(this,sp3,_16[2],[moonBM2]);
var uu=ctorObject(_16[21],[0,'']);
var pers1=ctorObject(_16[14],[2,uu]);
pers1.x=90;
pers1.y=26;
callMethod(this,pers1,_16[22],[!0]);
callMethod(this,pers1.persDialog,_16[8]);
callMethod(this,sp3,_16[2],[pers1]);
callMethod(this,pers1.persDialog,_16[18],[_16[42]]);
this.ufoPersSpr1=pers1;
var dlg=pers1.persDialog;
var ufoSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.mov,_16[2],[ufoSpr]);
var navStep3=function(){
callMethod(this,th.myPers.persDialog,_16[18],[_16[43]]);
var pos2=50;
var ufo1=callMethod(this,th,_16[36],[!1]);
ufo1.ufo.a1.alpha=1;
ufo1.x=-10;
ufo1.y=50;
var ufo2=callMethod(this,th,_16[36],[!1]);
ufo2.ufo.a1.alpha=1;
ufo2.x=403;
ufo2.y=-57;
var ufo3=callMethod(this,th,_16[36],[!1]);
ufo3.ufo.a1.alpha=1;
ufo3.x=623;
ufo3.y=50;
callMethod(this,ufoSpr,_16[2],[ufo1,ufo2,ufo3]);
var pers6=callMethod(this,th.cntPers,_16[24],[(6 - 1)]);
callMethod(this,th,_16[26],[1000,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[26],[1500,function(){
callMethod(this,this,_16[9]);
callMethod(this,th.myPers.persDialog,_16[18],[_16[44]]);
callMethod(this,th,_16[26],[1100,function(){
callMethod(this,this,_16[9]);
callMethod(this,th.myPers,_16[15],[_16[16]]);
callMethod(this,th.myPers,_16[22],[!0]);
var myPersTw=ctorObject(lib.Tween,[th.myPers]);
callMethod(this,myPersTw,_16[8],[{x:-500},700,function(){

},function(){
callMethod(this,th.myPers,_16[15],[_16[17]]);
callMethod(this,th.myPers,_16[22],[!1]);

}]);
callMethod(this,myPersTw,_16[20]);
callMethod(this,th,_16[26],[700,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[37],[!0]);
callMethod(this,th,_16[26],[1100,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[37],[!1]);
callMethod(this,pers6.parent,_16[30],[pers6]);
ufo1.visible=!1;
ufo2.visible=!1;
ufo3.visible=!1;
if(th.cntPers.parent){
callMethod(this,th.cntPers.parent,_16[30],[th.cntPers]);

}
var keyBM=callMethod(this,GLOBAL.$app.moviesReader,_16[39],[_16[45]]);
keyBM.scaleX=0.5;
keyBM.scaleY=0.5;
keyBM.x=540;
keyBM.y=-90;
callMethod(this,th.cnt1,_16[2],[keyBM]);
callMethod(this,th,_16[26],[2300,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[2],[th.mov2]);
var i=0;
while((i < th.ufoSprList.size)){
var el=th.ufoSprList[i];
el.ufo.a1.alpha=0;
i++;
}
callMethod(this,pers1.persDialog,_16[18],[_16[46]]);
callMethod(this,th,_16[26],[1300,function(){
callMethod(this,this,_16[9]);
callMethod(this,u1.pers.persDialog,_16[18],['Почти... Мы поймали всех, кроме']);
callMethod(this,u1.pers.persDialog,_16[18],[('' + GLOBAL.$app.user.nick)]);
callMethod(this,th,_16[26],[1800,function(){
callMethod(this,this,_16[9]);
callMethod(this,u1.pers.persDialog,_16[18],[_16[47]]);
callMethod(this,th,_16[26],[1800,function(){
callMethod(this,this,_16[9]);
callMethod(this,pers1.persDialog,_16[18],['Чтоооо? Как вы могли потерять ключ...']);
callMethod(this,th,_16[26],[1800,function(){
callMethod(this,this,_16[9]);
callMethod(this,pers1.persDialog,_16[18],['Клетки открываются с помощью ключа...']);
callMethod(this,th,_16[26],[3300,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[30],[th.mov2]);
callMethod(this,th.myPers,_16[15],[_16[16]]);
var myPersTw=ctorObject(lib.Tween,[th.myPers]);
callMethod(this,myPersTw,_16[8],[{x:500},700,function(){

},function(){
callMethod(this,th.myPers,_16[15],[_16[17]]);
callMethod(this,th.myPers,_16[22],[!1]);
callMethod(this,th.myPers.persDialog,_16[18],['Ого, ключ. Теперь можно открывать клетки!']);
callMethod(this,th,_16[26],[2300,function(){
callMethod(this,this,_16[9]);
callMethod(this,th.myPers.persDialog,_16[18],[_16[48]]);
callMethod(this,th,_16[26],[2300,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[7]);

}]);

}]);

}]);
callMethod(this,myPersTw,_16[20]);

}]);

}]);

}]);

}]);

}]);

}]);

}]);

}]);

}]);

}]);

}]);

};
callMethod(this,th,_16[26],[2000,function(){
callMethod(this,this,_16[9]);
callMethod(this,dlg,_16[18],['Осталось захватить собачек с поляны']);
callMethod(this,dlg,_16[18],[_16[49]]);
var i=0;
while((i < th.ufoSprList.size)){
var el=th.ufoSprList[i];
el.ufo.a1.alpha=1;
i++;
}
callMethod(this,th,_16[26],[4000,function(){
callMethod(this,this,_16[9]);
callMethod(this,th,_16[30],[th.mov2]);
navStep3();

}]);

}]);

};
_scenes_history_HistoryStart[_16[41]]=function(v){
var qq=ctorObject(lang.display.Sprite);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,qq,_16[2],[sp1]);
var bm1=ctorObject(_16[50]);
sp1.x=-(120 / 2);
sp1.y=-(110 / 2);
callMethod(this,sp1,_16[2],[bm1]);
if((v > 0)){
var startPos=30;
var i=0;
while((i < v)){
var p=ctorObject(_16[14],[0,null]);
callMethod(this,p,_16[22],[!0]);
p.x=77;
p.y=startPos;
startPos+=15;
callMethod(this,bm1.q1,_16[2],[p]);
i++;
}

}
return qq;

};
_scenes_history_HistoryStart[_16[7]]=function(){
this.isRemove=!0;
if(this.cbEnd){
callMethod(this,this,_16[51]);

}
this.cbEnd=null;

};
_scenes_history_HistoryStart[_16[53]]=function(w,h){
this.ww=w;
this.hh=h;
var hh=h;
h-=92;
this.mov.bg.scaleX=(w / 800);
this.mov.bg.scaleY=(h / 800);
this.mov2.bg.scaleX=(w / 800);
this.mov2.bg.scaleY=(h / 800);
this.cnt1.y=(h - 40);
if((this.tt == 2)){
callMethod(this,this.bgBlack.painter,_16[34],[0,0,w,h,_16[52]]);
this.tf1.x=((w - this.tf1.width) / 2);
this.tf1.y=((hh - 30) / 2);

}
this.skipTxt.x=((w - this.skipTxt.width) / 2);

};
_scenes_history_HistoryStart[_16[56]]=function(){
var th=this;
callMethod(this,this.ev,_16[33]);
this.isRemove=!0;
if(this.myPers){
callMethod(this,this.myPers,_16[54]);

}
if(this.ufoPersSpr1){
callMethod(this,this.ufoPersSpr1,_16[54]);

}
if(this.downPanel.parent){
callMethod(this,this.downPanel.parent,_16[30],[this.downPanel]);

}
var i=0;
while((i < th.ufoSprList.size)){
var el=th.ufoSprList[i];
callMethod(this,el.pers,_16[54]);
i++;
}
th.ufoSprList=[];
if(th.so){
callMethod(this,th.so,_16[9]);

}
th.so=null;
callMethod(this,GLOBAL.$app,_16[55]);

};
vm.registerClass(_16[57],_16[58],_scenes_history_HistoryStart);
})(window);



(function(window){
var _296=["BGKostiSprite","AppPopUpS1Mov1","attr","scroll1","addChild","remove","animAlphaSprite","load","accessListArr","push","getAccessListByStrArr","removeChild","removeAllChilds","Идёт загрузка...","send","parseList","user.accessSettingsAction","get","getList","ButtonOrangeText","Добавить","openPopUpInputOne","ID игрока","openPopUpMinText1","add","String","ID "," ","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","v","getAssetByName","getinfo_2081.png","<br /><br />Нет описания","info","UICheckboxSpr2","a","mode","Назад","Сохранить","updateAccess","Отменить","getUserID","bitmap","DeleteMsg.png","on","click","openPopUpConfirmMsgYesNo","css","white-space","nowrap","права доступа","isFirst","+страница","openPopUpCreateAccountOwner","resize","app.popup.PopUpAccessUserSettings","lang.display.Sprite"];
var _app_popup_PopUpAccessUserSettings={};
_app_popup_PopUpAccessUserSettings["ctor"]=function(type){
var th=this;
this.bg=ctorObject(_296[0]);
this.c=ctorObject(_296[1]);
this.cSpr=ctorObject(lang.display.Sprite);
this.preloadTxt=null;
this.preloadTxt2=null;
this.accessList1=[];
this.type=type;
if(!this.type){
this.type='';

}
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_296[2],[{className:_296[3]}]);
callMethod(this,this.c,_296[4],[this.cnt,this.cSpr]);
callMethod(this,null,_296[4],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_296[5]);

};
callMethod(this,GLOBAL.AppUtils,_296[6],[this.c.close,0.8,1]);
callMethod(this,this,_296[7]);

};
_app_popup_PopUpAccessUserSettings[_296[10]]=function(a){
var arr=[];
var ob={};
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
ob[el]=1;
i++;
}

}
if(checkIn(GLOBAL.$app,_296[8])){
var aa=GLOBAL.$app.accessListArr;
var i=0;
while((i < aa.size)){
var el=aa[i];
var idd=el.id;
if(checkIn(ob,idd)){
callMethod(this,arr,_296[9],[el]);

}
i++;
}

}
return arr;

};
_app_popup_PopUpAccessUserSettings[_296[7]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_296[11],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_296[11],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_296[12]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_296[13];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_296[4],[txt1]);
th.preloadTxt=txt1;
var cb4=function(){
callMethod(this,GLOBAL.$app.connect,_296[14],[function(infoArr,arr){
var aa2=callMethod(this,th,_296[10],[infoArr]);
th.accessList1=aa2;
var ids=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
callMethod(this,ids,_296[9],[el.user]);
i++;
}
callMethod(this,GLOBAL.$app.cacheUsers,_296[7],[ids,function(){
callMethod(this,th,_296[15],[arr]);

}]);

},_296[16],th.type,_296[17]]);

};
if(checkIn(GLOBAL.$app,_296[8])){
cb4();

}else{
callMethod(this,GLOBAL.$app.connect,_296[14],[function(arr){
GLOBAL.$app.accessListArr=arr;
cb4();

},_296[16],th.type,_296[18]]);

}

};
_app_popup_PopUpAccessUserSettings[_296[15]]=function(arr){
var th=this;
callMethod(this,th.cnt,_296[12]);
var bb=ctorObject(_296[19],[_296[20],function(){
callMethod(this,GLOBAL.$app.popup,_296[21],[_296[22],_296[20],'',function(ob){
var idd=castInt(ob.name);
if((idd > 0)){
callMethod(this,GLOBAL.$app.connect,_296[14],[function(v){
if((v == 1)){
callMethod(this,th,_296[7]);

}else{
callMethod(this,GLOBAL.$app.popup,_296[23],['\n\nОшибка при выполнении действия']);

}

},_296[16],th.type,_296[24],idd]);

}

}]);

}]);
bb.x=235;
bb.y=402;
callMethod(this,th.cSpr,_296[4],[bb]);
var sp2=ctorObject(lang.display.Sprite);
var accessSpr=ctorObject(lang.display.Sprite);
callMethod(this,th.cnt,_296[4],[sp2,accessSpr]);
var createAccess=function(accessList,u,access,isFirst){
var yy1=0;
callMethod(this,accessSpr,_296[12]);
if(checkIs(access,_296[25])){
access=[];

}
if(!access){
access=[];

}
var isInitiator=!1;
if((th.type == '')){
if((u.id == GLOBAL.$app.user.id)){
isInitiator=!0;

}

}
if(u){
if(isInitiator){
var ss='За нарушения эти права могут быть изменены';
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=14;
txt1.color=16776960;
txt1.text=ss;
txt1.x=((500 - txt1.width) / 2);
txt1.filters=GLOBAL.Config.shadowText1;
callMethod(this,accessSpr,_296[4],[txt1]);

}else{
var ss=(((_296[26] + u.id) + _296[27]) + u.nick);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text=ss;
txt1.x=((500 - txt1.width) / 2);
txt1.filters=GLOBAL.Config.shadowText1;
txt1.buttonMode=!0;
txt1.userid=u.id;
txt1.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_296[28],[_296[29]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_296[30],[this.userid]);

}

};
callMethod(this,accessSpr,_296[4],[txt1]);

}
var sp4=ctorObject(lang.display.Sprite);
sp4.y=30;
callMethod(this,accessSpr,_296[4],[sp4]);
var yy1=0;
var origObj={};
var i=0;
while((i < access.size)){
var ell=access[i];
origObj[ell]=1;
i++;
}
var i=0;
while((i < accessList.size)){
var el=accessList[i];
if(checkIn(el,_296[31])){
var id=el.id;
if(el.v){
if(isFirst){
if(!checkIn(origObj,id)){
origObj[id]=1;

}

}

}

}
i++;
}
var cbb=function(v){
var isFindPos=-1;
var tt=this.elObj.id;
if(checkIn(origObj,tt)){
if(v){
origObj[tt]=1;

}else{
delete origObj[tt];

}

}else{
if(v){
origObj[tt]=1;

}

}

};
var i=0;
while((i < accessList.size)){
var el=accessList[i];
var nm=el.name;
var id2=el.id;
var rr=ctorObject(lang.display.Sprite);
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_296[32],[_296[33]]);
bm1.scaleX=0.7;
bm1.scaleY=0.7;
bm1.y=-4;
bm1.buttonMode=!0;
bm1.click=function(){
var txt1=_296[34];
if(checkIn(this.elObj,_296[35])){
txt1=this.elObj.info;

}
callMethod(this,GLOBAL.$app.popup,_296[23],[('' + txt1)]);

};
bm1.elObj=el;
callMethod(this,rr,_296[4],[bm1]);
var vv=!1;
if(checkIn(origObj,id2)){
vv=!0;

}
var q=ctorObject(_296[36],[nm,vv,cbb]);
q.checkBox.elObj=el;
q.x=30;
rr.y=yy1;
callMethod(this,rr,_296[4],[q]);
if(isInitiator){
q.mouseEnabled=!1;

}
if((th.type == _296[37])){
if(checkIn(el,_296[38])){
if((el.mode > 0)){
if(((GLOBAL.$app.user.mode & el.mode) > 0)){

}else{
q.mouseEnabled=!1;
q.alpha=0.7;

}

}

}

}
callMethod(this,sp4,_296[4],[rr]);
yy1+=30;
i++;
}

}
if(isInitiator){
var bb2=ctorObject(_296[19],[_296[39],function(){
callMethod(this,th.cSpr,_296[12]);
callMethod(this,accessSpr,_296[12]);
callMethod(this,th.cnt,_296[4],[sp2]);
callMethod(this,th.cSpr,_296[4],[bb]);
callMethod(this,th,_296[7]);

}]);
bb2.x=235;
bb2.y=bb.y;
callMethod(this,th.cSpr,_296[4],[bb2]);

}else{
var bb2=ctorObject(_296[19],[_296[40],function(){
callMethod(this,th.cSpr,_296[12]);
callMethod(this,accessSpr,_296[12]);
callMethod(this,th.cnt,_296[4],[sp2]);
var arr2=[];
var i=0;
while((i < accessList.size)){
var el=accessList[i];
var id=el.id;
var isR=!1;
var r2=!0;
if(checkIn(origObj,id)){
var vv=origObj[id];
if((vv == 1)){
isR=!0;

}else{
r2=!1;

}

}else{
r2=!1;

}
if(r2){
if(!isR){
if(checkIn(el,_296[31])){
if(el.v){
isR=!0;

}

}

}

}
if(isR){
callMethod(this,arr2,_296[9],[id]);

}
i++;
}
callMethod(this,GLOBAL.$app.connect,_296[14],[function(v){
if((v == 1)){
callMethod(this,th,_296[7]);

}else{

}

},_296[16],th.type,_296[41],u.id,arr2]);

}]);
bb2.x=135;
bb2.y=bb.y;
callMethod(this,th.cSpr,_296[4],[bb2]);
var bb2=ctorObject(_296[19],[_296[42],function(){
callMethod(this,th.cSpr,_296[12]);
callMethod(this,accessSpr,_296[12]);
callMethod(this,th.cnt,_296[4],[sp2]);
callMethod(this,th.cSpr,_296[4],[bb]);
callMethod(this,th,_296[7]);

}]);
bb2.x=335;
bb2.y=bb.y;
callMethod(this,th.cSpr,_296[4],[bb2]);

}

};
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_296[11],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_296[11],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
if((th.type == '')){
if((arr.size == 1)){
if(th.preloadTxt){
th.preloadTxt.text='';

}
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text='Чтобы изменить права доступа, добавьте игрока.';
txt1.x=((500 - txt1.width) / 2);
txt1.y=140;
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_296[4],[txt1]);

}

}
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var u=callMethod(this,GLOBAL.$app.cacheUsers,_296[43],[el.user]);
if(u){
var sp=ctorObject(lang.display.Sprite);
var isInitiatorV=!1;
if((th.type == '')){
if((el.user == GLOBAL.$app.user.id)){
isInitiatorV=!0;

}

}
if(!isInitiatorV){
var delBM=callMethod(this,null,_296[44],[_296[45]]);
delBM.y=4;
delBM.buttonMode=!0;
delBM.itemObj=el;
callMethod(this,delBM,_296[46],[_296[47],function(e){
var idd=this.itemObj.user;
callMethod(this,GLOBAL.$app.popup,_296[48],['Убрать игрока с правами доступа?',function(){
callMethod(this,GLOBAL.$app.connect,_296[14],[function(v){
if((v == 1)){
callMethod(this,th,_296[7]);

}else{
callMethod(this,GLOBAL.$app.popup,_296[23],['<br /><br />Ошибка при выполнении действия']);

}

},_296[16],th.type,_296[5],idd]);

}]);

}]);
callMethod(this,sp,_296[4],[delBM]);

}
var tf=ctorObject(lang.text.TextField);
tf.x=30;
tf.buttonMode=!0;
tf.color=16777215;
tf.text=(((_296[26] + u.id) + _296[27]) + u.nick);
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=u;
callMethod(this,tf,_296[49],[{'white-space':_296[51]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_296[28],[_296[29]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_296[30],[this.userObj.id]);

}

};
callMethod(this,sp,_296[4],[tf]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=14;
tf3.color=16776960;
var ss2=_296[52];
tf3.text=ss2;
tf3.el=el;
tf3.x=380;
tf3.y=3;
tf3.u=u;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
callMethod(this,th.cnt,_296[11],[sp2]);
callMethod(this,th.cSpr,_296[12]);
var firstV=!1;
if(checkIn(this.el,_296[53])){
if(this.el.isFirst){
firstV=!0;

}

}
var ar3=th.accessList1;
if((th.type == '')){
if((this.u.id == GLOBAL.$app.user.id)){
if(checkIn(GLOBAL.$app,_296[8])){
ar3=GLOBAL.$app.accessListArr;

}

}

}
createAccess(ar3,this.u,this.el.access,firstV);

};
callMethod(this,sp,_296[4],[tf3]);
if((th.type == '')){
if((i == 0)){
if((GLOBAL.$app.user.isOwner == 1)){
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=14;
tf3.color=16776960;
var ss2=_296[54];
tf3.text=ss2;
tf3.el=el;
tf3.x=290;
tf3.y=3;
tf3.u=u;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
callMethod(this,GLOBAL.$app.popup,_296[55]);

};
callMethod(this,sp,_296[4],[tf3]);

}

}

}
sp.y=yy;
callMethod(this,sp2,_296[4],[sp]);
yy+=32;

}
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text='';

}
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text='Чтобы изменить права доступа, добавьте игрока.';
txt1.x=((580 - txt1.width) / 2);
txt1.y=(th.preloadTxt.y + 25);
txt1.filters=GLOBAL.Config.filterBlue1;
th.preloadTxt2=txt1;
callMethod(this,th.c,_296[4],[txt1]);

}

}

};
_app_popup_PopUpAccessUserSettings[_296[5]]=function(){
callMethod(this,this.parent,_296[5],[this]);

};
_app_popup_PopUpAccessUserSettings[_296[56]]=function(w,h){
callMethod(this,this.bg,_296[56],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_296[57],_296[58],_app_popup_PopUpAccessUserSettings);
})(window);



(function(window){
var _166=["BGKostiSprite","AppPopUpMyFriendsMov1","attr","scroll1","addChild","remove","animAlphaSprite","load","removeChild","removeAllChilds","Идёт загрузка...","reloadFriends","push","parseList","getUserID","bitmap","DeleteMsg.png","on","click","openPopUpConfirmMsgYesNo","Убрать из друзей?","send","openPopUpMinText1","user.friendsAction","ID "," ","css","white-space","nowrap","text-overflow","clip","overflow","hidden","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","openPopUpInputOne","Текст (макс. "," символов)","Сохранить","updateText","getAssetByName","getinfo_2081.png","<br /><br />Нет подписи","openPopUpText1","подписать","Вы ещё не добавили друзей","resize","app.popup.PopUpMyFriends","lang.display.Sprite"];
var _app_popup_PopUpMyFriends={};
_app_popup_PopUpMyFriends["ctor"]=function(){
var th=this;
this.bg=ctorObject(_166[0]);
this.c=ctorObject(_166[1]);
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_166[2],[{className:_166[3]}]);
callMethod(this,this.c,_166[4],[this.cnt]);
callMethod(this,null,_166[4],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_166[5]);

};
callMethod(this,GLOBAL.AppUtils,_166[6],[this.c.close,0.8,1]);
callMethod(this,this,_166[7]);

};
_app_popup_PopUpMyFriends[_166[7]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_166[8],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_166[8],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_166[9]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_166[10];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_166[4],[txt1]);
th.preloadTxt=txt1;
callMethod(this,GLOBAL.$app.user,_166[11],[function(){
var arr=GLOBAL.$app.user.friendsList;
var ids=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
callMethod(this,ids,_166[12],[el.user]);
i++;
}
callMethod(this,GLOBAL.$app.cacheUsers,_166[7],[ids,function(){
callMethod(this,th,_166[13],[arr]);

}]);

}]);

};
_app_popup_PopUpMyFriends[_166[13]]=function(arr){
var th=this;
callMethod(this,th.cnt,_166[9]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_166[8],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_166[8],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var i=0;
while((i < arr.size)){
var el=arr[i];
var u=callMethod(this,GLOBAL.$app.cacheUsers,_166[14],[el.user]);
if(u){
var sp=ctorObject(lang.display.Sprite);
var delBM=callMethod(this,null,_166[15],[_166[16]]);
delBM.y=4;
delBM.buttonMode=!0;
delBM.itemObj=el;
callMethod(this,delBM,_166[17],[_166[18],function(e){
var idd=this.itemObj.user;
callMethod(this,GLOBAL.$app.popup,_166[19],[_166[20],function(){
callMethod(this,GLOBAL.$app.connect,_166[21],[function(v){
if((v == 1)){
callMethod(this,th,_166[7]);

}else{
callMethod(this,GLOBAL.$app.popup,_166[22],['<br /><br />Ошибка при выполнении действия']);

}

},_166[23],_166[5],idd]);

}]);

}]);
callMethod(this,sp,_166[4],[delBM]);
var tf=ctorObject(lang.text.TextField);
tf.x=30;
tf.buttonMode=!0;
tf.color=16777215;
tf.text=(((_166[24] + u.id) + _166[25]) + u.nick);
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=u;
callMethod(this,tf,_166[26],[{'white-space':_166[28]}]);
if((tf.width > 200)){
tf.width=200;
callMethod(this,tf,_166[26],[{'white-space':_166[28],'text-overflow':_166[30],'overflow':_166[32]}]);

}
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_166[33],[_166[34]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_166[35],[this.userObj.id]);

}

};
callMethod(this,sp,_166[4],[tf]);
var maxChars=60;
var cb8=function(idd,tx){
callMethod(this,GLOBAL.$app.popup,_166[36],[((_166[37] + maxChars) + _166[38]),_166[39],tx,function(ob){
var val=ob.name;
callMethod(this,GLOBAL.$app.connect,_166[21],[function(v){
if((v == 1)){
callMethod(this,th,_166[7]);

}

},_166[23],_166[40],idd,val]);

}]);

};
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_166[41],[_166[42]]);
bm1.scaleX=0.7;
bm1.scaleY=0.7;
bm1.y=2;
bm1.buttonMode=!0;
bm1.txtOrig=el.txt;
bm1.click=function(){
var txt1=_166[43];
if((this.txtOrig.size > 0)){
txt1=this.txtOrig;

}
callMethod(this,GLOBAL.$app.popup,_166[44],[('' + txt1)]);

};
bm1.x=240;
callMethod(this,sp,_166[4],[bm1]);
var txtDesc=el.txt;
if((el.txt.size <= 0)){
txtDesc=_166[45];

}
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=14;
tf3.color=16776960;
tf3.txtOrig=el.txt;
tf3.txt2=txtDesc;
tf3.text=('' + txtDesc);
tf3.idd=el.user;
tf3.x=270;
tf3.y=3;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
var txtV=this.txt2;
if((this.txtOrig.size <= 0)){
txtV='';

}
cb8(this.idd,txtV);

};
callMethod(this,sp,_166[4],[tf3]);
sp.y=yy;
callMethod(this,th.cnt,_166[4],[sp]);
yy+=32;

}
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text=_166[46];
th.preloadTxt.x=((580 - th.preloadTxt.width) / 2);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text='кликните на ник игрока, и выберите "добавить в друзья"';
txt1.x=((580 - txt1.width) / 2);
txt1.y=(th.preloadTxt.y + 25);
txt1.filters=GLOBAL.Config.filterBlue1;
th.preloadTxt2=txt1;
callMethod(this,th.c,_166[4],[txt1]);

}

}

}

};
_app_popup_PopUpMyFriends[_166[5]]=function(){
callMethod(this,this.parent,_166[5],[this]);

};
_app_popup_PopUpMyFriends[_166[47]]=function(w,h){
callMethod(this,this.bg,_166[47],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_166[48],_166[49],_app_popup_PopUpMyFriends);
})(window);



(function(window){
var _72=["relative","User","app.chat.ChatOnlineUserSprite","chatSelectRoom","addChild","attr","Параметры","on","click","push","Открыть","Очистить приват","clearMessages","getRoomsListByType","Закрыть приват","removePrivateRoomByUserID","openMenuList1","dialogHover","web","css","#C9E79F","white-space","nowrap","updEndMsg","updNewMsg","id","msg","cutStringSmiles","parseStringMsg","Вы: ","send","loadRoomByObj","renderRoom","chat.getRoom","loadMsgs","app.chat.dialogs.DialogRoomSprite","lang.display.Sprite"];
var _app_chat_dialogs_DialogRoomSprite={};
_app_chat_dialogs_DialogRoomSprite["ctor"]=function(room,dialogsMaster){
var th=this;
this.position=_72[0];
this.room=room;
this.h=35;
this.id=room.id;
this.dialogsMaster=dialogsMaster;
this.uu=null;
var maxAvaW=30;
var nm=room.name;
if(room){
var uu=ctorObject(_72[1]);
uu.nick=nm;
if((room.type == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
var u2=room.chatRoom.users[0];
uu=u2;

}
this.uu=uu;
var spp=ctorObject(_72[2],[uu]);
spp.x=20;
spp.cbClick=function(){
if((th.room.type == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
callMethod(this,GLOBAL.$app.chat,_72[3],[th.room.chatRoom]);

}

};
callMethod(this,null,_72[4],[spp]);
var cb3=function(){
if((th.room.type == GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER)){
callMethod(this,GLOBAL.$app.chat,_72[3],[th.room.chatRoom]);

}

};
var bmSettings=ctorObject(lang.display.Bitmap);
bmSettings.src=GLOBAL.Config.settingsIcon1Min;
bmSettings.scaleX=0.5;
bmSettings.scaleY=0.5;
bmSettings.y=7;
bmSettings.buttonMode=!0;
callMethod(this,bmSettings,_72[5],[{title:_72[6]}]);
callMethod(this,null,_72[4],[bmSettings]);
callMethod(this,bmSettings,_72[7],[_72[8],function(e){
var menuList=[];
callMethod(this,menuList,_72[9],[[_72[10],cb3]]);
callMethod(this,menuList,_72[9],[[_72[11],function(){
callMethod(this,th.room.chatRoom,_72[12]);
var privateRooms=callMethod(this,GLOBAL.$app.chat,_72[13],[GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM]);
if((privateRooms.size > 0)){
GLOBAL.$app.chat.activeRoom=null;
callMethod(this,GLOBAL.$app.chat,_72[3],[privateRooms[0]]);

}

}]]);
callMethod(this,menuList,_72[9],[[_72[14],function(){
if(th.uu){
callMethod(this,GLOBAL.$app.chat,_72[15],[th.uu.id]);
var privateRooms=callMethod(this,GLOBAL.$app.chat,_72[13],[GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM]);
if((privateRooms.size > 0)){
GLOBAL.$app.chat.activeRoom=null;
callMethod(this,GLOBAL.$app.chat,_72[3],[privateRooms[0]]);

}

}

}]]);
callMethod(this,GLOBAL.$app.chat,_72[16],[menuList,_72[6],0,!1]);

}]);
callMethod(this,spp,_72[5],[{className:_72[17]}]);
callMethod(this,spp,_72[7],[_72[8],cb3]);
var txt2=ctorObject(lang.display.Sprite);
txt2.position=_72[0];
txt2.x=(35 + spp.x);
txt2.y=20;
txt2.y+=3;

callMethod(this,txt2,_72[19],[{color:_72[20],'white-space':_72[22]}]);
callMethod(this,null,_72[4],[txt2]);
this.txt2=txt2;
callMethod(this,txt2,_72[7],[_72[8],cb3]);
callMethod(this,txt2,_72[5],[{className:_72[17]}]);
callMethod(this,this,_72[23]);

}

};
_app_chat_dialogs_DialogRoomSprite[_72[24]]=function(){

};
_app_chat_dialogs_DialogRoomSprite[_72[23]]=function(){
var th=this;
var msgs=th.room.chatRoom.messages;
if(msgs){
if((msgs.size > 0)){
var szz=(msgs.size - 1);
var msgObj=msgs[szz];
if(msgObj){
var otid=msgObj.ot;
if(checkIn(otid,_72[25])){
otid=otid.id;

}
if(checkIn(msgObj,_72[26])){
var msgg=msgObj.msg;
msgg=callMethod(this,GLOBAL.$app.smilesMaster,_72[27],[msgg]);
msgg=callMethod(this,GLOBAL.$app.smilesMaster,_72[28],[msgg]);
if((otid == GLOBAL.$app.user.id)){
th.txt2.html=(_72[29] + msgg);

}else{
th.txt2.html=('' + msgg);

}

}

}

}

}

};
_app_chat_dialogs_DialogRoomSprite[_72[34]]=function(){
var th=this;
GLOBAL.$app.chat.activeRoom=th.room.chatRoom;
callMethod(this,GLOBAL.$app.connect,_72[30],[function(o){
callMethod(this,GLOBAL.$app.chat,_72[31],[o]);
callMethod(this,th,_72[32]);

},_72[33],th.room.id]);

};
_app_chat_dialogs_DialogRoomSprite[_72[32]]=function(){
callMethod(this,GLOBAL.$app.chat,_72[32],[this.room.chatRoom]);

};
vm.registerClass(_72[35],_72[36],_app_chat_dialogs_DialogRoomSprite);
})(window);

(function(window){
var _54=["app.chat.ChatRoom","isOwnerUser","app.chat.dialogs.DialogRoom"];
var _app_chat_dialogs_DialogRoom={};
_app_chat_dialogs_DialogRoom["ctor"]=function(id,name,type,ownerid,ot,komu,flags){
this.id=id;
this.name=name;
this.type=type;
this.ownerid=ownerid;
this.ot=ot;
this.komu=komu;
this.flags=flags;
this.chatRoom=ctorObject(_54[0],[id,name,type]);
this.chatRoom.stype=GLOBAL.app.chat.ChatRoomType.DIALOG_ROOM;
this.chatRoom.flags=flags;

};
_app_chat_dialogs_DialogRoom[_54[1]]=function(id){
if((this.ownerid == id)){
return !0;

}
return !1;

};
vm.registerClass(_54[2],'',_app_chat_dialogs_DialogRoom);
})(window);

(function(window){
var _121=["getCountDialogs","push","getAllDialogsUsersIds","getRoomsListByType","app.chat.dialogs.DialogRoom","getObjByArr","parseList","removeAllChilds","app.chat.dialogs.DialogRoomSprite","addChild","render1","app.chat.dialogs.DialogsMaster"];
var _app_chat_dialogs_DialogsMaster={};
_app_chat_dialogs_DialogsMaster["ctor"]=function(){
this.rooms=[];
this.activeRoom=null;

};
_app_chat_dialogs_DialogsMaster[_121[0]]=function(){
var nums=this.rooms.size;
return nums;

};
_app_chat_dialogs_DialogsMaster[_121[2]]=function(){
var a=[];
var ob={};
var i=0;
while((i < this.rooms.size)){
var el=this.rooms[i];
var idd=el.ownerid;
if((idd != 0)){
if(!checkIn(ob,idd)){
ob[idd]=1;
callMethod(this,a,_121[1],[idd]);

}

}
idd=el.ot;
if((idd != 0)){
if(!checkIn(ob,idd)){
ob[idd]=1;
callMethod(this,a,_121[1],[idd]);

}

}
idd=el.komu;
if((idd != 0)){
if(!checkIn(ob,idd)){
ob[idd]=1;
callMethod(this,a,_121[1],[idd]);

}

}
i++;
}
return a;

};
_app_chat_dialogs_DialogsMaster[_121[6]]=function(a){
this.rooms=[];
if(a){
var privateRooms=callMethod(this,GLOBAL.$app.chat,_121[3],[GLOBAL.app.chat.ChatRoomType.DIALOG_PRIVATE_USER]);
if(privateRooms){
var i=(privateRooms.size - 1);
while((i >= 0)){
var el=privateRooms[i];
var c=ctorObject(_121[4],[el.id,el.name,el.stype,el.userid,GLOBAL.$app.user.id,0,0]);
c.chatRoom=el;
callMethod(this,this.rooms,_121[1],[c]);
i-=1;

}

}
var i=0;
while((i < a.size)){
var el=a[i];
var ob=callMethod(this,el,_121[5],[GLOBAL.Config.dialogsStruct]);
var c=ctorObject(_121[4],[ob.id,ob.name,ob.type,ob.ownerid,ob.ot,ob.komu,ob.flags]);
callMethod(this,this.rooms,_121[1],[c]);
i++;
}

}

};
_app_chat_dialogs_DialogsMaster[_121[10]]=function(spr){
if(spr){
callMethod(this,spr,_121[7]);
var i=0;
while((i < this.rooms.size)){
var el=this.rooms[i];
var c=ctorObject(_121[8],[el,this]);
el.spr=c;
c.y=(i * (c.h + 2));
callMethod(this,spr,_121[9],[c]);
i++;
}

}

};
vm.registerClass(_121[11],'',_app_chat_dialogs_DialogsMaster);
})(window);



(function(window){
var _142=["addDomCanvas","createPainter","addChild","getAssetByName","navleft.png","navright.png","back","next","AppButtonExit2","on","rollover","rollout","navHome","push","movieid","Nav"," из ","selectMovie","init","removeAllChilds","drawMovie","Мувик "," (",")","clear","removeChild","removeDomCanvas","removeScene","rect","#FFFFFF","resize","scenes.MoviesEditorScene","lang.display.Sprite"];
var _scenes_MoviesEditorScene={};
_scenes_MoviesEditorScene["ctor"]=function(){
var th=this;
this.ev=ctorObject(lang.events.EventsObjectMaster);
callMethod(this,GLOBAL.$app,_142[0]);
this.reader=null;
this.nav=null;
this.exportsMoviesName={};
this.bg=ctorObject(lang.display.Sprite);
callMethod(this,this.bg,_142[1]);
callMethod(this,null,_142[2],[this.bg]);
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=80;
this.cnt.y=120;
callMethod(this,null,_142[2],[this.cnt]);
this.downPanel1=ctorObject(lang.display.Sprite);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_142[2],[this.downPanel1]);
this.curPage=-1;
this.pages=0;
this.navSpr=ctorObject(lang.display.Sprite);
this.navSpr.x=100;
this.navSpr.y=30;
callMethod(this,this.downPanel1,_142[2],[this.navSpr]);
var navLeftImg=callMethod(this,GLOBAL.$app.moviesReader,_142[3],[_142[4]]);
var navRightImg=callMethod(this,GLOBAL.$app.moviesReader,_142[3],[_142[5]]);
callMethod(this,this.navSpr,_142[2],[navLeftImg,navRightImg]);
navLeftImg.buttonMode=!0;
navRightImg.buttonMode=!0;
navRightImg.x=80;
navLeftImg.click=function(){
if((th.curPage > 0)){
th.curPage-=1;
if(th.nav){
callMethod(this,th.nav,_142[6]);

}

}else{
th.nav.pos=th.nav.arr.size;
th.curPage=th.nav.pos;
callMethod(this,th.nav,_142[6]);

}

};
navRightImg.click=function(){
if((th.curPage < th.pages)){
th.curPage+=1;
if(th.nav){
callMethod(this,th.nav,_142[7]);

}

}else{
th.nav.pos=-1;
th.curPage=0;
callMethod(this,th.nav,_142[7]);

}

};
this.txt3=ctorObject(lang.text.TextField);
this.txt3.color=16777215;
this.txt3.fontSize=14;
this.txt3.x=130;
this.txt3.y=17;
callMethod(this,this.downPanel1,_142[2],[this.txt3]);
this.txt4=ctorObject(lang.text.TextField);
this.txt4.color=16777215;
this.txt4.fontSize=14;
this.txt4.x=290;
this.txt4.y=17;
callMethod(this,this.downPanel1,_142[2],[this.txt4]);
this.exitBut=ctorObject(_142[8]);
callMethod(this,this.ev,_142[9],[this.exitBut.msk,_142[10],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.ev,_142[9],[this.exitBut.msk,_142[11],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
callMethod(this,GLOBAL.$app,_142[12]);

};
callMethod(this,this.downPanel1,_142[2],[this.exitBut]);

};
_scenes_MoviesEditorScene[_142[18]]=function(reader){
var th=this;
this.reader=reader;
if(reader){
var moviesIds=[];
for(var n in reader.moviesPos){
var idd=castInt(n);
callMethod(this,moviesIds,_142[13],[idd]);

}
var ob3={};
var gl=GLOBAL;
for(var n in gl){
var vv=gl[n];
if(checkIn(vv,_142[14])){
var idd=vv.movieid;
th.exportsMoviesName[idd]=n;

}

}
th.pages=moviesIds.size;
th.nav=ctorObject(_142[15],[moviesIds,function(idd){
th.txt3.text=((('' + (th.nav.pos + 1)) + _142[16]) + th.pages);
callMethod(this,th,_142[17],[idd]);

}]);
callMethod(this,th.nav,_142[7]);

}

};
_scenes_MoviesEditorScene[_142[17]]=function(id){
var th=this;
if(this.reader){
callMethod(this,this.cnt,_142[19]);
var m=callMethod(this,this.reader,_142[20],[id]);
if(m){
m.mouseChildren=!1;
m.isDragItem=!0;
callMethod(this,this.cnt,_142[2],[m]);
var nm=(_142[21] + id);
if(checkIn(th.exportsMoviesName,id)){
var nm2=th.exportsMoviesName[id];
nm=(((nm + _142[22]) + nm2) + _142[23]);

}
this.txt4.text=('' + nm);

}

}

};
_scenes_MoviesEditorScene[_142[27]]=function(){
callMethod(this,this.ev,_142[24]);
if(this.downPanel1.parent){
callMethod(this,this.downPanel1.parent,_142[25],[this.downPanel1]);

}
this.reader=null;
callMethod(this,GLOBAL.$app,_142[26]);

};
_scenes_MoviesEditorScene[_142[30]]=function(w,h){
this.exitBut.x=(w - 190);
this.exitBut.y=16;
callMethod(this,this.bg.painter,_142[24]);
callMethod(this,this.bg.painter,_142[28],[0,0,w,h,_142[29]]);

};
vm.registerClass(_142[31],_142[32],_scenes_MoviesEditorScene);
})(window);



(function(window){
var _146=["openPopUpUslugiTester","buyItemByID","checkPaymentSrv","buyTesterAdd","send","shop.checkPayment","item_","web","fullscreenOff","site","openPopUpPaymentItemSite","paymentItem","ok","buyMoneyByID","subscribeItem","buySubscriptionByID","buySubscriptionID","app.master.ShopMaster"];
var _app_master_ShopMaster={};
_app_master_ShopMaster["ctor"]=function(){
this.paymentsKostiList=[];
this.exchangeMoney=0;
this.priceChangeNick=0;
this.priceSendChatColorMsg=0;
this.testerGetMoney=0;
this.banList=[];
this.votesRainbowNick=3;
this.votesNickColor=5;
this.votesUnblockAccount=20;
this.votesAddTester=20;
this.votesResetAccount=25;
this.votes5Symbols=5;
this.priceSaveMap=0;
this.priceRetSaveMap=0;
this.votesVip1=20;
this.votesVip2=15;
this.votesVipDay1=3;
this.priceChangeNickColor=0;
this.priceChangeNickResetColor=0;
this.priceOffNickRainbow=0;
this.priceBuyStyle1=-1;

};
_app_master_ShopMaster[_146[3]]=function(cb){
callMethod(this,GLOBAL.$app.popup,_146[0],[function(){
callMethod(this,GLOBAL.$app.shopMaster,_146[1],[8,function(){
callMethod(this,GLOBAL.$app.shopMaster,_146[2]);
if(cb){
cb();

}

}]);

}]);

};
_app_master_ShopMaster[_146[2]]=function(){
callMethod(this,GLOBAL.$app.connect,_146[4],[_146[5]]);

};
_app_master_ShopMaster[_146[1]]=function(id,cb){
var item=(_146[6] + id);
callMethod(this,GLOBAL.$app,_146[8]);

if((GLOBAL.Config.authType == _146[9])){
callMethod(this,GLOBAL.$app.popup,_146[10],[id]);

}else{
callMethod(this,GLOBAL.$app.apiVK,_146[11],[item,function(status){
if((status == _146[12])){
if(cb){
cb();

}

}

}]);

}

};
_app_master_ShopMaster[_146[13]]=function(id){
var item=(_146[6] + id);
callMethod(this,GLOBAL.$app,_146[8]);

callMethod(this,GLOBAL.$app.apiVK,_146[11],[item,function(status){
if((status == _146[12])){
callMethod(this,GLOBAL.$app.connect,_146[4],[_146[5]]);

}

}]);

};
_app_master_ShopMaster[_146[15]]=function(id){
var item=(_146[6] + id);
callMethod(this,GLOBAL.$app,_146[8]);

callMethod(this,GLOBAL.$app.apiVK,_146[14],[item,function(status){
if((status == _146[12])){
callMethod(this,GLOBAL.$app.connect,_146[4],[_146[5]]);

}

}]);

};
_app_master_ShopMaster[_146[16]]=function(id,cb){
var item=(_146[6] + id);
callMethod(this,GLOBAL.$app,_146[8]);

callMethod(this,GLOBAL.$app.apiVK,_146[14],[item,function(status){
if(cb){
cb(status);

}

}]);

};
vm.registerClass(_146[17],'',_app_master_ShopMaster);
})(window);



(function(window){
var _35=["PopUpWinUserZabeg2","app.popup.PopUpMinInfo1","addChild","Результаты забега"," место: ","css","white-space","nowrap","text-overflow","clip","overflow","hidden","nick_itemid","clickChatUser","removeChild","remove","resize","app.popup.PopUpWinnersListZabeg","lang.display.Sprite"];
var _app_popup_PopUpWinnersListZabeg={};
_app_popup_PopUpWinnersListZabeg["ctor"]=function(arr){
this.popupName=_35[0];
this.p1=ctorObject(_35[1],['']);
callMethod(this,null,_35[2],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
var sp3=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_35[2],[sp2,sp3]);
sp3.y=50;
var yy=0;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_35[3];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=20;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_35[2],[this.tf1]);
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var pos=(i + 1);
if(el.user){
var tf=ctorObject(lang.text.TextField);
tf.fontSize=16;
tf.text=((('' + pos) + _35[4]) + el.user.nick);
tf.filters=GLOBAL.Config.shadowText2;
var ww=tf.width;
if((ww > 330)){
tf.width=330;
ww=330;
callMethod(this,tf,_35[5],[{'white-space':_35[7],'text-overflow':_35[9],'overflow':_35[11]}]);

}
tf.x=((450 - ww) / 2);
tf.y=yy;
tf.buttonMode=!0;
tf.elUser=el.user;
var isClickV=!0;
if(el.user){
if(checkIn(el.user,_35[12])){
if((el.user.nick_itemid == 1)){
isClickV=!1;

}

}

}
if(isClickV){
tf.click=function(){
callMethod(this,GLOBAL.$app.chat,_35[13],[this.elUser,!1,!0]);

};

}
callMethod(this,sp3,_35[2],[tf]);
yy+=25;

}
i++;
}

}

};
_app_popup_PopUpWinnersListZabeg[_35[15]]=function(){
if(this.parent){
callMethod(this,this.parent,_35[14],[this]);

}

};
_app_popup_PopUpWinnersListZabeg[_35[16]]=function(w,h){
callMethod(this,this.p1,_35[16],[w,h]);

};
vm.registerClass(_35[17],_35[18],_app_popup_PopUpWinnersListZabeg);
})(window);



(function(window){
var _23=["BGKostiSprite","drawMovie","cnt","removeChild","attr","scroll1","addChild","web","remove","animAlphaSprite","load","removeAllChilds","Идёт загрузка...","push","getUserID","parseList","ID ",": "," (кликов ",")","css","white-space","nowrap","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","Нет победителей.","reload","resize","app.popup.PopUpBoarListUsers1","lang.display.Sprite"];
var _app_popup_PopUpBoarListUsers1={};
_app_popup_PopUpBoarListUsers1["ctor"]=function(arr1){
var th=this;
this.arr1=arr1;
this.bg=ctorObject(_23[0]);
this.c=callMethod(this,GLOBAL.$app.moviesReader,_23[1],[16]);
if(checkIn(th.c,_23[2])){
callMethod(this,th.c,_23[3],[th.c.cnt]);

}
this.preloadTxt=null;
this.preloadTxt2=null;
this.sc=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_23[4],[{className:_23[5]}]);
callMethod(this,this.c,_23[6],[this.cnt]);

callMethod(this,null,_23[6],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_23[8]);

};
callMethod(this,GLOBAL.AppUtils,_23[9],[this.c.close,0.8,1]);
callMethod(this,this,_23[10]);

};
_app_popup_PopUpBoarListUsers1[_23[10]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_23[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_23[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_23[11]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_23[12];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_23[6],[txt1]);
th.preloadTxt=txt1;
var limitV=30;
var nn=0;
var ids=[];
if(this.arr1){
var ob1={};
var i=0;
while((i < this.arr1.size)){
var el=this.arr1[i];
var iduser=el.id;
if(checkIn(ob1,iduser)){

}else{
callMethod(this,ids,_23[13],[iduser]);
ob1[iduser]=1;

}
i++;
}

}
callMethod(this,GLOBAL.$app.cacheUsers,_23[10],[ids,function(){
var arr3=[];
var i=0;
while((i < th.arr1.size)){
var ell=th.arr1[i];
var idd=ell.id;
var u=callMethod(this,GLOBAL.$app.cacheUsers,_23[14],[idd]);
callMethod(this,arr3,_23[13],[{id:idd,nums:ell.nums,u:u}]);
i++;
}
callMethod(this,th,_23[15],[arr3]);

}]);

};
_app_popup_PopUpBoarListUsers1[_23[15]]=function(arr){
var th=this;
callMethod(this,th.cnt,_23[11]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_23[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_23[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var i=0;
while((i < arr.size)){
var ell=arr[i];
var u=ell.u;
if(u){
var sp=ctorObject(lang.display.Sprite);
var tf=ctorObject(lang.text.TextField);
tf.x=10;
tf.buttonMode=!0;
tf.color=16777215;
tf.text=((((((_23[16] + u.id) + _23[17]) + u.nick) + _23[18]) + ell.nums) + _23[19]);
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=u;
callMethod(this,tf,_23[20],[{'white-space':_23[22]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_23[23],[_23[24]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_23[25],[this.userObj.id]);

}

};
callMethod(this,sp,_23[6],[tf]);
sp.y=yy;
callMethod(this,th.cnt,_23[6],[sp]);
yy+=32;

}
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text=_23[26];
th.preloadTxt.x=((580 - th.preloadTxt.width) / 2);

}

}
if(th.sc){
callMethod(this,th.sc,_23[27]);

}

}

};
_app_popup_PopUpBoarListUsers1[_23[8]]=function(){
if(this.sc){
callMethod(this,this.sc,_23[8]);

}
this.sc=null;
callMethod(this,this.parent,_23[8],[this]);

};
_app_popup_PopUpBoarListUsers1[_23[28]]=function(w,h){
callMethod(this,this.bg,_23[28],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_23[29],_23[30],_app_popup_PopUpBoarListUsers1);
})(window);



(function(window){
var _1=["t","findObjType","push","curTime","addTime","image","addImage","gift","addGift","text","addText","textClick","addTextClick","delMsg","addSpace","addDelMsg","restoreMsg","addRestoreMsg","textSpace","newLine","nickUser","addNick","args","apply","isContainer","add","renderLib","clear","app.chat.ChatBuilderMsg"];
var _app_chat_ChatBuilderMsg={};
_app_chat_ChatBuilderMsg["ctor"]=function(){
this.list=[];

};
_app_chat_ChatBuilderMsg[_1[1]]=function(t){
if(t){
var i=0;
while((i < this.list.length)){
var el=this.list[i];
if(el && checkIn(el,_1[0]) && (el.t == t)){
return el;

}
i++;
}

}
return null;

};
_app_chat_ChatBuilderMsg[_1[4]]=function(ts){
callMethod(this,this.list,_1[2],[{t:_1[3],args:[ts]}]);

};
_app_chat_ChatBuilderMsg[_1[6]]=function(v){
callMethod(this,this.list,_1[2],[{t:_1[5],args:[v]}]);

};
_app_chat_ChatBuilderMsg[_1[8]]=function(v){
callMethod(this,this.list,_1[2],[{t:_1[7],args:[v]}]);

};
_app_chat_ChatBuilderMsg[_1[10]]=function(v,color){
callMethod(this,this.list,_1[2],[{t:_1[9],args:[v,color]}]);

};
_app_chat_ChatBuilderMsg[_1[12]]=function(v,color,cid,args){
callMethod(this,this.list,_1[2],[{t:_1[11],args:[v,color,cid,args]}]);

};
_app_chat_ChatBuilderMsg[_1[15]]=function(v){
callMethod(this,this.list,_1[2],[{t:_1[13],args:[v]}]);
callMethod(this,this,_1[14]);

};
_app_chat_ChatBuilderMsg[_1[17]]=function(v){
callMethod(this,this.list,_1[2],[{t:_1[16],args:[v]}]);
callMethod(this,this,_1[14]);

};
_app_chat_ChatBuilderMsg[_1[14]]=function(){
callMethod(this,this.list,_1[2],[{t:_1[18]}]);

};
_app_chat_ChatBuilderMsg[_1[19]]=function(){
callMethod(this,this.list,_1[2],[{t:_1[19]}]);

};
_app_chat_ChatBuilderMsg[_1[21]]=function(u,clickcb){
callMethod(this,this.list,_1[2],[{t:_1[20],args:[u,clickcb]}]);

};
_app_chat_ChatBuilderMsg[_1[26]]=function(dd){
var th=this;
var d=dd;
var cbObj=GLOBAL.$app.chat.chatTypeMsgsObj;
if(!d){
d=ctorObject(lib.chat.Sprite);
d.paddingTop=20;

}
var i=0;
while((i < th.list.length)){
var el=th.list[i];
if(el){
var t=el.t;
var args=null;
if(checkIn(el,_1[22])){
args=el.args;

}
if(checkIn(cbObj,t)){
var cb=cbObj[t];
var res=callMethod(this,cb,_1[23],[null,args]);
if(res){
if(checkIn(res,_1[24]) && res.isContainer){
var k=0;
while((k < res.list.length)){
callMethod(this,d,_1[25],[res.list[k]]);
k++;
}

}else{
callMethod(this,d,_1[25],[res]);

}

}

}

}
i++;
}
return d;

};
_app_chat_ChatBuilderMsg[_1[27]]=function(){
this.list=[];

};
vm.registerClass(_1[28],'',_app_chat_ChatBuilderMsg);
})(window);



(function(window){
var _171=["addChild","Arial","Выберите стену","app.game.items.WallItem","resize","remove","app.popup.PopUpEditorChangeWall","lang.display.Sprite"];
var _app_popup_PopUpEditorChangeWall={};
_app_popup_PopUpEditorChangeWall["ctor"]=function(cb){
var th=this;
var wallsList=GLOBAL.$app.gameMaster.wallItemsArr;
var wallWH=40;
var sp=ctorObject(lang.display.Sprite);
sp.x=20;
sp.y=70;
var allW=380;
sp.x=(sp.x + ((allW - (wallWH * wallsList.size)) / 2));
callMethod(this,null,_171[0],[sp]);
var xx=0;
var tf=ctorObject(lang.text.TextField);
tf.fontName=_171[1];
tf.bold=!0;
tf.color=16777215;
tf.filters=GLOBAL.Config.filterBlue1;
tf.text=_171[2];
tf.x=(10 + ((allW - tf.width) / 2));
callMethod(this,null,_171[0],[tf]);
var i=0;
while((i < wallsList.size)){
var elq=wallsList[i];
var tt=elq.t;
var q2=ctorObject(_171[3],[tt,null,!0]);
q2.mouseChildren=!0;
q2.isBorderEnable=!1;
callMethod(this,q2,_171[4],[wallWH,wallWH]);
q2.x=xx;
q2.spr.buttonMode=!0;
q2.spr.elObj=elq;
q2.spr.click=function(){
callMethod(this,th,_171[5]);
var tt1=this.elObj.t;
if(cb){
cb(tt1);

}

};
xx=(xx + (wallWH + 4));
callMethod(this,sp,_171[0],[q2]);
i++;
}

};
vm.registerClass(_171[6],_171[7],_app_popup_PopUpEditorChangeWall);
})(window);



(function(window){
var _209=["PopUpWinUserZabeg1","createPainter","PopUpWinnerZabeg1","playSFX","winnerZabeg","Место +","+","Бонус ","Итого +","Спасено собачек ","web","addChild","Получено","app.bar.BarMoneyTypeSpr2","lapki","setMoney","remove","animAlphaSprite","removeChild","clear","rect","#000000","resize","app.popup.PopUpWinUserZabeg","lang.display.Sprite"];
var _app_popup_PopUpWinUserZabeg={};
_app_popup_PopUpWinUserZabeg["ctor"]=function(pos,bonus_opyt,opyt_prize,opyt_top,moneyV){
var th=this;
this.selectable=!1;
this.popupName=_209[0];
this.bg=ctorObject(lang.display.Sprite);
callMethod(this,this.bg,_209[1]);
this.bg.alpha=0.2;
var c=ctorObject(_209[2]);
callMethod(this,GLOBAL.$app,_209[3],[_209[4]]);
var allOpyt=(opyt_prize + bonus_opyt);
var offsetY=0;
c.posTxt.text=('' + pos);
if((pos == 1)){
c.posTxt.x+=2;

}
c.opytTxt.text=(_209[5] + opyt_prize);
var tx2=('' + bonus_opyt);
if((bonus_opyt > 0)){
tx2=(_209[6] + tx2);

}
c.timeTxt.text=(_209[7] + tx2);
c.allTxt.text=(_209[8] + allOpyt);
c.topTxt.text=(_209[9] + opyt_top);
c.topTxt.x=((260 - c.topTxt.width) / 2);
c.topTxt.y-=10;

c.posTxt.y-=offsetY;
c.opytTxt.y-=offsetY;
c.timeTxt.y-=offsetY;
c.topTxt.y-=offsetY;
if((moneyV > 0)){
var sp3=ctorObject(lang.display.Sprite);
sp3.x=10;
sp3.y=(c.topTxt.y + 30);
callMethod(this,c,_209[11],[sp3]);
var moneyTxt=ctorObject(lang.text.TextField);
moneyTxt.color=16768850;
moneyTxt.fontSize=17;
moneyTxt.text=_209[12];
moneyTxt.x=50;
callMethod(this,sp3,_209[11],[moneyTxt]);
var mm=ctorObject(_209[13],[_209[14],function(){

}]);
mm.mouseEnabled=!1;
callMethod(this,mm,_209[15],[moneyV]);
mm.x=((280 - mm.tf.width) / 2);
mm.y=-9;
callMethod(this,sp3,_209[11],[mm]);

}
this.c=c;
callMethod(this,null,_209[11],[this.bg,c]);
c.closeBut.click=function(e){
callMethod(this,th,_209[16]);

};
callMethod(this,GLOBAL.AppUtils,_209[17],[c.closeBut,0.8,1]);
this.bg.click=function(){
callMethod(this,th,_209[16]);

};

};
_app_popup_PopUpWinUserZabeg[_209[16]]=function(){
callMethod(this,this.parent,_209[18],[this]);

};
_app_popup_PopUpWinUserZabeg[_209[22]]=function(w,h){
callMethod(this,this.bg.painter,_209[19]);
callMethod(this,this.bg.painter,_209[20],[0,0,w,h,_209[21]]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_209[23],_209[24],_app_popup_PopUpWinUserZabeg);
})(window);



(function(window){
var _0=["BGKostiSprite","AppPopUpZabegi1Mov","getAssetByName","b27.png","m","navMenu","addChild","remove","animAlphaSprite","createStream","on","init","ev1","apply","join","addCmd","removeAllChilds","loadZabegiType","def","lapki","room","Arial","createStreamGameRoomByList1","забег ",", карта: "," (сложная)","забег: ","setChildIndex","getChildAt","pushZabeg","removeChild","removeZabeg","stop","css","#FFFFFF","font-family","font-weight","bold","attr","scroll1","getListAll","Нет забегов","addZabeg","isRmvFlag","send","getList","leave","resize","app.popup.PopUpZabegiListMov1","lang.display.Sprite"];
var _app_popup_PopUpZabegiListMov1={};
_app_popup_PopUpZabegiListMov1["ctor"]=function(t){
var th=this;
var bg=ctorObject(_0[0]);
var c=ctorObject(_0[1]);
this.tm1=null;
this.tt='';
this.initDataObj=null;
this.tfLoad=null;
this.isInitV=!1;
this.curMenu=0;
this.yy=0;
this.yyH=30;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_0[2],[_0[3]]);
this.curMenuArr=[c.but1,c.but2,c.but3];
var i=0;
while((i < this.curMenuArr.size)){
var idd=(i + 1);
var nm3=(_0[4] + idd);
var ob3=c[nm3];
ob3.mouseEnabled=!1;
var el=this.curMenuArr[i];
el.menuID=idd;
el.origIconSrc=el.icon1.src;
el.msk.menuID=idd;
el.msk.click=function(){
callMethod(this,th,_0[5],[this.menuID]);

};
i++;
}
this.sc=null;
this.stream=null;
this.cbObj={};
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=160;
this.c.cnt.y=90;
callMethod(this,this.c,_0[6],[this.c.cnt]);
this.bg=bg;
callMethod(this,null,_0[6],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_0[7]);

};
callMethod(this,GLOBAL.AppUtils,_0[8],[c.close,0.8,1]);
var navID=1;
if(t){
navID=t;

}
var stream=GLOBAL.$app.roomsListStream;
if(!stream){
var stream2=callMethod(this,GLOBAL.$app.connect,_0[9],[GLOBAL.$app.roomsListStreamID]);
GLOBAL.$app.roomsListStream=stream2;
stream=stream2;

}
this.stream=stream;
if(stream){
callMethod(this,stream,_0[10],[_0[11],function(oo){
th.initDataObj=oo;
th.isInitV=!0;
callMethod(this,th,_0[5],[navID]);

}]);
callMethod(this,stream,_0[10],[_0[12],function(o){
var cmd=o.cmd;
if(checkIn(th.cbObj,cmd)){
var cbb=th.cbObj[cmd];
callMethod(this,cbb,_0[13],[null,o.data]);

}

}]);
callMethod(this,stream,_0[14]);

}

};
_app_popup_PopUpZabegiListMov1[_0[15]]=function(t,cb){
if(cb){
this.cbObj[t]=cb;

}

};
_app_popup_PopUpZabegiListMov1[_0[5]]=function(id){
if(this.isInitV){
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
i++;
}
if(this.sc){
callMethod(this,this.sc,_0[7]);

}
this.sc=null;
callMethod(this,this.c.cnt,_0[16]);
if((id == 1)){
callMethod(this,this,_0[17],[_0[18]]);

}else if((id == 2)){
callMethod(this,this,_0[17],[_0[19]]);

}else if((id == 3)){
callMethod(this,this,_0[17],[_0[20]]);

}



}
this.curMenu=id;

}

};
_app_popup_PopUpZabegiListMov1[_0[29]]=function(o,sp){
var th=this;
if(o){
if(sp){
th.yy=0;
var tf=ctorObject(lang.text.TextField);
tf.fontName=_0[21];
tf.bold=!0;
tf.color=16777215;
tf.elObj=o;
tf.buttonMode=!0;
tf.click=function(){
var ell=this.elObj;
callMethod(this,th,_0[7]);
callMethod(this,GLOBAL.$app.gameMaster,_0[22],[ell.stream,ell.waitTime]);

};
var ss=(((_0[23] + o.stream) + _0[24]) + o.mapid);
if((o.mapLevel > 1)){
ss=(ss + _0[25]);

}
if((o.t == _0[20])){
ss=(((_0[26] + o.name) + _0[24]) + o.mapid);

}
tf.filters=GLOBAL.Config.filterBlue1;
tf.text=ss;
callMethod(this,sp,_0[6],[tf]);
callMethod(this,sp,_0[27],[tf,0]);
var i=0;
while((i < sp.numChildren)){
var d=callMethod(this,sp,_0[28],[i]);
d.y=th.yy;
th.yy=(th.yy + th.yyH);
i++;
}

}

}

};
_app_popup_PopUpZabegiListMov1[_0[31]]=function(id,sp){
var th=this;
if(sp){
var el=null;
var i=0;
while((i < sp.numChildren)){
var d=callMethod(this,sp,_0[28],[i]);
if((d.elObj.stream == id)){
el=d;

}
i++;
}
if(el){
callMethod(this,sp,_0[30],[el]);
th.yy=0;
var i=0;
while((i < sp.numChildren)){
var d=callMethod(this,sp,_0[28],[i]);
d.y=th.yy;
th.yy=(th.yy + th.yyH);
i++;
}

}
if((sp.numChildren <= 0)){
if(this.tfLoad){
callMethod(this,sp,_0[6],[this.tfLoad]);

}

}

}

};
_app_popup_PopUpZabegiListMov1[_0[17]]=function(t){
var th=this;
th.tt=t;
th.yy=0;
if(th.tm1){
callMethod(this,th.tm1,_0[32]);

}
var cntW=380;
var cntH=300;
var sp=ctorObject(lang.display.Sprite);
sp.width=cntW;
sp.height=cntH;
sp.scroll=!0;
callMethod(this,sp,_0[33],[{color:_0[34]}]);
callMethod(this,sp,_0[33],[{color:_0[34],'font-family':_0[21],'font-weight':_0[37]}]);
callMethod(this,sp,_0[38],[{className:_0[39]}]);
sp.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.c.cnt,_0[6],[sp]);
callMethod(this,this,_0[15],[_0[40],function(a){
if(a){
if((a.size > 0)){
var i=0;
while((i < a.size)){
var el=a[i];
callMethod(this,th,_0[29],[el,sp]);
i++;
}

}else{
var tf=ctorObject(lang.text.TextField);
tf.fontName=_0[21];
tf.fontSize=18;
tf.bold=!0;
tf.color=16777215;
tf.filters=GLOBAL.Config.filterBlue1;
tf.text=_0[41];
tf.x=((cntW - tf.width) / 2);
tf.y=((cntH - 30) / 2);
callMethod(this,sp,_0[6],[tf]);

}

}

}]);
callMethod(this,this,_0[15],[_0[42],function(o){
if(o){
if((o.t == th.tt)){
callMethod(this,th,_0[29],[o,sp]);

}

}

}]);
callMethod(this,this,_0[15],[_0[31],function(o){
if(o){
if((o.t == th.tt)){
var isRmv=!0;
if(th.initDataObj){
if(checkIn(th.initDataObj,_0[43])){
if(!th.initDataObj.isRmvFlag){
isRmv=!1;

}

}

}
if(isRmv){
callMethod(this,th,_0[31],[o.stream,sp]);

}

}

}

}]);
callMethod(this,this.stream,_0[44],[_0[45],t]);

};
_app_popup_PopUpZabegiListMov1[_0[7]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_0[32]);

}
this.tm1=null;
if(this.sc){
callMethod(this,this.sc,_0[7]);

}
this.sc=null;
if(this.stream){
callMethod(this,this.stream,_0[46]);

}
this.stream=null;
callMethod(this,this.parent,_0[7],[this]);

};
_app_popup_PopUpZabegiListMov1[_0[47]]=function(w,h){
callMethod(this,this.bg,_0[47],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_0[48],_0[49],_app_popup_PopUpZabegiListMov1);
})(window);



(function(window){
var _89=["createSpritePainter","addChild","Arial","ID стрима: 0","ID клиента: ","нет данных","ip","IP клиента: ","secure","ws","s",":"," (SSL)","сервер: ","пакетов","отправлено: 0","css","white-space","nowrap","получено: 0","пинг: -","stop","clear","plusPacketSend","plusPacketGet","clearCounts","get","send","setStream","now","пинг: "," мс","init","testPingInfo","ping","ID стрима: ","encode","отправлено: "," (",") ","cut","получено: ","rect","#000000","resize","app.game.GameRoomDebugInfo","lang.display.Sprite"];
var _app_game_GameRoomDebugInfo={};
_app_game_GameRoomDebugInfo["ctor"]=function(){
var th=this;
this.bg=callMethod(this,GLOBAL.AppUtils,_89[0]);
this.bg.alpha=0.6;
callMethod(this,null,_89[1],[this.bg]);
this.packetsSendNum=0;
this.packetsGetNum=0;
this.w=0;
this.h=100;
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_89[2];
tf1.text=_89[3];
tf1.y=14;
tf1.fontSize=12;
tf1.color=16777215;
callMethod(this,null,_89[1],[tf1]);
this.tf1=tf1;
this.tm1=null;
var idd=GLOBAL.$app.user.id;
var tf2=ctorObject(lang.text.TextField);
tf2.fontName=_89[2];
tf2.text=(_89[4] + idd);
tf2.y=(tf1.y + 19);
tf2.fontSize=12;
tf2.color=16777215;
callMethod(this,null,_89[1],[tf2]);
this.tf2=tf2;
var ip=_89[5];
if(checkIn(GLOBAL.$app.user,_89[6])){
ip=GLOBAL.$app.user.ip;

}
var tf3=ctorObject(lang.text.TextField);
tf3.fontName=_89[2];
tf3.text=(_89[7] + ip);
tf3.y=(tf2.y + 19);
tf3.fontSize=12;
tf3.color=16777215;
callMethod(this,null,_89[1],[tf3]);
this.tf3=tf3;
var isSecure=!1;
if(checkIn(GLOBAL.$app.connect.sock,_89[8])){
if(GLOBAL.$app.connect.sock.secure){
isSecure=!0;

}

}
var pref2=_89[9];
if(isSecure){
pref2+=_89[10];

}
var srvStr=GLOBAL.$app.connect.host;
if((GLOBAL.$app.connect.port > 0)){
srvStr=((srvStr + _89[11]) + GLOBAL.$app.connect.port);

}
if(checkIn(GLOBAL.$app.connect.sock,_89[8])){
if(isSecure){
srvStr+=_89[12];

}

}
var tfSrv=ctorObject(lang.text.TextField);
tfSrv.fontName=_89[2];
tfSrv.text=(_89[13] + srvStr);
tfSrv.y=(tf3.y + 19);
tfSrv.fontSize=12;
tfSrv.color=16777215;
callMethod(this,null,_89[1],[tfSrv]);
this.spr2=ctorObject(lang.display.Sprite);
this.spr2.x=250;
callMethod(this,null,_89[1],[this.spr2]);
var tfPackets1=ctorObject(lang.text.TextField);
tfPackets1.fontName=_89[2];
tfPackets1.text=_89[14];
tfPackets1.y=15;
tfPackets1.fontSize=12;
tfPackets1.color=16777215;
callMethod(this,this.spr2,_89[1],[tfPackets1]);
var tfPacketsSend=ctorObject(lang.text.TextField);
tfPacketsSend.fontName=_89[2];
tfPacketsSend.text=_89[15];
tfPacketsSend.y=(tfPackets1.y + 19);
tfPacketsSend.fontSize=12;
tfPacketsSend.color=16777215;
callMethod(this,tfPacketsSend,_89[16],[{'white-space':_89[18]}]);
callMethod(this,this.spr2,_89[1],[tfPacketsSend]);
this.tfPacketsSend=tfPacketsSend;
var tfPacketsGet=ctorObject(lang.text.TextField);
tfPacketsGet.fontName=_89[2];
tfPacketsGet.text=_89[19];
tfPacketsGet.y=(tfPacketsSend.y + 19);
tfPacketsGet.fontSize=12;
tfPacketsGet.color=16777215;
callMethod(this,tfPacketsGet,_89[16],[{'white-space':_89[18]}]);
callMethod(this,this.spr2,_89[1],[tfPacketsGet]);
this.tfPacketsGet=tfPacketsGet;
var tfPing=ctorObject(lang.text.TextField);
tfPing.fontName=_89[2];
tfPing.text=_89[20];
tfPing.y=(tfPacketsGet.y + 19);
tfPing.fontSize=12;
tfPing.color=16777215;
callMethod(this,this.spr2,_89[1],[tfPing]);
this.tfPing=tfPing;

};
_app_game_GameRoomDebugInfo[_89[22]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_89[21]);

}

};
_app_game_GameRoomDebugInfo[_89[25]]=function(){
this.packetsSendNum=-1;
this.packetsGetNum=-1;
callMethod(this,this,_89[23],['',[]]);
callMethod(this,this,_89[24],['',[]]);

};
_app_game_GameRoomDebugInfo[_89[28]]=function(stream){
var th=this;
if(stream){
stream.packetsCB=function(tt,nm,args){
if((tt == _89[26])){
callMethod(this,th,_89[24],[nm,args]);

}else if((tt == _89[27])){
callMethod(this,th,_89[23],[nm,args]);

}


};

}

};
_app_game_GameRoomDebugInfo[_89[33]]=function(){
var th=this;
if(GLOBAL.$app.connect.isConnect){
var ts=callMethod(this,Date,_89[29]);
callMethod(this,GLOBAL.$app.connect,_89[27],[function(){
var ts2=callMethod(this,Date,_89[29]);
var vv=(ts2 - ts);
th.tfPing.text=((_89[30] + vv) + _89[31]);
th.tm1=callMethod(this,Timer,_89[32],[5000,function(){
callMethod(this,this,_89[21]);
th.tm1=null;
callMethod(this,th,_89[33]);

}]);

},_89[34]]);

}

};
_app_game_GameRoomDebugInfo[_89[32]]=function(stream){
if(stream){
var id1=stream.id;
this.tf1.text=(_89[35] + id1);
callMethod(this,this,_89[25]);
callMethod(this,this,_89[28],[stream]);

}

};
_app_game_GameRoomDebugInfo[_89[23]]=function(tt,args){
this.packetsSendNum+=1;
var ss=callMethod(this,JSON,_89[36],[args]);
var vv=this.packetsSendNum;
this.tfPacketsSend.text=(((((_89[37] + vv) + _89[38]) + tt) + _89[39]) + ss);

};
_app_game_GameRoomDebugInfo[_89[24]]=function(tt,args){
this.packetsGetNum+=1;
var ss=callMethod(this,JSON,_89[36],[args]);
var vv=this.packetsGetNum;
if((ss.size > 700)){
ss=callMethod(this,ss,_89[40],[0,700]);

}
this.tfPacketsGet.text=(((((_89[41] + vv) + _89[38]) + tt) + _89[39]) + ss);

};
_app_game_GameRoomDebugInfo[_89[44]]=function(w,h){
this.w=w;
callMethod(this,this.bg.painter,_89[22]);
callMethod(this,this.bg.painter,_89[42],[0,0,w,this.h,_89[43]]);

};
vm.registerClass(_89[45],_89[46],_app_game_GameRoomDebugInfo);
})(window);



(function(window){
var _30=["ID стрима: 0","addChild","ID клиента: ","нет данных","ip","IP клиента: ","secure","ws","s",":","сервер: ","getAssetByName","Lock.png","android","addTooltipText","пакетов","отправлено: 0","получено: 0","пинг: -","testPingInfo","stop","clear","plusPacketSend","plusPacketGet","clearCounts","get","send","setStream","now","пинг: "," мс","init","ping","ID стрима: ","encode","отправлено: "," (",") ","получено: ","scenes.world.WorldDebugInfo1","lang.display.Sprite"];
var _scenes_world_WorldDebugInfo1={};
_scenes_world_WorldDebugInfo1["ctor"]=function(){
var th=this;
this.packetsSendNum=0;
this.packetsGetNum=0;
this.mouseEnabled=!1;
this.x=100;
var tf1=ctorObject(lang.text.TextField);
tf1.text=_30[0];
tf1.y=14;
tf1.fontSize=15;
callMethod(this,null,_30[1],[tf1]);
this.tf1=tf1;
this.tm1=null;
var idd=GLOBAL.$app.user.id;
var tf2=ctorObject(lang.text.TextField);
tf2.text=(_30[2] + idd);
tf2.y=(tf1.y + 19);
tf2.fontSize=15;
callMethod(this,null,_30[1],[tf2]);
this.tf2=tf2;
var ip=_30[3];
if(checkIn(GLOBAL.$app.user,_30[4])){
ip=GLOBAL.$app.user.ip;

}
var tf3=ctorObject(lang.text.TextField);
tf3.text=(_30[5] + ip);
tf3.y=(tf2.y + 19);
tf3.fontSize=15;
callMethod(this,null,_30[1],[tf3]);
this.tf3=tf3;
var isSecure=!1;
if(checkIn(GLOBAL.$app.connect.sock,_30[6])){
if(GLOBAL.$app.connect.sock.secure){
isSecure=!0;

}

}
var pref2=_30[7];
if(isSecure){
pref2+=_30[8];

}
var srvStr=GLOBAL.$app.connect.host;
if((GLOBAL.$app.connect.port > 0)){
srvStr=((srvStr + _30[9]) + GLOBAL.$app.connect.port);

}
var tfSrv=ctorObject(lang.text.TextField);
tfSrv.text=(_30[10] + srvStr);
tfSrv.y=(tf3.y + 19);
tfSrv.fontSize=13;
callMethod(this,null,_30[1],[tfSrv]);
if(isSecure){
var lockImg=callMethod(this,GLOBAL.$app.moviesReader,_30[11],[_30[12]]);
if(lockImg){
lockImg.x=(tfSrv.width - 30);

lockImg.y=(tfSrv.y - 5);
lockImg.tooltipWH={h:30};
callMethod(this,GLOBAL.ToolTip,_30[14],[lockImg,'Защищено. На сервере стоит SSL сертификат.']);
callMethod(this,null,_30[1],[lockImg]);

}

}
this.spr2=ctorObject(lang.display.Sprite);
this.spr2.x=250;
callMethod(this,null,_30[1],[this.spr2]);
var tfPackets1=ctorObject(lang.text.TextField);
tfPackets1.text=_30[15];
tfPackets1.y=15;
tfPackets1.fontSize=15;
callMethod(this,this.spr2,_30[1],[tfPackets1]);
var tfPacketsSend=ctorObject(lang.text.TextField);
tfPacketsSend.text=_30[16];
tfPacketsSend.y=(tfPackets1.y + 19);
tfPacketsSend.fontSize=15;
callMethod(this,this.spr2,_30[1],[tfPacketsSend]);
this.tfPacketsSend=tfPacketsSend;
var tfPacketsGet=ctorObject(lang.text.TextField);
tfPacketsGet.text=_30[17];
tfPacketsGet.y=(tfPacketsSend.y + 19);
tfPacketsGet.fontSize=15;
callMethod(this,this.spr2,_30[1],[tfPacketsGet]);
this.tfPacketsGet=tfPacketsGet;
var tfPing=ctorObject(lang.text.TextField);
tfPing.text=_30[18];
tfPing.y=(tfPacketsGet.y + 19);
tfPing.fontSize=15;
callMethod(this,this.spr2,_30[1],[tfPing]);
this.tfPing=tfPing;
callMethod(this,this,_30[19]);

};
_scenes_world_WorldDebugInfo1[_30[21]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_30[20]);

}

};
_scenes_world_WorldDebugInfo1[_30[24]]=function(){
this.packetsSendNum=-1;
this.packetsGetNum=-1;
callMethod(this,this,_30[22],['']);
callMethod(this,this,_30[23],['']);

};
_scenes_world_WorldDebugInfo1[_30[27]]=function(stream){
var th=this;
if(stream){
stream.packetsCB=function(tt,nm,args){
if((tt == _30[25])){
callMethod(this,th,_30[23],[nm,args]);

}else if((tt == _30[26])){
callMethod(this,th,_30[22],[nm,args]);

}


};

}

};
_scenes_world_WorldDebugInfo1[_30[19]]=function(){
var th=this;
if(GLOBAL.$app.connect.isConnect){
var ts=callMethod(this,Date,_30[28]);
callMethod(this,GLOBAL.$app.connect,_30[26],[function(){
var ts2=callMethod(this,Date,_30[28]);
var vv=(ts2 - ts);
th.tfPing.text=((_30[29] + vv) + _30[30]);
th.tm1=callMethod(this,Timer,_30[31],[5000,function(){
callMethod(this,this,_30[20]);
th.tm1=null;
callMethod(this,th,_30[19]);

}]);

},_30[32]]);

}

};
_scenes_world_WorldDebugInfo1[_30[31]]=function(stream){
if(stream){
var id1=stream.id;
this.tf1.text=(_30[33] + id1);
callMethod(this,this,_30[24]);
callMethod(this,this,_30[27],[stream]);

}

};
_scenes_world_WorldDebugInfo1[_30[22]]=function(tt,args){
this.packetsSendNum+=1;
var ss=callMethod(this,JSON,_30[34],[args]);
var vv=this.packetsSendNum;
this.tfPacketsSend.text=(((((_30[35] + vv) + _30[36]) + tt) + _30[37]) + ss);

};
_scenes_world_WorldDebugInfo1[_30[23]]=function(tt,args){
this.packetsGetNum+=1;
var ss=callMethod(this,JSON,_30[34],[args]);
var vv=this.packetsGetNum;
this.tfPacketsGet.text=(((((_30[38] + vv) + _30[36]) + tt) + _30[37]) + ss);

};
vm.registerClass(_30[39],_30[40],_scenes_world_WorldDebugInfo1);
})(window);



(function(window){
var _208=["addAssetA","wallGameT1.png","wallGameT2.png","wallGameT6.png","wallGameT7.png","wallGameT8.png","wallGameT9.png","moon1.png","decorStar1.png","decorMoon2.png","cactus1.png","boxItem1.png","ball1.png","treeItem1.png","heavybox.png","teleportIn.png","teleportOut.png","init","getAssetBitmap","push","getAssetByID","app.master.WorldMaster"];
var _app_master_WorldMaster={};
_app_master_WorldMaster["ctor"]=function(){
this.isInit=!1;
this.itemsList=[];
this.assetsList=[];
this.assetsListObj={};

};
_app_master_WorldMaster[_208[17]]=function(cb){
if(!this.isInit){
this.isInit=!0;
callMethod(this,this,_208[0],[1,_208[1]]);
callMethod(this,this,_208[0],[2,_208[2]]);
callMethod(this,this,_208[0],[3,_208[3]]);
callMethod(this,this,_208[0],[4,_208[4]]);
callMethod(this,this,_208[0],[5,_208[5]]);
callMethod(this,this,_208[0],[6,_208[6]]);
callMethod(this,this,_208[0],[10,_208[7],0.7]);
callMethod(this,this,_208[0],[11,_208[8],0.7]);
callMethod(this,this,_208[0],[12,_208[9]]);
callMethod(this,this,_208[0],[13,_208[10],0.7]);
callMethod(this,this,_208[0],[14,_208[11]]);
callMethod(this,this,_208[0],[15,_208[12],0.5]);
callMethod(this,this,_208[0],[16,_208[13]]);
callMethod(this,this,_208[0],[17,_208[14]]);
callMethod(this,this,_208[0],[18,_208[15]]);
callMethod(this,this,_208[0],[19,_208[16]]);
if(cb){
cb();

}

}

};
_app_master_WorldMaster[_208[0]]=function(id,name,scaleV){
var scale=1;
if(scaleV){
scale=scaleV;

}
var bm=callMethod(this,GLOBAL.$app.moviesReader,_208[18],[name]);
if(bm){
var ob={id:id,name:name,scale:scale,bm:bm};
callMethod(this,this.assetsList,_208[19],[ob]);
this.assetsListObj[id]=ob;

}

};
_app_master_WorldMaster[_208[20]]=function(id){
var th=this;
if(checkIn(th.assetsListObj,id)){
var v=th.assetsListObj[id];
return v;

}
return null;

};
vm.registerClass(_208[21],'',_app_master_WorldMaster);
})(window);



(function(window){
var _290=["f1","w","h","ev","Array","text","web","renderTextObj","setID","setObj","текст","fontSize","fill","color","BIP","addChild","shadow","#000000","rainbow","createLinearGradient","getAssetByID","bm","scale","scenes.world.WorldItem","cloneItem","lang.display.Sprite"];
var _scenes_world_WorldItem={};
_scenes_world_WorldItem["ctor"]=function(){
this.type=30;
this.uniq=0;
this.itemid=0;
this.evList=null;
this.w=0;
this.h=0;
this.flags1=0;
this.isSensorItem=!0;
this.imgSize={width:0,height:0};
this.bm=null;
this.editorItemSpr=this;
this.mouseChildren=!1;
this.o=null;

};
_scenes_world_WorldItem[_290[9]]=function(o){
this.o=o;
if(o){
if(checkIn(o,_290[0])){
this.flags1=o.f1;

}
if(checkIn(o,_290[1])){
this.w=o.w;

}
if(checkIn(o,_290[2])){
this.h=o.h;

}
if(checkIn(o,_290[3])){
if(o.ev){
if(checkIs(o.ev,_290[4])){
this.evList=o.ev;

}

}

}
this.x=o.x;
this.y=o.y;
this.rotation=o.r;
var isText=!1;
if(checkIn(o,_290[5])){
if(o.text){
isText=!0;

}

}
if(isText){
this.o.h-=4;

callMethod(this,this,_290[7],[o.text]);

}else{
callMethod(this,this,_290[8],[o.id]);

}

}

};
_scenes_world_WorldItem[_290[7]]=function(o){
var th=this;
if(o){
if(!checkIn(o,_290[5])){
o.text=_290[10];

}
if(!checkIn(o,_290[11])){
o.fontSize=16;

}
if(!checkIn(o,_290[12])){
o.fill={t:_290[13],color:16777215};

}
var tf=ctorObject(lang.text.TextField);
tf.fontName=_290[14];
callMethod(this,null,_290[15],[tf]);
tf.fontSize=o.fontSize;
tf.text=('' + o.text);
tf.filters=[{id:_290[16],color:_290[17],blur:4,offsetX:0,offsetY:0}];
if((((1 << 1) & th.flags1) > 0)){
tf.point={x:(this.o.w / 2),y:(this.o.h / 2)};


}
var ww=tf.width;
if((o.fill.t == _290[13])){
tf.color=o.fill.color;

}else if((o.fill.t == _290[18])){
tf.color=callMethod(this,lang.display.Painter,_290[19],[0,0,(ww + 4),0,GLOBAL.$app.rainbowColorsArr,GLOBAL.$app.rainbowColorsRatios]);

}


}

};
_scenes_world_WorldItem[_290[8]]=function(id){
this.itemid=id;
var decorObj=callMethod(this,GLOBAL.$app.worldMaster,_290[20],[id]);
if(decorObj){
if(checkIn(decorObj,_290[21])){
var bmm=decorObj.bm;
if(bmm){
var bm=ctorObject(lang.display.Bitmap);
bm.src=bmm;
this.bm=bm;
var scV=1;
if(checkIn(decorObj,_290[22])){
scV=decorObj.scale;

}
bm.scaleX=scV;
bm.scaleY=scV;
var sz={};
sz.width=castInt((bm.width * scV));
sz.height=castInt((bm.height * scV));
this.w=sz.width;
this.h=sz.height;
bm.point={x:(sz.width / 2),y:(sz.height / 2)};

callMethod(this,null,_290[15],[bm]);

}

}

}

};
_scenes_world_WorldItem[_290[24]]=function(){
var q=ctorObject(_290[23],[this.itemid]);
q.x=this.x;
q.y=this.y;
q.flags1=this.flags1;
q.rotation=this.rotation;
return q;

};
vm.registerClass(_290[23],_290[25],_scenes_world_WorldItem);
})(window);



(function(window){
var _204=["app.popup.PopUpMinInfo1","addChild","размер сцены: "," на ","ширина","appMinSize","w","h","upd1","createZoomSpr","saveFunc","высота","BIP","сбросить","autoResize","remove","scale: ","init","stop","saveCfg","-","push","+","removeChild","removeV","cb2","resize","app.popup.PopUpZoomMainApp","lang.display.Sprite"];
var _app_popup_PopUpZoomMainApp={};
_app_popup_PopUpZoomMainApp["ctor"]=function(cb,cb2){
this.tm=null;
this.p1=ctorObject(_204[0],['']);
callMethod(this,null,_204[1],[this.p1]);
var th=this;
this.tm2=null;
this.tm3=null;
this.cb2=cb2;
var sp2=ctorObject(lang.display.Sprite);
sp2.y=60;
callMethod(this,this.p1.cnt,_204[1],[sp2]);
this.p1.bg.bg.click=function(){

};
var sp3=ctorObject(lang.display.Sprite);
sp3.x=-100;
callMethod(this,sp2,_204[1],[sp3]);
var stW=GLOBAL.$app.appStageWidth;
var stH=GLOBAL.$app.appStageHeight;
var yy2=-sp2.y;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=(((_204[2] + stW) + _204[3]) + stH);
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.x=((450 - tf1.width) / 2);
tf1.y=yy2;
callMethod(this,sp2,_204[1],[tf1]);
yy2+=20;
var scFactorTF=ctorObject(lang.text.TextField);
scFactorTF.fontSize=16;
scFactorTF.filters=GLOBAL.Config.filterBlue1;
scFactorTF.x=((450 - scFactorTF.width) / 2);
scFactorTF.y=yy2;
callMethod(this,sp2,_204[1],[scFactorTF]);
this.scFactorTF=scFactorTF;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=16;
this.tf1.text=_204[4];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
var w1=GLOBAL.$app.appMinWidth;
var h1=GLOBAL.$app.appMinHeight;
if(checkIn(GLOBAL.$app.cfgDataObj,_204[5])){
var minSz=GLOBAL.$app.cfgDataObj.appMinSize;
if(minSz){
if(checkIn(minSz,_204[6])){
w1=minSz.w;

}
if(checkIn(minSz,_204[7])){
h1=minSz.h;

}

}

}
callMethod(this,th,_204[8]);
var zoomSpr=callMethod(this,this,_204[9],[w1,100,function(v){
var obb=null;
if(checkIn(GLOBAL.$app.cfgDataObj,_204[5])){
obb=GLOBAL.$app.cfgDataObj.appMinSize;

}
if(!obb){
obb={};
obb.w=GLOBAL.$app.appMinWidth;
obb.h=GLOBAL.$app.appMinHeight;

}
obb.w=v;
GLOBAL.$app.cfgDataObj.appMinSize=obb;
callMethod(this,th,_204[8]);
callMethod(this,th,_204[10]);

}]);
zoomSpr.x=170;
zoomSpr.y=20;
callMethod(this,sp3,_204[1],[this.tf1,zoomSpr]);
var sp3=ctorObject(lang.display.Sprite);
sp3.x=100;
callMethod(this,sp2,_204[1],[sp3]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=16;
this.tf1.text=_204[11];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
var zoomSpr=callMethod(this,this,_204[9],[h1,100,function(v){
var obb=null;
if(checkIn(GLOBAL.$app.cfgDataObj,_204[5])){
obb=GLOBAL.$app.cfgDataObj.appMinSize;

}
if(!obb){
obb={};
obb.w=GLOBAL.$app.appMinWidth;
obb.h=GLOBAL.$app.appMinHeight;

}
obb.h=v;
GLOBAL.$app.cfgDataObj.appMinSize=obb;
callMethod(this,th,_204[8]);
callMethod(this,th,_204[10]);

}]);
zoomSpr.x=170;
zoomSpr.y=20;
callMethod(this,sp3,_204[1],[this.tf1,zoomSpr]);
var tf2=ctorObject(lang.text.TextField);
tf2.fontName=_204[12];
tf2.fontSize=18;
tf2.color=16776960;
tf2.text=_204[13];
tf2.buttonMode=!0;
tf2.x=80;
tf2.y=70;
tf2.filters=GLOBAL.Config.shadowText2;
tf2.click=function(){
if(checkIn(GLOBAL.$app.cfgDataObj,_204[5])){
delete GLOBAL.$app.cfgDataObj[_204[5]];

}
callMethod(this,th,_204[8]);
callMethod(this,th,_204[10]);
callMethod(this,GLOBAL.$app,_204[14]);
callMethod(this,GLOBAL.$app.moviesReader,_204[14]);
callMethod(this,th,_204[15]);

};
callMethod(this,sp3,_204[1],[tf2]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text='чем больше, тем сильнее уменьшается игра';
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.x=((450 - tf1.width) / 2);
tf1.y=(tf2.y + 38);
callMethod(this,sp2,_204[1],[tf1]);

};
_app_popup_PopUpZoomMainApp[_204[8]]=function(){
var th=this;
th.scFactorTF.text=(_204[16] + GLOBAL.$app.scaleFactor);
th.scFactorTF.x=((450 - th.scFactorTF.width) / 2);

};
_app_popup_PopUpZoomMainApp[_204[10]]=function(){
var th=this;
if(!th.tm){
th.tm=callMethod(this,Timer,_204[17],[5000,function(){
callMethod(this,this,_204[18]);
th.tm=null;
callMethod(this,GLOBAL.$app,_204[19]);

}]);

}
if(!th.tm3){
th.tm3=callMethod(this,Timer,_204[17],[100,function(){
callMethod(this,this,_204[18]);
th.tm3=null;
callMethod(this,GLOBAL.$app,_204[14]);
callMethod(this,GLOBAL.$app.moviesReader,_204[14]);

}]);

}

};
_app_popup_PopUpZoomMainApp[_204[9]]=function(perc,minLimit,cb){
var th=this;
var vv=perc;
var sp=ctorObject(lang.display.Sprite);
var xx=0;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=35;
tf1.color=16776960;
tf1.text=_204[20];
tf1.buttonMode=!0;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp,_204[1],[tf1]);
xx+=30;
var percInfo=ctorObject(lang.text.TextField);
percInfo.fontSize=16;
percInfo.text=('' + perc);
percInfo.filters=GLOBAL.Config.filterBlue1;
percInfo.x=xx;
percInfo.y=10;
callMethod(this,sp,_204[1],[percInfo]);
var cb5=function(isMin,val){
if(!isMin){
vv+=val;

}else{
vv-=val;
if((vv < minLimit)){
vv=minLimit;

}

}
percInfo.text=('' + vv);
if(cb){
cb(vv);

}

};
var cb7=function(isMin,val){
if(th.tm2){
callMethod(this,th.tm2,_204[18]);
th.tm2=null;

}
cb5(isMin,val);
th.tm2=callMethod(this,Timer,_204[17],[10,function(){
cb5(isMin,val);

}]);
callMethod(this,GLOBAL.$app.mouseUpEventsOne,_204[21],[function(){
if(th.tm2){
callMethod(this,th.tm2,_204[18]);
th.tm2=null;

}

}]);

};
tf1.mousedown=function(){
cb7(!0,2);

};
xx=((xx + percInfo.width) + 10);
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=35;
tf1.color=16776960;
tf1.text=_204[22];
tf1.buttonMode=!0;
tf1.x=(xx + 4);
tf1.filters=GLOBAL.Config.filterBlue1;
tf1.mousedown=function(){
cb7(!1,2);

};
callMethod(this,sp,_204[1],[tf1]);
return sp;

};
_app_popup_PopUpZoomMainApp[_204[24]]=function(){
if(this.tm2){
callMethod(this,this.tm2,_204[18]);

}
this.tm2=null;
if(this.tm3){
callMethod(this,this.tm3,_204[18]);

}
this.tm3=null;
if(this.parent){
callMethod(this,this.parent,_204[23],[this]);

}

};
_app_popup_PopUpZoomMainApp[_204[15]]=function(){
callMethod(this,this,_204[24]);
if(this.cb2){
callMethod(this,this,_204[25]);

}

};
_app_popup_PopUpZoomMainApp[_204[26]]=function(w,h){
callMethod(this,this.p1,_204[26],[w,h]);

};
vm.registerClass(_204[27],_204[28],_app_popup_PopUpZoomMainApp);
})(window);



(function(window){
var _43=["read","readBytesStructNoSkip","readFolder","indexOf",".","cut","readFileBytes","/","write","saveFolder","push","getAllMapsIds","random","getMapByID","getMapRandom","bytesToJSONObj","map","app.game.GameMap","parseMap","Array","join",",","api","maps.get","load","getMapsCount","close","clear","app.master.MapsLocalMaster"];
var _app_master_MapsLocalMaster={};
_app_master_MapsLocalMaster["ctor"]=function(){
this.ba=null;
this.obj={};
this.folderStruct=null;
this.rootFolder=null;
this.mapsList=[];
this.mapsListObj={};

};
_app_master_MapsLocalMaster[_43[0]]=function(ba){
var th=this;
this.ba=ba;
if(ba){
var q=ctorObject(lang.utils.ReadFolderFileStruct);
callMethod(this,q,_43[0],[ba]);
this.folderStruct=q;
this.rootFolder=callMethod(this,q,_43[1]);
var files=callMethod(this,q,_43[2],[this.rootFolder,!1]);
if(files){
this.mapsList=files;
var i=0;
while((i < files.size)){
var ob=files[i];
var nm2=ob.name;
var p1=callMethod(this,nm2,_43[3],[_43[4]]);
var mapID=0;
if((p1 > -1)){
nm2=callMethod(this,nm2,_43[5],[0,p1]);
mapID=castInt(nm2);

}
th.mapsListObj[mapID]=ob;
i++;
}

}

}

};
_app_master_MapsLocalMaster[_43[9]]=function(el,path){
if(el){
var mapBA=callMethod(this,this.folderStruct,_43[6],[el]);
if(mapBA){
var fi=ctorObject(lang.io.File,[((path + _43[7]) + el.name)]);
callMethod(this,fi,_43[8],[mapBA]);

}

}

};
_app_master_MapsLocalMaster[_43[11]]=function(){
var th=this;
var a=[];
var i=0;
while((i < th.mapsList.size)){
var ob=th.mapsList[i];
var nm2=ob.name;
var p1=callMethod(this,nm2,_43[3],[_43[4]]);
var mapID=0;
if((p1 > -1)){
nm2=callMethod(this,nm2,_43[5],[0,p1]);
mapID=castInt(nm2);

}
callMethod(this,a,_43[10],[mapID]);
i++;
}
return a;

};
_app_master_MapsLocalMaster[_43[14]]=function(){
var th=this;
if((this.mapsList.size > 0)){
var ob=callMethod(this,this.mapsList,_43[12]);
var nm2=ob.name;
var p1=callMethod(this,nm2,_43[3],[_43[4]]);
var mapIDD=0;
if((p1 > -1)){
nm2=callMethod(this,nm2,_43[5],[0,p1]);
mapIDD=castInt(nm2);

}
if(checkIn(th.obj,mapIDD)){
var mm=th.obj[mapIDD];
return mm;

}else{
var m=callMethod(this,th,_43[13],[mapIDD]);
return m;

}

}
return null;

};
_app_master_MapsLocalMaster[_43[13]]=function(id){
var th=this;
if(checkIn(th.obj,id)){
var ob=th.obj[id];
return ob;

}
if(checkIn(th.mapsListObj,id)){
var el=th.mapsListObj[id];
var mapBA=callMethod(this,this.folderStruct,_43[6],[el]);
var mapObj=callMethod(this,GLOBAL.AppUtils,_43[15],[mapBA]);
if(mapObj){
if(checkIn(mapObj,_43[16])){
var mapid=mapObj.id;
var m=ctorObject(_43[17]);
callMethod(this,m,_43[18],[mapObj.map]);
m.id=mapid;
return m;

}

}

}
return null;

};
_app_master_MapsLocalMaster[_43[24]]=function(ids,cb){
var th=this;
var arr=[];
if(checkIs(ids,_43[19])){
var i=0;
while((i < ids.size)){
var q4=ids[i];
if(!checkIn(th.obj,q4)){
callMethod(this,arr,_43[10],[q4]);

}
i++;
}

}else{
if(!checkIn(th.obj,ids)){
callMethod(this,arr,_43[10],[ids]);

}

}
if((arr.size > 0)){
var idStr=callMethod(this,arr,_43[20],[_43[21]]);
callMethod(this,GLOBAL.$app,_43[22],[_43[23],{id:idStr},function(arr){
if(arr){
if((arr.size > 0)){
var aa=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
if(checkIn(el,_43[16])){
var mapid=el.id;
var m=ctorObject(_43[17]);
callMethod(this,m,_43[18],[el.map]);
m.id=mapid;
th.obj[mapid]=m;

}
i++;
}

}

}
if(cb){
cb();

}

}]);

}else{
cb();

}

};
_app_master_MapsLocalMaster[_43[25]]=function(){
var v=this.mapsList.size;
return v;

};
_app_master_MapsLocalMaster[_43[27]]=function(){
this.obj={};
this.folderStruct=null;
this.rootFolder=null;
this.mapsList=[];
this.mapsListObj={};
if(this.ba){
if(checkIn(this.ba,_43[26])){
callMethod(this,this.ba,_43[26]);

}

}
this.ba=null;

};
vm.registerClass(_43[28],'',_app_master_MapsLocalMaster);
})(window);



(function(window){
var _80=["app.popup.PopUpMinInfo1","addChild","getSellPriceByItemID","app.bar.BarMoneyTypeSpr2","lapki","продаю ","openPopUpInputOne","Количество от 1 до ","ОК","setMoney","Продать за","ButtonOrangeText","Продать","removeAllChilds","Выполняется действие","sellStatus","stop","removeChild","remove","resize","app.popup.PopUpSellGiftUserMov","lang.display.Sprite"];
var _app_popup_PopUpSellGiftUserMov={};
_app_popup_PopUpSellGiftUserMov["ctor"]=function(giftImg,itemid,nums,cb){
this.p1=ctorObject(_80[0],['']);
callMethod(this,null,_80[1],[this.p1]);
var th=this;
this.tm=null;
giftImg.x=50;
giftImg.y=10;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_80[1],[sp2]);
this.nums=nums;
this.allNums=nums;
this.sp2=sp2;
callMethod(this,sp2,_80[1],[giftImg]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_80[1],[this.tf1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.y=(this.tf1.y + 20);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_80[1],[this.tf2]);
var sellPrice=callMethod(this,GLOBAL.$app.giftsMaster,_80[2],[itemid,nums]);
if((sellPrice == -1)){
sellPrice=0;

}
var lapkiMoney=ctorObject(_80[3],[_80[4],function(){

}]);
if((nums > 1)){
var sp4=ctorObject(lang.display.Sprite);
sp4.x=70;
sp4.y=130;
callMethod(this,sp2,_80[1],[sp4]);
var txt8=('' + nums);
var tf4=ctorObject(lang.text.TextField);
tf4.fontSize=16;
tf4.text=(_80[5] + nums);
tf4.filters=GLOBAL.Config.filterBlue1;
tf4.buttonMode=!0;
tf4.click=function(){
callMethod(this,GLOBAL.$app.popup,_80[6],[(_80[7] + th.allNums),_80[8],txt8,function(ob){
var vv=castInt(ob.name);
if((vv > th.allNums)){
vv=th.allNums;

}
if((vv <= 0)){
vv=1;

}
tf4.text=(_80[5] + vv);
th.nums=vv;
txt8=('' + vv);
var sellPrice=callMethod(this,GLOBAL.$app.giftsMaster,_80[2],[itemid,th.nums]);
if((sellPrice == -1)){
sellPrice=0;

}
callMethod(this,lapkiMoney,_80[9],[sellPrice]);

}]);

};
callMethod(this,sp4,_80[1],[tf4]);

}
this.tf1.text=_80[10];
var ww=480;
lapkiMoney.mouseEnabled=!1;
callMethod(this,lapkiMoney,_80[9],[sellPrice]);
lapkiMoney.x=((ww - lapkiMoney.tf.width) / 2);
lapkiMoney.y=80;
callMethod(this,sp2,_80[1],[lapkiMoney]);
var bb=ctorObject(_80[11],[_80[12],cb]);
bb.x=220;
bb.y=138;
callMethod(this,sp2,_80[1],[bb]);

};
_app_popup_PopUpSellGiftUserMov[_80[15]]=function(v){
callMethod(this,this.sp2,_80[13]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_80[14];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.sp2,_80[1],[this.tf1]);

};
_app_popup_PopUpSellGiftUserMov[_80[18]]=function(){
if(this.tm){
callMethod(this,this.tm,_80[16]);

}
if(this.parent){
callMethod(this,this.parent,_80[17],[this]);

}

};
_app_popup_PopUpSellGiftUserMov[_80[19]]=function(w,h){
callMethod(this,this.p1,_80[19],[w,h]);

};
vm.registerClass(_80[20],_80[21],_app_popup_PopUpSellGiftUserMov);
})(window);



(function(window){
var _137=["UFOModMovie1","clear","staticCreate","removeChild","addChild","init","start","startFunc","send","a","sendCmd","UFOModMovie1Panel","sendMsgOwner","end","on","keyup","visOwner","msg","close","hideUFO","ev","addMessage","join","setStream","funcAnim1","func2Anim","remove","clearNoLeave","removeDialog","resize","scenes.UFOMovie1","lang.display.Sprite"];
var _scenes_UFOMovie1={};
_scenes_UFOMovie1["ctor"]=function(u){
var th=this;
this.stream=null;
this.u=u;
this.mv=null;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.mov=ctorObject(_137[0]);
callMethod(this,this.mov.panelSpr.painter,_137[1]);
this.mov.panelSpr.x-=48;
this.mov.panelSpr.y-=40;
callMethod(this,this.mov.a3.painter,_137[1]);
this.mov.mouseEnabled=!1;
this.mov.x=-600;
this.w=0;
this.h=0;
var persImg=callMethod(this,GLOBAL.scenes.world.PersWorldSprite,_137[2],[u]);
if(persImg.nickTxt.parent){
callMethod(this,persImg.nickTxt.parent,_137[3],[persImg.nickTxt]);

}
persImg.x=50;
persImg.persScale=0.6;
persImg.spr.scaleX=persImg.persScale;
persImg.spr.scaleY=persImg.persScale;
persImg.nickTxt.y-=20;
persImg.persDialog.y+=10;
persImg.alpha=0;
callMethod(this,this.mov.a3,_137[4],[persImg]);
callMethod(this,persImg.persDialog,_137[5]);
this.persImg=persImg;
callMethod(this,null,_137[4],[this.mov]);

};
_scenes_UFOMovie1[_137[7]]=function(){
var th=this;
var xx=((GLOBAL.$app.stageScaleWidth - 270) / 2);
this.y=((GLOBAL.$app.stageScaleHeight - 200) / 2);
var tween=ctorObject(lib.Tween,[this.mov]);
callMethod(this,tween,_137[5],[{x:xx},1500,function(){

},function(){
callMethod(this,th,_137[5]);

}]);
callMethod(this,tween,_137[6]);

};
_scenes_UFOMovie1[_137[10]]=function(t,ob){
if(t){
if(this.stream){
callMethod(this,this.stream,_137[8],[_137[9],t,ob]);

}

}

};
_scenes_UFOMovie1[_137[16]]=function(){
var th=this;
this.mov.mouseEnabled=!0;
var mv=ctorObject(_137[11]);
callMethod(this,this.mov.panelSpr,_137[4],[mv]);
mv.but1.click=function(){
var tx2=mv.ti.value;
callMethod(this,th,_137[12],[tx2]);
mv.ti.value='';

};
mv.but2.click=function(){
callMethod(this,th,_137[10],[_137[13]]);

};
callMethod(this,th.ev,_137[14],[mv.ti,_137[15],function(e){
if((e.keyCode == 13)){
var tx=mv.ti.value;
callMethod(this,th,_137[12],[tx]);
mv.ti.value='';

}

}]);
this.mv=mv;

};
_scenes_UFOMovie1[_137[12]]=function(v){
if(v){
if((v.size > 0)){
callMethod(this,this,_137[10],[_137[17],v]);

}

}

};
_scenes_UFOMovie1[_137[23]]=function(o){
this.stream=o;
var th=this;
if(this.stream){
callMethod(this,this.stream,_137[14],[_137[5],function(){
callMethod(this,th,_137[7]);

}]);
callMethod(this,this.stream,_137[14],[_137[18],function(){
if(th.mv){
callMethod(this,th.mv.parent,_137[3],[th.mv]);

}
callMethod(this,th,_137[19],[function(){

}]);

}]);
callMethod(this,this.stream,_137[14],[_137[20],function(t,ob){
if((t == _137[17])){
if(ob){
callMethod(this,th.persImg,_137[21],[('' + ob)]);

}

}

}]);
callMethod(this,this.stream,_137[22]);

}

};
_scenes_UFOMovie1[_137[19]]=function(cb){
var th=this;
callMethod(this,th,_137[24],[!0,function(){
callMethod(this,th,_137[25],[function(){
callMethod(this,th,_137[26]);
if(cb){
cb();

}

}]);

}]);

};
_scenes_UFOMovie1[_137[5]]=function(){
var th=this;
callMethod(this,th,_137[24],[!1,function(){
if((th.u.id == GLOBAL.$app.user.id)){
callMethod(this,th,_137[16]);

}

}]);

};
_scenes_UFOMovie1[_137[24]]=function(isReverse,cb){
var th=this;
var mv1=isReverse ? th.persImg : th.mov.a1;
var mv2=isReverse ? th.mov.a1 : th.persImg;
var tween=ctorObject(lib.Tween,[mv1]);
callMethod(this,tween,_137[5],[{alpha:0},800,function(){

},function(){
var tween2=ctorObject(lib.Tween,[mv2]);
callMethod(this,tween2,_137[5],[{alpha:1},500,function(){

},function(){
if(cb){
cb();

}

}]);
callMethod(this,tween2,_137[6]);

}]);
callMethod(this,tween,_137[6]);

};
_scenes_UFOMovie1[_137[25]]=function(cb){
var xx=(GLOBAL.$app.stageScaleWidth + 600);
var yy=0;
var tween=ctorObject(lib.Tween,[this.mov]);
callMethod(this,tween,_137[5],[{x:xx,y:yy},1500,function(){

},function(){
if(cb){
cb();

}

}]);
callMethod(this,tween,_137[6]);

};
_scenes_UFOMovie1[_137[26]]=function(){
if(this.stream){
callMethod(this,this.stream,_137[27]);

}
callMethod(this,this.persImg.persDialog,_137[28]);
callMethod(this,this.ev,_137[1]);
callMethod(this,this.parent,_137[3],[this]);

};
_scenes_UFOMovie1[_137[29]]=function(w,h){
this.w=w;
this.h=h;
this.y=((h - 200) / 2);

};
vm.registerClass(_137[30],_137[31],_scenes_UFOMovie1);
})(window);



(function(window){
var _91=["addDomCanvas","AppBGHome1Spr","initHomeBG1","PrestartGameRoomMov3","addChild","PawsAnimationMovie","готовы?","initTimer","init","setText","старт!","stop","navGameRoom","resize","update","removeDomCanvas","removeScene","scenes.game.PrestartGameRoom2","lang.display.Sprite"];
var _scenes_game_PrestartGameRoom2={};
_scenes_game_PrestartGameRoom2["ctor"]=function(map){
var th=this;
callMethod(this,GLOBAL.$app,_91[0]);
this.bgMov=ctorObject(_91[1]);
callMethod(this,GLOBAL.$app,_91[2],[this.bgMov]);
this.mov=ctorObject(_91[3]);
this.tm1=null;
this.bgSize={width:1366,height:640};
this.map=map;
this.p1=ctorObject(lang.display.Sprite);
callMethod(this,null,_91[4],[this.p1]);
this.curTime=3;
this.tm2=null;
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=24;
this.tf2.filters=GLOBAL.Config.shadowText1;
this.tf2.color=16777215;
this.tf2.text=('' + th.curTime);
this.tf2.visible=!1;
var bmc=ctorObject(lang.display.BitmapMovieClip,[GLOBAL.Config.Preloader1Img]);
bmc.frames=GLOBAL.Config.framesPreloader1;
callMethod(this,this.p1,_91[4],[bmc,this.tf2]);
this.tf2.x=((64 - this.tf2.width) / 2);
this.tf2.y=22;
this.pawsAnim=ctorObject(_91[5],[10]);
this.pawsAnim.x=70;
this.pawsAnim.y=200;
callMethod(this,null,_91[4],[this.pawsAnim]);
var tf1=ctorObject(lang.text.TextField);
this.tf1=tf1;
tf1.fontSize=30;
tf1.filters=GLOBAL.Config.shadowText1;
tf1.color=16777215;
tf1.text=_91[6];
callMethod(this,null,_91[4],[tf1]);
callMethod(this,this,_91[7]);

};
_scenes_game_PrestartGameRoom2[_91[7]]=function(){
var th=this;
th.tf2.visible=!0;
if(!this.tm1){
this.tm1=callMethod(this,Timer,_91[8],[1000,function(){
th.curTime-=1;
if((th.curTime <= 1)){
callMethod(this,th,_91[9],[_91[10]]);

}
if((th.curTime <= 0)){
th.curTime=0;
callMethod(this,this,_91[11]);
callMethod(this,GLOBAL.$app.scenesMasterHtml5,_91[12],['',[GLOBAL.$app.user],th.map,GLOBAL.$app.user.id]);

}
th.tf2.text=('' + th.curTime);
th.tf2.x=((64 - th.tf2.width) / 2);

}]);

}

};
_scenes_game_PrestartGameRoom2[_91[9]]=function(v){
this.tf1.text=v;
callMethod(this,this,_91[13],[GLOBAL.$app.stageScaleWidth,GLOBAL.$app.stageScaleHeight]);

};
_scenes_game_PrestartGameRoom2[_91[13]]=function(w,h){
var th=this;
h=((h - this.y) - 90);
callMethod(this,this.bgMov,_91[13],[w,h]);
this.tf1.x=((w - this.tf1.width) / 2);
this.tf1.y=(h - 130);
this.mov.logo.x=((w - 170) / 2);
this.mov.logo.y=((h - 200) / 2);
this.p1.x=((w - 64) / 2);
this.p1.y=(this.tf1.y - 90);
this.pawsAnim.x=((w - this.pawsAnim.w) / 2);
this.pawsAnim.y=(h - 70);

};
_scenes_game_PrestartGameRoom2[_91[14]]=function(){
callMethod(this,this.pawsAnim,_91[14]);

};
_scenes_game_PrestartGameRoom2[_91[16]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_91[11]);

}
if(this.tm2){
callMethod(this,this.tm2,_91[11]);

}
callMethod(this,GLOBAL.$app,_91[15]);

};
vm.registerClass(_91[17],_91[18],_scenes_game_PrestartGameRoom2);
})(window);



(function(window){
var _283=["BGKostiSprite","AppPopUpBonusAppGroupMov1","app.bar.BarMoneyTypeSpr2","kosti","setMoney","addChild","1: Вступить в группу","И ещё много интересного.","https://vk.com/club","2: Пригласить друзей","пригласи минимум двух друзей","уже играют: считаем...","друзья должны установить игру","ButtonOrangeText","пригласить","normal","autoFullscreen","callMethod","showInviteBox","3: Добавить игру в меню слева","добавить","showSettingsBox","remove","successIcon1.png","api","account.getAppPermissions","response","getAssetByName","checkFunc1","friends.getAppUsers","Array","уже играют: ","groups.isMember","animAlphaSprite","removeChild","Всё хорошо, забирайте награду!","забрать","add","send","user.getBonusFree","bonusGroup","resize","app.popup.PopUpAppBonusGroup1","lang.display.Sprite"];
var _app_popup_PopUpAppBonusGroup1={};
_app_popup_PopUpAppBonusGroup1["ctor"]=function(){
var th=this;
this.nn=0;
var bg=ctorObject(_283[0]);
var c=ctorObject(_283[1]);
c.txt.filters=GLOBAL.Config.filterBlue1;
c.txt.y-=3;
var prize=15;
var mm=ctorObject(_283[2],[_283[3],function(){

}]);
mm.mouseEnabled=!1;
callMethod(this,mm,_283[4],[prize]);
mm.x=150;
mm.y=90;
callMethod(this,c,_283[5],[mm]);
var cnt2=ctorObject(lang.display.Sprite);
callMethod(this,c,_283[5],[cnt2]);
cnt2.y=120;
this.cnt2=cnt2;
var groupSpr=ctorObject(lang.display.Sprite);
groupSpr.y=5;
callMethod(this,cnt2,_283[5],[groupSpr]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.color=16777215;
tf1.text=_283[6];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,groupSpr,_283[5],[tf1]);
var ww=250;
var arr=['Вас ждут конкурсы, акции, подарки!','Лучшие спасатели на обложке группы!',_283[7]];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=(ww + ((ww - tf1.width) / 2));
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,groupSpr,_283[5],[tf1]);
yy+=24;
i++;
}
var url1=(_283[8] + GLOBAL.Config.vkAppGroupID);
var sp2=ctorObject(lang.display.Sprite);
sp2.width=200;
sp2.x=310;
sp2.y=75;
sp2.filters=GLOBAL.Config.filterBlue1;
sp2.html=(('<a style="color:#FFFF00;font-family:BIP" href="' + url1) + '" target="_blank">перейти в группу</a>');
callMethod(this,groupSpr,_283[5],[sp2]);
var friendsSpr=ctorObject(lang.display.Sprite);
friendsSpr.y=130;
callMethod(this,cnt2,_283[5],[friendsSpr]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=70;
tf1.color=16777215;
tf1.text=_283[9];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,friendsSpr,_283[5],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.y=30;
tf1.fontSize=15;
tf1.color=16777215;
tf1.text=_283[10];
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,friendsSpr,_283[5],[tf1]);
var ww=300;
var tf3=ctorObject(lang.text.TextField);
tf3.x=40;
tf3.y=50;
tf3.fontSize=15;
tf3.color=16777215;
tf3.text=_283[11];
tf3.x=((ww - tf3.width) / 2);
tf3.filters=GLOBAL.Config.filterBlue1;
callMethod(this,friendsSpr,_283[5],[tf3]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.y=140;
tf1.fontSize=15;
tf1.color=16777215;
tf1.text=_283[12];
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,friendsSpr,_283[5],[tf1]);
var but1=ctorObject(_283[13],[_283[14],function(){
if((GLOBAL.$app.stage.displayState != _283[15])){
callMethod(this,GLOBAL.$app,_283[16]);

}
callMethod(this,GLOBAL.$app.apiVK,_283[17],[_283[18]]);

}]);
but1.x=95;
but1.y=70;
callMethod(this,friendsSpr,_283[5],[but1]);
var appMenuSpr=ctorObject(lang.display.Sprite);
appMenuSpr.x=300;
appMenuSpr.y=130;
callMethod(this,cnt2,_283[5],[appMenuSpr]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=5;
tf1.color=16777215;
tf1.text=_283[19];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,appMenuSpr,_283[5],[tf1]);
var ww=300;
var but1=ctorObject(_283[13],[_283[20],function(){
if((GLOBAL.$app.stage.displayState != _283[15])){
callMethod(this,GLOBAL.$app,_283[16]);

}
callMethod(this,GLOBAL.$app.apiVK,_283[17],[_283[21],256]);
callMethod(this,th,_283[22]);

}]);
but1.x=55;
but1.y=70;
callMethod(this,appMenuSpr,_283[5],[but1]);
var r1=!1;
var r2=!1;
var r3=!1;
var okIconName=_283[23];
callMethod(this,GLOBAL.$app.apiVK,_283[24],[_283[25],{},function(vv){
if(vv){
if(checkIn(vv,_283[26])){
vv=vv.response;

}
if(((vv & 256) > 0)){
if(!r1){
th.nn+=1;
r1=!0;
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_283[27],[okIconName]);
bm1.y=70;
callMethod(this,appMenuSpr,_283[5],[bm1]);
callMethod(this,th,_283[28]);

}

}

}

}]);
callMethod(this,GLOBAL.$app.apiVK,_283[24],[_283[29],{},function(oo){
var nums=0;
if(oo){
if(checkIn(oo,_283[26])){
oo=oo.response;

}
if(checkIs(oo,_283[30])){
nums=oo.size;

}

}
tf3.text=(_283[31] + nums);
tf3.x=((ww - tf3.width) / 2);
if((nums >= 2)){
if(!r2){
r2=!0;
th.nn+=1;
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_283[27],[okIconName]);
bm1.x=50;
bm1.y=70;
callMethod(this,friendsSpr,_283[5],[bm1]);
callMethod(this,th,_283[28]);

}

}

}]);
var ob2={};
ob2.group_id=GLOBAL.Config.vkAppGroupID;
callMethod(this,GLOBAL.$app.apiVK,_283[24],[_283[32],ob2,function(qq){
if(qq){
if(checkIn(qq,_283[26])){
qq=qq.response;

}

}
if((qq == 1)){
if(!r3){
r3=!0;
th.nn+=1;
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_283[27],[okIconName]);
bm1.x=50;
bm1.y=30;
callMethod(this,groupSpr,_283[5],[bm1]);
callMethod(this,th,_283[28]);

}

}

}]);
this.c=c;
this.bg=bg;
callMethod(this,null,_283[5],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_283[22]);

};
callMethod(this,GLOBAL.AppUtils,_283[33],[c.close,0.8,1]);

};
_app_popup_PopUpAppBonusGroup1[_283[28]]=function(){
var th=this;
if((th.nn == 3)){
th.c.a1.visible=!1;
th.c.a2.visible=!1;
th.c.a3.visible=!1;
if(th.cnt2){
if(th.cnt2.parent){
callMethod(this,th.cnt2.parent,_283[34],[th.cnt2]);

}

}
var tf1=ctorObject(lang.text.TextField);
tf1.x=170;
tf1.y=230;
tf1.color=16777215;
tf1.text=_283[35];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,th.c,_283[5],[tf1]);
var but1=ctorObject(_283[13],[_283[36],function(){
callMethod(this,th,_283[22]);
callMethod(this,GLOBAL.$app.flagsMaster,_283[37],[1,5]);
callMethod(this,GLOBAL.$app.connect,_283[38],[_283[39],_283[40]]);

}]);
but1.x=225;
but1.y=(tf1.y + 20);
callMethod(this,th.c,_283[5],[but1]);

}

};
_app_popup_PopUpAppBonusGroup1[_283[22]]=function(){
callMethod(this,this.parent,_283[22],[this]);

};
_app_popup_PopUpAppBonusGroup1[_283[41]]=function(w,h){
callMethod(this,this.bg,_283[41],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_283[42],_283[43],_app_popup_PopUpAppBonusGroup1);
})(window);



(function(window){
var _222=["BGKostiSprite","AppPopUpBonusAppGroupMov2","app.bar.BarMoneyTypeSpr2","kosti","setMoney","addChild","Arial","1: Пригласить друзей","пригласи минимум двух друзей","уже играют: считаем...","друзья должны установить игру","ButtonOrangeText","пригласить","normal","autoFullscreen","callMethod","showInviteBox","2: Добавить игру в меню слева","добавить","showSettingsBox","remove","successIcon1.png","api","account.getAppPermissions","response","getAssetByName","checkFunc1","friends.getAppUsers","Array","уже играют: ","animAlphaSprite","removeChild","Всё хорошо, забирайте награду!","забрать","add","send","user.getBonusFree","bonusGroup","resize","app.popup.PopUpAppBonusGroup2","lang.display.Sprite"];
var _app_popup_PopUpAppBonusGroup2={};
_app_popup_PopUpAppBonusGroup2["ctor"]=function(){
var th=this;
this.nn=0;
var bg=ctorObject(_222[0]);
var c=ctorObject(_222[1]);
c.txt.bold=!0;
c.txt.filters=GLOBAL.Config.filterBlue1;
c.txt.width=(c.txt.width + 25);
var prize=15;
var mm=ctorObject(_222[2],[_222[3],function(){

}]);
mm.mouseEnabled=!1;
callMethod(this,mm,_222[4],[prize]);
mm.x=270;
mm.y=120;
callMethod(this,c,_222[5],[mm]);
var cnt2=ctorObject(lang.display.Sprite);
callMethod(this,c,_222[5],[cnt2]);
cnt2.y=120;
this.cnt2=cnt2;
var groupSpr=ctorObject(lang.display.Sprite);
groupSpr.y=5;
callMethod(this,cnt2,_222[5],[groupSpr]);
var friendsSpr=ctorObject(lang.display.Sprite);
friendsSpr.y=130;
callMethod(this,cnt2,_222[5],[friendsSpr]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=70;
tf1.color=16777215;
tf1.fontName=_222[6];
tf1.bold=!0;
tf1.text=_222[7];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,friendsSpr,_222[5],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.y=30;
tf1.fontName=_222[6];
tf1.bold=!0;
tf1.fontSize=15;
tf1.color=16777215;
tf1.text=_222[8];
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,friendsSpr,_222[5],[tf1]);
var ww=300;
var tf3=ctorObject(lang.text.TextField);
tf3.x=40;
tf3.y=50;
tf3.fontName=_222[6];
tf3.bold=!0;
tf3.fontSize=15;
tf3.color=16777215;
tf3.text=_222[9];
tf3.x=((ww - tf3.width) / 2);
tf3.filters=GLOBAL.Config.filterBlue1;
callMethod(this,friendsSpr,_222[5],[tf3]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=40;
tf1.y=140;
tf1.fontName=_222[6];
tf1.bold=!0;
tf1.fontSize=15;
tf1.color=16777215;
tf1.text=_222[10];
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,friendsSpr,_222[5],[tf1]);
var but1=ctorObject(_222[11],[_222[12],function(){
if((GLOBAL.$app.stage.displayState != _222[13])){
callMethod(this,GLOBAL.$app,_222[14]);

}
callMethod(this,GLOBAL.$app.apiVK,_222[15],[_222[16]]);

}]);
but1.x=95;
but1.y=70;
callMethod(this,friendsSpr,_222[5],[but1]);
var appMenuSpr=ctorObject(lang.display.Sprite);
appMenuSpr.x=300;
appMenuSpr.y=130;
callMethod(this,cnt2,_222[5],[appMenuSpr]);
var tf1=ctorObject(lang.text.TextField);
tf1.x=5;
tf1.color=16777215;
tf1.fontSize=15;
tf1.fontName=_222[6];
tf1.bold=!0;
tf1.text=_222[17];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,appMenuSpr,_222[5],[tf1]);
var ww=300;
var but1=ctorObject(_222[11],[_222[18],function(){
if((GLOBAL.$app.stage.displayState != _222[13])){
callMethod(this,GLOBAL.$app,_222[14]);

}
callMethod(this,GLOBAL.$app.apiVK,_222[15],[_222[19],256]);
callMethod(this,th,_222[20]);

}]);
but1.x=55;
but1.y=70;
callMethod(this,appMenuSpr,_222[5],[but1]);
var r1=!1;
var r2=!1;
var r3=!1;
var okIconName=_222[21];
callMethod(this,GLOBAL.$app.apiVK,_222[22],[_222[23],{},function(vv){
if(vv){
if(checkIn(vv,_222[24])){
vv=vv.response;

}
if(((vv & 256) > 0)){
if(!r1){
th.nn+=1;
r1=!0;
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_222[25],[okIconName]);
bm1.y=70;
callMethod(this,appMenuSpr,_222[5],[bm1]);
callMethod(this,th,_222[26]);

}

}

}

}]);
callMethod(this,GLOBAL.$app.apiVK,_222[22],[_222[27],{},function(oo){
var nums=0;
if(oo){
if(checkIn(oo,_222[24])){
oo=oo.response;

}
if(checkIs(oo,_222[28])){
nums=oo.size;

}

}
tf3.text=(_222[29] + nums);
tf3.x=((ww - tf3.width) / 2);
if((nums >= 2)){
if(!r2){
r2=!0;
th.nn+=1;
var bm1=callMethod(this,GLOBAL.$app.moviesReader,_222[25],[okIconName]);
bm1.x=50;
bm1.y=70;
callMethod(this,friendsSpr,_222[5],[bm1]);
callMethod(this,th,_222[26]);

}

}

}]);
this.c=c;
this.bg=bg;
callMethod(this,null,_222[5],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_222[20]);

};
callMethod(this,GLOBAL.AppUtils,_222[30],[c.close,0.8,1]);

};
_app_popup_PopUpAppBonusGroup2[_222[26]]=function(){
var th=this;
if((th.nn == 2)){
th.c.a2.visible=!1;
th.c.a3.visible=!1;
if(th.cnt2){
if(th.cnt2.parent){
callMethod(this,th.cnt2.parent,_222[31],[th.cnt2]);

}

}
var tf1=ctorObject(lang.text.TextField);
tf1.x=170;
tf1.y=230;
tf1.color=16777215;
tf1.fontName=_222[6];
tf1.bold=!0;
tf1.text=_222[32];
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,th.c,_222[5],[tf1]);
var but1=ctorObject(_222[11],[_222[33],function(){
callMethod(this,th,_222[20]);
callMethod(this,GLOBAL.$app.flagsMaster,_222[34],[1,5]);
callMethod(this,GLOBAL.$app.connect,_222[35],[_222[36],_222[37]]);

}]);
but1.x=225;
but1.y=(tf1.y + 20);
callMethod(this,th.c,_222[5],[but1]);

}

};
_app_popup_PopUpAppBonusGroup2[_222[20]]=function(){
callMethod(this,this.parent,_222[20],[this]);

};
_app_popup_PopUpAppBonusGroup2[_222[38]]=function(w,h){
callMethod(this,this.bg,_222[38],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_222[39],_222[40],_app_popup_PopUpAppBonusGroup2);
})(window);



(function(window){
var _115=["BGKostiSprite","AppPopUpS1Mov1","attr","scroll1","addChild","remove","animAlphaSprite","ButtonOrangeText","Добавить","cb1","addEvent2","load","removeAllChilds","uniq","push","parseList","addEvent2Target","removeChild","aid","bid","on","click","openPopUpConfirmMsgYesNo","Удалить событие?","del","web",": ",", цель: "," и ","настроить","list","alert","Нет событий, добавьте новое","resize","app.popup.PopUpWorldEditorEvents","lang.display.Sprite"];
var _app_popup_PopUpWorldEditorEvents={};
_app_popup_PopUpWorldEditorEvents["ctor"]=function(editor,el,cb1,isAll){
var th=this;
this.cb1=cb1;
this.el=el;
this.isAll=isAll;
this.editor=editor;
this.bg=ctorObject(_115[0]);
this.c=ctorObject(_115[1]);
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_115[2],[{className:_115[3]}]);
callMethod(this,this.c,_115[4],[this.cnt]);
callMethod(this,null,_115[4],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_115[5]);

};
callMethod(this,GLOBAL.AppUtils,_115[6],[this.c.close,0.8,1]);
var bb=ctorObject(_115[7],[_115[8],function(){
if(th.isAll){
var cb2=function(a1,b1){
var rr=callMethod(this,th,_115[9]);
if((a1 != b1)){
callMethod(this,rr,_115[10],[a1,b1]);

}

};
th.editor.targetSelect2ElemsAct1={cb:cb2,el1:null,el2:null};

}
callMethod(this,th,_115[5]);

}]);
bb.x=235;
bb.y=402;
callMethod(this,this.c,_115[4],[bb]);
callMethod(this,this,_115[11]);

};
_app_popup_PopUpWorldEditorEvents[_115[11]]=function(){
var th=this;
callMethod(this,th.cnt,_115[12]);
var arr=[];
var aid=0;
var bid=0;
if(checkIn(th.el,_115[13])){
aid=th.el.uniq;

}
var evv=th.editor.evList;
if(th.isAll){
arr=evv;

}else{
var i=0;
while((i < evv.size)){
var ell=evv[i];
if((ell.aid == aid)){
callMethod(this,arr,_115[14],[ell]);

}else if((ell.bid == aid)){
callMethod(this,arr,_115[14],[ell]);

}

i++;
}

}
callMethod(this,th,_115[15],[arr]);

};
_app_popup_PopUpWorldEditorEvents[_115[10]]=function(a,b){
var th=this;
if(a){
if(b){
var act={t:1,aid:1,pos:{x:730,y:250}};
callMethod(this,th,_115[16],[1,a,b,act]);
callMethod(this,th,_115[11]);

}

}

};
_app_popup_PopUpWorldEditorEvents[_115[16]]=function(evType,a1,b1,act){
var th=this;
if(a1){
if(b1){
if(act){
var aid=0;
var bid=0;
if(checkIn(a1,_115[13])){
aid=a1.uniq;

}
if(checkIn(b1,_115[13])){
bid=b1.uniq;

}
var evv=th.editor.evList;
var evFind=null;
var i=0;
while((i < evv.size)){
var ell=evv[i];
if((ell.t == evType)){
if((aid == ell.aid)){
if((bid == ell.bid)){
evFind=ell;

}

}
if(!evFind){
if((aid == ell.bid)){
if((bid == ell.aid)){
evFind=ell;

}

}

}

}
i++;
}
var actList=[];
if(evFind){
actList=evFind.list;

}else{
callMethod(this,evv,_115[14],[{t:evType,aid:aid,bid:bid,list:actList}]);

}
callMethod(this,actList,_115[14],[act]);

}

}

}

};
_app_popup_PopUpWorldEditorEvents[_115[15]]=function(arr){
var th=this;
callMethod(this,th.cnt,_115[12]);
if(arr){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_115[17],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_115[17],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var evList1=th.editor.evList;
if((arr.size > 0)){
var i=0;
while((i < arr.size)){
var el=arr[i];
var idd=(i + 1);
var tt=el.t;
var targidCur=0;
var targid=0;
if(checkIn(el,_115[18])){
targidCur=el.aid;

}
if(checkIn(el,_115[19])){
targid=el.bid;

}
var sp=ctorObject(lang.display.Sprite);
var delBM=ctorObject(lang.display.Bitmap);
delBM.y=4;
delBM.src=GLOBAL.Config.delIcon1BM.src;
delBM.buttonMode=!0;
delBM.itemObj=el;
callMethod(this,delBM,_115[20],[_115[21],function(e){
var item2=this.itemObj;
callMethod(this,GLOBAL.$app.popup,_115[22],[_115[23],function(){
var i=0;
while((i < evList1.size)){
var el2=evList1[i];
if((el2 == item2)){
callMethod(this,evList1,_115[24],[i]);

}
i++;
}
callMethod(this,th,_115[11]);

}]);

}]);
callMethod(this,sp,_115[4],[delBM]);
var nm2='';
if(checkIn(th.editor.eventsWorldObj,tt)){
nm2=th.editor.eventsWorldObj[tt];

}
var tf=ctorObject(lang.text.TextField);
tf.x=30;

tf.color=16777215;
tf.text=((((((('' + idd) + _115[26]) + nm2) + _115[27]) + targidCur) + _115[28]) + targid);
tf.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp,_115[4],[tf]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=14;
tf3.color=16776960;
tf3.text=_115[29];
tf3.x=360;
tf3.y=3;
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.ell=el;
tf3.click=function(){
var th2=this.ell;
if(checkIn(th2,_115[30])){
callMethod(this,null,_115[31],[th2.list]);

}

};
callMethod(this,sp,_115[4],[tf3]);
sp.y=yy;
callMethod(this,th.cnt,_115[4],[sp]);
yy+=32;
i++;
}

}else{
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=16;
txt1.text=_115[32];
txt1.x=((580 - txt1.width) / 2);
txt1.y=220;
txt1.filters=GLOBAL.Config.filterBlue1;
th.preloadTxt2=txt1;
callMethod(this,th.c,_115[4],[txt1]);

}

}

};
_app_popup_PopUpWorldEditorEvents[_115[5]]=function(){
callMethod(this,this.parent,_115[5],[this]);

};
_app_popup_PopUpWorldEditorEvents[_115[33]]=function(w,h){
callMethod(this,this.bg,_115[33],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_115[34],_115[35],_app_popup_PopUpWorldEditorEvents);
})(window);



(function(window){
var _116=["each","eachItems","eachTime","eachItemsTime","aid","bid","begin","end","_","parseEvents","txt1","user","status","mapLevel","id","map","items","events","timestamp","v","width","height","time","bg","pers","u","parseMap","validateMap","scenes.world.GameMap"];
var _scenes_world_GameMap={};
_scenes_world_GameMap["ctor"]=function(){
this.id=0;
this.v=0;
this.time=0;
this.createTime=0;
this.statsInfo=null;
this.scoreInfo=null;
this.txt1='';
this.map=null;
this.bg=0;
this.user=0;
this.mapLevel=1;
this.width=0;
this.status=-1;
this.height=0;
this.bgAlpha=1;
this.items=[];
this.events=[];
this.eventsObj={};
this.itemsObjID={};
this.pers={x:0,y:0,u:0};
this.users=[];
this.persObj=null;
this.persID=0;
this.budkaObj={x:0,y:0};
this.origObj=null;

};
_scenes_world_GameMap[_116[1]]=function(cb){
callMethod(this,this.items,_116[0],[function(el){
if(cb){
cb(el);

}

}]);

};
_scenes_world_GameMap[_116[3]]=function(cb,time){
callMethod(this,this.items,_116[2],[time,function(el){
if(cb){
cb(el);

}

}]);

};
_scenes_world_GameMap[_116[9]]=function(){
var th=this;
th.eventsObj={};
if(th.events){
var i=0;
while((i < th.events.size)){
var el=th.events[i];
if(checkIn(el,_116[4])){
if(checkIn(el,_116[5])){
var targA=el.aid;
var targB=el.bid;
var t='';
if((el.t == 1)){
t=_116[6];

}else if((el.t == 2)){
t=_116[7];

}

var ss=((((t + _116[8]) + targA) + _116[8]) + targB);
th.eventsObj[ss]=el;

}

}
i++;
}

}

};
_scenes_world_GameMap[_116[26]]=function(o){
var th=this;
if(o){
this.map=o;
if(checkIn(o,_116[10])){
this.txt1=o.txt1;

}
if(checkIn(o,_116[11])){
this.user=o.user;

}
if(checkIn(o,_116[12])){
this.status=o.status;

}
if(checkIn(o,_116[13])){
this.mapLevel=o.mapLevel;

}
if(checkIn(o,_116[14])){
this.id=o.id;

}
if(checkIn(o,_116[15])){
this.items=o.map;

}
if(checkIn(o,_116[16])){
this.items=o.items;

}
if(checkIn(o,_116[17])){
if(o.events){
this.events=o.events;

}

}
if(checkIn(o,_116[18])){
this.createTime=o.timestamp;

}
if(checkIn(o,_116[19])){
this.v=o[_116[19]];

}
if(checkIn(o,_116[20])){
this.width=castInt(o.width);

}
if(checkIn(o,_116[21])){
this.height=castInt(o.height);

}
if(checkIn(o,_116[22])){
this.time=o[_116[22]];

}
if(checkIn(o,_116[23])){
this.bg=o.bg;

}
if(checkIn(o,_116[24])){
this.persObj=o.pers;

}
if(th.persObj){
if(checkIn(th.persObj,_116[25])){
this.persID=th.persObj.u;

}

}

}

};
_scenes_world_GameMap[_116[27]]=function(){
var ob=this.map;
if(ob){
var fields=[_116[16],_116[20],_116[21]];
var i=0;
while((i < fields.size)){
var el=fields[i];
if(checkIn(ob,el)){

}else{
return !1;

}
i++;
}

}else{
return !1;

}
return !0;

};
vm.registerClass(_116[28],'',_scenes_world_GameMap);
})(window);



(function(window){
var _39=["createPainter","addChild","getAssetByID","bm","clear","border","rect","resize","scenes.world.WallItem","lang.display.Sprite"];
var _scenes_world_WallItem={};
_scenes_world_WallItem["ctor"]=function(id){
this.spr=ctorObject(lang.display.Sprite);
callMethod(this,this.spr,_39[0]);
callMethod(this,null,_39[1],[this.spr]);
this.uniq=0;
this.isBorderEnable=!0;
this.isScaleImg=!1;
this.bm=null;
this.evList=null;
this.w=0;
this.h=0;
this.flags1=0;
this.type=2;
this.itemid=id;
this.editorItemSpr=this;
this.mouseChildren=!1;
var decorObj=callMethod(this,GLOBAL.$app.worldMaster,_39[2],[id]);
if(decorObj){
if(checkIn(decorObj,_39[3])){
this.bm=decorObj.bm;

}

}

};
_scenes_world_WallItem[_39[7]]=function(w,h){
this.w=w;
this.h=h;
this.spr.x=(-w / 2);
this.spr.y=(-h / 2);
callMethod(this,this.spr.painter,_39[4]);
if(this.isBorderEnable){
callMethod(this,this.spr.painter,_39[5],[1,0,0.5]);

}
if(this.isScaleImg){
this.bm.x=this.spr.x;
this.bm.y=this.spr.y;
this.bm.scaleX=(w / 128);
this.bm.scaleY=(h / 128);

}else{
callMethod(this,this.spr.painter,_39[6],[0,0,w,h,this.bm]);

}

};
vm.registerClass(_39[8],_39[9],_scenes_world_WallItem);
})(window);



(function(window){
var _247=["app.popup.PopUpMinInfo1","addChild","отправляйте карту на модерацию","Пока ваша карта на модерации","вы можете изменять карту","ButtonOrangeText","Отправить","remove","removeChild","resize","app.popup.PopUpMapEditorSaveMapServerConfirm","lang.display.Sprite"];
var _app_popup_PopUpMapEditorSaveMapServerConfirm={};
_app_popup_PopUpMapEditorSaveMapServerConfirm["ctor"]=function(cb){
this.p1=ctorObject(_247[0],['']);
callMethod(this,null,_247[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_247[1],[sp2]);
var ww=450;
this.p1.bg.bg.click=function(){

};
var yy=5;
yy+=10;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text='Отлично, ваша карта проходится!';
tf1.x=((440 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_247[1],[tf1]);
yy+=30;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_247[2];
tf1.x=((440 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_247[1],[tf1]);
yy+=30;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.color=16776960;
tf1.text=_247[3];
tf1.x=((440 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,sp2,_247[1],[tf1]);
yy+=25;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.color=16776960;
tf1.text=_247[4];
tf1.x=((440 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,sp2,_247[1],[tf1]);
yy+=25;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.color=16776960;
tf1.text='в редакторе выберите действия, обновить карту';
tf1.x=((440 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,sp2,_247[1],[tf1]);
var bb=ctorObject(_247[5],[_247[6],function(){
callMethod(this,th,_247[7]);
if(cb){
cb();

}

}]);
bb.x=165;
bb.y=198;
callMethod(this,sp2,_247[1],[bb]);

};
_app_popup_PopUpMapEditorSaveMapServerConfirm[_247[7]]=function(){
if(this.parent){
callMethod(this,this.parent,_247[8],[this]);

}

};
_app_popup_PopUpMapEditorSaveMapServerConfirm[_247[9]]=function(w,h){
callMethod(this,this.p1,_247[9],[w,h]);

};
vm.registerClass(_247[10],_247[11],_app_popup_PopUpMapEditorSaveMapServerConfirm);
})(window);



(function(window){
var _290=["app.popup.PopUpMinInfo1","addChild","Цена за отправку карты","app.bar.BarMoneyTypeSpr2","lapki","setMoney","web","правила","openPopUpMapModEditorRules","ButtonOrangeText","Начать","remove","removeChild","resize","app.popup.PopUpMapEditorSaveMapServer","lang.display.Sprite"];
var _app_popup_PopUpMapEditorSaveMapServer={};
_app_popup_PopUpMapEditorSaveMapServer["ctor"]=function(cb){
this.p1=ctorObject(_290[0],['']);
callMethod(this,null,_290[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_290[1],[sp2]);
var ww=450;
this.p1.bg.bg.click=function(){

};
var price=GLOBAL.$app.shopMaster.priceSaveMap;
var priceRet=GLOBAL.$app.shopMaster.priceRetSaveMap;
var arr=['Мы очень рады что Вы решили создать карту!'];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
if((i == 2)){
tf1.fontSize=15;

}
tf1.text=('' + el);
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_290[1],[tf1]);
yy+=24;
i++;
}
yy+=10;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=_290[2];
tf1.x=((400 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_290[1],[tf1]);
var mm=ctorObject(_290[3],[_290[4],function(){

}]);
mm.mouseEnabled=!1;
mm.y=(yy - 5);
callMethod(this,mm,_290[5],[price]);
mm.x=(tf1.x + 185);

callMethod(this,sp2,_290[1],[mm]);
yy+=30;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text='Если карта будет одобрена, то вы получите';
tf1.x=((450 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_290[1],[tf1]);
yy+=24;
var mm=ctorObject(_290[3],[_290[4],function(){

}]);
mm.mouseEnabled=!1;
mm.y=yy;
callMethod(this,mm,_290[5],[priceRet]);
mm.x=(((ww - 40) - mm.tf.width) / 2);
callMethod(this,sp2,_290[1],[mm]);
yy+=35;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.color=16776960;
tf1.text='Нам нужно увидеть что карта проходится';
tf1.x=((450 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,sp2,_290[1],[tf1]);
yy+=24;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.color=16776960;
tf1.text='пройдите свою карту (нажмите на кнопку ниже)';
tf1.x=((450 - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.shadowText2;
callMethod(this,sp2,_290[1],[tf1]);
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=16;
tf3.color=16776960;
tf3.text=_290[7];
tf3.x=((mm.x + tf3.width) + 50);
tf3.y=(mm.y + 11);
tf3.filters=GLOBAL.Config.shadowText2;
tf3.buttonMode=!0;
tf3.click=function(){
callMethod(this,GLOBAL.$app.popup,_290[8]);

};
var bb=ctorObject(_290[9],[_290[10],function(){
callMethod(this,th,_290[11]);
if(cb){
cb();

}

}]);
bb.x=165;
bb.y=198;
callMethod(this,sp2,_290[1],[bb]);

};
_app_popup_PopUpMapEditorSaveMapServer[_290[11]]=function(){
if(this.parent){
callMethod(this,this.parent,_290[12],[this]);

}

};
_app_popup_PopUpMapEditorSaveMapServer[_290[13]]=function(w,h){
callMethod(this,this.p1,_290[13],[w,h]);

};
vm.registerClass(_290[14],_290[15],_app_popup_PopUpMapEditorSaveMapServer);
})(window);



(function(window){
var _293=["app.popup.PopUpMinInfo1","addChild"," (VIP)","Стоимость сообщения с цветом ","Arial","remove","cut","parseInt","текст","app.bar.BarMoneyTypeSpr2","kosti","setMoney","согласен","согласна","UICheckboxSpr2","removeChild","resize","app.popup.PopUpSelectChatTextColor","lang.display.Sprite"];
var _app_popup_PopUpSelectChatTextColor={};
_app_popup_PopUpSelectChatTextColor["ctor"]=function(cb){
this.p1=ctorObject(_293[0],['']);
callMethod(this,null,_293[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_293[1],[sp2]);
var ww=450;
this.p1.bg.bg.click=function(){

};
var price=GLOBAL.$app.shopMaster.priceSendChatColorMsg;
var s1='';
if((GLOBAL.$app.user.vip == 1)){
price=0;
s1=_293[2];

}
var arr=[(_293[3] + s1)];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_293[4];
tf1.bold=!0;
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=((ww - tf1.width) / 2);
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_293[1],[tf1]);
yy+=24;
i++;
}
var sp5=ctorObject(lang.display.Sprite);
sp5.visible=!1;
callMethod(this,this.p1.cnt,_293[1],[sp5]);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_293[4];
tf1.bold=!0;
tf1.fontSize=14;
tf1.text='для отмены цвета уберите квадратик выше';
tf1.x=((290 - tf1.width) / 2);
tf1.y=-30;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp5,_293[1],[tf1]);
sp5.x=80;
sp5.y=130;
var xx1=0;
var yy1=0;
var arr2=GLOBAL.Config.chatTextColorList;
if(arr2){
var i=0;
while((i < arr2.size)){
var el=arr2[i];
var poss1=(i + 1);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_293[4];
tf1.poss1=i;
tf1.bold=!0;
tf1.fontSize=16;
tf1.buttonMode=!0;
tf1.click=function(){
callMethod(this,th,_293[5]);
if(cb){
cb(this.poss1);

}

};
el=callMethod(this,el,_293[6],[1]);
el=callMethod(this,null,_293[7],[el,16]);
var ss2=_293[8];
tf1.color=el;
tf1.text=ss2;
tf1.x=xx1;
tf1.y=yy1;
xx1=(xx1 + 80);
if(((i % 4) == 3)){
xx1=0;
yy1+=30;

}
tf1.filters=GLOBAL.Config.shadowText1;
callMethod(this,sp5,_293[1],[tf1]);
i++;
}

}
var mm=ctorObject(_293[9],[_293[10],function(){

}]);
mm.mouseEnabled=!1;
mm.y=40;
callMethod(this,mm,_293[11],[price]);
mm.x=(((ww - 30) - mm.tf.width) / 2);
callMethod(this,sp2,_293[1],[mm]);
var flag1=GLOBAL.Config.sendChatColorMsgFlag;
var txt1=_293[12];
if((GLOBAL.$app.user.sex == GLOBAL.Sex.FEMALE)){
txt1=_293[13];

}
var q=ctorObject(_293[14],[txt1,flag1,function(rr){
GLOBAL.Config.sendChatColorMsgFlag=rr;
sp5.visible=rr;
if(rr){

}else{
if(cb){
cb(-1);

}

}

}]);
q.x=180;
q.y=(mm.y + 35);
callMethod(this,sp2,_293[1],[q]);
if(flag1){
sp5.visible=!0;

}

};
_app_popup_PopUpSelectChatTextColor[_293[5]]=function(){
if(this.parent){
callMethod(this,this.parent,_293[15],[this]);

}

};
_app_popup_PopUpSelectChatTextColor[_293[16]]=function(w,h){
callMethod(this,this.p1,_293[16],[w,h]);

};
vm.registerClass(_293[17],_293[18],_app_popup_PopUpSelectChatTextColor);
})(window);



(function(window){
var _74=["BGKostiSprite","addChild","PopUpMyDress1Mov","AppPopUpMyDress1Mov","getAssetByName","b27.png","m","navMenu","remove","animAlphaSprite","getClassName","static","removeAllChilds","stopTimer1","loadCategory","alert","всё","голова","ухо","stop","resize","app.popup.PopUpMyDressRoom","lang.display.Sprite"];
var _app_popup_PopUpMyDressRoom={};
_app_popup_PopUpMyDressRoom["ctor"]=function(){
var th=this;
this.bg=ctorObject(_74[0]);
callMethod(this,null,_74[1],[this.bg]);
this.popupName=_74[2];
var c=ctorObject(_74[3]);
this.tm1=null;
this.curMenu=0;
this.activeImg=callMethod(this,GLOBAL.$app.moviesReader,_74[4],[_74[5]]);
this.curMenuArr=[c.but1,c.but2,c.but3];
var i=0;
while((i < this.curMenuArr.size)){
var idd=(i + 1);
var nm3=(_74[6] + idd);
var ob3=c[nm3];
ob3.mouseEnabled=!1;
var el=this.curMenuArr[i];
el.menuID=idd;
el.origIconSrc=el.icon1.src;
el.msk.menuID=idd;
el.msk.click=function(){
callMethod(this,th,_74[7],[this.menuID]);

};
i++;
}
this.c=c;
this.c.cnt=ctorObject(lang.display.Sprite);
this.c.cnt.x=100;
this.c.cnt.y=90;
callMethod(this,this.c,_74[1],[this.c.cnt]);
callMethod(this,null,_74[1],[c]);
c.close.click=function(e){
callMethod(this,th,_74[8]);

};
callMethod(this,GLOBAL.AppUtils,_74[9],[c.close,0.8,1]);
var navID=1;
callMethod(this,this,_74[7],[navID]);

};
_app_popup_PopUpMyDressRoom[_74[11]]=function(){
this.isLoad=!1;
this.clName=callMethod(this,System,_74[10],[this]);

};
_app_popup_PopUpMyDressRoom[_74[7]]=function(id){
if((this.curMenu != id)){
var i=0;
while((i < this.curMenuArr.size)){
var el=this.curMenuArr[i];
if((id == el.menuID)){
el.icon1.src=this.activeImg.src;

}else{
el.icon1.src=el.origIconSrc;

}
callMethod(this,this.c.cnt,_74[12]);
callMethod(this,this,_74[13]);
i++;
}
this.curMenu=id;
callMethod(this,this,_74[14],[id]);

}

};
_app_popup_PopUpMyDressRoom[_74[14]]=function(id){
if((id == 1)){
callMethod(this,null,_74[15],[_74[16]]);

}else if((id == 2)){
callMethod(this,null,_74[15],[_74[17]]);

}else if((id == 3)){
callMethod(this,null,_74[15],[_74[18]]);

}



};
_app_popup_PopUpMyDressRoom[_74[13]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_74[19]);

}
this.tm1=null;

};
_app_popup_PopUpMyDressRoom[_74[8]]=function(){
callMethod(this,this,_74[13]);
callMethod(this,this.parent,_74[8],[this]);

};
_app_popup_PopUpMyDressRoom[_74[20]]=function(w,h){
callMethod(this,this.bg,_74[20],[w,h]);
this.c.x=((w - 580) / 2);
this.c.y=((h - 400) / 2);

};
vm.registerClass(_74[21],_74[22],_app_popup_PopUpMyDressRoom);
})(window);



(function(window){
var _92=["BGKostiSprite","drawMovie","cnt","removeChild","css","font-family","Arial","font-weight","bold","font-size","16px","color","#FFFFFF","word-break","break-all","attr","scroll1","addChild","remove","animAlphaSprite","load","removeAllChilds","Идёт загрузка...","send","parseList","chat.giftsHistory1","loadItems","getByID","всего ","Нет подарков","resize","app.popup.PopUpGiftsHistoryUsers2","lang.display.Sprite"];
var _app_popup_PopUpGiftsHistoryUsers2={};
_app_popup_PopUpGiftsHistoryUsers2["ctor"]=function(id1,id2){
var th=this;
this.id1=id1;
this.id2=id2;
this.bg=ctorObject(_92[0]);
this.c=callMethod(this,GLOBAL.$app.moviesReader,_92[1],[16]);
if(checkIn(th.c,_92[2])){
callMethod(this,th.c,_92[3],[th.c.cnt]);

}
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_92[4],[{'font-family':_92[6],'font-weight':_92[8],'font-size':_92[10],'color':_92[12],'word-break':_92[14]}]);
callMethod(this,this.cnt,_92[15],[{className:_92[16]}]);
callMethod(this,this.c,_92[17],[this.cnt]);
callMethod(this,null,_92[17],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_92[18]);

};
callMethod(this,GLOBAL.AppUtils,_92[19],[this.c.close,0.8,1]);
callMethod(this,this,_92[20]);

};
_app_popup_PopUpGiftsHistoryUsers2[_92[20]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_92[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_92[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_92[21]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_92[22];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_92[17],[txt1]);
th.preloadTxt=txt1;
var cb3=function(){
callMethod(this,GLOBAL.$app.connect,_92[23],[function(arr){
callMethod(this,th,_92[24],[arr]);

},_92[25],th.id1,th.id2]);

};
if(!GLOBAL.$app.giftsMaster.isLoad){
callMethod(this,GLOBAL.$app.giftsMaster,_92[26],[function(){
cb3();

}]);

}else{
cb3();

}

};
_app_popup_PopUpGiftsHistoryUsers2[_92[24]]=function(arr){
var th=this;
callMethod(this,th.cnt,_92[21]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_92[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_92[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var xx=0;
var maxItemsV=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
if(el){
var giftid=el.id;
var nn=el.nums;
var giftV=callMethod(this,GLOBAL.$app.giftsMaster,_92[27],[giftid]);
if(giftV){
var sp2=ctorObject(lang.display.Sprite);
var tf1=ctorObject(lang.text.TextField);
tf1.fontName=_92[6];
tf1.fontSize=16;
tf1.text=(_92[28] + nn);
tf1.x=((80 - tf1.width) / 2);
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_92[17],[tf1]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.src=giftV.url;
bm1.y=10;
callMethod(this,sp2,_92[17],[bm1]);
sp2.x=xx;
sp2.y=yy;
callMethod(this,th.cnt,_92[17],[sp2]);
xx+=100;
if(((i % maxItemsV) == (maxItemsV - 1))){
xx=0;
yy+=130;

}

}

}
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text=_92[29];
th.preloadTxt.x=((580 - th.preloadTxt.width) / 2);

}

}

}

};
_app_popup_PopUpGiftsHistoryUsers2[_92[18]]=function(){
callMethod(this,this.parent,_92[18],[this]);

};
_app_popup_PopUpGiftsHistoryUsers2[_92[30]]=function(w,h){
callMethod(this,this.bg,_92[30],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_92[31],_92[32],_app_popup_PopUpGiftsHistoryUsers2);
})(window);



(function(window){
var _156=["BGKostiSprite","drawMovie","cnt","removeChild","attr","scroll1","addChild","remove","animAlphaSprite","load","removeAllChilds","Идёт загрузка...","push","getUserID","parseList","ID "," ","css","white-space","nowrap","getPopUpByName","PopUpUserInfoSpr1","openPopUpUserInfoSpr","Поиск не дал результата","resize","app.popup.PopUpSearchUsers1","lang.display.Sprite"];
var _app_popup_PopUpSearchUsers1={};
_app_popup_PopUpSearchUsers1["ctor"]=function(arr1){
var th=this;
this.arr1=arr1;
this.bg=ctorObject(_156[0]);
this.c=callMethod(this,GLOBAL.$app.moviesReader,_156[1],[16]);
if(checkIn(th.c,_156[2])){
callMethod(this,th.c,_156[3],[th.c.cnt]);

}
this.preloadTxt=null;
this.preloadTxt2=null;
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.x=50;
this.cnt.y=100;
this.cnt.width=500;
this.cnt.height=300;
this.cnt.scroll=!0;
callMethod(this,this.cnt,_156[4],[{className:_156[5]}]);
callMethod(this,this.c,_156[6],[this.cnt]);
callMethod(this,null,_156[6],[this.bg,this.c]);
this.c.close.click=function(e){
callMethod(this,th,_156[7]);

};
callMethod(this,GLOBAL.AppUtils,_156[8],[this.c.close,0.8,1]);
callMethod(this,this,_156[9]);

};
_app_popup_PopUpSearchUsers1[_156[9]]=function(){
var th=this;
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_156[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_156[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
callMethod(this,th.cnt,_156[10]);
var txt1=ctorObject(lang.text.TextField);
txt1.fontSize=17;
txt1.text=_156[11];
txt1.x=((580 - txt1.width) / 2);
txt1.y=((450 - 30) / 2);
txt1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.c,_156[6],[txt1]);
th.preloadTxt=txt1;
var limitV=30;
var nn=0;
var ids=[];
if(this.arr1){
var ob1={};
var i=0;
while((i < this.arr1.size)){
var el=this.arr1[i];
if(checkIn(ob1,el)){

}else{
if((nn < limitV)){
callMethod(this,ids,_156[12],[el]);
ob1[el]=1;
nn+=1;

}

}
i++;
}

}
callMethod(this,GLOBAL.$app.cacheUsers,_156[9],[ids,function(){
var uu=[];
var i=0;
while((i < ids.size)){
var idd=ids[i];
var u=callMethod(this,GLOBAL.$app.cacheUsers,_156[13],[idd]);
if(u){
callMethod(this,uu,_156[12],[u]);

}
i++;
}
callMethod(this,th,_156[14],[uu]);

}]);

};
_app_popup_PopUpSearchUsers1[_156[14]]=function(arr){
var th=this;
callMethod(this,th.cnt,_156[10]);
if(arr){
if((arr.size > 0)){
if(th.preloadTxt){
if(th.preloadTxt.parent){
callMethod(this,th.preloadTxt.parent,_156[3],[th.preloadTxt]);

}

}
if(th.preloadTxt2){
if(th.preloadTxt2.parent){
callMethod(this,th.preloadTxt2.parent,_156[3],[th.preloadTxt2]);

}

}
th.preloadTxt2=null;
var yy=0;
var i=0;
while((i < arr.size)){
var u=arr[i];
if(u){
var sp=ctorObject(lang.display.Sprite);
var tf=ctorObject(lang.text.TextField);
tf.x=10;
tf.buttonMode=!0;
tf.color=16777215;
tf.text=(((_156[15] + u.id) + _156[16]) + u.nick);
tf.filters=GLOBAL.Config.filterBlue1;
tf.userObj=u;
callMethod(this,tf,_156[17],[{'white-space':_156[19]}]);
tf.click=function(){
var popup1=callMethod(this,GLOBAL.$app.popup,_156[20],[_156[21]]);
if(!popup1){
callMethod(this,GLOBAL.$app.popup,_156[22],[this.userObj.id]);

}

};
callMethod(this,sp,_156[6],[tf]);
sp.y=yy;
callMethod(this,th.cnt,_156[6],[sp]);
yy+=32;

}
i++;
}

}else{
if(th.preloadTxt){
th.preloadTxt.text=_156[23];
th.preloadTxt.x=((580 - th.preloadTxt.width) / 2);

}

}

}

};
_app_popup_PopUpSearchUsers1[_156[7]]=function(){
callMethod(this,this.parent,_156[7],[this]);

};
_app_popup_PopUpSearchUsers1[_156[24]]=function(w,h){
callMethod(this,this.bg,_156[24],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_156[25],_156[26],_app_popup_PopUpSearchUsers1);
})(window);



(function(window){
var _159=["BGKostiSprite","drawMovie","Пополнение валюты","addChild","kosti","getAssetByName","a7.png","on","click","remove","animAlphaSprite","resize","app.popup.PopUpBuyMoneyOkInfo","lang.display.Sprite"];
var _app_popup_PopUpBuyMoneyOkInfo={};
_app_popup_PopUpBuyMoneyOkInfo["ctor"]=function(t,v){
var th=this;
this.selectable=!1;
var bg=ctorObject(_159[0]);
var c=callMethod(this,GLOBAL.$app.moviesReader,_159[1],[26]);
var tf3=ctorObject(lang.text.TextField);
tf3.color=10181931;
tf3.fontSize=17;
tf3.text=_159[2];
tf3.width=(tf3.width + 4);
tf3.x=90;
tf3.y=(65 - 8);
callMethod(this,c,_159[3],[tf3]);
if((t == _159[4])){
var bm=callMethod(this,GLOBAL.$app.moviesReader,_159[5],[_159[6]]);
bm.scaleX=(0.7 * 0.5);
bm.scaleY=(0.7 * 0.5);
bm.x=117;
bm.y=85;
var tf2=ctorObject(lang.text.TextField);
tf2.filters=GLOBAL.Config.shadowText1;
tf2.color=16759329;
tf2.fontSize=23;
tf2.text=('' + v);
tf2.x=(bm.x + 40);
tf2.y=97;
callMethod(this,c,_159[3],[bm,tf2]);

}
this.c=c;
this.bg=bg;
callMethod(this,null,_159[3],[bg,c]);
callMethod(this,c.close,_159[7],[_159[8],function(e){
callMethod(this,th,_159[9]);

}]);
callMethod(this,bg,_159[7],[_159[8],function(e){
callMethod(this,th,_159[9]);

}]);
callMethod(this,GLOBAL.AppUtils,_159[10],[c.close,0.8,1]);

};
_app_popup_PopUpBuyMoneyOkInfo[_159[9]]=function(){
callMethod(this,this.parent,_159[9],[this]);

};
_app_popup_PopUpBuyMoneyOkInfo[_159[11]]=function(w,h){
callMethod(this,this.bg,_159[11],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_159[12],_159[13],_app_popup_PopUpBuyMoneyOkInfo);
})(window);



(function(window){
var _229=["BGKostiSprite","AppPopUpMin3Mov","addChild","remove","animAlphaSprite","restType","отскок","обычный","средний","сильный","getChildAt","removeChild","resize","app.popup.PopUpMapEditorWallRestSettings","lang.display.Sprite"];
var _app_popup_PopUpMapEditorWallRestSettings={};
_app_popup_PopUpMapEditorWallRestSettings["ctor"]=function(el){
var th=this;
this.selectable=!1;
this.el=el;
var bg=ctorObject(_229[0]);
var c=ctorObject(_229[1]);
this.c=c;
this.bg=bg;
callMethod(this,null,_229[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_229[3]);

};
callMethod(this,GLOBAL.AppUtils,_229[4],[c.close,0.8,1]);
if(!checkIn(el,_229[5])){
el.restType=0;

}
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,c,_229[2],[spr2]);
spr2.y=40;
var tf1=ctorObject(lang.text.TextField);
tf1.x=135;
tf1.y=24;
tf1.fontSize=15;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_229[6];
callMethod(this,spr2,_229[2],[tf1]);
this.txtSpr=ctorObject(lang.display.Sprite);
this.txtSpr.y=60;
callMethod(this,spr2,_229[2],[this.txtSpr]);
this.arr1=[[0,_229[7]],[1,_229[8]],[2,_229[9]]];
var yy=0;
var clr2=6553363;
var cb3=function(){
var i=0;
while((i < th.txtSpr.numChildren)){
var el1=callMethod(this,th.txtSpr,_229[10],[i]);
var ttt=el1.ell[0];
el1.color=(ttt == el.restType) ? clr2 : 16777215;
i++;
}

};
var i=0;
while((i < this.arr1.size)){
var oo=this.arr1[i];
var tt=oo[0];
var nmm=oo[1];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=15;
tf1.color=(tt == el.restType) ? clr2 : 16777215;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=('' + nmm);
tf1.x=((320 - tf1.width) / 2);
tf1.y=yy;
tf1.buttonMode=!0;
tf1.ell=oo;
tf1.click=function(){
var tt1=this.ell[0];
el.restType=tt1;
cb3();

};
callMethod(this,th.txtSpr,_229[2],[tf1]);
yy+=30;
i++;
}

};
_app_popup_PopUpMapEditorWallRestSettings[_229[3]]=function(){
callMethod(this,this.parent,_229[11],[this]);

};
_app_popup_PopUpMapEditorWallRestSettings[_229[12]]=function(w,h){
callMethod(this,this.bg,_229[12],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_229[13],_229[14],_app_popup_PopUpMapEditorWallRestSettings);
})(window);



(function(window){
var _276=["addDomCanvas","getAssetByName","bg14.jpg","addChild","app.game.PersGameRoom","#E32020","#FFFF00","#00FF00","#00FFFF","#3666EB","#FF00FF","#FF0000","plashka_main.png","createPainter","AppButtonExit2","on","rollover","rollout","navHome","push","border","rect","#FFFFFF","Arial","setFramePos","drop","readBytes","grabMousePos","setDressBitmap","keydown","curUpdateFrame","keyboardEventHandler","mouseup","Код","getCode","encode","alert","влево","setLeft","вправо","запуск","playPersAnim","stop","set x,y pos","setAllDefPos","set x pos","setAllDefPosX","set type 1","setTypeFrames","getDressBitmapMC","getDressFramesByID","setDressItemByID","startDrag","removeChild","init","x ",", y ","gotoAndStop","clear","getChildAt","#00CC00","removeDomCanvas","removeScene","resize","scenes.dresseditor.DressEditor","lang.display.Sprite"];
var _scenes_dresseditor_DressEditor={};
_scenes_dresseditor_DressEditor["ctor"]=function(){
callMethod(this,GLOBAL.$app,_276[0]);
var th=this;
this.bg1=callMethod(this,GLOBAL.$app.moviesReader,_276[1],[_276[2]]);
callMethod(this,null,_276[3],[this.bg1]);
this.dressBM=GLOBAL.Config.dressBM;
this.mov=ctorObject(lang.display.Sprite);
callMethod(this,null,_276[3],[this.mov]);
this.curFrameSpr=null;
this.cnt1=ctorObject(lang.display.Sprite);
this.cnt1.x=100;
this.cnt1.y=300;
callMethod(this,this.mov,_276[3],[this.cnt1]);
this.persCont=ctorObject(_276[4]);
callMethod(this,this.cnt1,_276[3],[this.persCont]);
this.activeItem=null;
this.lastFrameSelect=null;
this.tm=null;
this.isStopFrame=!1;
this.colorsFrames=[_276[5],_276[6],_276[7],_276[8],_276[9],_276[10],_276[11],_276[5],_276[6],_276[7],_276[8],_276[9],_276[10],_276[11],_276[5]];
this.downPanelSpr=ctorObject(lang.display.Sprite);
callMethod(this,null,_276[3],[this.downPanelSpr]);
this.plashkaBG=callMethod(this,GLOBAL.$app.moviesReader,_276[1],[_276[12]]);
this.plashkaH=this.plashkaBG.height;
this.plashkaSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.plashkaSpr,_276[13]);
callMethod(this,this.mov,_276[3],[this.downPanelSpr]);
callMethod(this,this.downPanelSpr,_276[3],[this.plashkaSpr]);
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.persFramesNums=15;
this.framesList=[];
this.curFrame=0;
this.exitBut=ctorObject(_276[14]);
this.exitBut.y=15;
callMethod(this,this.exitBut.msk,_276[15],[_276[16],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.exitBut.msk,_276[15],[_276[17],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
callMethod(this,GLOBAL.$app,_276[18]);

};
callMethod(this,this.downPanelSpr,_276[3],[this.exitBut]);
var i=0;
while((i < this.persFramesNums)){
var q={x:0,y:0};
callMethod(this,this.framesList,_276[19],[q]);
i++;
}
this.frameW=23;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,th.mov,_276[3],[sp2]);
th.framesPanelSpr=sp2;
sp2.x=10;
sp2.y=420;
var ww1=this.frameW;
var i=0;
while((i < this.persFramesNums)){
var rr=ctorObject(lang.display.Sprite);
var q=ctorObject(lang.display.Sprite);
callMethod(this,q,_276[13]);
callMethod(this,q.painter,_276[20],[1,0]);
callMethod(this,q.painter,_276[21],[0,0,ww1,ww1,_276[22]]);
q.buttonMode=!0;
rr.pp=q;
q.posItem=i;
var tx=ctorObject(lang.text.TextField);
tx.fontName=_276[23];
tx.color=0;
tx.text=('' + (i + 1));
tx.x=((ww1 - tx.width) / 2);
tx.y=6;
tx.mouseEnabled=!1;
q.mousedown=function(){
th.isStopFrame=!0;
callMethod(this,th,_276[24],[this.posItem]);

};
rr.x=(i * (ww1 + 5));
callMethod(this,rr,_276[3],[q,tx]);
callMethod(this,sp2,_276[3],[rr]);
i++;
}
this.tfPosFrame=ctorObject(lang.text.TextField);
this.tfPosFrame.x=100;
this.tfPosFrame.y=(sp2.y - 30);
callMethod(this,th.mov,_276[3],[this.tfPosFrame]);
callMethod(this,this,_276[24],[this.curFrame]);
callMethod(this,this.ev,_276[15],[GLOBAL.$app.stage,_276[25],function(e){
if((e.files.size > 0)){
var file=e.files[0];
callMethod(this,file,_276[26],[function(ba){
var pos=callMethod(this,System,_276[27]);
var bm=ctorObject(lang.display.Bitmap);
bm.src=ba;
callMethod(this,th,_276[28],[bm]);

}]);

}

}]);
callMethod(this,this.ev,_276[15],[GLOBAL.$app.stage,_276[29],function(e){
var el=th.activeItem;
var KeyboardV=lang.ui.Keyboard;
if(el){
if((e.keyCode == KeyboardV.UP)){
el.y-=1;

}else if((e.keyCode == KeyboardV.DOWN)){
el.y+=1;

}else if((e.keyCode == KeyboardV.LEFT)){
el.x-=1;

}else if((e.keyCode == KeyboardV.RIGHT)){
el.x+=1;

}



callMethod(this,th,_276[30]);

}
if(GLOBAL.$app.curClickElem){
if(checkIn(GLOBAL.$app.curClickElem,_276[31])){
callMethod(this,GLOBAL.$app.curClickElem,_276[31],[e]);

}

}

}]);
callMethod(this,this.ev,_276[15],[GLOBAL.$app.stage,_276[32],function(e){
th.isStopFrame=!1;

}]);
var tf1=ctorObject(lang.text.TextField);
tf1.text=_276[33];
tf1.x=50;
tf1.y=320;
tf1.click=function(){
var code=callMethod(this,th,_276[34]);
var ss=callMethod(this,JSON,_276[35],[code]);
callMethod(this,null,_276[36],[ss]);

};
callMethod(this,th.mov,_276[3],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.text=_276[37];
tf1.x=100;
tf1.y=340;
tf1.click=function(){
if((th.persCont.isLeft == 1)){
callMethod(this,th.persCont,_276[38],[0]);
this.text=_276[37];

}else{
this.text=_276[39];
callMethod(this,th.persCont,_276[38],[1]);

}

};
callMethod(this,th.mov,_276[3],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.text=_276[40];
tf1.x=150;
tf1.y=320;
tf1.click=function(){
if(!th.tm){
callMethod(this,th,_276[41],[100]);

}else{
callMethod(this,th.tm,_276[42]);
th.tm=null;

}

};
callMethod(this,th.mov,_276[3],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.text=_276[43];
tf1.x=230;
tf1.y=320;
tf1.click=function(){
if(th.curFrameSpr){
callMethod(this,th,_276[44],[th.curFrameSpr.x,th.curFrameSpr.y]);

}

};
callMethod(this,th.mov,_276[3],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.text=_276[45];
tf1.x=230;
tf1.y=340;
tf1.click=function(){
if(th.curFrameSpr){
callMethod(this,th,_276[46],[th.curFrameSpr.x]);

}

};
callMethod(this,th.mov,_276[3],[tf1]);
var tf1=ctorObject(lang.text.TextField);
tf1.text=_276[47];
tf1.x=340;
tf1.y=340;
tf1.click=function(){
callMethod(this,th,_276[48],[1]);

};
callMethod(this,th.mov,_276[3],[tf1]);

};
_scenes_dresseditor_DressEditor[_276[51]]=function(id){
var bmc=callMethod(this,GLOBAL.$app.dressMaster,_276[49],[id]);
if(bmc){
var frames=callMethod(this,GLOBAL.$app.dressMaster,_276[50],[id]);
callMethod(this,this,_276[28],[bmc]);
if(frames){
this.framesList=frames;
callMethod(this,this,_276[24],[this.curFrame]);

}

}

};
_scenes_dresseditor_DressEditor[_276[28]]=function(bm){
var th=this;
if(bm){
bm.buttonMode=!0;
bm.x=th.curFrameSpr.x;
bm.y=th.curFrameSpr.y;
bm.onDragStart=function(){
if(!th.isStopFrame){
callMethod(this,this,_276[52]);
callMethod(this,GLOBAL.$app.dragList,_276[19],[this]);

}

};
bm.onDragStop=function(){
callMethod(this,th,_276[30]);

};
if(th.activeItem){
if(th.activeItem.parent){
callMethod(this,th.activeItem.parent,_276[53],[th.activeItem]);

}

}
th.activeItem=bm;
callMethod(this,th.persCont.dressContainer,_276[3],[bm]);

}

};
_scenes_dresseditor_DressEditor[_276[48]]=function(t){
var th=this;
var posX=0;
var posY=0;
if((th.framesList.size > 0)){
var el1=th.framesList[0];
posX=el1.x;
posY=el1.y;

}
var i=0;
while((i < th.framesList.size)){
var q=th.framesList[i];
var v=q.y;
var nn=(i + 1);
if((t == 1)){
if((nn == 1)){

}else if((nn <= 6)){
v=(posY + 1);

}else if((nn == 7)){
v=posY;

}else if((nn == 8)){
v=(posY - 1);

}else if((nn == 9)){
v=(posY - 1);

}else if((nn == 10)){
v=(posY - 2);

}else if((nn == 11)){
v=(posY - 2);

}else if((nn == 12)){
v=(posY - 3);

}else if((nn == 13)){
v=(posY - 4);

}else if((nn == 14)){
v=(posY - 4);

}else if((nn == 15)){
v=(posY - 3);

}











}
q.x=posX;
q.y=v;
i++;
}

};
_scenes_dresseditor_DressEditor[_276[44]]=function(x,y){
var th=this;
var i=0;
while((i < th.framesList.size)){
var q=th.framesList[i];
q.x=x;
q.y=y;
i++;
}

};
_scenes_dresseditor_DressEditor[_276[46]]=function(v){
var th=this;
var i=0;
while((i < th.framesList.size)){
var q=th.framesList[i];
q.x=v;
i++;
}

};
_scenes_dresseditor_DressEditor[_276[41]]=function(time){
var th=this;
if(!th.tm){
th.tm=callMethod(this,Timer,_276[54],[time,function(){
if(!th.isStopFrame){
th.curFrame+=1;
if((th.curFrame >= th.persFramesNums)){
th.curFrame=0;

}
callMethod(this,th,_276[24],[th.curFrame]);

}

}]);

}

};
_scenes_dresseditor_DressEditor[_276[30]]=function(){
var th=this;
if(th.curFrameSpr){
if(th.activeItem){
th.curFrameSpr.x=th.activeItem.x;
th.curFrameSpr.y=th.activeItem.y;
th.tfPosFrame.text=(((_276[55] + th.curFrameSpr.x) + _276[56]) + th.curFrameSpr.y);

}

}

};
_scenes_dresseditor_DressEditor[_276[24]]=function(v){
var th=this;
var q=this.framesList[v];
if(q){
callMethod(this,this.persCont.spr,_276[57],[v]);
if(this.activeItem){
this.activeItem.x=q.x;
this.activeItem.y=q.y;

}
this.tfPosFrame.text=(((_276[55] + q.x) + _276[56]) + q.y);
this.curFrameSpr=q;
this.curFrame=v;
if(th.lastFrameSelect){
callMethod(this,th.lastFrameSelect.pp.painter,_276[58]);
callMethod(this,th.lastFrameSelect.pp.painter,_276[20],[1,0]);
callMethod(this,th.lastFrameSelect.pp.painter,_276[21],[0,0,th.frameW,th.frameW,_276[22]]);

}
var i=0;
while((i < th.framesPanelSpr.numChildren)){
var el=callMethod(this,th.framesPanelSpr,_276[59],[i]);
if(el){
if((v == el.pp.posItem)){
var clr=th.colorsFrames[v];
callMethod(this,el.pp.painter,_276[58]);
callMethod(this,el.pp.painter,_276[20],[1,0]);
callMethod(this,el.pp.painter,_276[21],[0,0,th.frameW,th.frameW,_276[60]]);
th.lastFrameSelect=el;

}

}
i++;
}

}

};
_scenes_dresseditor_DressEditor[_276[34]]=function(){
var th=this;
var ar=[];
var i=0;
while((i < th.framesList.size)){
var el=th.framesList[i];
callMethod(this,ar,_276[19],[el]);
i++;
}
return ar;

};
_scenes_dresseditor_DressEditor[_276[62]]=function(){
callMethod(this,this.ev,_276[58]);
if(this.tm){
callMethod(this,this.tm,_276[42]);
this.tm=null;

}
callMethod(this,GLOBAL.$app,_276[61]);

};
_scenes_dresseditor_DressEditor[_276[63]]=function(w,h){
this.bg1.scaleX=(w / 1366);
this.bg1.scaleY=(h / 640);
this.exitBut.x=(w - 210);
this.downPanelSpr.y=(h - this.plashkaH);
callMethod(this,this.plashkaSpr.painter,_276[58]);
callMethod(this,this.plashkaSpr.painter,_276[21],[0,0,w,this.plashkaH,this.plashkaBG]);

};
vm.registerClass(_276[64],_276[65],_scenes_dresseditor_DressEditor);
})(window);



(function(window){
var _137=["addChild","removeAllChilds","setDressItemByID","setDressItemsList","getDressBitmapMC","getDressInfoByID","updateFrame","getChildAt","app.game.PersDressSprite","lang.display.Sprite"];
var _app_game_PersDressSprite={};
_app_game_PersDressSprite["ctor"]=function(){
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,null,_137[0],[this.cnt]);

};
_app_game_PersDressSprite[_137[3]]=function(a){
if(a){
callMethod(this,this.cnt,_137[1]);
var i=0;
while((i < a.size)){
var id=a[i];
callMethod(this,this,_137[2],[id]);
i++;
}

}

};
_app_game_PersDressSprite[_137[2]]=function(id){
var bmc=callMethod(this,GLOBAL.$app.dressMaster,_137[4],[id]);
if(bmc){
var info=callMethod(this,GLOBAL.$app.dressMaster,_137[5],[id]);
if(info){
bmc.dressInfo=info;
callMethod(this,this.cnt,_137[0],[bmc]);
callMethod(this,this,_137[6],[0]);

}

}

};
_app_game_PersDressSprite[_137[6]]=function(v){
var th=this;
var i=0;
while((i < th.cnt.numChildren)){
var el=callMethod(this,th.cnt,_137[7],[i]);
var frame=el.dressInfo.frames[v];
el.x=frame.x;
el.y=frame.y;
i++;
}

};
vm.registerClass(_137[8],_137[9],_app_game_PersDressSprite);
})(window);



(function(window){
var _111=["String","decode","Array","push","initListFrames","convertFrames1","gotoAndStop","getDressBitmapMC","frames","getDressFramesByID","getDressInfoByID","app.master.DressMaster"];
var _app_master_DressMaster={};
_app_master_DressMaster["ctor"]=function(){
this.itemsList=[];
this.itemsListObj={};

};
_app_master_DressMaster[_111[4]]=function(o){
if(o){
if(checkIs(o,_111[0])){
o=callMethod(this,JSON,_111[1],[o]);

}
this.itemsList=[];
this.itemsListObj={};
if(o){
if(checkIs(o,_111[2])){
var i=0;
while((i < o.size)){
var ell=o[i];
var id=ell[0];
var frames=ell[1];
var ob={itemid:id,frames:frames};
callMethod(this,this.itemsList,_111[3],[ob]);
this.itemsListObj[id]=ob;
i++;
}

}

}

}

};
_app_master_DressMaster[_111[5]]=function(a){
var arr=[];
if(a){
var i=0;
while((i < a.size)){
var el=a[i];
var o={};
o.x=el[0];
o.y=el[1];
callMethod(this,arr,_111[3],[o]);
i++;
}

}
return arr;

};
_app_master_DressMaster[_111[7]]=function(id){
if(GLOBAL.Config.dressBM){
var arr=GLOBAL.Config.dressPersItemsFrames;
if(((id - 1) < arr.size)){
var bmc=ctorObject(lang.display.BitmapMovieClip,[GLOBAL.Config.dressBM]);
bmc.frames=arr;
callMethod(this,bmc,_111[6],[(id - 1)]);
return bmc;

}

}
return null;

};
_app_master_DressMaster[_111[9]]=function(id){
var th=this;
if(checkIn(th.itemsListObj,id)){
var el=th.itemsListObj[id];
if(el){
if(checkIn(el,_111[8])){
return el.frames;

}

}

}
return null;

};
_app_master_DressMaster[_111[10]]=function(id){
var th=this;
if(checkIn(th.itemsListObj,id)){
var el=th.itemsListObj[id];
if(el){
return el;

}

}
return null;

};
vm.registerClass(_111[11],'',_app_master_DressMaster);
})(window);



(function(window){
var _280=["PopUpCreateRoom1","BGKostiSprite","AppPopUpMin3Mov","addChild","remove","animAlphaSprite","Мастер комнат","вы хотите","войти в комнату","создать комнату","removeChild","createJoinRoom","createRoom","create","имя","drawMovie","attr","spellcheck","maxLength","ButtonOrangeText","войти","playMapRoomName","join","openPopUpMinText1","\n\nВведите имя для комнаты","id карты","создать","\n\nПридумайте имя для комнаты","resize","app.popup.PopUpCreateRoom1","lang.display.Sprite"];
var _app_popup_PopUpCreateRoom1={};
_app_popup_PopUpCreateRoom1["ctor"]=function(tt){
var th=this;
this.tt=tt;
this.selectable=!1;
this.popupName=_280[0];
var bg=ctorObject(_280[1]);
var c=ctorObject(_280[2]);
var lvl2=0;
this.c=c;
this.bg=bg;
callMethod(this,null,_280[3],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_280[4]);

};
callMethod(this,GLOBAL.AppUtils,_280[5],[c.close,0.8,1]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,c,_280[3],[spr2]);
spr2.y=40;
var tf1=ctorObject(lang.text.TextField);
tf1.x=105;
tf1.y=10;
tf1.fontSize=15;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_280[6];
callMethod(this,spr2,_280[3],[tf1]);
var tf2=ctorObject(lang.text.TextField);
tf2.x=125;
tf2.y=(tf1.y + 20);
tf2.fontSize=15;
tf2.filters=GLOBAL.Config.shadowText2;
tf2.text=_280[7];
callMethod(this,spr2,_280[3],[tf2]);
this.txtSpr=ctorObject(lang.display.Sprite);
this.txtSpr.y=60;
callMethod(this,spr2,_280[3],[this.txtSpr]);
this.arr1=[[0,_280[8]],[1,_280[9]]];
var yy=20;
var i=0;
while((i < this.arr1.size)){
var oo=this.arr1[i];
var tt=oo[0];
var nmm=oo[1];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=17;
tf1.color=2684415;
if((i == 1)){
tf1.color=65300;

}
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=('' + nmm);
tf1.x=((320 - tf1.width) / 2);
tf1.y=yy;
tf1.buttonMode=!0;
tf1.ell=oo;
tf1.click=function(){
var tt1=this.ell[0];
if(spr2.parent){
callMethod(this,spr2.parent,_280[10],[spr2]);

}
if((tt1 == 0)){
callMethod(this,th,_280[11]);

}else{
callMethod(this,th,_280[12]);

}

};
callMethod(this,th.txtSpr,_280[3],[tf1]);
yy+=50;
i++;
}
if((tt == _280[13])){
if(spr2.parent){
callMethod(this,spr2.parent,_280[10],[spr2]);

}
callMethod(this,th,_280[12]);

}

};
_app_popup_PopUpCreateRoom1[_280[11]]=function(){
var th=this;
var spr=ctorObject(lang.display.Sprite);
spr.y=100;
callMethod(this,this.c,_280[3],[spr]);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,spr,_280[3],[sp1]);
sp1.x=120;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=17;
tf1.color=16777215;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_280[14];
tf1.x=-40;
tf1.y=15;
callMethod(this,sp1,_280[3],[tf1]);
var tiName=callMethod(this,GLOBAL.$app.moviesReader,_280[15],[80]);
callMethod(this,sp1,_280[3],[tiName]);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,spr,_280[3],[sp1]);
sp1.x=120;
sp1.y=60;
callMethod(this,tiName.ti,_280[16],[{'spellcheck':'','maxLength':30}]);
var but1=ctorObject(_280[19],[_280[20],function(){
var nm=tiName.ti.value;
if((nm.size > 0)){
callMethod(this,GLOBAL.$app.gameMaster,_280[21],[_280[22],nm,0]);
callMethod(this,th,_280[4]);

}else{
callMethod(this,GLOBAL.$app.popup,_280[23],[_280[24]]);

}

}]);
but1.x=95;
but1.y=100;
callMethod(this,spr,_280[3],[but1]);

};
_app_popup_PopUpCreateRoom1[_280[12]]=function(){
var th=this;
var spr=ctorObject(lang.display.Sprite);
spr.y=30;
callMethod(this,this.c,_280[3],[spr]);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,spr,_280[3],[sp1]);
sp1.x=120;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=17;
tf1.color=16777215;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_280[14];
tf1.x=-40;
tf1.y=15;
callMethod(this,sp1,_280[3],[tf1]);
var tiName=callMethod(this,GLOBAL.$app.moviesReader,_280[15],[80]);
callMethod(this,sp1,_280[3],[tiName]);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,spr,_280[3],[sp1]);
sp1.x=120;
sp1.y=60;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=17;
tf1.color=16777215;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_280[25];
tf1.x=-70;
tf1.y=15;
callMethod(this,sp1,_280[3],[tf1]);
var tiID=callMethod(this,GLOBAL.$app.moviesReader,_280[15],[80]);
callMethod(this,sp1,_280[3],[tiID]);
if((GLOBAL.Config.lastGameRoomMapID != 0)){
tiID.ti.value=('' + GLOBAL.Config.lastGameRoomMapID);

}
callMethod(this,tiName.ti,_280[16],[{'spellcheck':'','maxLength':30}]);
callMethod(this,tiID.ti,_280[16],[{'spellcheck':'','maxLength':20}]);
var but1=ctorObject(_280[19],[_280[26],function(){
var nm=tiName.ti.value;
var mapid=castInt(tiID.ti.value);
if((nm.size > 0)){
callMethod(this,GLOBAL.$app.gameMaster,_280[21],[_280[13],nm,mapid]);
callMethod(this,th,_280[4]);

}else{
callMethod(this,GLOBAL.$app.popup,_280[23],[_280[27]]);

}

}]);
but1.x=95;
but1.y=170;
callMethod(this,spr,_280[3],[but1]);

};
_app_popup_PopUpCreateRoom1[_280[4]]=function(){
GLOBAL.Config.lastGameRoomMapID=0;
callMethod(this,this.parent,_280[10],[this]);

};
_app_popup_PopUpCreateRoom1[_280[28]]=function(w,h){
callMethod(this,this.bg,_280[28],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_280[29],_280[30],_app_popup_PopUpCreateRoom1);
})(window);



(function(window){
var _153=["BGKostiSprite","AppPopUpMin3Mov","addChild","remove","animAlphaSprite","createRoom","имя","drawMovie","attr","spellcheck","maxLength","ButtonOrangeText","создать","cb","openPopUpMinText1","\n\nВведите имя для комнаты","removeChild","resize","app.popup.PopUpMapEditorCreateMapRoom","lang.display.Sprite"];
var _app_popup_PopUpMapEditorCreateMapRoom={};
_app_popup_PopUpMapEditorCreateMapRoom["ctor"]=function(cb){
var th=this;
this.cb=cb;
this.selectable=!1;
var bg=ctorObject(_153[0]);
var c=ctorObject(_153[1]);
this.c=c;
this.bg=bg;
callMethod(this,null,_153[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_153[3]);

};
callMethod(this,GLOBAL.AppUtils,_153[4],[c.close,0.8,1]);
callMethod(this,th,_153[5]);

};
_app_popup_PopUpMapEditorCreateMapRoom[_153[5]]=function(){
var th=this;
var spr=ctorObject(lang.display.Sprite);
spr.y=100;
callMethod(this,this.c,_153[2],[spr]);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,spr,_153[2],[sp1]);
sp1.x=120;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=17;
tf1.color=16777215;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_153[6];
tf1.x=-40;
tf1.y=15;
callMethod(this,sp1,_153[2],[tf1]);
var tiName=callMethod(this,GLOBAL.$app.moviesReader,_153[7],[80]);
callMethod(this,sp1,_153[2],[tiName]);
var sp1=ctorObject(lang.display.Sprite);
callMethod(this,spr,_153[2],[sp1]);
sp1.x=120;
sp1.y=60;
callMethod(this,tiName.ti,_153[8],[{'spellcheck':'','maxLength':30}]);
var but1=ctorObject(_153[11],[_153[12],function(){
var nm=tiName.ti.value;
if((nm.size > 0)){
if(th.cb){
callMethod(this,th,_153[13],[{name:nm}]);

}
callMethod(this,th,_153[3]);

}else{
callMethod(this,GLOBAL.$app.popup,_153[14],[_153[15]]);

}

}]);
but1.x=95;
but1.y=100;
callMethod(this,spr,_153[2],[but1]);

};
_app_popup_PopUpMapEditorCreateMapRoom[_153[3]]=function(){
callMethod(this,this.parent,_153[16],[this]);

};
_app_popup_PopUpMapEditorCreateMapRoom[_153[17]]=function(w,h){
callMethod(this,this.bg,_153[17],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_153[18],_153[19],_app_popup_PopUpMapEditorCreateMapRoom);
})(window);



(function(window){
var _195=["app.popup.PopUpMinInfo1","addChild","Уровень открыт","del","Призы за уровень","getAssetByName","gi_1.png","gi_2.png","gi_3.png","getURLByID","on","load","off","removeChild","remove","resize","app.popup.PopUpMainMapLevelOpen","lang.display.Sprite"];
var _app_popup_PopUpMainMapLevelOpen={};
_app_popup_PopUpMainMapLevelOpen["ctor"]=function(actionsList){
this.p1=ctorObject(_195[0],['']);
callMethod(this,null,_195[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_195[1],[sp2]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_195[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=2;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_195[1],[this.tf1]);
var yy=(this.tf1.y + 20);
if(actionsList){
var i=0;
while((i < actionsList.size)){
var ell=actionsList[i];
if(ell){
var tt=ell[0];
if((tt == 10)){
callMethod(this,actionsList,_195[3],[i]);

}

}
i++;
}
if((actionsList.size > 0)){
var tx2=ctorObject(lang.text.TextField);
tx2.fontSize=17;
tx2.text=_195[4];
tx2.x=((450 - tx2.width) / 2);
tx2.y=(yy + 20);
tx2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_195[1],[tx2]);
yy+=25;
var sp3=ctorObject(lang.display.Sprite);
sp3.y=(yy + 20);
sp3.x=200;
callMethod(this,sp2,_195[1],[sp3]);
yy=0;
var i=0;
while((i < actionsList.size)){
var el=actionsList[i];
var t=el[0];
var v=el[1];
if((v > 0)){
if((t == 1)){
var bm=callMethod(this,GLOBAL.$app.moviesReader,_195[5],[_195[6]]);
bm.scaleX=0.6;
bm.scaleY=0.6;
bm.y=yy;
callMethod(this,sp3,_195[1],[bm]);

}else if((t == 2)){
var bm=callMethod(this,GLOBAL.$app.moviesReader,_195[5],[_195[7]]);
bm.y=yy;
callMethod(this,sp3,_195[1],[bm]);

}else if((t == 3)){
var bm=callMethod(this,GLOBAL.$app.moviesReader,_195[5],[_195[8]]);
bm.y=yy;
callMethod(this,sp3,_195[1],[bm]);

}else if((t == 15)){
var urlV=callMethod(this,GLOBAL.$app.giftsMaster,_195[9],[v]);
var bm1=ctorObject(lang.display.Bitmap);
bm1.x=-10;
bm1.y=-5;
callMethod(this,bm1,_195[10],[_195[11],function(){
callMethod(this,this,_195[12],[_195[11],arguments.callee]);

}]);
bm1.src=urlV;
callMethod(this,sp3,_195[1],[bm1]);

}



if((t != 15)){
var tx2=ctorObject(lang.text.TextField);
tx2.fontSize=17;
tx2.text=('' + v);
tx2.x=40;
tx2.y=(yy + 8);
tx2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp3,_195[1],[tx2]);

}
yy+=30;

}
i++;
}

}

}

};
_app_popup_PopUpMainMapLevelOpen[_195[14]]=function(){
if(this.parent){
callMethod(this,this.parent,_195[13],[this]);

}

};
_app_popup_PopUpMainMapLevelOpen[_195[15]]=function(w,h){
callMethod(this,this.p1,_195[15],[w,h]);

};
vm.registerClass(_195[16],_195[17],_app_popup_PopUpMainMapLevelOpen);
})(window);



(function(window){
var _139=["BGKostiSprite","AppMapEditorSettingsLevel","addChild","remove","animAlphaSprite","openPopUpSendGifts","setValueInt","t","v","ButtonOrangeText","Сохранить","saveObj","getValueInt","push","cb","removeChild","resize","app.popup.PopUpMapEditorSettingsLevel","lang.display.Sprite"];
var _app_popup_PopUpMapEditorSettingsLevel={};
_app_popup_PopUpMapEditorSettingsLevel["ctor"]=function(qq,cb){
var th=this;
this.selectable=!1;
var bg=ctorObject(_139[0]);
var c=ctorObject(_139[1]);
this.item=qq;
this.cb=cb;
this.c=c;
this.bg=bg;
callMethod(this,null,_139[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_139[3]);

};
callMethod(this,GLOBAL.AppUtils,_139[4],[c.close,0.8,1]);
this.spr3=ctorObject(lang.display.Sprite);
callMethod(this,this.c,_139[2],[this.spr3]);
this.c.addGiftBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_139[5],[0,function(item){
callMethod(this,th,_139[6],[th.c.tiGift,item.id]);

}]);

};
this.prizesObjTI={};
this.prizesObjTI[1]=this.c.tiOpyt;
this.prizesObjTI[2]=this.c.tiLapki;
this.prizesObjTI[3]=this.c.tiKosti;
this.prizesObjTI[10]=this.c.tiOther;
this.prizesObjTI[15]=this.c.tiGift;
var actionsObj={};
if((qq.itemObj.actions.size > 0)){
var i=0;
while((i < qq.itemObj.actions.size)){
var el=qq.itemObj.actions[i];
if(checkIn(el,_139[7])){
if(checkIn(el,_139[8])){
var tt=el.t;
var vv=el.v;
actionsObj[tt]=vv;

}

}
i++;
}

}
callMethod(this,this,_139[6],[this.c.tiDogs,qq.itemObj.targetCount]);
for(var n in th.prizesObjTI){
var tii=th.prizesObjTI[n];
var vv=0;
if(checkIn(actionsObj,n)){
vv=actionsObj[n];

}
callMethod(this,this,_139[6],[tii,vv]);

}
var but1=ctorObject(_139[9],[_139[10],function(){
callMethod(this,th,_139[3]);
callMethod(this,th,_139[11]);

}]);
but1.x=((600 - 130) / 2);
but1.y=410;
this.but1=but1;
callMethod(this,this.c,_139[2],[but1]);

};
_app_popup_PopUpMapEditorSettingsLevel[_139[11]]=function(){
if(this.cb){
var ob={};
var mov=this.c;
var dogsV=callMethod(this,this,_139[12],[mov.tiDogs]);
ob.targetCount=dogsV;
var opytV=callMethod(this,this,_139[12],[mov.tiOpyt]);
var lapkiV=callMethod(this,this,_139[12],[mov.tiLapki]);
var kostiV=callMethod(this,this,_139[12],[mov.tiKosti]);
var otherV=callMethod(this,this,_139[12],[mov.tiOther]);
var giftidV=callMethod(this,this,_139[12],[mov.tiGift]);
var actionsList=[];
if((giftidV > 0)){
callMethod(this,actionsList,_139[13],[{t:15,v:giftidV}]);
opytV=0;
lapkiV=0;
kostiV=0;
otherV=0;

}
if((opytV > 0)){
callMethod(this,actionsList,_139[13],[{t:1,v:opytV}]);

}
if((lapkiV > 0)){
callMethod(this,actionsList,_139[13],[{t:2,v:lapkiV}]);

}
if((kostiV > 0)){
callMethod(this,actionsList,_139[13],[{t:3,v:kostiV}]);

}
if((otherV > 0)){
callMethod(this,actionsList,_139[13],[{t:10,v:otherV}]);

}
ob.actions=actionsList;
callMethod(this,this,_139[14],[ob]);

}

};
_app_popup_PopUpMapEditorSettingsLevel[_139[6]]=function(q,v){
if(q){
q.ti.value=('' + v);

}

};
_app_popup_PopUpMapEditorSettingsLevel[_139[12]]=function(q){
if(q){
var v=castInt(q.ti.value);
return v;

}
return 0;

};
_app_popup_PopUpMapEditorSettingsLevel[_139[3]]=function(){
callMethod(this,this.parent,_139[15],[this]);

};
_app_popup_PopUpMapEditorSettingsLevel[_139[16]]=function(w,h){
callMethod(this,this.bg,_139[16],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_139[17],_139[18],_app_popup_PopUpMapEditorSettingsLevel);
})(window);



(function(window){
var _160=["BGKostiSprite","AppPopUpMin3Mov","addChild","remove","animAlphaSprite","отскок","обычный","средний","сильный","очень сильный","getChildAt","removeChild","resize","app.popup.PopUpMapEditorTrampolineSettings","lang.display.Sprite"];
var _app_popup_PopUpMapEditorTrampolineSettings={};
_app_popup_PopUpMapEditorTrampolineSettings["ctor"]=function(el){
var th=this;
this.selectable=!1;
this.el=el;
var bg=ctorObject(_160[0]);
var c=ctorObject(_160[1]);
this.c=c;
this.bg=bg;
callMethod(this,null,_160[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_160[3]);

};
callMethod(this,GLOBAL.AppUtils,_160[4],[c.close,0.8,1]);
var spr2=ctorObject(lang.display.Sprite);
callMethod(this,c,_160[2],[spr2]);
spr2.y=40;
var tf1=ctorObject(lang.text.TextField);
tf1.x=135;
tf1.y=24;
tf1.fontSize=15;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=_160[5];
callMethod(this,spr2,_160[2],[tf1]);
this.txtSpr=ctorObject(lang.display.Sprite);
this.txtSpr.y=60;
callMethod(this,spr2,_160[2],[this.txtSpr]);
this.arr1=[[0,_160[6]],[1,_160[7]],[2,_160[8]],[3,_160[9]]];
var yy=0;
var clr2=6553363;
var cb3=function(){
var i=0;
while((i < th.txtSpr.numChildren)){
var el1=callMethod(this,th.txtSpr,_160[10],[i]);
var ttt=el1.ell[0];
el1.color=(ttt == el.jumpLevel) ? clr2 : 16777215;
i++;
}

};
var i=0;
while((i < this.arr1.size)){
var oo=this.arr1[i];
var tt=oo[0];
var nmm=oo[1];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=15;
tf1.color=(tt == el.jumpLevel) ? clr2 : 16777215;
tf1.filters=GLOBAL.Config.shadowText2;
tf1.text=('' + nmm);
tf1.x=((320 - tf1.width) / 2);
tf1.y=yy;
tf1.buttonMode=!0;
tf1.ell=oo;
tf1.click=function(){
var tt1=this.ell[0];
el.jumpLevel=tt1;
cb3();

};
callMethod(this,th.txtSpr,_160[2],[tf1]);
yy+=30;
i++;
}

};
_app_popup_PopUpMapEditorTrampolineSettings[_160[3]]=function(){
callMethod(this,this.parent,_160[11],[this]);

};
_app_popup_PopUpMapEditorTrampolineSettings[_160[12]]=function(w,h){
callMethod(this,this.bg,_160[12],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_160[13],_160[14],_app_popup_PopUpMapEditorTrampolineSettings);
})(window);



(function(window){
var _30=["drawMovie","cnt","removeChild","BGKostiSprite","addChild","remove","animAlphaSprite","attr","scroll1"," ","resize","app.popup.PopUpRenderItemsArrDelim","lang.display.Sprite"];
var _app_popup_PopUpRenderItemsArrDelim={};
_app_popup_PopUpRenderItemsArrDelim["ctor"]=function(title,delim,arr){
var th=this;
var c=callMethod(this,GLOBAL.$app.moviesReader,_30[0],[16]);
this.p1=c;
this.c=c;
if(checkIn(c,_30[1])){
callMethod(this,c,_30[2],[c.cnt]);

}
this.bg=ctorObject(_30[3]);
callMethod(this,null,_30[4],[this.bg]);
callMethod(this,null,_30[4],[this.p1]);
c.close.click=function(e){
callMethod(this,th,_30[5]);

};
callMethod(this,GLOBAL.AppUtils,_30[6],[c.close,0.8,1]);
var sp2=ctorObject(lang.display.Sprite);
var sp3=ctorObject(lang.display.Sprite);
sp3.width=540;
sp3.height=280;
sp3.scroll=!0;
callMethod(this,sp3,_30[7],[{className:_30[8]}]);
callMethod(this,this.p1,_30[4],[sp2,sp3]);
sp3.y=115;
var yy=0;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=('' + title);
this.tf1.x=((600 - this.tf1.width) / 2);
this.tf1.y=90;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_30[4],[this.tf1]);
if(arr){
var i=0;
while((i < arr.size)){
var el=arr[i];
var kk=el[0];
var vv=el[1];
var tf=ctorObject(lang.text.TextField);
tf.fontSize=16;
tf.text=((((('' + kk) + '') + delim) + _30[9]) + vv);
tf.filters=GLOBAL.Config.shadowText2;
var ww=tf.width;
tf.x=((600 - ww) / 2);
tf.y=(yy + 6);
callMethod(this,sp3,_30[4],[tf]);
yy+=25;
i++;
}

}

};
_app_popup_PopUpRenderItemsArrDelim[_30[5]]=function(){
if(this.parent){
callMethod(this,this.parent,_30[2],[this]);

}

};
_app_popup_PopUpRenderItemsArrDelim[_30[10]]=function(w,h){
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);
callMethod(this,this.bg,_30[10],[w,h]);

};
vm.registerClass(_30[11],_30[12],_app_popup_PopUpRenderItemsArrDelim);
})(window);



(function(window){
var _217=["app.popup.PopUpMinInfo1","addChild","attr","scroll1","Результат","load","getUserID",": ","css","white-space","nowrap","text-overflow","clip","overflow","hidden","openPopUpUserInfoSpr","removeChild","remove","resize","app.popup.PopUpViewUsersListByIdsM1","lang.display.Sprite"];
var _app_popup_PopUpViewUsersListByIdsM1={};
_app_popup_PopUpViewUsersListByIdsM1["ctor"]=function(arr){
this.p1=ctorObject(_217[0],['']);
callMethod(this,null,_217[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
var sp3=ctorObject(lang.display.Sprite);
sp3.width=420;
sp3.height=160;
sp3.scroll=!0;
callMethod(this,sp3,_217[2],[{className:_217[3]}]);
callMethod(this,this.p1.cnt,_217[1],[sp2,sp3]);
sp3.y=15;
var yy=0;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_217[4];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=-10;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_217[1],[this.tf1]);
if(arr){
var ids=arr;
callMethod(this,GLOBAL.$app.cacheUsers,_217[5],[ids,function(){
var i=0;
while((i < arr.size)){
var el=arr[i];
var uu=callMethod(this,GLOBAL.$app.cacheUsers,_217[6],[el]);
if(uu){
var tf=ctorObject(lang.text.TextField);
tf.fontSize=14;
tf.text=((('' + uu.id) + _217[7]) + uu.nick);
tf.filters=GLOBAL.Config.shadowText2;
var ww=tf.width;
if((ww > 330)){
tf.width=330;
ww=330;
callMethod(this,tf,_217[8],[{'white-space':_217[10],'text-overflow':_217[12],'overflow':_217[14]}]);

}
tf.x=((450 - ww) / 2);
tf.y=(yy + 6);
tf.buttonMode=!0;
tf.elUser=el;
tf.click=function(){
callMethod(this,GLOBAL.$app.popup,_217[15],[this.elUser]);

};
callMethod(this,sp3,_217[1],[tf]);
yy+=25;

}
i++;
}

}]);

}

};
_app_popup_PopUpViewUsersListByIdsM1[_217[17]]=function(){
if(this.parent){
callMethod(this,this.parent,_217[16],[this]);

}

};
_app_popup_PopUpViewUsersListByIdsM1[_217[18]]=function(w,h){
callMethod(this,this.p1,_217[18],[w,h]);

};
vm.registerClass(_217[19],_217[20],_app_popup_PopUpViewUsersListByIdsM1);
})(window);



(function(window){
var _69=["app.popup.PopUpMinInfo1","addChild","GetDogsNumStr","Для открытия уровня спасите ","осталось спасти ","ButtonOrangeText","Открыть","remove","Спасайте собачек в забегах!","MainMenuButton","Play","playOnlineRoom","removeChild","resize","app.popup.PopUpMainMapLevelVInfo","lang.display.Sprite"];
var _app_popup_PopUpMainMapLevelVInfo={};
_app_popup_PopUpMainMapLevelVInfo["ctor"]=function(targetCount,cb){
this.p1=ctorObject(_69[0],['']);
callMethod(this,null,_69[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_69[1],[sp2]);
var ss4=callMethod(this,GLOBAL.AppUtils,_69[2],[targetCount]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=(_69[3] + ss4);
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=2;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_69[1],[this.tf1]);
var n1=(targetCount - GLOBAL.$app.user.dogsCount);
if((n1 <= 0)){
n1=0;

}
var ss3=callMethod(this,GLOBAL.AppUtils,_69[2],[n1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.text=(_69[4] + ss3);
this.tf2.x=((450 - this.tf2.width) / 2);
this.tf2.y=(this.tf1.y + 22);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_69[1],[this.tf2]);
if((GLOBAL.$app.user.dogsCount >= targetCount)){
var bb=ctorObject(_69[5],[_69[6],function(){
callMethod(this,th,_69[7]);
if(cb){
cb();

}

}]);
bb.x=165;
bb.y=125;
callMethod(this,sp2,_69[1],[bb]);

}else{
var tf3=ctorObject(lang.text.TextField);
tf3.fontSize=17;
tf3.text=_69[8];
tf3.x=((450 - tf3.width) / 2);
tf3.y=(this.tf2.y + 32);
tf3.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_69[1],[tf3]);
var playBut2=ctorObject(_69[9],[_69[10],function(){
callMethod(this,th,_69[7]);
callMethod(this,GLOBAL.$app.gameMaster,_69[11]);

}]);
playBut2.x=180;
playBut2.y=80;
callMethod(this,sp2,_69[1],[playBut2]);

}

};
_app_popup_PopUpMainMapLevelVInfo[_69[7]]=function(){
if(this.parent){
callMethod(this,this.parent,_69[12],[this]);

}

};
_app_popup_PopUpMainMapLevelVInfo[_69[13]]=function(w,h){
callMethod(this,this.p1,_69[13],[w,h]);

};
vm.registerClass(_69[14],_69[15],_app_popup_PopUpMainMapLevelVInfo);
})(window);



(function(window){
var _100=["BGKostiSprite","AppMapEditorChangeMov","attr","spellcheck","Введите название","addChild","remove","animAlphaSprite","ButtonOrangeText","Изменить","removeChild","resize","app.popup.PopUpMapEditorChangeName","lang.display.Sprite"];
var _app_popup_PopUpMapEditorChangeName={};
_app_popup_PopUpMapEditorChangeName["ctor"]=function(nm,cb){
var th=this;
this.selectable=!1;
var bg=ctorObject(_100[0]);
var c=ctorObject(_100[1]);
this.ti=c.tiText;
this.ti.value=('' + nm);
callMethod(this,this.ti,_100[2],[{'spellcheck':''}]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=_100[4];
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_100[5],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_100[5],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_100[6]);

};
callMethod(this,GLOBAL.AppUtils,_100[7],[c.close,0.8,1]);
var but1=ctorObject(_100[8],[_100[9],function(){
callMethod(this,th,_100[6]);
var v2=th.ti.value;
if(cb){
cb(v2);

}

}]);
callMethod(this,c,_100[5],[but1]);
but1.x=92;
but1.y=195;

};
_app_popup_PopUpMapEditorChangeName[_100[6]]=function(){
callMethod(this,this.parent,_100[10],[this]);

};
_app_popup_PopUpMapEditorChangeName[_100[11]]=function(w,h){
callMethod(this,this.bg,_100[11],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_100[12],_100[13],_app_popup_PopUpMapEditorChangeName);
})(window);



(function(window){
var _296=["BGKostiSprite","AppMapEditorChangeMov","attr","spellcheck","название","addChild","remove","animAlphaSprite","ButtonOrangeText","Создать","removeChild","resize","app.popup.PopUpMapEditorCreateMap","lang.display.Sprite"];
var _app_popup_PopUpMapEditorCreateMap={};
_app_popup_PopUpMapEditorCreateMap["ctor"]=function(cb){
var th=this;
this.selectable=!1;
var bg=ctorObject(_296[0]);
var c=ctorObject(_296[1]);
this.ti=c.tiText;
this.ti.value='';
callMethod(this,this.ti,_296[2],[{'spellcheck':''}]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=_296[4];
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_296[5],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_296[5],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_296[6]);

};
callMethod(this,GLOBAL.AppUtils,_296[7],[c.close,0.8,1]);
var but1=ctorObject(_296[8],[_296[9],function(){
callMethod(this,th,_296[6]);
var v2=th.ti.value;
if(cb){
cb({name:v2});

}

}]);
callMethod(this,c,_296[5],[but1]);
but1.x=92;
but1.y=195;

};
_app_popup_PopUpMapEditorCreateMap[_296[6]]=function(){
callMethod(this,this.parent,_296[10],[this]);

};
_app_popup_PopUpMapEditorCreateMap[_296[11]]=function(w,h){
callMethod(this,this.bg,_296[11],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_296[12],_296[13],_app_popup_PopUpMapEditorCreateMap);
})(window);



(function(window){
var _6=["BGKostiSprite","AppMapEditorChangeMov","attr","spellcheck","addChild","remove","animAlphaSprite","ButtonOrangeText","removeChild","resize","app.popup.PopUpMapEditorInputOne","lang.display.Sprite"];
var _app_popup_PopUpMapEditorInputOne={};
_app_popup_PopUpMapEditorInputOne["ctor"]=function(nm,butName,cb){
var th=this;
this.selectable=!1;
var bg=ctorObject(_6[0]);
var c=ctorObject(_6[1]);
this.ti=c.tiText;
this.ti.value='';
callMethod(this,this.ti,_6[2],[{'spellcheck':''}]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=('' + nm);
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_6[4],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_6[4],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_6[5]);

};
callMethod(this,GLOBAL.AppUtils,_6[6],[c.close,0.8,1]);
var but1=ctorObject(_6[7],[butName,function(){
callMethod(this,th,_6[5]);
var v2=th.ti.value;
if(cb){
cb({name:v2});

}

}]);
callMethod(this,c,_6[4],[but1]);
but1.x=92;
but1.y=195;

};
_app_popup_PopUpMapEditorInputOne[_6[5]]=function(){
callMethod(this,this.parent,_6[8],[this]);

};
_app_popup_PopUpMapEditorInputOne[_6[9]]=function(w,h){
callMethod(this,this.bg,_6[9],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_6[10],_6[11],_app_popup_PopUpMapEditorInputOne);
})(window);



(function(window){
var _249=["секунда","секунды","секунд","минута","минуты","минут","час","часа","часов","день","дня","дней","неделя","недели","недель","месяц","месяца","месяцев","год","года","лет","BGKostiSprite","PopUpSubscribeMov1","addChild","remove","animAlphaSprite","stop","stopTimer1","removeChild","txt1Remove","getPosStrArr","floor"," ","secTxt1","send","parseInfoObj","subscribe","info","loadID",": ","css","white-space","nowrap","text-overflow","clip","overflow","hidden","createTxtInfo","ButtonOrangeText","оформить","subscribeCreate","?","лапки","косточки","голоса вконтакте","период","валюта","стоимость","Подписка не найдена","removeAllChilds","Идёт оформление подписки...","Подписка оформлена","init","Недостаточно валюты","Подписка уже была оформлена","Ошибка при оформлении подписки","create","resize","app.popup.PopUpSubscriptionSpr","lang.display.Sprite"];
var _app_popup_PopUpSubscriptionSpr={};
_app_popup_PopUpSubscriptionSpr["ctor"]=function(){
this.secArr=[_249[0],_249[1],_249[2]];
this.minArr=[_249[3],_249[4],_249[5]];
this.hourArr=[_249[6],_249[7],_249[8]];
this.dayArr=[_249[9],_249[10],_249[11]];
this.weekArr=[_249[12],_249[13],_249[14]];
this.monthArr=[_249[15],_249[16],_249[17]];
this.yearArr=[_249[18],_249[19],_249[20]];
var th=this;
this.loadTxt=null;
this.tm1=null;
this.popupW=450;
this.popupH=350;
this.bg=ctorObject(_249[21]);
this.itemid=0;
this.mov=ctorObject(_249[22]);
this.cnt=ctorObject(lang.display.Sprite);
callMethod(this,this.mov,_249[23],[this.cnt]);
callMethod(this,null,_249[23],[this.bg,this.mov]);
this.mov.close.click=function(e){
callMethod(this,th,_249[24]);

};
callMethod(this,GLOBAL.AppUtils,_249[25],[this.mov.close,0.8,1]);

};
_app_popup_PopUpSubscriptionSpr[_249[27]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_249[26]);

}
this.tm1=null;

};
_app_popup_PopUpSubscriptionSpr[_249[29]]=function(){
if(this.loadTxt){
if(this.loadTxt.parent){
callMethod(this,this.loadTxt.parent,_249[28],[this.loadTxt]);

}
this.loadTxt=null;

}

};
_app_popup_PopUpSubscriptionSpr[_249[30]]=function(v){
var cnt=(v % 10);
if((cnt == 1)){
return 0;

}
if((cnt >= 2)){
if((cnt <= 4)){
return 1;

}

}
return 2;

};
_app_popup_PopUpSubscriptionSpr[_249[33]]=function(v){
var hour=(60 * 60);
var day=(hour * 24);
var week=(day * 7);
var month=(day * 30);
var year=(day * 365);
var seconds=callMethod(this,Math,_249[31],[v]);
var years=callMethod(this,Math,_249[31],[(seconds / year)]);
seconds-=(years * year);
var months=callMethod(this,Math,_249[31],[(seconds / month)]);
seconds-=(months * month);
var weeks=callMethod(this,Math,_249[31],[(seconds / week)]);
seconds-=(weeks * week);
var days=callMethod(this,Math,_249[31],[(seconds / day)]);
seconds-=(days * day);
var hours=callMethod(this,Math,_249[31],[(seconds / hour)]);
seconds-=(hours * hour);
var minutes=callMethod(this,Math,_249[31],[(seconds / 60)]);
seconds-=(minutes * 60);
var str='';
var s2='';
var p1=0;
if((years > 0)){
p1=callMethod(this,this,_249[30],[years]);
s2=((years + _249[32]) + this.yearArr[p1]);
str+=s2;

}
if((months > 0)){
p1=callMethod(this,this,_249[30],[months]);
s2=((months + _249[32]) + this.monthArr[p1]);
str+=s2;

}
if((weeks > 0)){
p1=callMethod(this,this,_249[30],[weeks]);
s2=((weeks + _249[32]) + this.weekArr[p1]);
str+=s2;

}
if((days > 0)){
p1=callMethod(this,this,_249[30],[days]);
s2=((days + _249[32]) + this.dayArr[p1]);
str+=s2;

}
if((hours > 0)){
p1=callMethod(this,this,_249[30],[hours]);
s2=((hours + _249[32]) + this.hourArr[p1]);
str+=s2;

}
if((minutes > 0)){
p1=callMethod(this,this,_249[30],[minutes]);
s2=((minutes + _249[32]) + this.minArr[p1]);
str+=s2;

}
if((seconds > 0)){
p1=callMethod(this,this,_249[30],[seconds]);
s2=((seconds + _249[32]) + this.secArr[p1]);
str+=s2;

}
return str;

};
_app_popup_PopUpSubscriptionSpr[_249[38]]=function(id){
var th=this;
this.itemid=id;
this.loadTxt=ctorObject(lang.text.TextField);
this.loadTxt.fontSize=17;
this.loadTxt.text='Получение информации о подписке...';
this.loadTxt.x=((this.popupW - this.loadTxt.width) / 2);
this.loadTxt.y=((this.popupH - 30) / 2);
this.loadTxt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.cnt,_249[23],[this.loadTxt]);
callMethod(this,GLOBAL.$app.connect,_249[34],[function(v,ob){
if((v == GLOBAL.ErrorType.OK)){
callMethod(this,th,_249[35],[ob]);

}else{
callMethod(this,th,_249[35],[null]);

}

},_249[36],_249[37],id]);

};
_app_popup_PopUpSubscriptionSpr[_249[47]]=function(t,v){
var txt=ctorObject(lang.text.TextField);
txt.fontSize=16;
txt.text=((('' + t) + _249[39]) + v);
txt.filters=GLOBAL.Config.filterBlue1;
txt.width=(txt.width + 4);
txt.x=((this.popupW - txt.width) / 2);
if((txt.width > 200)){
txt.width=200;
callMethod(this,txt,_249[40],[{'white-space':_249[42],'text-overflow':_249[44],'overflow':_249[46]}]);

}
return txt;

};
_app_popup_PopUpSubscriptionSpr[_249[35]]=function(o){
var th=this;
callMethod(this,this,_249[29]);
if(o){
var but1=ctorObject(_249[48],[_249[49],function(){
callMethod(this,but1.parent,_249[28],[but1]);
callMethod(this,th,_249[50]);

}]);
but1.x=((this.popupW - 120) / 2);
but1.y=(this.popupH - 50);
callMethod(this,this.mov,_249[23],[but1]);
var infoSpr=ctorObject(lang.display.Sprite);
callMethod(this,this.cnt,_249[23],[infoSpr]);
infoSpr.y=140;
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=15;
tf1.text=('' + o.name);
tf1.x=((this.popupW - tf1.width) / 2);
tf1.y=70;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.cnt,_249[23],[tf1]);
var tf2=ctorObject(lang.text.TextField);
tf2.fontSize=15;
tf2.text='отменить подписку вы можете в любое время.';
tf2.x=((this.popupW - tf2.width) / 2);
tf2.y=275;
tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.cnt,_249[23],[tf2]);
var s2=callMethod(this,th,_249[33],[o.period]);
var periodStr=('' + s2);
var moneyStrType=_249[51];
if((o.price_type == 1)){
moneyStrType=_249[52];

}else if((o.price_type == 2)){
moneyStrType=_249[53];

}else if((o.price_type == 3)){
moneyStrType=_249[54];

}


var infoListFields=[[_249[55],periodStr],[_249[56],moneyStrType],[_249[57],o.price]];
var yy=0;
var i=0;
while((i < infoListFields.size)){
var el=infoListFields[i];
var nm2=el[1];
var tx=callMethod(this,this,_249[47],[el[0],('' + nm2)]);
tx.y=yy;
callMethod(this,infoSpr,_249[23],[tx]);
yy+=27;
i++;
}

}else{
callMethod(this,this,_249[29]);
this.loadTxt=ctorObject(lang.text.TextField);
this.loadTxt.fontSize=17;
this.loadTxt.text=_249[58];
this.loadTxt.x=((this.popupW - this.loadTxt.width) / 2);
this.loadTxt.y=((this.popupH - 30) / 2);
this.loadTxt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,this.cnt,_249[23],[this.loadTxt]);

}

};
_app_popup_PopUpSubscriptionSpr[_249[50]]=function(){
var th=this;
callMethod(this,th,_249[29]);
callMethod(this,this.cnt,_249[59]);
th.loadTxt=ctorObject(lang.text.TextField);
th.loadTxt.fontSize=17;
th.loadTxt.text=_249[60];
th.loadTxt.x=((th.popupW - th.loadTxt.width) / 2);
th.loadTxt.y=((th.popupH - 30) / 2);
th.loadTxt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_249[23],[th.loadTxt]);
callMethod(this,GLOBAL.$app.connect,_249[34],[function(v){
var txt2='';
var timeV=3000;
callMethod(this,th,_249[29]);
th.loadTxt=ctorObject(lang.text.TextField);
th.loadTxt.fontSize=17;
th.loadTxt.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.cnt,_249[23],[th.loadTxt]);
callMethod(this,th,_249[27]);
if((v == GLOBAL.ErrorType.OK)){
txt2=_249[61];
th.tm1=callMethod(this,Timer,_249[62],[timeV,function(){
callMethod(this,th,_249[24]);

}]);

}else if((v == GLOBAL.ErrorType.NO_MONEY)){
txt2=_249[63];

}else if((v == GLOBAL.ErrorType.EXISTS)){
txt2=_249[64];
th.tm1=callMethod(this,Timer,_249[62],[timeV,function(){
callMethod(this,th,_249[24]);

}]);

}else{
txt2=_249[65];
th.tm1=callMethod(this,Timer,_249[62],[timeV,function(){
callMethod(this,th,_249[24]);

}]);

}


th.loadTxt.text=('' + txt2);
th.loadTxt.x=((th.popupW - th.loadTxt.width) / 2);
th.loadTxt.y=((th.popupH - 30) / 2);

},_249[36],_249[66],th.itemid]);

};
_app_popup_PopUpSubscriptionSpr[_249[24]]=function(){
callMethod(this,this,_249[27]);
callMethod(this,this.parent,_249[24],[this]);

};
_app_popup_PopUpSubscriptionSpr[_249[67]]=function(w,h){
callMethod(this,this.bg,_249[67],[w,h]);
this.mov.x=((w - this.popupW) / 2);
this.mov.y=((h - this.popupH) / 2);

};
vm.registerClass(_249[68],_249[69],_app_popup_PopUpSubscriptionSpr);
})(window);



(function(window){
var _85=["createSpritePainter","addChild","attr","spellcheck","maxLength","change","web","input","on","send","chatMsgStart","init","stop","keyup","stopTimer1","clear","border","rectRound","#5A2401","resize","scenes.world.WorldChatTextInput","lang.display.Sprite"];
var _scenes_world_WorldChatTextInput={};
_scenes_world_WorldChatTextInput["ctor"]=function(stream,cb){
var th=this;
this.h=25;
var bg=callMethod(this,GLOBAL.AppUtils,_85[0]);
this.bg=bg;
callMethod(this,null,_85[1],[this.bg]);
var maxLen=70;
this.ti=ctorObject(lang.text.TextInput);
this.ti.fontSize=15;
this.ti.x=5;
this.ti.y=3;
this.ti.color=15847584;
callMethod(this,this.ti,_85[2],[{'spellcheck':'','maxLength':maxLen}]);
this.stream=stream;
callMethod(this,null,_85[1],[this.ti]);
var Keyboard=lang.ui.Keyboard;
this.tm1=null;
var ev1=_85[5];
ev1=_85[7];

callMethod(this,this.ti,_85[8],[ev1,function(e){
var r3=!0;
if(r3){
if(!th.tm1){
if(th.stream){
callMethod(this,th.stream,_85[9],[_85[10]]);

}
th.tm1=callMethod(this,Timer,_85[11],[1500,function(){
callMethod(this,this,_85[12]);
th.tm1=null;

}]);

}

}

}]);
callMethod(this,this.ti,_85[8],[_85[13],function(e){
if((e.keyCode == 13)){
var txt=th.value;
cb(txt);

}

}]);

};
_scenes_world_WorldChatTextInput[_85[14]]=function(){
if(this.tm1){
callMethod(this,this.tm1,_85[12]);
this.tm1=null;

}

};
_scenes_world_WorldChatTextInput[_85[19]]=function(w,h){
callMethod(this,this.bg.painter,_85[15]);
callMethod(this,this.bg.painter,_85[16],[1,0]);
callMethod(this,this.bg.painter,_85[17],[0,0,w,this.h,_85[18],5]);
this.ti.width=((w - this.ti.x) - 5);

};
_scenes_world_WorldChatTextInput["_get"]={value:function(){
return this.ti.value;

}};
_scenes_world_WorldChatTextInput["_set"]={value:function(v){
this.ti.value=v;

}};
vm.registerClass(_85[20],_85[21],_scenes_world_WorldChatTextInput);
})(window);



(function(window){
var _79=["static","scenes.world.PersType"];
var _scenes_world_PersType={};
_scenes_world_PersType["ctor"]=function(){

};
_scenes_world_PersType[_79[0]]=function(){
this.DOG_BROWN=0;
this.DOG_GRAY=1;
this.DOG_BLACK=2;

};
vm.registerClass(_79[1],'',_scenes_world_PersType);
})(window);



(function(window){
var _204=["app.popup.PopUpMinInfo1","addChild","Идёт загрузка...","send","init1","user.getBanInfo","priceExit","Вы можете выйти из бана за","app.bar.BarMoneyTypeSpr2","lapki","setMoney","ButtonOrangeText","Выйти","remove","openPopUpMinText1","user.exitBan","Нет информации о бане","removeChild","resize","app.popup.PopUpBuyBanExit","lang.display.Sprite"];
var _app_popup_PopUpBuyBanExit={};
_app_popup_PopUpBuyBanExit["ctor"]=function(){
this.p1=ctorObject(_204[0],['']);
callMethod(this,null,_204[1],[this.p1]);
var th=this;
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_204[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((150 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_204[1],[this.tf1]);
callMethod(this,GLOBAL.$app.connect,_204[3],[function(ob){
callMethod(this,th,_204[4],[ob]);

},_204[5]]);

};
_app_popup_PopUpBuyBanExit[_204[4]]=function(banInfo){
var th=this;
if(banInfo){
this.tf1.visible=!1;
var price=0;
if(checkIn(banInfo,_204[6])){
price=banInfo.priceExit;

}
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_204[7];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((150 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,th.p1.cnt,_204[1],[this.tf1]);
var lapkiMoney=ctorObject(_204[8],[_204[9],function(){

}]);
lapkiMoney.mouseEnabled=!1;
callMethod(this,lapkiMoney,_204[10],[price]);
lapkiMoney.x=((410 - lapkiMoney.tf.width) / 2);
lapkiMoney.y=(this.tf1.y + 20);
callMethod(this,th.p1.cnt,_204[1],[lapkiMoney]);
var bb=ctorObject(_204[11],[_204[12],function(){
callMethod(this,GLOBAL.$app.connect,_204[3],[function(vv){
callMethod(this,th,_204[13]);
if((vv == GLOBAL.ErrorType.OK)){

}else if((vv == GLOBAL.ErrorType.NO_MONEY)){
callMethod(this,GLOBAL.$app.popupHtml,_204[14],['<br /><br />Недостаточно валюты на выход из бана']);

}


},_204[15],1]);

}]);
bb.x=160;
bb.y=138;
callMethod(this,th.p1.cnt,_204[1],[bb]);

}else{
th.tf1.text=_204[16];
th.tf1.x=((450 - th.tf1.width) / 2);

}

};
_app_popup_PopUpBuyBanExit[_204[13]]=function(){
if(this.parent){
callMethod(this,this.parent,_204[17],[this]);

}

};
_app_popup_PopUpBuyBanExit[_204[18]]=function(w,h){
callMethod(this,this.p1,_204[18],[w,h]);

};
vm.registerClass(_204[19],_204[20],_app_popup_PopUpBuyBanExit);
})(window);



(function(window){
var _96=["delByUserID","getByUserID","addByUserID","send","utils.resolveName","load","app.master.CacheResolveName"];
var _app_master_CacheResolveName={};
_app_master_CacheResolveName["ctor"]=function(){
this.objIds={};
this.objDomains={};

};
_app_master_CacheResolveName[_96[0]]=function(id){
var nm=null;
if(checkIn(this.objIds,id)){
var obb=this.objIds[id];
nm=obb.name;
delete this.objIds[id];

}
if(nm){
if(checkIn(this.objDomains,nm)){
delete this.objDomains[nm];

}

}

};
_app_master_CacheResolveName[_96[1]]=function(id){
if(checkIn(this.objIds,id)){
var v=this.objIds[id];
return v;

}
return null;

};
_app_master_CacheResolveName[_96[2]]=function(id,name){
if(name){
var ob={user:id,name:name};
this.objIds[id]=ob;
this.objDomains[name]=ob;

}

};
_app_master_CacheResolveName[_96[5]]=function(v,cb){
var th=this;
var arr=[];
var res=!0;
var vv=null;
if(checkIn(th.objDomains,v)){
res=!1;

}
if(res){
callMethod(this,GLOBAL.$app.connect,_96[3],[function(el){
if(el){
var uu=el.user;
callMethod(this,th,_96[2],[uu,el.name]);
vv=th.objIds[uu];

}
cb(vv);

},_96[4],v]);

}else{
if(checkIn(th.objDomains,v)){
vv=th.objDomains[v];

}
cb(vv);

}

};
vm.registerClass(_96[6],'',_app_master_CacheResolveName);
})(window);



(function(window){
var _158=["app.game.CollisionItem"];
var _app_game_CollisionItem={};
_app_game_CollisionItem["ctor"]=function(a,cb){
this.a=a;
this.cb=cb;

};
vm.registerClass(_158[0],'',_app_game_CollisionItem);
})(window);



(function(window){
var _144=["push","add","one","addOne","bodyName","cb","check","app.game.CollisionMaster"];
var _app_game_CollisionMaster={};
_app_game_CollisionMaster["ctor"]=function(){
this.list=[];

};
_app_game_CollisionMaster[_144[1]]=function(a,b,cb){
callMethod(this,this.list,_144[0],[{a:a,b:b,cb:cb,t:''}]);

};
_app_game_CollisionMaster[_144[3]]=function(a,cb){
callMethod(this,this.list,_144[0],[{a:a,cb:cb,t:_144[2]}]);

};
_app_game_CollisionMaster[_144[6]]=function(t,a,b){
if(checkIn(a,_144[4]) && checkIn(b,_144[4])){
var i=0;
while((i < this.list.size)){
var el=this.list[i];
if((el.t == _144[2])){
if((a.bodyName == el.a)){
callMethod(this,el,_144[5],[t,a.userData,b.userData]);

}else if((b.bodyName == el.a)){
callMethod(this,el,_144[5],[t,b.userData,a.userData]);

}


}else{
if((a.bodyName == el.b) && (b.bodyName == el.a)){
callMethod(this,el,_144[5],[t,b.userData,a.userData]);

}else if((b.bodyName == el.b) && (a.bodyName == el.a)){
callMethod(this,el,_144[5],[t,a.userData,b.userData]);

}


}
i++;
}

}

};
vm.registerClass(_144[7],'',_app_game_CollisionMaster);
})(window);



(function(window){
var _150=["app.popup.PopUpMinInfo1","addChild","Идёт загрузка...","app.bar.BarMoneyTypeSpr2","lapki","send","Продать все подарки?","setMoney","ButtonOrangeText","Продать","removeAllChilds","Выполняется действие...","remove","shop.sellAllGifts","shop.getPriceSellGifts","removeChild","resize","app.popup.PopUpSellAllGiftsUserMov","lang.display.Sprite"];
var _app_popup_PopUpSellAllGiftsUserMov={};
_app_popup_PopUpSellAllGiftsUserMov["ctor"]=function(cb){
this.p1=ctorObject(_150[0],['']);
callMethod(this,null,_150[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_150[1],[sp2]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_150[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_150[1],[this.tf1]);
var ww=400;
var lapkiMoney=ctorObject(_150[3],[_150[4],function(){

}]);
lapkiMoney.mouseEnabled=!1;
lapkiMoney.y=80;
callMethod(this,sp2,_150[1],[lapkiMoney]);
callMethod(this,GLOBAL.$app.connect,_150[5],[function(ob){
if(ob){
th.tf1.text=_150[6];
th.tf1.x=((450 - th.tf1.width) / 2);
callMethod(this,lapkiMoney,_150[7],[ob.price]);
lapkiMoney.x=((ww - lapkiMoney.tf.width) / 2);
var bb=ctorObject(_150[8],[_150[9],function(){
callMethod(this,sp2,_150[10]);
th.tf1=ctorObject(lang.text.TextField);
th.tf1.fontSize=17;
th.tf1.text=_150[11];
th.tf1.x=((450 - th.tf1.width) / 2);
th.tf1.y=((120 - 30) / 2);
th.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_150[1],[th.tf1]);
callMethod(this,GLOBAL.$app.connect,_150[5],[function(v){
callMethod(this,th,_150[12]);
if(cb){
cb();

}

},_150[13]]);

}]);
bb.x=160;
bb.y=138;
callMethod(this,sp2,_150[1],[bb]);

}else{

}

},_150[14]]);

};
_app_popup_PopUpSellAllGiftsUserMov[_150[12]]=function(){
if(this.parent){
callMethod(this,this.parent,_150[15],[this]);

}

};
_app_popup_PopUpSellAllGiftsUserMov[_150[16]]=function(w,h){
callMethod(this,this.p1,_150[16],[w,h]);

};
vm.registerClass(_150[17],_150[18],_app_popup_PopUpSellAllGiftsUserMov);
})(window);



(function(window){
var _145=["getMapByID","Array","push","join",",","api","maps.get","map","app.game.GameMap","parseMap","load","app.master.MapsMaster"];
var _app_master_MapsMaster={};
_app_master_MapsMaster["ctor"]=function(){
this.obj={};

};
_app_master_MapsMaster[_145[0]]=function(id){
var th=this;
if(checkIn(th.obj,id)){
var ob=th.obj[id];
return ob;

}
return null;

};
_app_master_MapsMaster[_145[10]]=function(ids,cb){
var th=this;
var arr=[];
if(checkIs(ids,_145[1])){
var i=0;
while((i < ids.size)){
var q4=ids[i];
if(!checkIn(th.obj,q4)){
callMethod(this,arr,_145[2],[q4]);

}
i++;
}

}else{
if(!checkIn(th.obj,ids)){
callMethod(this,arr,_145[2],[ids]);

}

}
if((arr.size > 0)){
var idStr=callMethod(this,arr,_145[3],[_145[4]]);
callMethod(this,GLOBAL.$app,_145[5],[_145[6],{id:idStr},function(arr){
if(arr){
if((arr.size > 0)){
var aa=[];
var i=0;
while((i < arr.size)){
var el=arr[i];
if(checkIn(el,_145[7])){
var mapid=el.id;
var m=ctorObject(_145[8]);
callMethod(this,m,_145[9],[el.map]);
m.id=mapid;
th.obj[mapid]=m;

}
i++;
}

}

}
if(cb){
cb();

}

}]);

}else{
cb();

}

};
vm.registerClass(_145[11],'',_app_master_MapsMaster);
})(window);



(function(window){
var _122=["PopUpNewLevelMov","BGKostiSprite","remove","addChild","animAlphaSprite","app.bar.BarMoneyTypeSpr2","lapki","setMoney","vk","ButtonOrangeText","Рассказать","Ура, у меня теперь "," уровень, а ещё дали приз "," лапок. Играй с нами!","api","wall.post","playSFX","winner2","resize","app.popup.PopUpNewLevelUserMov","lang.display.Sprite"];
var _app_popup_PopUpNewLevelUserMov={};
_app_popup_PopUpNewLevelUserMov["ctor"]=function(level,prize){
var th=this;
this.popupName=_122[0];
this.c=ctorObject(_122[0]);
this.cnt=ctorObject(lang.display.Sprite);
this.cnt.y=80;
this.bg=ctorObject(_122[1]);
this.bg.bg.click=function(){
callMethod(this,th,_122[2]);

};
this.w=400;
this.h=300;
this.c.txt1.filters=GLOBAL.Config.shadowText1;
this.c.txt2.filters=GLOBAL.Config.shadowText1;
this.c.lvlTxt.filters=GLOBAL.Config.shadowText1;
this.c.lvlTxt.text=('' + level);
this.c.lvlTxt.x=(((this.w - this.c.lvlTxt.width) + 50) / 2);
callMethod(this,null,_122[3],[this.bg,this.c]);
callMethod(this,this.c,_122[3],[this.cnt]);
this.c.closeBut.click=function(e){
callMethod(this,th,_122[2]);

};
callMethod(this,GLOBAL.AppUtils,_122[4],[this.c.closeBut,0.8,1]);
var lapkiMoney=ctorObject(_122[5],[_122[6],function(){

}]);
lapkiMoney.mouseEnabled=!1;
callMethod(this,lapkiMoney,_122[7],[prize]);
lapkiMoney.x=((this.w - lapkiMoney.tf.width) / 2);
lapkiMoney.y=180;
callMethod(this,this.c,_122[3],[lapkiMoney]);
if((GLOBAL.Config.authType == _122[8])){
var bb=ctorObject(_122[9],[_122[10],function(){
callMethod(this,th,_122[2]);
if((GLOBAL.Config.authType == _122[8])){
var msgA=((((_122[11] + level) + _122[12]) + prize) + _122[13]);
var url2=GLOBAL.Config.vkAppURL;
callMethod(this,GLOBAL.$app.apiVK,_122[14],[_122[15],{message:msgA,attachments:('' + url2)},function(){

},function(){

}]);

}

}]);
bb.x=160;
bb.y=250;
callMethod(this,this.c,_122[3],[bb]);

}
callMethod(this,GLOBAL.$app,_122[16],[_122[17]]);

};
_app_popup_PopUpNewLevelUserMov[_122[2]]=function(){
callMethod(this,this.parent,_122[2],[this]);

};
_app_popup_PopUpNewLevelUserMov[_122[18]]=function(w,h){
callMethod(this,this.bg,_122[18],[w,h]);
this.c.x=((w - 460) / 2);
this.c.y=((h - 290) / 2);

};
vm.registerClass(_122[19],_122[20],_app_popup_PopUpNewLevelUserMov);
})(window);



(function(window){
var _98=["app.popup.PopUpMinInfo1","addChild","час!","day","день!","Вы лучший спасатель за ","Ваш приз","app.bar.BarMoneyTypeSpr2","kosti","setMoney","vk","ButtonOrangeText","Рассказать","remove","Я лучший спасатель за "," Давайте спасать собачек!","api","wall.post","removeChild","resize","app.popup.PopUpPrizeWinnerKosti","lang.display.Sprite"];
var _app_popup_PopUpPrizeWinnerKosti={};
_app_popup_PopUpPrizeWinnerKosti["ctor"]=function(t,prize){
this.p1=ctorObject(_98[0],['']);
callMethod(this,null,_98[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_98[1],[sp2]);
var ss=_98[2];
if((t == _98[3])){
ss=_98[4];

}
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=(_98[5] + ss);
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_98[1],[this.tf1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.text=_98[6];
this.tf2.x=((420 - this.tf2.width) / 2);
this.tf2.y=((195 - 30) / 2);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_98[1],[this.tf2]);
var ww=400;
var kostiMoney=ctorObject(_98[7],[_98[8],function(){

}]);
kostiMoney.mouseEnabled=!1;
kostiMoney.y=80;
callMethod(this,kostiMoney,_98[9],[prize]);
kostiMoney.x=((this.tf2.x + this.tf2.width) + (kostiMoney.tf.width / 2));
callMethod(this,sp2,_98[1],[kostiMoney]);
if((GLOBAL.Config.authType == _98[10])){
var bb=ctorObject(_98[11],[_98[12],function(){
callMethod(this,th,_98[13]);
if((GLOBAL.Config.authType == _98[10])){
var msgA=((_98[14] + ss) + _98[15]);
var url2=GLOBAL.Config.vkAppURL;
callMethod(this,GLOBAL.$app.apiVK,_98[16],[_98[17],{message:msgA,attachments:('' + url2)},function(){

},function(){

}]);

}

}]);
bb.x=160;
bb.y=170;
callMethod(this,sp2,_98[1],[bb]);

}

};
_app_popup_PopUpPrizeWinnerKosti[_98[13]]=function(){
if(this.parent){
callMethod(this,this.parent,_98[18],[this]);

}

};
_app_popup_PopUpPrizeWinnerKosti[_98[19]]=function(w,h){
callMethod(this,this.p1,_98[19],[w,h]);

};
vm.registerClass(_98[20],_98[21],_app_popup_PopUpPrizeWinnerKosti);
})(window);



(function(window){
var _241=["actions","id","targetCount","getAssetByName","islandImg1.png","startDrag","stopDrag","addChild","getActionsItemsSpr","clickCB","rClickCB","upd","scenes.EditorLevelSprite","lang.display.Sprite"];
var _scenes_EditorLevelSprite={};
_scenes_EditorLevelSprite["ctor"]=function(localLevel,ob){
var th=this;
this.itemObj=ob;
this.localLevel=localLevel;
this.clickCB=null;
this.rClickCB=null;
if(ob){
this.levelID=localLevel;
if(!checkIn(ob,_241[0])){
ob.actions=[];

}
if(checkIn(ob,_241[1])){
delete ob.id;

}
if(!checkIn(ob,_241[2])){
ob.targetCount=0;

}

}
var mv=callMethod(this,GLOBAL.$app.moviesReader,_241[3],[_241[4]]);
this.imgLevel=mv;
mv.onDragStart=function(){
callMethod(this,th,_241[5]);

};
mv.onDragStop=function(){
callMethod(this,th,_241[6]);

};
var lvlTxt=ctorObject(lang.text.TextField);
lvlTxt.mouseEnabled=!1;
lvlTxt.color=16777215;
lvlTxt.text=('' + th.localLevel);
lvlTxt.x=((98 - lvlTxt.width) / 2);
lvlTxt.y=27;
callMethod(this,null,_241[7],[mv,lvlTxt]);
if((ob.actions.size > 0)){
var sprItems=callMethod(this,GLOBAL.scenes.MainLevelsScene,_241[8],[ob.actions,!1]);
sprItems.x=37;
sprItems.y=-30;
callMethod(this,null,_241[7],[sprItems]);

}
mv.buttonMode=!0;
mv.click=function(){
if(th.clickCB){
callMethod(this,th,_241[9]);

}

};
mv.rclick=function(){
if(th.rClickCB){
callMethod(this,th,_241[10]);

}

};

};
_scenes_EditorLevelSprite[_241[11]]=function(){
var ob=this.itemObj;
ob.x=this.x;
ob.y=this.y;

};
vm.registerClass(_241[12],_241[13],_scenes_EditorLevelSprite);
})(window);

(function(window){
var _180=["addDomCanvas","AppMainSceneLevelsMov","addChild","createPainter","AppMainMapTitleMov","getAssetByName","addImg1.png","openPopUpMapEditorCreateMap","sendCmd","loadByID","openPopUpMinText1","<br /><br />Карта создана","createMap","a61.png","openPopUpMapEditorChangeName","updateTitleInfo","changeNameMap","scenes.world.PersWorldSprite","border","rect","#FFFFFF","AppButtonExit2","on","rollover","rollout","navHome","createTxt1CB","код карты","getCurCodeMap","encode","trace","сохранить карту","<br /><br />Карта сохранена","load","saveMap","выбрать карту","openPopUpMapEditorInputOne","id карты","Открыть","+ уровень","addNewLevel","mousedown","addLevel","scenes.EditorLevelSprite","clickLevelItem","send","game.LevelsEditorCmd","removeAllChilds","loadMapsInfo","push","Текущий","updatePersLevel","Свойства","openPopUpMapEditorSettingsLevel","Удалить","removeLevelItem","openMenuList1","Уровень","removeChild","loadObj","loadMapByID","startDrag","drawMapSprite","id "," (",")","getChildAt","upd","updateScrollPers","clear","removeDomCanvas","removeScene","floor","#000000","resize","scenes.MainLevelsEditorScene","lang.display.Sprite"];
var _scenes_MainLevelsEditorScene={};
_scenes_MainLevelsEditorScene["ctor"]=function(){
callMethod(this,GLOBAL.$app,_180[0]);
var th=this;
this.curLevel=1;
this.activeLevelSpr=null;
this.localLevel=1;
this.lastMapX=0;
this.lastMapY=0;
this.mapsInfoList=[];
this.curMap=null;
this.ev=ctorObject(lang.events.EventsObjectMaster);
this.mov=ctorObject(_180[1]);
this.RoomRectangle=ctorObject(lang.geom.Rectangle);
this.mapSize=ctorObject(lang.geom.Rectangle);
this.y=80;
this.mov.visible=!1;
this.activeItem=null;
callMethod(this,null,_180[2],[this.mov]);
this.bg=ctorObject(lang.display.Sprite);
callMethod(this,this.bg,_180[3]);
this.bg.alpha=0;
callMethod(this,this.mov,_180[2],[this.bg]);
this.bg1=ctorObject(lang.display.Sprite);
callMethod(this,this.bg1,_180[3]);
this.mainSpr=ctorObject(lang.display.Sprite);
this.itemsSpr=ctorObject(lang.display.Sprite);
this.sp=ctorObject(lang.display.Sprite);
this.sp.x=10;
this.sp.y=10;
callMethod(this,this.mov,_180[2],[this.mainSpr]);
callMethod(this,this.mainSpr,_180[2],[this.itemsSpr]);
this.titleMap=ctorObject(_180[4]);
callMethod(this,this.mov,_180[2],[this.titleMap]);
var addImgBut=callMethod(this,GLOBAL.$app.moviesReader,_180[5],[_180[6]]);
addImgBut.x=47;
addImgBut.y=26;
addImgBut.buttonMode=!0;
addImgBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_180[7],[function(ob){
callMethod(this,th,_180[8],[function(v,mapid){
if((v == 1)){
callMethod(this,th,_180[9],[mapid]);
callMethod(this,GLOBAL.$app.popup,_180[10],[_180[11]]);

}

},_180[12],ob.name]);

}]);

};
callMethod(this,this.titleMap,_180[2],[addImgBut]);
var editBut=callMethod(this,GLOBAL.$app.moviesReader,_180[5],[_180[13]]);
editBut.x=240;
editBut.y=26;
editBut.buttonMode=!0;
editBut.click=function(){
callMethod(this,GLOBAL.$app.popup,_180[14],[th.curMap.name,function(newName){
callMethod(this,th,_180[8],[function(v){
if((v == 1)){
th.curMap.name=newName;
callMethod(this,th,_180[15]);

}

},_180[16],th.curMap.id,newName]);

}]);

};
callMethod(this,this.titleMap,_180[2],[editBut]);
var persImg=ctorObject(_180[17],[GLOBAL.$app.user]);
persImg.spr.y+=2;
this.persImg=persImg;
callMethod(this,this.bg1.painter,_180[18],[1,0]);
callMethod(this,this.bg1.painter,_180[19],[0,0,180,40,_180[20]]);
this.bg1.alpha=0.7;
this.downPanel=ctorObject(lang.display.Sprite);
this.camera=this.persImg;
this.exitBut=ctorObject(_180[21]);
callMethod(this,this.exitBut.msk,_180[22],[_180[23],function(e){
this.parent.alpha=0.5;

}]);
callMethod(this,this.exitBut.msk,_180[22],[_180[24],function(e){
this.parent.alpha=1;

}]);
this.exitBut.msk.click=function(){
callMethod(this,GLOBAL.$app,_180[25]);

};
this.exitBut.y=12;
callMethod(this,this.downPanel,_180[2],[this.exitBut]);
callMethod(this,GLOBAL.$app.scene.menuDownCont,_180[2],[this.downPanel]);
var codeMap=callMethod(this,th,_180[26],[_180[27],function(){
var code=callMethod(this,th,_180[28]);
var ss=callMethod(this,JSON,_180[29],[code]);
callMethod(this,null,_180[30],[ss]);

}]);
codeMap.x=110;
codeMap.y=18;
callMethod(this,this.downPanel,_180[2],[codeMap]);
var saveMap=callMethod(this,th,_180[26],[_180[31],function(){
if(th.curMap){
var mapID=th.curMap.id;
var code=callMethod(this,th,_180[28]);
var ss=callMethod(this,JSON,_180[29],[code]);
callMethod(this,th,_180[8],[function(v){
if((v == 1)){
callMethod(this,GLOBAL.$app.popup,_180[10],[_180[32]]);
GLOBAL.$app.mainMapSpr=null;
callMethod(this,th,_180[33]);

}else{
callMethod(this,GLOBAL.$app.popup,_180[10],['<br /><br />Ошибка сохранения карты']);

}

},_180[34],mapID,ss]);

}

}]);
saveMap.x=110;
saveMap.y=48;
callMethod(this,this.downPanel,_180[2],[saveMap]);
var selectMap=callMethod(this,th,_180[26],[_180[35],function(){
callMethod(this,GLOBAL.$app.popup,_180[36],[_180[37],_180[38],function(ob){
var mapid=castInt(ob.name);
if((mapid > 0)){
callMethod(this,th,_180[9],[mapid]);

}

}]);

}]);
selectMap.x=360;
selectMap.y=24;
callMethod(this,this.downPanel,_180[2],[selectMap]);
var addLevel=callMethod(this,th,_180[26],[_180[39],function(){
callMethod(this,th,_180[40]);

}]);
addLevel.x=230;
addLevel.y=18;
callMethod(this,this.downPanel,_180[2],[addLevel]);
this.spTxt=ctorObject(lang.text.TextField);
this.spTxt.fontSize=16;
this.spTxt.color=0;
this.spTxt.x=10;
this.spTxt.y=10;
callMethod(this,this.sp,_180[2],[this.bg1,this.spTxt]);
callMethod(this,this.ev,_180[22],[GLOBAL.$app.stage,_180[41],function(e){
if(th.activeItem){
var tt=th.activeItem.type;
if((tt == _180[42])){
var xx=(((e.mouseX - th.mainSpr.x) - th.x) - (98 / 2));
var yy=(((e.mouseY - th.mainSpr.y) - th.y) - (50 / 2));
var idd=(th.itemsSpr.numChildren + 1);
var qq=ctorObject(_180[43],[idd,{x:xx,y:yy}]);
qq.localPos=idd;
qq.x=xx;
qq.y=yy;
qq.clickCB=function(){
callMethod(this,th,_180[44],[this]);

};
callMethod(this,th.itemsSpr,_180[2],[qq]);
if((th.lastMapX < xx)){
th.lastMapX=xx;

}
if((th.lastMapY < yy)){
th.lastMapY=yy;

}
th.mapSize.width=(th.lastMapX + 120);
th.mapSize.height=(th.lastMapY + 120);
callMethod(this,th,_180[15]);

}
th.activeItem=null;

}

}]);
callMethod(this,this,_180[33]);

};
_scenes_MainLevelsEditorScene[_180[8]]=function(cb,t,arg1,arg2,arg3){
if(!arg1){
arg1=0;

}
if(!arg2){
arg2=0;

}
if(!arg3){
arg3=0;

}
callMethod(this,GLOBAL.$app.connect,_180[45],[cb,_180[46],t,arg1,arg2,arg3]);

};
_scenes_MainLevelsEditorScene[_180[26]]=function(name,cb){
var tx=ctorObject(lang.text.TextField);
tx.fontSize=16;
tx.color=16777215;
tx.text=('' + name);
tx.buttonMode=!0;
tx.click=cb;
return tx;

};
_scenes_MainLevelsEditorScene[_180[33]]=function(){
var th=this;
this.mov.visible=!1;
callMethod(this,this.itemsSpr,_180[47]);
callMethod(this,th,_180[8],[function(o){
if(o){
var arr=o;
th.mapsInfoList=arr;
if((arr.size > 0)){
var el=arr[0];
var idd=el.id;
callMethod(this,th,_180[9],[idd]);

}

}

},_180[48]]);

};
_scenes_MainLevelsEditorScene[_180[44]]=function(qq){
var th=this;
var menuList=[];
callMethod(this,menuList,_180[49],[[_180[50],function(){
th.activeLevelSpr=qq;
callMethod(this,th,_180[51],[qq.localPos]);

}]]);
callMethod(this,menuList,_180[49],[[_180[52],function(){
callMethod(this,GLOBAL.$app.popup,_180[53],[qq,function(pp){
qq.itemObj.targetCount=pp.targetCount;
qq.itemObj.actions=pp.actions;

}]);

}]]);
callMethod(this,menuList,_180[49],[[_180[54],function(){
callMethod(this,th,_180[55],[qq]);

}]]);
callMethod(this,GLOBAL.$app.chat,_180[56],[menuList,_180[57],qq.localLevel,!0]);

};
_scenes_MainLevelsEditorScene[_180[55]]=function(qq){
if(qq){
if(qq.parent){
callMethod(this,qq.parent,_180[58],[qq]);

}

}

};
_scenes_MainLevelsEditorScene[_180[9]]=function(id){
var th=this;
this.mov.visible=!1;
callMethod(this,this.itemsSpr,_180[47]);
callMethod(this,th,_180[8],[function(o){
if(o){
callMethod(this,th,_180[59],[o]);

}

},_180[60],id]);

};
_scenes_MainLevelsEditorScene[_180[59]]=function(o){
var th=this;
th.curMap=o;
if(o){
this.bg.mousedown=function(e){
callMethod(this,th.mainSpr,_180[61]);
callMethod(this,GLOBAL.$app.dragList,_180[49],[th.mainSpr]);

};
var mapObj=o;
var id=mapObj.id;
callMethod(this,this,_180[62],[mapObj.map]);
this.titleMap.txt.text=(_180[63] + id);
this.titleMap.txt.x=((310 - this.titleMap.txt.width) / 2);
this.mov.visible=!0;
callMethod(this,this,_180[15]);

}

};
_scenes_MainLevelsEditorScene[_180[15]]=function(){
this.titleMap.txt2.text=(((('' + this.curMap.name) + _180[64]) + this.itemsSpr.numChildren) + _180[65]);
this.titleMap.txt2.x=((310 - this.titleMap.txt2.width) / 2);

};
_scenes_MainLevelsEditorScene[_180[62]]=function(arr){
var th=this;
if(arr){
var q=this.itemsSpr;
callMethod(this,this.mainSpr,_180[2],[this.persImg]);
var i=0;
while((i < arr.size)){
var el=arr[i];
var xx=el.x;
var yy=el.y;
var id=el.id;
var localPos=(i + 1);
if((th.lastMapX < xx)){
th.lastMapX=xx;

}
if((th.lastMapY < yy)){
th.lastMapY=yy;

}
var qq=ctorObject(_180[43],[id,el]);
qq.localPos=localPos;
qq.clickCB=function(){
callMethod(this,th,_180[44],[this]);

};
qq.x=xx;
qq.y=yy;
callMethod(this,q,_180[2],[qq]);
i++;
}
this.mapSize.width=(th.lastMapX + 120);
this.mapSize.height=(th.lastMapY + 120);
callMethod(this,this,_180[51],[this.localLevel]);

}

};
_scenes_MainLevelsEditorScene[_180[28]]=function(){
var a=[];
var i=0;
while((i < this.itemsSpr.numChildren)){
var el=callMethod(this,this.itemsSpr,_180[66],[i]);
if(el){
callMethod(this,el,_180[67]);
callMethod(this,a,_180[49],[el.itemObj]);

}
i++;
}
return a;

};
_scenes_MainLevelsEditorScene[_180[51]]=function(id){
if((id <= this.itemsSpr.numChildren)){
var el=callMethod(this,this.itemsSpr,_180[66],[(id - 1)]);
if(el){
this.persImg.x=(el.x + (90 / 2));
this.persImg.y=(el.y - 18);
this.activeLevelSpr=el;
callMethod(this,this,_180[68]);

}

}

};
_scenes_MainLevelsEditorScene[_180[40]]=function(){
var th=this;
th.activeItem={type:_180[42]};

};
_scenes_MainLevelsEditorScene[_180[71]]=function(){
callMethod(this,this.ev,_180[69]);
if(this.downPanel.parent){
callMethod(this,this.downPanel.parent,_180[58],[this.downPanel]);

}
callMethod(this,GLOBAL.$app,_180[70]);

};
_scenes_MainLevelsEditorScene[_180[68]]=function(){
if(this.camera){
var appWidth=this.RoomRectangle.width;
var appHeight=this.RoomRectangle.height;
var mapW=this.mapSize.width;
var mapH=this.mapSize.height;
if((this.RoomRectangle.width <= mapW)){
this.RoomRectangle.x=(this.camera.x - callMethod(this,Math,_180[72],[(this.RoomRectangle.width / 2)]));
if((this.RoomRectangle.x < 0)){
this.RoomRectangle.x=0;

}
if((this.RoomRectangle.x > (mapW - this.RoomRectangle.width))){
this.RoomRectangle.x=(mapW - this.RoomRectangle.width);

}

}else{
this.RoomRectangle.x=0;

}
if((this.RoomRectangle.height <= mapH)){
this.RoomRectangle.y=(this.camera.y - callMethod(this,Math,_180[72],[(this.RoomRectangle.height / 2)]));
if((this.RoomRectangle.y < 0)){
this.RoomRectangle.y=0;

}
if((this.RoomRectangle.y > (mapH - this.RoomRectangle.height))){
this.RoomRectangle.y=(mapH - this.RoomRectangle.height);

}

}else{
this.RoomRectangle.y=0;

}
if((this.RoomRectangle.x != -this.mainSpr.x) || (this.RoomRectangle.y != -this.mainSpr.y)){
this.mainSpr.x=-this.RoomRectangle.x;
this.mainSpr.y=-this.RoomRectangle.y;

}

}

};
_scenes_MainLevelsEditorScene[_180[74]]=function(w,h){
h=(h - 90);
callMethod(this,this.bg.painter,_180[69]);
callMethod(this,this.bg.painter,_180[19],[0,0,w,h,_180[73]]);
this.exitBut.x=(w - 220);
this.titleMap.x=((w - 314) / 2);
this.sp.x=100;
this.RoomRectangle.width=(w - this.x);
this.RoomRectangle.height=(h - this.y);

};
vm.registerClass(_180[75],_180[76],_scenes_MainLevelsEditorScene);
})(window);



(function(window){
var _215=["BGKostiSprite","drawMovie","cnt","removeChild","addChild","1_","https://vk.com/write-","\" target=\"_blank\">написать</a>","remove","animAlphaSprite","resize","app.popup.PopUpInfoGroupVKKonkurs","lang.display.Sprite"];
var _app_popup_PopUpInfoGroupVKKonkurs={};
_app_popup_PopUpInfoGroupVKKonkurs["ctor"]=function(code){
var th=this;
this.nn=0;
var bg=ctorObject(_215[0]);
var c=callMethod(this,GLOBAL.$app.moviesReader,_215[1],[16]);
if(checkIn(c,_215[2])){
callMethod(this,c,_215[3],[c.cnt]);

}
var cnt2=ctorObject(lang.display.Sprite);
callMethod(this,c,_215[4],[cnt2]);
cnt2.y=90;
var groupSpr=ctorObject(lang.display.Sprite);
groupSpr.y=5;
callMethod(this,cnt2,_215[4],[groupSpr]);
var pref=_215[5];
var ww=200;
var arr=['Чтобы получить приз, напишите нашему боту текст',(pref + code)];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=(ww + ((ww - tf1.width) / 2));
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,groupSpr,_215[4],[tf1]);
if((i == 1)){
tf1.selectable=!0;

}
yy+=24;
i++;
}
var url1=(_215[6] + GLOBAL.Config.vkAppGroupID);
var sp2=ctorObject(lang.display.Sprite);
sp2.width=200;
sp2.x=265;
sp2.y=85;
sp2.filters=GLOBAL.Config.filterBlue1;
sp2.html=(('<a class="noSelect" style="color:#FFFF00;font-family:BIP" href="' + url1) + _215[7]);
callMethod(this,groupSpr,_215[4],[sp2]);
this.c=c;
this.bg=bg;
callMethod(this,null,_215[4],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_215[8]);

};
callMethod(this,GLOBAL.AppUtils,_215[9],[c.close,0.8,1]);

};
_app_popup_PopUpInfoGroupVKKonkurs[_215[8]]=function(){
callMethod(this,this.parent,_215[8],[this]);

};
_app_popup_PopUpInfoGroupVKKonkurs[_215[10]]=function(w,h){
callMethod(this,this.bg,_215[10],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_215[11],_215[12],_app_popup_PopUpInfoGroupVKKonkurs);
})(window);



(function(window){
var _102=["BGKostiSprite","AppPopUpBonusAppActionMov1","addChild","https://vk.com/club","ButtonOrangeText","разрешить","remove","normal","autoFullscreen","callMethod","https://vk.com/write-","\" target=\"_blank\">написать</a>","animAlphaSprite","resize","app.popup.PopUpInfoActionBonus1","lang.display.Sprite"];
var _app_popup_PopUpInfoActionBonus1={};
_app_popup_PopUpInfoActionBonus1["ctor"]=function(){
var th=this;
this.nn=0;
var bg=ctorObject(_102[0]);
var c=ctorObject(_102[1]);
var cnt2=ctorObject(lang.display.Sprite);
callMethod(this,c,_102[2],[cnt2]);
cnt2.y=90;
var groupSpr=ctorObject(lang.display.Sprite);
groupSpr.y=5;
callMethod(this,cnt2,_102[2],[groupSpr]);
var ww=200;
var arr=['В группе игры Вас ждут конкурсы, акции, подарки!','Вступите в группу и вы не пропустите даже важные события!'];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=(ww + ((ww - tf1.width) / 2));
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,groupSpr,_102[2],[tf1]);
yy+=24;
i++;
}
var url1=(_102[3] + GLOBAL.Config.vkAppGroupID);
var sp2=ctorObject(lang.display.Sprite);
sp2.width=200;
sp2.x=235;
sp2.y=45;
sp2.filters=GLOBAL.Config.filterBlue1;
sp2.html=(('<a style="color:#FFFF00;font-family:BIP" href="' + url1) + '" target="_blank">перейти в группу</a>');
callMethod(this,groupSpr,_102[2],[sp2]);
var groupBotSpr=ctorObject(lang.display.Sprite);
groupBotSpr.y=105;
callMethod(this,cnt2,_102[2],[groupBotSpr]);
var ww=200;
var arr=['А ещё у нас есть бот в группе, ему надо просто написать ПС','он может даже сказать кто лучшие спасатели за час и день!','Разрешите отправлять вам сообщения'];
var yy=5;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=(ww + ((ww - tf1.width) / 2));
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,groupBotSpr,_102[2],[tf1]);
yy+=24;
i++;
}
var but1=ctorObject(_102[4],[_102[5],function(){
callMethod(this,th,_102[6]);
if((GLOBAL.$app.stage.displayState != _102[7])){
callMethod(this,GLOBAL.$app,_102[8]);

}
callMethod(this,GLOBAL.$app.apiVK,_102[9],['showAllowMessagesFromCommunityBox',GLOBAL.Config.vkAppGroupID]);

}]);
but1.x=230;
but1.y=70;
callMethod(this,groupBotSpr,_102[2],[but1]);
var arr=['Или напишите боту в личные сообщения группы слово ПС','а дальше наш бот покажет кнопки'];
yy+=60;
var i=0;
while((i < arr.size)){
var el=arr[i];
var tf1=ctorObject(lang.text.TextField);
tf1.fontSize=16;
tf1.text=('' + el);
tf1.x=(ww + ((ww - tf1.width) / 2));
tf1.y=yy;
tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,groupBotSpr,_102[2],[tf1]);
yy+=24;
i++;
}
var url2=(_102[10] + GLOBAL.Config.vkAppGroupID);
var sp2=ctorObject(lang.display.Sprite);
sp2.width=200;
sp2.x=270;
sp2.y=(yy - 7);
sp2.filters=GLOBAL.Config.filterBlue1;
sp2.html=(('<a style="color:#FFFF00;font-family:BIP" href="' + url2) + _102[11]);
callMethod(this,groupBotSpr,_102[2],[sp2]);
this.c=c;
this.bg=bg;
callMethod(this,null,_102[2],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_102[6]);

};
callMethod(this,GLOBAL.AppUtils,_102[12],[c.close,0.8,1]);

};
_app_popup_PopUpInfoActionBonus1[_102[6]]=function(){
callMethod(this,this.parent,_102[6],[this]);

};
_app_popup_PopUpInfoActionBonus1[_102[13]]=function(w,h){
callMethod(this,this.bg,_102[13],[w,h]);
this.c.x=((w - 600) / 2);
this.c.y=((h - 450) / 2);

};
vm.registerClass(_102[14],_102[15],_app_popup_PopUpInfoActionBonus1);
})(window);



(function(window){
var _131=["app.popup.PopUpMinInfo1","addChild","Добавлено","Администрация игры","lapki","app.bar.BarMoneyTypeSpr2","setMoney","kosti","removeChild","remove","resize","app.popup.PopUpAdminAddMoney","lang.display.Sprite"];
var _app_popup_PopUpAdminAddMoney={};
_app_popup_PopUpAdminAddMoney["ctor"]=function(t,prize){
this.p1=ctorObject(_131[0],['']);
callMethod(this,null,_131[1],[this.p1]);
var th=this;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_131[1],[sp2]);
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_131[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=10;
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_131[1],[this.tf1]);
this.tf2=ctorObject(lang.text.TextField);
this.tf2.fontSize=17;
this.tf2.text=_131[3];
this.tf2.x=((450 - this.tf2.width) / 2);
this.tf2.y=(this.tf1.y + 100);
this.tf2.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_131[1],[this.tf2]);
var ww=450;
if((t == _131[4])){
var mm=ctorObject(_131[5],[_131[4],function(){

}]);
mm.mouseEnabled=!1;
mm.y=60;
callMethod(this,mm,_131[6],[prize]);
mm.x=(((ww - 40) - mm.tf.width) / 2);
callMethod(this,sp2,_131[1],[mm]);

}else if((t == _131[7])){
var mm=ctorObject(_131[5],[_131[7],function(){

}]);
mm.mouseEnabled=!1;
mm.y=60;
callMethod(this,mm,_131[6],[prize]);
mm.x=(((ww - 40) - mm.tf.width) / 2);
callMethod(this,sp2,_131[1],[mm]);

}


};
_app_popup_PopUpAdminAddMoney[_131[9]]=function(){
if(this.parent){
callMethod(this,this.parent,_131[8],[this]);

}

};
_app_popup_PopUpAdminAddMoney[_131[10]]=function(w,h){
callMethod(this,this.p1,_131[10],[w,h]);

};
vm.registerClass(_131[11],_131[12],_app_popup_PopUpAdminAddMoney);
})(window);



(function(window){
var _215=["BGKostiSprite","AppMapEditorChangeMov","attr","spellcheck","комментарий","addChild","remove","animAlphaSprite","ButtonOrangeText","Отклонить","removeChild","resize","app.popup.PopUpModMapEditorCancelMap","lang.display.Sprite"];
var _app_popup_PopUpModMapEditorCancelMap={};
_app_popup_PopUpModMapEditorCancelMap["ctor"]=function(cb){
var th=this;
this.selectable=!1;
var bg=ctorObject(_215[0]);
var c=ctorObject(_215[1]);
this.ti=c.tiText;
this.ti.value='';
callMethod(this,this.ti,_215[2],[{'spellcheck':''}]);
var tf1=ctorObject(lang.text.TextField);
tf1.color=16777215;
tf1.fontSize=17;
tf1.text=_215[4];
tf1.width=(tf1.width + 4);
tf1.x=((320 - tf1.width) / 2);
tf1.y=68;
callMethod(this,c,_215[5],[tf1]);
this.q1=!1;
this.c=c;
this.bg=bg;
callMethod(this,null,_215[5],[bg,c]);
c.close.click=function(e){
callMethod(this,th,_215[6]);

};
callMethod(this,GLOBAL.AppUtils,_215[7],[c.close,0.8,1]);
var but1=ctorObject(_215[8],[_215[9],function(){
callMethod(this,th,_215[6]);
var v2=th.ti.value;
if(cb){
cb({name:v2});

}

}]);
callMethod(this,c,_215[5],[but1]);
but1.x=92;
but1.y=195;

};
_app_popup_PopUpModMapEditorCancelMap[_215[6]]=function(){
callMethod(this,this.parent,_215[10],[this]);

};
_app_popup_PopUpModMapEditorCancelMap[_215[11]]=function(w,h){
callMethod(this,this.bg,_215[11],[w,h]);
this.c.x=((w - 320) / 2);
this.c.y=((h - 238) / 2);

};
vm.registerClass(_215[12],_215[13],_app_popup_PopUpModMapEditorCancelMap);
})(window);



(function(window){
var _121=["GetLevelByOpyt","GetMinOpytCurrentLevel","floor","GetPercentByOpyt","GetPercentLevel","app.master.LevelsMaster"];
var _app_master_LevelsMaster={};
_app_master_LevelsMaster["ctor"]=function(){
this.cons=300;
this.prirost=1000;

};
_app_master_LevelsMaster[_121[3]]=function(opyt){
var level=callMethod(this,this,_121[0],[opyt]);
var v1=callMethod(this,this,_121[1],[level]);
var nextOpyt=callMethod(this,this,_121[1],[(level + 1)]);
var q=callMethod(this,Math,_121[2],[(((opyt - v1) / (nextOpyt - v1)) * 100)]);
return q;

};
_app_master_LevelsMaster[_121[4]]=function(opyt,level){
var v1=callMethod(this,this,_121[1],[level]);
var nextOpyt=callMethod(this,this,_121[1],[(level + 1)]);
var q=callMethod(this,Math,_121[2],[(((opyt - v1) / (nextOpyt - v1)) * 100)]);
return q;

};
_app_master_LevelsMaster[_121[0]]=function(s){
var dexp=s;
var d=this.cons;
var lvl=1;
while(((dexp - d) >= 0)){
dexp=(dexp - d);
d=(d + this.prirost);
lvl++;
}
return lvl;

};
_app_master_LevelsMaster[_121[1]]=function(s){
var d=this.cons;
var exp=0;
if((s > 0)){
var i=0;
while((s != callMethod(this,this,_121[0],[exp]))){
exp=(d + exp);
d=(this.prirost + d);
i++;
}

}else{
return 1;

}
return exp;

};
vm.registerClass(_121[5],'',_app_master_LevelsMaster);
})(window);



(function(window){
var _230=["app.popup.PopUpMinInfo1","addChild","Хотите посмотреть сюжет?","ButtonOrangeText","Да","removeV","Нет","removeChild","cb2","remove","resize","app.popup.PopUpOpenHistoryAction","lang.display.Sprite"];
var _app_popup_PopUpOpenHistoryAction={};
_app_popup_PopUpOpenHistoryAction["ctor"]=function(cb,cb2){
this.p1=ctorObject(_230[0],['']);
callMethod(this,null,_230[1],[this.p1]);
var th=this;
this.cb2=cb2;
var sp2=ctorObject(lang.display.Sprite);
callMethod(this,this.p1.cnt,_230[1],[sp2]);
this.p1.bg.bg.click=function(){

};
this.tf1=ctorObject(lang.text.TextField);
this.tf1.fontSize=17;
this.tf1.text=_230[2];
this.tf1.x=((450 - this.tf1.width) / 2);
this.tf1.y=((120 - 30) / 2);
this.tf1.filters=GLOBAL.Config.filterBlue1;
callMethod(this,sp2,_230[1],[this.tf1]);
var bb=ctorObject(_230[3],[_230[4],function(){
callMethod(this,th,_230[5]);
if(cb){
cb();

}

}]);
bb.x=100;
bb.y=138;
callMethod(this,sp2,_230[1],[bb]);
var bb2=ctorObject(_230[3],[_230[6],function(){
callMethod(this,th,_230[5]);
if(cb2){
cb2();

}

}]);
bb2.x=(bb.x + 120);
bb2.y=bb.y;
callMethod(this,sp2,_230[1],[bb2]);

};
_app_popup_PopUpOpenHistoryAction[_230[5]]=function(){
if(this.parent){
callMethod(this,this.parent,_230[7],[this]);

}

};
_app_popup_PopUpOpenHistoryAction[_230[9]]=function(){
callMethod(this,this,_230[5]);
if(this.cb2){
callMethod(this,this,_230[8]);

}

};
_app_popup_PopUpOpenHistoryAction[_230[10]]=function(w,h){
callMethod(this,this.p1,_230[10],[w,h]);

};
vm.registerClass(_230[11],_230[12],_app_popup_PopUpOpenHistoryAction);
})(window);



(function(window){
var _61=["Побег собачек (старая версия)","static","CompileAppInfo_576470"];
var _CompileAppInfo_576470={};
_CompileAppInfo_576470["ctor"]=function(){

};
_CompileAppInfo_576470[_61[1]]=function(){
this.compileTime=1666761288;
this.packageID="c4Rs33J2qKaN3mZNcMEWTotUz6vwSiAgQPX";
this.appName=_61[0];
GLOBAL.AppBuildInfo=this;

};
vm.registerClass(_61[2],'',_CompileAppInfo_576470);
})(window);

}
cl.instanceClass="Main";
cl.libsList=["AnimalsGameSocket","MoviesReader4"];
pClass(cl);

})(window);