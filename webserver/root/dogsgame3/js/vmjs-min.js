!function(m){t=this,e=function(){var u=function(){function t(t){return n.appendChild(t.dom),t}function e(t){for(var e=0;e<n.children.length;e++)n.children[e].style.display=e===t?"block":"none";i=t}var i=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",function(t){t.preventDefault(),e(++i%n.children.length)},!1);var s,r=(performance||Date).now(),a=r,o=0,l=t(new u.Panel("FPS","#0ff","#002")),h=t(new u.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(s=t(new u.Panel("MB","#f08","#201"))),e(0),{REVISION:16,dom:n,addPanel:t,showPanel:e,begin:function(){r=(performance||Date).now()},end:function(){o++;var t,e=(performance||Date).now();return h.update(e-r,200),a+1e3<=e&&(l.update(1e3*o/(e-a),100),a=e,o=0,s)&&(t=performance.memory,s.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)),e},update:function(){r=this.end()},domElement:n,setMode:e}};return u.Panel=function(i,n,s){var r=1/0,a=0,o=Math.round,l=o(m.devicePixelRatio||1),h=80*l,t=48*l,u=3*l,c=2*l,d=3*l,f=15*l,p=74*l,v=30*l,g=document.createElement("canvas");g.width=h,g.height=t,g.style.cssText="width:80px;height:48px";var y=g.getContext("2d");return y.font="bold "+9*l+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=s,y.fillRect(0,0,h,t),y.fillStyle=n,y.fillText(i,u,c),y.fillRect(d,f,p,v),y.fillStyle=s,y.globalAlpha=.9,y.fillRect(d,f,p,v),{dom:g,update:function(t,e){r=Math.min(r,t),a=Math.max(a,t),y.fillStyle=s,y.globalAlpha=1,y.fillRect(0,0,h,f),y.fillStyle=n,y.fillText(o(t)+" "+i+" ("+o(r)+"-"+o(a)+")",u,c),y.drawImage(g,d+l,f,p-l,v,d,f,p-l,v),y.fillRect(d+p-l,f,l,v),y.fillStyle=s,y.globalAlpha=.9,y.fillRect(d+p-l,f,l,o((1-t/e)*v))}}},u},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Stats=e(),function(t){"use strict";function c(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function o(t,e,i,n,s,r){return c((r=c(c(e,t),c(n,r)))<<s|r>>>32-s,i)}function d(t,e,i,n,s,r,a){return o(e&i|~e&n,t,e,s,r,a)}function f(t,e,i,n,s,r,a){return o(e&n|i&~n,t,e,s,r,a)}function p(t,e,i,n,s,r,a){return o(e^i^n,t,e,s,r,a)}function v(t,e,i,n,s,r,a){return o(i^(e|~n),t,e,s,r,a)}function a(t,e){var i,n,s,r;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var a=1732584193,o=-271733879,l=-1732584194,h=271733878,u=0;u<t.length;u+=16)a=d(i=a,n=o,s=l,r=h,t[u],7,-680876936),h=d(h,a,o,l,t[u+1],12,-389564586),l=d(l,h,a,o,t[u+2],17,606105819),o=d(o,l,h,a,t[u+3],22,-1044525330),a=d(a,o,l,h,t[u+4],7,-176418897),h=d(h,a,o,l,t[u+5],12,1200080426),l=d(l,h,a,o,t[u+6],17,-1473231341),o=d(o,l,h,a,t[u+7],22,-45705983),a=d(a,o,l,h,t[u+8],7,1770035416),h=d(h,a,o,l,t[u+9],12,-1958414417),l=d(l,h,a,o,t[u+10],17,-42063),o=d(o,l,h,a,t[u+11],22,-1990404162),a=d(a,o,l,h,t[u+12],7,1804603682),h=d(h,a,o,l,t[u+13],12,-40341101),l=d(l,h,a,o,t[u+14],17,-1502002290),a=f(a,o=d(o,l,h,a,t[u+15],22,1236535329),l,h,t[u+1],5,-165796510),h=f(h,a,o,l,t[u+6],9,-1069501632),l=f(l,h,a,o,t[u+11],14,643717713),o=f(o,l,h,a,t[u],20,-373897302),a=f(a,o,l,h,t[u+5],5,-701558691),h=f(h,a,o,l,t[u+10],9,38016083),l=f(l,h,a,o,t[u+15],14,-660478335),o=f(o,l,h,a,t[u+4],20,-405537848),a=f(a,o,l,h,t[u+9],5,568446438),h=f(h,a,o,l,t[u+14],9,-1019803690),l=f(l,h,a,o,t[u+3],14,-187363961),o=f(o,l,h,a,t[u+8],20,1163531501),a=f(a,o,l,h,t[u+13],5,-1444681467),h=f(h,a,o,l,t[u+2],9,-51403784),l=f(l,h,a,o,t[u+7],14,1735328473),a=p(a,o=f(o,l,h,a,t[u+12],20,-1926607734),l,h,t[u+5],4,-378558),h=p(h,a,o,l,t[u+8],11,-2022574463),l=p(l,h,a,o,t[u+11],16,1839030562),o=p(o,l,h,a,t[u+14],23,-35309556),a=p(a,o,l,h,t[u+1],4,-1530992060),h=p(h,a,o,l,t[u+4],11,1272893353),l=p(l,h,a,o,t[u+7],16,-155497632),o=p(o,l,h,a,t[u+10],23,-1094730640),a=p(a,o,l,h,t[u+13],4,681279174),h=p(h,a,o,l,t[u],11,-358537222),l=p(l,h,a,o,t[u+3],16,-722521979),o=p(o,l,h,a,t[u+6],23,76029189),a=p(a,o,l,h,t[u+9],4,-640364487),h=p(h,a,o,l,t[u+12],11,-421815835),l=p(l,h,a,o,t[u+15],16,530742520),a=v(a,o=p(o,l,h,a,t[u+2],23,-995338651),l,h,t[u],6,-198630844),h=v(h,a,o,l,t[u+7],10,1126891415),l=v(l,h,a,o,t[u+14],15,-1416354905),o=v(o,l,h,a,t[u+5],21,-57434055),a=v(a,o,l,h,t[u+12],6,1700485571),h=v(h,a,o,l,t[u+3],10,-1894986606),l=v(l,h,a,o,t[u+10],15,-1051523),o=v(o,l,h,a,t[u+1],21,-2054922799),a=v(a,o,l,h,t[u+8],6,1873313359),h=v(h,a,o,l,t[u+15],10,-30611744),l=v(l,h,a,o,t[u+6],15,-1560198380),o=v(o,l,h,a,t[u+13],21,1309151649),a=v(a,o,l,h,t[u+4],6,-145523070),h=v(h,a,o,l,t[u+11],10,-1120210379),l=v(l,h,a,o,t[u+2],15,718787259),o=v(o,l,h,a,t[u+9],21,-343485551),a=c(a,i),o=c(o,n),l=c(l,s),h=c(h,r);return[a,o,l,h]}function l(t){for(var e="",i=32*t.length,n=0;n<i;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function h(t){var e=[];for(e[(t.length>>2)-1]=void 0,n=0;n<e.length;n+=1)e[n]=0;for(var i=8*t.length,n=0;n<i;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function n(t){for(var e,i="0123456789abcdef",n="",s=0;s<t.length;s+=1)e=t.charCodeAt(s),n+=i.charAt(e>>>4&15)+i.charAt(15&e);return n}function i(t){return unescape(encodeURIComponent(t))}function s(t){return l(a(h(t=i(t)),8*t.length))}function r(t,e){return function(t,e){var i,n=h(t),s=[],r=[];for(s[15]=r[15]=void 0,16<n.length&&(n=a(n,8*t.length)),i=0;i<16;i+=1)s[i]=909522486^n[i],r[i]=1549556828^n[i];return e=a(s.concat(h(e)),512+8*e.length),l(a(r.concat(e),640))}(i(t),i(e))}function e(t,e,i){return e?i?r(e,t):n(r(e,t)):i?s(t):n(s(t))}"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:t.md5=e}(this),function(){var t,s=/iPhone/i,r=/iPod/i,a=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,d=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,v=/BB10/i,g=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,b=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream};t=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i,n=e.userAgent;return void 0!==(t=n.split("[FBAN"))[1]&&(n=t[0]),void 0!==(t=n.split("Twitter"))[1]&&(n=t[0]),(n={apple:{phone:(n=(i=n,function(t){return t.test(i)}))(s)&&!n(d),ipod:n(r),tablet:!n(s)&&(n(a)||b(e))&&!n(d),universal:n(o),device:(n(s)||n(r)||n(a)||n(o)||b(e))&&!n(d)},amazon:{phone:n(u),tablet:!n(u)&&n(c),device:n(u)||n(c)},android:{phone:!n(d)&&n(u)||!n(d)&&n(l),tablet:!n(d)&&!n(u)&&!n(l)&&(n(c)||n(h)),device:!n(d)&&(n(u)||n(c)||n(l)||n(h))||n(/\bokhttp\b/i)},windows:{phone:n(d),tablet:n(f),device:n(d)||n(f)},other:{blackberry:n(p),blackberry10:n(v),opera:n(g),firefox:n(m),chrome:n(y),device:n(p)||n(v)||n(g)||n(m)||n(y)},any:!1,phone:!1,tablet:!1}).any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}(),"object"==typeof exports&&"undefined"!=typeof module?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):this.isMobileV=t}();var n=null,t=function(){this._tweens={},this._tweensAddedDuringUpdate={}};t.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:h.now();0<i.length;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var s=this._tweens[i[n]];s&&!1===s.update(t)&&(s._isPlaying=!1,e||delete this._tweens[i[n]])}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var s,r,i,a,l,e,h=new t;h.Group=t,h._nextId=0,h.nextId=function(){return h._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?h.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?h.now=self.performance.now.bind(self.performance):void 0!==Date.now?h.now=Date.now:h.now=function(){return(new Date).getTime()},h.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=h.Easing.Linear.None,this._interpolationFunction=h.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||h,this._id=h.nextId()},h.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?h.now()+parseFloat(t):t:h.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,i,n,s,r,a;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||1<i?1:i,n=this._easingFunction(i),this._valuesEnd)void 0!==this._valuesStart[e]&&(s=this._valuesStart[e]||0,(r=this._valuesEnd[e])instanceof Array?this._object[e]=this._interpolationFunction(r,n):("string"==typeof r&&(r="+"===r.charAt(0)||"-"===r.charAt(0)?s+parseFloat(r):parseFloat(r)),"number"==typeof r&&(this._object[e]=s+(r-s)*n)));if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1!==i)return!0;if(0<this._repeat){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)"string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo&&(a=this._valuesStartRepeat[e],this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a),this._valuesStart[e]=this._valuesStartRepeat[e];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,l=this._chainedTweens.length;o<l;o++)this._chainedTweens[o].start(this._startTime+this._duration);return!1}},h.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-h.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*h.Easing.Bounce.In(2*t):.5*h.Easing.Bounce.Out(2*t-1)+.5}}},h.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n),r=h.Interpolation.Utils.Linear;return e<0?r(t[0],t[1],n):1<e?r(t[i],t[i-1],i-n):r(t[s],t[i<s+1?i:s+1],n-s)},Bezier:function(t,e){for(var i=0,n=t.length-1,s=Math.pow,r=h.Interpolation.Utils.Bernstein,a=0;a<=n;a++)i+=s(1-e,n-a)*s(e,a)*t[a]*r(n,a);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n),r=h.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(s=Math.floor(n=i*(1+e))),r(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],n-s)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-n)-t[0]):1<e?t[i]-(r(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):r(t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2],n-s)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=h.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(s=[1],function(t){var e=1;if(s[t])return s[t];for(var i=t;1<i;i--)e*=i;return s[t]=e}),CatmullRom:function(t,e,i,n,s){var r=.5*(i-t),t=.5*(n-e),n=s*s;return(2*e-2*i+r+t)*(s*n)+(-3*e+3*i-2*r-t)*n+r*s+e}}},e=this,"function"==typeof define&&define.amd?define([],function(){return h}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=h:void 0!==e&&(e.TWEEN=h),r=void 0!==m&&void 0!==m.document?m.document:{},t="undefined"!=typeof module&&module.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=e.length,s={};i<n;i++)if((t=e[i])&&t[1]in r){for(i=0;i<t.length;i++)s[e[0][i]]=t[i];return s}return!1}(),l={change:a.fullscreenchange,error:a.fullscreenerror},e={request:function(t){var e;n&&n.screen.fullscreen?n.screen.fullscreen.request():(e=a.requestFullscreen,t=t||r.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[e]():t[e](i?Element.ALLOW_KEYBOARD_INPUT:{}))},exit:function(){n&&n.screen.fullscreen?n.screen.fullscreen.exit():r[a.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){t=l[t];t&&r.addEventListener(t,e,!1)},off:function(t,e){t=l[t];t&&r.removeEventListener(t,e,!1)},raw:a},a?(Object.defineProperties(e,{isFullscreen:{get:function(){return n?!(!n.screen.fullscreen||"on"!=n.screen.fullscreen.status):Boolean(r[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return r[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(r[a.fullscreenEnabled])}}}),t?module.exports=e:m.screenfull=e):t?module.exports=!1:m.screenfull=!1,document.body.style.margin=0,document.body.style.overflow="hidden",m.ondragstart=function(){return!1};var p=null,u=null,c=1,x=1,f=isMobileV.any,v=null;"devicePixelRatio"in m&&(c=m.devicePixelRatio),"PIXI"in m&&(p=m.PIXI);var d,g=!1,_=!1,y=1,b=1,C={x:0,y:0},S={},B=null,T={int:1,Number:1,Array:1,Function:1,Boolean:1,VM:1,Object:1,Math:1,String:1,URL:1,JSON:1,RegExp:1,Uint8Array:1},D={x:1,y:1,scaleX:1,scaleY:1,alpha:1,rotation:1,visible:1,buttonMode:1,position:1,scroll:1,width:1,height:1,filters:1,mask:1,mouseEnabled:1,selectable:1,point:1},E=[];for(d in D)E.push(d);var M="1720963836",k=5,P=!1,F={rollover:"mouseover",rollout:"mouseout",rclick:"contextmenu"},A=["click","mousewheel","mouseover","mouseout","mouseup","mousemove","mousedown"],I=["click","touchstart","mouseout","touchmove"],j={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"},L=[],O=null,R=!0,z=!1,U=!1,Y=!1;m.CallbackRegistry={};var N=null,V={},H={},X=null,G=CanvasRenderingContext2D.prototype;function W(){if(p&&!(p.settings&&"isRedraw"in p.settings)){function t(t,e){t&&e&&(i[t]=function(){this._destroyed||e.apply(this,arguments)})}for(var e=["quadraticCurveTo","bezierCurveTo","arcTo","arc","beginFill","beginTextureFill","endFill","drawRect","drawRoundedRect","drawCircle","drawEllipse","drawPolygon","drawShape","drawStar","clear"],i=p.Graphics.prototype,n=0;n<e.length;n++){var s=e[n],r=i[s];null!=r&&t(s,r)}var a=p.DisplayObject.prototype.destroy,o=p.Text.prototype.destroy,l=p.Text.prototype.updateText,h=p.Container.prototype;Z(h,"numChildren",function(){return this.children.length});var u=h.getChildAt,c=h.setChildIndex;h.getChildAt=function(t){return t<this.children.length?u.apply(this,arguments):null},h.setChildIndex=function(t,e){0<=e&&e<this.children.length&&c.apply(this,arguments)},p.DisplayObject.prototype.destroy=function(){this._destroyed||(a.call(this),this.transform=new p.Transform)},p.Text.prototype.destroy=function(){this._destroyed||(o.apply(this,arguments),this.style=new p.TextStyle({}),this.texture=p.Texture.EMPTY)},p.Text.prototype.updateText=function(){this._destroyed||l.apply(this,arguments)}}}function J(t,e){var i=S,n="",s=t.split(".");if(1<s.length){n=s.pop();for(var r=0;r<s.length;r++){var a=s[r],o=null;null!=i&&a in i&&(o=i[a]),i=o||(o={},i[a]=o)}}else n=t;i[n]=e}function q(t,e,i){if(1==i||(V[t]=e),"Date"!=t&&"Object"!=t||(t="_"+t),i||!(t in T)){var n=m,i="",s=t.split(".");if(1<s.length){i=s.pop();for(var r=0;r<s.length;r++){var a=s[r],o=null;null!=n&&a in n&&(o=n[a]),n=o||(o={},n[a]=o)}}else i=t;n[i]=e}}function K(t){if(null==t)return null;for(var e=t.split("."),i=S,n=0;n<e.length;n++){var s=e[n];if(s in i==0)return null;i=i[s]}return i}function Q(t,e){return null!=t&&("object"==typeof t||"function"==typeof t)&&e in t}function Z(t,e,i,n){void 0===n&&(n=!1),Object.defineProperty(t,e,{configurable:n,get:i})}function $(t){try{return JSON.stringify(t)}catch(t){}return null}function tt(t){try{return JSON.parse(t)}catch(t){}return null}f&&delete F.rclick,"function"!=typeof G.getTransform&&function(){G._transform=[1,0,0,1,0,0],G._transforms=[],G.getTransform=function(){var t=this._transform;return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}};var t=G.restore;G.restore=function(){this._transform=this._transforms.pop()||[1,0,0,1,0,0],t.apply(this)};var i=G.rotate;G.rotate=function(t){var e=[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0];this._transform=l(this._transform,e),i.apply(this,arguments)};var e=G.save;G.save=function(){this._transforms.push(this._transform.slice()),e.apply(this)};var n=G.scale;G.scale=function(t,e){this._transform=l(this._transform,[t,0,0,e,0,0]),n.apply(this,arguments)};var a=G.setTransform;G.setTransform=function(t,e,i,n,s,r){this._transform=Array.prototype.slice.apply(arguments),a.apply(this,arguments)};var s=G.translate;G.translate=function(t,e){this._transform=l(this._transform,[1,0,0,1,t,e]),s.apply(this,arguments)};var o=G.transform;G.transform=function(t,e,i,n,s,r){this._transform=l.call(this,this._transform,arguments),o.apply(this,arguments)};var l=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]};G.multiplyTransform=l}(),document.addEventListener("dragover",function(t){t.preventDefault()},!1),document.addEventListener("dragleave",function(t){t.preventDefault()},!1),m.addEventListener("orientationchange",function(){stage.dispatchNativeEvent("resize")}),function t(){var e;"devicePixelRatio"in m&&(c=m.devicePixelRatio),!m.matchMedia||(e=m.matchMedia("(resolution: "+c+"dppx)"))&&e.addEventListener&&e.addEventListener("change",t,{once:!0}),m.stage&&m.stage.dispatchNativeEvent("changeDPI")}();var et,it=alert;function nt(){for(var t="",e=0;e<arguments.length;e++)t+=""+arguments[e],e!=arguments.length-1&&(t+=" ");it(t)}function st(){return function(t){var e,i,n,s,r={};if("undefined"!=typeof urlParams&&(r=urlParams),i=t.substring(1).split("&"),-1<t.indexOf("?")&&i&&0<i.length)for(e=0,s=i.length;e<s;e++)r[(n=i[e].split("="))[0]]=n[1];return r}(document.location.search)}function rt(t){return"[object Array]"===Object.prototype.toString.call(t)}function at(t,e){if(null!=t)if("Object"==e){if("object"==typeof t)return!0}else if("int"==e){if("number"==typeof t)return!0}else if("String"==e){if("string"==typeof t)return!0}else if("Number"==e){if("number"==typeof t)return!0}else if("Boolean"==e){if("boolean"==typeof t)return!0}else if("Array"==e){if(rt(t))return!0}else if("Function"==e){if("function"==typeof t)return!0}else{if("string"==typeof e&&(K(e)||(e=m[e])),"object"==typeof t&&"function"==typeof e&&t instanceof e)return!0;if("object"==typeof t&&"function"==typeof e&&(e=e.className),"object"==typeof t&&"extendsList"in t&&e in t.extendsList)return!0}return!1}function ot(t,e,i){null!=t&&null!=e&&("function"==typeof t.put?t.put(e,i):t[e]=i,de("set prop",""+t,e,i))}function lt(t){t=Math.floor(t);return isNaN(t)&&(t=0),t}function ht(){for(var t={},e=arguments.length,i=0;i<e;i++){var n=arguments[i];if(n)if(1<n.length){var s=n[0],r=n[1];t[s]=r}else if((r=n[0])&&"object"==typeof r&&r instanceof ut){var a=r.o;if(a){n=typeof a;if("object"==n||"string"==n)for(var o in a)"function"!=typeof a[o]&&(t[o]=a[o])}}}return t}function ut(t){this.o=t}function ct(t){return new ut(t)}function dt(t,e,i,n){var s=null,r=e,a=[];if(null==e&&(e=m),n&&"object"==typeof n)for(var o=0;o<n.length;o++){var l=n[o],h=l;l&&"object"==typeof l&&l instanceof ut?(l=h.getArgs())&&(a=a.concat(l)):a.push(h)}return null!=e&&"function"==typeof e[i]?s=e[i].apply(e,a):null!=t&&"function"==typeof t[i]?s=t[i].apply(t,a):"function"==typeof S[i]?s=S[i].apply(S,a):"object"==typeof e&&rt(e)?"function"==typeof(e=Array)[i]&&(s=e[i].apply(r,a)):"function"==typeof e&&(s=e.apply(null,a)),s}function ft(t,e){if(t&&e)for(var i in e)t[i]=e[i]}function pt(t,e){return null!=t&&t in V?new V[t](e):null}function vt(t){return null!=t&&t in V?V[t]:null}function gt(t,e,i,n,s,r,a){var o=e.split(""),l="",h=0;if(0<a&&(t.lineWidth=a,t.miterLimit=1),0<s)for(var u=0;u<o.length;u++){var c=l+o[u],d=t.measureText(c).width;h<=d&&(h=d),s<d&&0<u?(0<a?t.strokeText(l,i,n):t.fillText(l,i,n),l=o[u],n+=r):l=c}else l=e;0<a?t.strokeText(l,i,n):t.fillText(l,i,n)}function yt(t,e,i,n,s,r){t.moveTo(e+r,i),t.arcTo(e+n,i,e+n,i+s,r),t.arcTo(e+n,i+s,e,i+s,r),t.arcTo(e,i+s,e,i,r),t.arcTo(e,i,e+n,i,r)}function mt(t){var e;return"function"==typeof t.getTransform?t.getTransform():"mozCurrentTransform"in t?{a:(e=t.mozCurrentTransform)[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}:"currentTransform"in t?{a:(e=t.currentTransform)[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}:null}function bt(t,e,i,n){if(null!=t&&null!=n&&at(n,"lang.text.TextField")){var s=""+n.text,r=n.color;null==r&&(r=0);var a=typeof r;"number"==a&&(r=Ht(r),n.color=r);var o="";n.bold&&(o="bold ");var l=n.fontSize;if(1==n._isTextUpdate&&(_||n.isUpdDraw||s!=n.lastText||l!=n.lastFontSize)&&(n.cnvTextCache=null,n.isUpdDraw=!1),n.lastText=s,n.lastFontSize=l,null!=n.cnvTextCache)return n.cnvTextCache;n._tintedCanvas=null;var h=x*t.scaleX*t.resolution,u=x*t.scaleY*t.resolution,c=n.width+20,d=n.height+20,f=c*h|0,p=d*u|0;if(0==f||0==p)return null;t=document.createElement("canvas");t.origW=c,t.origH=d,t.scX=h,t.scY=u,t.width=f,t.height=p;var v=t.getContext("2d");v.translate(e,i),v.scale(h,u),n.cnvTextCache=t,"object"==a&&"linearGradient"==r.type&&(r="gradientCanvas"in r?r.gradientCanvas:function(t,e){if("linearGradient"==e.type){var i=e.p,n=e.colors,s=e.ratios;if("gradientCanvas"in e)e=e.gradientCanvas;else{for(var r=t.createLinearGradient(i[0],i[1],i[2],i[3]),a=0;a<n.length;a++)r.addColorStop(s[a],n[a]);e.gradientCanvas=r,e=r}}return e}(v,r)),v.font=o+""+l+"px "+n.fontName,v.textBaseline="bottom",v.fillStyle=r;var g=0,y=0|l;"center"==n.align&&(g=(w-n.width)/2);o=n.shadowText;if(null!=o&&(g+=3/h,y+=3/u),"textOffsetDraw"in n&&(y+=n.textOffsetDraw),0<n.partText.length)for(var m=0;m<n.partText.length;m++){var b=n.partText[m];v.fillText(b.text,g,y),y+=b.height}else{h=0;"maxWidth"in n&&(0<(u=n.maxWidth)&&(h=u)),null!=o&&(v.strokeStyle=o.color,gt(v,s,g,y,h,l,3)),gt(v,s,g,y,h,l,0)}return"underline"==n.textDecoration&&0<n.width&&(v.save(),v.fillRect(0,y-2,n.width+2,1,r),v.restore()),16777215!=n._tint&&Mt(n._tint,t),n.cnvTextCache}return null}function wt(t){return null!=t&&("object"==typeof t||"function"==typeof t)&&"className"in t?t.className:""}function xt(t,e){var i=null,n=!1;if(null!=t){var s=null;if("function"==typeof t?s=t:"string"==typeof t&&("Uint8Array"==t?s=m[t]:"ArraySpread"==t?n=!0:(s=K(t))||"function"!=typeof m[t]||(s=m[t])),n||null!=s){var r=0;null!=e&&(r=e.length);var a=[];if(0<r){for(var o=0;o<r;o++){var l=e[o],h=l;l&&"object"==typeof l&&l instanceof ut?(l=h.getArgs())&&(a=a.concat(l)):a.push(h)}r=a.length,e=a}if(n)return a;if(0==r)i=new s;else if(1==r)i=new s(e[0]);else if(2==r)i=new s(e[0],e[1]);else if(3==r)i=new s(e[0],e[1],e[2]);else if(4==r)i=new s(e[0],e[1],e[2],e[3]);else if(5==r)i=new s(e[0],e[1],e[2],e[3],e[4]);else if(6==r)i=new s(e[0],e[1],e[2],e[3],e[4],e[5]);else if(7==r)i=new s(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);else if(8==r)i=new s(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);else if(9==r)i=new s(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);else{i=new s;try{s.apply(i,e)}catch(t){}}}}return i}function _t(t,e,i){var n=document.createElement("script");n.onload=function(){"function"==typeof e&&e()},n.onerror=function(){"function"==typeof i&&i()},n.crossOrigin="anonymous",n.src=t,document.head.appendChild(n)}function Ct(t,i,e,n,s,r,a){var o=new XMLHttpRequest;if("function"==typeof a&&(o.onprogress=function(t){a(t)}),o.onreadystatechange=function(t){var e;4==t.target.readyState&&(200==t.target.status?(e=t.target.response,t=t.target.getResponseHeader("Content-Type"),!i&&null!=t&&-1<t.indexOf("application/json")&&(e=JSON.parse(e)),i&&(t=new Uint8Array(e),(e=pt("lang.utils.ByteArray")).ba=t),"function"==typeof s&&s(e)):"function"==typeof r&&r())},"post"==t){var l,h=!1,u=n,c=new FormData,d=0;for(l in u){d+=1;var f,p=u[l];null!=p&&"object"==typeof p&&"lang.utils.ByteArray"==wt(p)&&(f=p.getBytes(),p=new Blob([f]),h=!0),c.append(l,p)}o.open("POST",e),i&&(o.responseType="arraybuffer"),h?0<d?o.send(c):o.send(null):(n=function t(e){var i="";var n=0;{if("object"!=typeof e)return e;for(var s in e)n+=1;for(var s in e)i+=s+"="+encodeURIComponent(t(e[s])),0<--n&&(i+="&")}return i}(u),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n))}else o.open("GET",e,!0),i&&(o.responseType="arraybuffer"),o.send()}function St(t,e,i){var n=[];null!=(i=i||"application/octet-stream")&&"string"==typeof i&&-1<i.indexOf("text")&&n.push(new Uint8Array([239,187,191])),n.push(t),e&&(n=t);n=new Blob(n,{type:i}),i=URL.createObjectURL(n),Math.floor(1e6*Math.random());return m["blob_"+i]=n,i}function Bt(t){this.ba=[],this.position=0,this.posEnd=-1,this.offset=0,this.isBlobArray=!1,null!=t&&(this.ba=t)}function Tt(t,e){et.prototype[t]=e}function Dt(){this.o={}}function Et(){this.reset()}function Mt(t,e){if(0<e.width&&0<e.height){for(var i=e.getContext("2d"),n=(16711680&t)>>16,s=(65280&t)>>8,r=255&t,e=i.getImageData(0,0,e.width,e.height),a=e.data,o=0;o<a.length;o+=4)a[o+0]=a[o]*(n/255),a[o+1]=a[o+1]*(s/255),a[o+2]=a[o+2]*(r/255);i.putImageData(e,0,0)}}function kt(t,e,i,n,s){var r=i.getContext("2d"),a=t.width,o=t.height,l=t;"bitmap"==n&&(l=t.div);s=s||{x:0,y:0,width:a,height:o};i.width=a,i.height=o,r.save(),r.drawImage(l,s.x,s.y,s.width,s.height,0,0,s.width,s.height),Mt(e,i),r.restore()}function Pt(t){if(null==t)return null;var e=Ot(t),i=t.width,n=t.height,s=parseInt(t.x),r=parseInt(t.y),t=t.point;return function(t,e,i,n,s,r,a){var o=!1,l=a*Math.PI/180,h=new Et;h.translate(i,n),h.translate(t,e),h.rotate(l),h.translate(-t,-e),a<0&&(a=360<(u=-a)?(f=Math.floor(u/360),360-(u-360*f)):360-u);var e=0,u=0;{var c,d;0<=a&&(360<a&&(f=Math.floor(a/360),a-=360*f),a<=90?(c=h.transformPoint(0,r),d=h.transformPoint(0,0),e=c[0],u=d[1]):a<180?(c=h.transformPoint(s,r),d=h.transformPoint(0,r),e=c[0],u=d[1],o=!0):a<270?(c=h.transformPoint(s,0),d=h.transformPoint(s,r),e=c[0],u=d[1]):a<360?(c=h.transformPoint(0,0),d=h.transformPoint(s,0),e=c[0],u=d[1],o=!0):(c=h.transformPoint(0,r),d=h.transformPoint(0,0),e=c[0],u=d[1]))}90<a&&(f=Math.floor(a/90),a-=90*f);var f=a*Math.PI/180,a=r*Math.cos(f)+s*Math.sin(f),s=s*Math.cos(f)+r*Math.sin(f),r=s,f=a;o&&(a=r,s=f);return[e,u,s,a]}(parseInt(t.x),parseInt(t.y),s,r,i,n,e.rotation)}function Ft(t){var e={width:0,height:0},i=t._width,n=t._height,s=t._x,r=t._y,a=t.position;if(checkIs(t,"lang.text.TextField"))"relative"==a&&(s+=k,r+=k),s+t._width>=e.width&&(e.width=s+t._width),r+t._height>=e.height&&(e.height=r+t._height);else if(checkIs(t,"lang.display.Bitmap")){var o=i*t.scaleX,l=n*t.scaleY;s+o>=e.width&&(e.width=s+o),r+l>=e.height&&(e.height=r+l)}else if(checkIs(t,"lang.display.Sprite")){s+i>e.width&&(e.width=s+i),r+n>e.height&&(e.height=r+n);var h=t.graphicsList;if(null!=h)for(var u=0;u<h.length;u++){var c=h[u],d=c.w,f=c.h,p=c.x,c=c.y;s+p+d>=e.width&&(e.width=s+p+d),r+c+f>=e.height&&(e.height=r+c+f)}"relative"==a&&t.updateRelativePos();for(u=0;u<t.list.length;u++){var v=Ft(t.list[u]);s+v.width>=e.width&&(e.width=s+v.width),r+v.height>=e.height&&(e.height=r+v.height)}}return e}function At(){}function It(){}function jt(){}function Lt(){}function Ot(t){var e={x:0,y:0,width:0,height:0,scaleX:1,scaleY:1,rotation:0,alpha:1,mask:null};e.scaleX=x,e.scaleY=x;var i,n,s=!1,r=!1;if(null!=t){"currentMatrix"in t&&null!=t.currentMatrix&&(s=!0),e.alpha*=t._alpha,e.scaleX*=t._scaleX,e.scaleY*=t._scaleY,e.rotation+=t._rotation,e.updateDOM=t.updateDOM;for(var a=t.objectParent;a;)s||(e.x+=a._x,e.y+=a._y),e.updateDOM||(a.updateDOM=!1),"noScaleDom"in a&&1==a.noScaleDom&&!r?r=!0:(e.scaleX*=a._scaleX,e.scaleY*=a._scaleY),e.alpha*=a._alpha,e.rotation+=a._rotation,null==e.mask&&null!=a._mask&&(e.mask=a._mask),null==e.mask&&a._scroll&&(e.mask=a),a=a.objectParent}return s?(i=0*(n=t.currentMatrix).a+0*n.c+n.e,n=0*n.b+0*n.d+n.f,e.x=i,e.y=n):(e.x+=t._x,e.y+=t._y),null==e.mask&&null!=t._mask&&(e.mask=t._mask),null==e.mask&&t._scroll&&(e.mask=t),e.isMatrix=s,e}function Rt(t,e,i){if(null!=i){var n=Ot(i),s=null,s=i._scroll?{width:i._width,height:i._height}:Ft(i);if(t.pageY-n.y<0||t.pageY-n.y>s.height*n.scaleY)return}return 1}function zt(t){if(null!=t)if(t.isSprite){for(var e=0;e<t.list.length;e++)if(zt(t.list[e]))return!0}else if(t.isBMCSpr){var i=!1;if("isStop"in t&&t.isStop&&(i=!0),!i)return!0}return!1}function Ut(t){document.body.style.cursor=t}function Yt(){}function Nt(){}function Vt(){}function Ht(t){var t=""+t.toString(16),e=t.length,i="";if(e<6)for(var n=0;n<6-e;n++)i+="0";return"#"+(i+""+t)}function Xt(){this.props=new Dt;var t=this;t.list=[],t.moveToPos=null,t.lineToPos=null,t.rotateV=0,t.alpha=1,t._target=null,this._clear1()}function Gt(t,e,i,n,s,r,a,o){if(0==a)return l=t,h=e,u=s,c=r,(d=o).x>=Math.min(l,l+u)&&d.x<Math.max(l,l+u)&&d.y>=Math.min(h,h+c)&&d.y<Math.max(h,h+c);var l,h,u,c,d,c=a*Math.PI/180,a=o.x-t,t=o.y-e,o=Math.cos(-c),e=Math.sin(-c),c=o*a-e*t,t=e*a+o*t;return-i<=c&&c<=s-i&&-n<=t&&t<=r-n}function Wt(t,e){if(null!=t){if("objData"in t)return t.objData;t=function(t){if(null!=t)for(var e=t.parentNode;e;){if("objData"in e)return e.objData;e=e.parentNode}return null}(t);if(null!=t)return t}return e}function Jt(){this.data=[],this.nativeEvents=[]}function qt(){}m.alert=nt,ut.prototype.getArgs=function(){var t=this,e=[];if(t.o)if(rt(t.o))e=t.o;else if("length"in t.o)for(var i=0;i<t.o.length;i++)e.push(t.o[i]);else e.push(t.o);return e},Bt.prototype.ctor=function(){Z(this,"size",function(){return this.ba.length}),Z(this,"length",function(){return this.ba.length})},et=Bt,Tt("writeInt",function(t){t&=4294967295,this.writeU8(t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t>>0)}),Tt("writeShort",function(t){t&=65535,this.writeU8(t>>8),this.writeU8(t>>0)}),Tt("writeNumber",function(t){this.writeString(""+t)}),Tt("writeDouble",function(t){var e=new ArrayBuffer(8),i=new DataView(e);i.setFloat64(0,t,!1);for(var n=0;n<e.byteLength;n++)this.writeByte(i.getUint8(n))}),Tt("writeByte",function(t){null!=t&&(this.ba[this.position]=t,this.position+=1)}),Tt("writeUTFBytes",function(t){t=t||"";for(var e=this,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e.writeByte(n):(n<2048?e.writeByte(192|n>>6):(n<55296||57344<=n?e.writeByte(224|n>>12):(i+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),e.writeByte(240|n>>18),e.writeByte(128|n>>12&63)),e.writeByte(128|n>>6&63)),e.writeByte(128|63&n))}}),Tt("writeBytes",function(){var t;0<arguments.length&&("lang.utils.ByteArray"==wt(t=arguments[0])&&this.writeBytes2(t.ba))}),Tt("writeBytes2",function(t){if(null!=t)for(var e=0;e<t.length;e++)this.writeByte(t[e])}),Tt("writeBoolean",function(t){null!=t&&(t=1==t?1:0,this.writeByte(t))}),Tt("writeString",function(t){var e=!1;1<arguments.length&&"big"==arguments[1]&&(e=!0);var i=2,n=this.position;e?(this.writeInt(0),i=4):this.writeShort(0),this.writeUTFBytes(t);var s=this.position,i=this.position-(n+i);this.position=n,e?this.writeInt(i):this.writeShort(i),this.position=s}),Tt("writeObject",function(t){var e,i=typeof t;if(null==t||null==t)this.writeByte(0);else if(rt(t)){var n=t.length;this.writeByte(5),this.writeInt(n);for(var s=0;s<n;s++)this.writeObject(t[s])}else if("number"==i)(e=t)===+e&&e!==(0|e)?(this.writeByte(2),this.writeString(""+t)):(this.writeByte(1),this.writeInt(t));else if("object"==i){var r,a=0;for(r in t)a+=1;for(r in this.writeByte(6),this.writeInt(a),t)this.writeObject(r),this.writeObject(t[r])}else"string"==i?65535<t.length?(this.writeByte(10),this.writeString(t,"big")):(this.writeByte(3),this.writeString(t,"normal")):"boolean"==i&&(this.writeByte(4),this.writeBoolean(t))}),Tt("writeU8",function(t){t&=255,this.ba[this.position]=t,this.position+=1}),Tt("readInt",function(){var t=0;return t|=this.readByte()<<24,t|=this.readByte()<<16,t|=this.readByte()<<8,t|=this.readByte()<<0}),Tt("readShort",function(){var t=0;return t|=this.readByte()<<8,t|=this.readByte()<<0}),Tt("readNumber",function(){var t=this.readString();return t?parseFloat(t):null}),Tt("readDouble",function(){for(var t=new ArrayBuffer(8),e=new DataView(t),i=0;i<t.byteLength;i++)e.setUint8(i,this.readByte());return e.getFloat64(0)}),Tt("readByte",function(){if(this.position>=this.ba.length)throw new Error("End of file was encountered");return this.ba[this.position++]}),Tt("readBytes2",function(t){for(var e=[],i=0;i<t;i++){var n=this.readByte();e.push(n)}return e}),Tt("readString",function(){var t=this.readShort();return this.readUTFBytes(t)}),Tt("readUTFBytes",function(t){t=this.readBytes2(t);return this._readUTF8(t)}),Tt("_readUTF8",function(t){var e="";if(t){var i=t.length;if(0<i)for(var n=0;n<i;n++){var s,r,a=t[n];a<128?e+=String.fromCharCode(a):191<a&&a<224?(s=t[n+=1],e+=String.fromCharCode((31&a)<<6|63&s)):223<a&&a<240?(s=t[n+=1],r=t[n+=1],e+=String.fromCharCode((15&a)<<12|(63&s)<<6|63&r)):(a=((7&a)<<18|(63&(s=t[n+=1]))<<12|(63&(r=t[n+=1]))<<6|63&t[n+=1])-65536,e+=String.fromCharCode(a>>10|55296),e+=String.fromCharCode(1023&a|56320))}}return e}),Tt("readBoolean",function(){return 1==this.readByte()}),Tt("readObject",function(){var t=null;if(0<this.available()){var e=this.readByte();if(5==e){t=[];for(var i=this.readInt(),n=0;n<i;n++){var s=this.readObject();t.push(s)}}else if(1==e)t=this.readInt();else if(2==e)t=s=this.readNumber();else if(3==e)t=this.readString();else if(10==e){var r=this.readInt();t=this.readUTFBytes(r)}else if(4==e)t=this.readBoolean();else if(6==e){var a=this.readInt();t={};for(n=0;n<a;n++){var o=this.readObject(),s=this.readObject();t[o]=s}}else{if(0!=e)throw new Error("error read object");t=null}}return t}),Tt("isEnd",function(){if(null!=this.ba){var t=this.ba.length-this.position;if(-1!=this.posEnd&&(t=this.posEnd-this.position),0<t)return!1}return!0}),Tt("available",function(){if(null==this.ba)return 0;var t=this.ba.length-this.position;return t<=0&&(t=0),t}),Tt("getBytes",function(){if(this.isBlobArray)return this.ba;for(var t=new Uint8Array(this.ba.length),e=0;e<this.ba.length;e++){var i=this.ba[e];t[e]=i}return t}),Tt("cut",function(t,e){0<this.ba.length&&(e=e||0,this.ba.splice(this.position+e,t))}),Tt("toBlobConvert",function(){return St(this.getBytes(),this.isBlobArray)}),Tt("readBytes",function(t,e,i){if(null!=t){i<=0&&(i=this.ba.length),i<=e&&(e=i),this.position=this.position+e;for(var n=0;n<i;n++)t.writeByte(this.ba[this.position++])}}),Tt("saveFile",function(t,e){var i=document.createElement("a"),n=t,t=n.split("/");0<t.length&&(n=t[t.length-1]),i.href=e,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}),Tt("compress",function(){if("undefined"!=typeof pako)try{var t=this.getBytes(),t=pako.deflate(t);if(t)return this.ba=t,this.position=this.ba.length,!0}catch(t){}return!1}),Tt("uncompress",function(){if("undefined"!=typeof pako)try{var t=this.ba;t instanceof Uint8Array||(t=this.getBytes());t=pako.inflate(t);if(t)return this.ba=t,!(this.position=0)}catch(t){}return!1}),ft(Dt.prototype,{get:function(t){return void 0!==t&&t in this.o?this.o[t]:null},put:function(t,e){void 0!==t&&(this.o[t]=e)},remove:function(t){void 0!==t&&t in this.o&&delete this.o[t]}}),ft(Et.prototype,{ctor:function(){},identity:function(){this.reset()},reset:function(){this.m=[1,0,0,1,0,0]},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.m[0]*e+this.m[2]*i,s=this.m[1]*e+this.m[3]*i,t=this.m[0]*-i+this.m[2]*e,e=this.m[1]*-i+this.m[3]*e;this.m[0]=n,this.m[1]=s,this.m[2]=t,this.m[3]=e},translate:function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},scale:function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},transformPoint:function(t,e){var i=t;return[t=i*this.m[0]+e*this.m[2]+this.m[4],e=i*this.m[1]+e*this.m[3]+this.m[5]]}}),ft(At.prototype,{ctor:function(){var t=new Dt;Object.defineProperty(this,"props",{get:function(){return t}});var i=this;this.audio=new Audio,this.audio.onended=function(){i.dispatchEvent("end")},this.props.put("div",this.audio),this.audio.style.position="absolute",this.audio.controls="controls",this.srcUrl="",this.put=function(t,e){"src"==t?("lang.utils.ByteArray"==wt(e)&&("blobStr"in e?e.blobStr:(e.blobStr=e.toBlobConvert(),e=e.blobStr)),this.srcUrl=e,this.audio.src=e):"loop"==t?this.audio.loop=1:"volume"==t?this.audio.volume=e/100:"seek"==t?this.audio.currentTime=e:this["_"+t]=e},this.get=function(t){return"duration"!=t?"currentTime"==t?((e=i.audio.currentTime)<=0&&(e=0),e):"src"==t?i.srcUrl:"seek"==t?i.audio.currentTime:null:((e=i.audio.duration)<=0&&(e=0),e);var e};for(var e=["src","loop","volume","seek"],n={},s=0;s<e.length;s++)!function(e){n[e]={configurable:!1,set:function(t){this.put(e,t)},get:function(){return this["_"+e]}}}(e[s]);Object.defineProperties(this,n)},destroy:function(){this.stop()},play:function(){this.audio.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0}}),ft(It.prototype,{ctor:function(){var i=this;this.stats=null,this.tick=null,this._id=-1,this._debug=!1,this.events=[];var n=this.put;this.put=function(t,e){"debug"==t&&(i._debug=e,void 0!==m.Stats&&(1==e?null==i.stats&&(i.stats=new Stats,i.stats.showPanel(0),document.body.appendChild(i.stats.dom)):null!=i.stats&&(document.body.removeChild(i.stats.dom),i.stats=null))),n.apply(i,arguments)}},add:function(t){null!=t&&this.events.push(t)},remove:function(t){for(var e=0;e<this.events.length;e++)this.events[e]==t&&this.events.splice(e,1)},run:function(){var t;null==this.tick&&(this.tick={},t=m.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow),this.startTime=(new Date).getTime(),this.then=(t&&t.call(performance)||(new Date).getTime())-this.startTime,this.animate())},stop:function(){cancelAnimationFrame(this._id),this.tick=null},animate:function(t){var e=this;this._id=requestAnimationFrame(function(t){e.animate(t)}),this.now=t,this.elapsed=this.now-this.then;t=1e3/this.framerate;if(this.elapsed>t){null!=this.stats&&this.stats.begin(),this.then=this.now-this.elapsed%t;t=this._callback;null!=t&&ce(t,this,[this.now]);for(var i=0;i<this.events.length;i++){var n=this.events[i];n&&("lang.display.Canvas"==wt(n)?n.autoUpdate():"function"==typeof n?n():"update"in n&&n.update())}null!=this.stats&&this.stats.end()}}}),ft(jt.prototype,{ctor:function(){var t=this;this.objectParameters={},document.body.appendChild(this.div);this.get,this.put;Z(t=this,"stageWidth",function(){return stage.getStageSizeByVM(t.vm).width}),Z(t,"stageHeight",function(){return stage.getStageSizeByVM(t.vm).height}),Z(t,"devicePixelRatio",function(){return"devicePixelRatio"in m?m.devicePixelRatio:1}),Object.defineProperty(t,"pixelRatio",{get:function(){return x},set:function(t){g=!1,1<(x=t)&&(g=!0)}}),Object.defineProperty(t,"displayState",{get:function(){return screenfull&&screenfull.isFullscreen?"fullscreen":"normal"},set:function(t){"fullscreen"==t?screenfull&&screenfull.request():"normal"==t&&screenfull&&screenfull.exit()}}),ft(this,{getStageSizeByVM:function(t){var e=0,i=0,e=m.innerWidth,i=m.innerHeight;return stage&&("appMinWidth"in stage&&stage.appMinWidth>e&&(e=stage.appMinWidth),"appMinHeight"in stage&&stage.appMinHeight>i&&(i=stage.appMinHeight)),{width:e,height:i}}})}}),ft(Lt.prototype,{cacheDisplay:function(t,e,i){var n,s,r;null==this._cacheCanvas&&(n=x*t.scaleX,s=x*t.scaleY,(r=document.createElement("canvas")).width=lt(e*n),r.height=lt(i*s),e=r.getContext("2d"),i={x:this._x,y:this._y,alpha:this._alpha},this._x=0,this._y=0,this._alpha=1,e.scale(n/this.scaleX,s/this.scaleY),t.draw(e,this,!1,!0),this._x=i.x,this._y=i.y,this._alpha=i.alpha,this._cacheCanvas=r,this._noCacheBitmap&&(this._noCacheBitmap=!1,this.uncacheDisplay()),r.cacheCnvData={scaleX:n,scaleY:s})},uncacheDisplay:function(){null!=this._cacheCanvas&&(this._cacheCanvas.width=0,this._cacheCanvas.height=0,this._cacheCanvas=null)},updateRelativePos:function(){for(var t=0,e=0,i=this._width,n=(this._height,0);n<this.list.length;n++){var s,r,a=this.list[n];"relative"==a.get("position")&&(at(a,"lang.text.TextField")?(a.put("x",t),a.put("y",e),e+=a._height+k):at(a,"lang.display.Bitmap")?(a.put("x",t),a.put("y",e),s=a._width*a.get("scaleX"),r=a._height*a.get("scaleY"),i<(t+=s)+s&&(t=0,e+=r+k)):at(a,"lang.display.Sprite")&&(a.updateRelativePos(),a.put("x",t),a.put("y",e)))}},calculateSize:function(){return Ft(this)},_createCanvasHitTest:function(){var t;null==this.ctxHitTest&&((t=document.createElement("canvas")).width=1,t.height=1,t=t.getContext("2d"),this.ctxHitTest=t)},ctor:function(){var e=this;if(!("initCtorV"in e)){e.initCtorV=!0;var t=new Dt;t.put("list",[]);var i=document.createElement("div");i.style.position="absolute",i.dataClass=this,t.put("div",i),this.spr=null,Object.defineProperty(this,"props",{get:function(){return t}}),Object.defineProperty(this,"div",{get:function(){return t.get("div")}}),Object.defineProperty(this,"list",{get:function(){return t.get("list")}}),p&&(this.spr=new p.Container),this.updateDOM=!0,this.ctxHitTest=null,this._cacheCanvas=null,this._VScrollBar=null,this.maskSprite=null,this.shadowText=null,this.filters=[],this._point={x:0,y:0},this._x=0,this._y=0,this.cacheBitmapSize=null,this._tint=16777215,this._tintedCanvas=null,this._cacheAsBitmap=!1,this._noCacheBitmap=!1,this.isSprite=!0,this._offsetXPos=0,this._offsetYPos=0,this.lastWidth=0,this.lastHeight=0,this._mask=null,this._width=0,this._height=0,this.mask=null,this._scaleX=1,this._scaleY=1,this._scroll=!1,this._scrollTop=0,this._visible=!0,this._alpha=1,this._buttonMode=!1,this._mouseChildren=!0,this._mouseEnabled=!0,this._rotation=0,this._position="absolute";this.put,this.get;Z(this,"numChildren",function(){return this.list.length}),Z(this,"stage",function(){return stage}),Z(this,"parent",function(){if("objectParent"in this)return this.objectParent}),Z(this,"loaderInfo",function(){return N}),Z(this,"scrollHeight",function(){return this.div.scrollHeight-this.div.clientHeight}),Object.defineProperty(this,"cacheAsBitmap",{get:function(){return e._cacheAsBitmap},set:function(t){(e._cacheAsBitmap=t)||e.uncacheDisplay()}}),Object.defineProperty(this,"tint",{get:function(){return e._tint},set:function(t){16777215==(e._tint=t)&&o._tintedCanvas&&(o._tintedCanvas=null)}}),Object.defineProperty(this,"scrollTop",{get:function(){return e.div.scrollTop},set:function(t){e.div.scrollTop=t,e._scrollTop=t}}),Object.defineProperty(this,"html",{get:function(){return e.div.innerHTML},set:function(t){e.div.innerHTML=""+t}}),Object.defineProperty(this,"mouseChildren",{get:function(){return e._mouseChildren},set:function(t){e._mouseChildren=t}});for(var n={},s=0;s<E.length;s++)!function(e){n[e]={configurable:!1,set:function(t){this.put(e,t,!0)},get:function(){if("width"!=e&&"height"!=e)return this["_"+e];if(this.isBitmapSpr)return"width"==e?this.naturalWidth:this.naturalHeight;if(this.isTextSpr)return"width"==e?this._width:this._height;var t=Ft(this);return"width"==e?t.width-this._x:t.height-this._y}}}(E[s]);Object.defineProperties(this,n),ft(this,{put:function(t,e,i,n){var s=this,r=!0;"width"!=t&&"height"!=t||"lang.text.TextField"!=wt(s)||!i||(r=!1),r&&(this["_"+t]=e);r="_v_"+t;if(t in D&&(r in s==0&&(s[r]=0),s[r]!=e&&(s[r]=e,R=!0)),"x"==t)this._x=e,p&&this.spr&&(this.spr.x=e),this.updateDomTransform();else if("y"==t)this._y=e,p&&this.spr&&(this.spr.y=e),this.updateDomTransform();else if("mouseEnabled"==t)this.div.style.pointerEvents=e?"":"none";else if("point"==t)this.updateDomTransform();else if("selectable"==t)e=e?"":"none",this.css({userSelect:e,"-webkit-user-drag":e,"user-drag":e});else if("width"==t)e!=this.lastWidth&&("lang.display.Canvas"==wt(this)?this.div.width=e:this.div.style.width=e+"px"),this.lastWidth=e;else if("mask"==t)null!=e?(e.maskSprite=s,e.div.style.display="none",this.put("scroll",!0)):(e.maskSprite=null,this.put("scroll",!1));else if("height"==t)e!=this.lastHeight&&("lang.display.Canvas"==wt(this)?this.div.height=e:this.div.style.height=e+"px"),this.lastHeight=e;else if("scroll"==t)this.div.style.overflow=e?"auto":"hidden",this.div.style.overflowX=e?"hidden":"auto";else if("alpha"==t)this.css({opacity:e});else if("scrollTop"==t)this.div.scrollTop=e,this._scrollTop=e;else if("buttonMode"==t)e=e?"pointer":"default",this.css({cursor:e});else if("rotation"==t)p&&this.spr&&(this.spr.rotation=e),this.updateDomTransform();else if("position"==t)this.div.style.position=e;else if("visible"==t)this.div.style.display=e?"block":"none";else if("html"!=t)if("filters"==t){this._filters=e,this.shadowText=null;var a="";if(0<e.length)for(var o=0;o<e.length;o++){var l=e[o],h=1,u=1,c=1,d="#000000",f=l.id;"offsetX"in l&&(u=l.offsetX),"offsetY"in l&&(c=l.offsetY),"blur"in l&&(h=l.blur),"color"in l&&(d=l.color),this.shadowText=l,"shadow"==f?a="-1px -1px 1px "+d+",1px -1px 1px "+d+",-1px 1px 1px "+d+",1px 1px 1px "+d:"shadow1"==f&&(a+=u+"px "+c+"px "+h+"px "+d,o!=e.length-1&&(a+=","))}s.css({"text-shadow":a})}else"scaleX"==t||"scaleY"==t?(p&&this.spr&&("scaleX"==t?this.spr.scale.x=e:"scaleY"==t&&(this.spr.scale.y=e)),this.updateDomTransform()):n||(this[t]=e)}})}},updateDomTransform:function(){var t,e,i,n,s,r,a;this.updateDOM&&(t=this._scaleX,a=this._scaleY,r=this._point,e=this._rotation,i=r.x,n=r.y,"noScaleDom"in this&&this.noScaleDom&&(a=t=1),s=this._x-i-this._offsetXPos,r=this._y-n-this._offsetYPos,a="scale("+t+","+a+")",0!=e&&(a+=" rotate("+e+"deg)"),this.css({transform:a,transformOrigin:i+"px "+n+"px",left:s+"px",top:r+"px"}))},getChildAt:function(t){return t<=this.list.length?this.list[t]:null},_addStageHandler:function(){for(var t=0;t<this.list.length;t++){var e=this.list[t];"function"==typeof e._addStageHandler&&e._addStageHandler()}this._unfreezeEvents()},_removeStageHandler:function(){for(var t=0;t<this.list.length;t++){var e=this.list[t];"function"==typeof e._removeStageHandler&&e._removeStageHandler()}this._freezeEvents()},setChildIndex:function(t,e){var i=null;if(-1<e&&e<this.list.length&&(i=this.list[e]),null!=t&&null!=i)for(var n=0;n<this.list.length;n++){var s=this.list[n];if(s==t){this.list[e]=s,this.list[n]=i,R=!0;break}}},addChildAt:function(t,e){t.objectParent=this,t.div.objData=t,this.list.splice(e,0,t),void 0!==t.div&&this.div.appendChild(t.div),t._addStageHandler(),R=z=!0},addChild:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(e&&"object"==typeof e){for(var i=!1,n=0;n<this.list.length;n++)if(this.list[n]==e){i=!0;break}i||(e.objectParent=this,e.div.objData=e,this.list.push(e),void 0!==e.div&&e.div.parentNode!=this.div&&this.div.appendChild(e.div),e._addStageHandler(),R=z=!0)}}},removeChild:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(e&&"object"==typeof e)for(var i=0;i<this.list.length;i++)if(this.list[i]==e){if(this.list.splice(i,1),R=U=!0,void 0!==e.div)for(var n=0;n<this.div.children.length;n++)if(this.div.children[n]==e.div){this.div.removeChild(e.div);break}e._removeStageHandler();break}}},removeAllChilds:function(){for(;0<this.numChildren;){var t=this.getChildAt(0);t.parent.removeChild(t)}},getBounds:function(){var t=Pt(this);return{left:t[0],top:t[1],width:t[2],height:t[3]}},localToGlobal:function(t){var e=0,i=0;null!=t&&"object"==typeof t&&("x"in(n=t)&&(e=n.x),"y"in n&&(i=n.y));var n,s,t={x:e,y:i};return"currentMatrix"in this&&null!=this.currentMatrix?(n=e+(s=this.currentMatrix).e/s.a,s=i+s.f/s.d,t.x=n,t.y=s):(s=Ot(this),t.x=e+s.x,t.y=i+s.y),t},globalToLocal:function(t){var e=0,i=0;return null!=t&&"object"==typeof t&&("x"in(t=t)&&(e=t.x),"y"in t&&(i=t.y)),{x:-this.x+e,y:-this.y+i}},css:function(t){ft(this.div.style,t)},attr:function(t){ft(this.div,t)},html:function(t){this.div.innerHTML=t},getAbsolutePos:function(){var t=0,e=0;if(null!=this)for(var i=this.objectParent;i;)t+=i._x,e+=i._y,i=i.objectParent;return{x:t+=this.x,y:e+=this.y}}}),ft(Yt.prototype,{ctor:function(){var a=this;"props"in this||(this.props=new Dt),this.isClear=!0,this.isSprite=!0,this.resolution=1,this.noScaleDom=!0,this.curDragElem=null,this.mouseDownElem=null,this.focusElement=null;var t=document.createElement("canvas");t.style.position="absolute",this.ctx=t.getContext("2d"),this.props.put("div",t),this.addChild=function(t){t.objectParent=this,t.div.objData=t,this.list.push(t),t._addStageHandler()};function i(t){var e=(r=t).type,i=e;if(f&&t instanceof TouchEvent){e in j&&(e=j[e]);for(var n=0;n<t.changedTouches.length;n++){var s=t.changedTouches[n],r={type:e,pageX:s.clientX,pageY:s.clientY,button:0,touchPointID:s.identifier,target:s.target,preventDefault:function(){}};a.mouseEvents(r)}r=null}null!=r&&a.mouseEvents(r),"mouseout"!=e&&"touchend"!=i||(O=null)}var n=this._addStageHandler;this._removeStageHandler;this._removeStageHandler=function(){O=null},this._addStageHandler=function(){var t=A;f&&(t=I);for(var e=0;e<t.length;e++)a.div.removeEventListener(t[e],i),a.div.addEventListener(t[e],i);f&&!P&&(P=!0,m.addEventListener("touchend",function(t){0==t.touches.length&&(O=null)})),n.apply(a,[])}},hitTestPosCanvas:function(t,e,i,n,s){if(at(t,"lang.display.Sprite"))for(var r=t.list.length-1;0<=r;r--)if(at(e=t.list[r],"lang.text.TextField")&&e.mouseEnabled&&e.visible){var a=Ot(e),o=e.point;if(0<e.width&&0<e.height&&Gt(a.x,a.y,o.x,o.y,e.width*a.scaleX,e.height*a.scaleY,a.rotation,{x:i.pageX,y:i.pageY}))return null==a.mask||Rt(i,0,a.mask)?t.mouseChildren?e:t:null}else if(at(e,"lang.display.Bitmap")&&e.visible&&e.mouseEnabled&&e.isLoad){a=Ot(e),o=e.point;if(e.mouseEnabled){var l=a.x,h=a.y,u=e.width,c=e.height,d=e.div.naturalWidth,f=e.div.naturalHeight;0==d&&null!=u&&(d=u),0==f&&null!=c&&(f=c),"sourceRect"in e&&(null!=(c=e.sourceRect)&&"w"in c&&"h"in c&&0<c.w&&0<c.h&&(d=c.w,f=c.h));a.scaleX,a.scaleY;if(Gt(l,h,0,0,d*a.scaleX,f*a.scaleY,a.rotation,{x:i.pageX,y:i.pageY}))return t.mouseChildren?e:t}}else if(at(e,"lang.display.BitmapMovieClip")&&e.visible&&e.mouseEnabled){a=Ot(e);if(e.mouseEnabled&&null!=e.currentFrameObj){var f=e.currentFrameObj.width,p=e.currentFrameObj.height;if(0<f&&0<p&&Gt(a.x-e.point.x-e.offsetX,a.y-e.point.y-e.offsetY,e.point.x,e.point.y,f*a.scaleX,p*a.scaleY,a.rotation,{x:i.pageX,y:i.pageY}))return t.mouseChildren?e:t}}else if(at(e,"lang.display.Sprite")&&e.mouseEnabled&&e.visible){var a=Ot(e),v=e.graphicsList,p=this.hitTestPosCanvas(e,t,i,n,s),o=e.point;if(p)return t.mouseChildren?p:t;for(var g=0;g<v.length;g++){var y=v[g];if("rect"==y.type){var m=!1;if(0<y.rounded&&y.w==y.h&&y.rounded==2*y.w&&(m=!0),m){if(function(t,e,i){if(0===i)return!1;var n=e.x-t.x,t=e.y-t.y;return n*n+t*t<=i*i}({x:i.pageX,y:i.pageY},{x:(a.x+y.x)*a.scaleX,y:(a.y+y.y)*a.scaleY},y.rounded/2))return t.mouseChildren?e:t}else if(Gt(a.x+y.x*a.scaleX,a.y+y.y*a.scaleY,o.x,o.y,y.w*a.scaleX,y.h*a.scaleY,a.rotation,{x:i.pageX,y:i.pageY}))return null==a.mask||Rt(i,0,a.mask)?t.mouseChildren?e:t:null}}}return null},createMouseEvent:function(t,e){var i=pt("lang.events.MouseEvent");return i.mouseX=e.pageX,i.mouseY=e.pageY,"touchPointID"in e&&(i.touchPointID=e.touchPointID),i.target=t,i},mouseEvents:function(t,e){var i=x;g||(i=1);var n=t.pageX*i,i=t.pageY*i,n=this.hitTestPosCanvas(this,null,{pageX:n,pageY:i},n,i);C.x=t.pageX,C.y=t.pageY;var s,i=t.type;"click"==i&&this.mouseDownElem!=n&&(n=null),null!=n&&("mouseup"==i?null!=this.curDragElem&&this.curDragElem.stopDrag():"mousedown"==i&&(this.mouseDownElem=n),"mousemove"==i?n.hasEvent(i)&&ue(n,i,s=this.createMouseEvent(n,t)):(2==t.button&&"mousedown"==i&&(i="rclick"),n.hasEvent(i)&&(s=this.createMouseEvent(n,t),"mousewheel"==i&&s.put("deltaY",t.deltaY),ue(n,i,s),t.preventDefault()),"rclick"==i&&t.preventDefault())),this.setFocusElement(t,n)},setFocusElement:function(t,e){var i;null!=(O=e)?(null!=this.focusElement&&this.focusElement!=e?(i=this.focusElement,""!=document.body.style.cursor&&(document.body.style.cursor=""),i.isRollMouse&&(i.hasEvent("rollout")&&ue(i,"rollout",this.createMouseEvent(i,t)),i.isRollMouse=!1)):(e.isRollMouse||(e.isRollMouse=!0,e.hasEvent("rollover")&&ue(e,"rollover",this.createMouseEvent(e,t))),e.get("buttonMode")&&(e.visible?"mouseout"!=t.type&&"click"!=t.type?Ut("pointer"):Ut(""):""!=document.body.style.cursor&&(document.body.style.cursor=""))),this.focusElement=e):null!=this.focusElement&&this.focusElement.get("buttonMode")&&Ut("")},setTransformContext:function(t,e,i){var n=null,s=e._point,r=0|e._x,a=0|e._y,o=0|s.x,l=0|s.y,h=e._scaleX,u=e._scaleY,s=e._rotation;e.isBMCSpr&&("offsetX"in e==0&&(e.offsetX=0),"offsetY"in e==0&&(e.offsetY=0)),i?(t.globalAlpha=t.globalAlpha/e._alpha,e.isBMCSpr?(0<o&&0<l&&t.translate(o,l),t.translate(e.offsetX,e.offsetY),t.scale(1/h,1/u)):(t.scale(1/h,1/u),t.translate(o,l)),t.rotate(-s*Math.PI/180),t.translate(-r,-a)):(t.globalAlpha=t.globalAlpha*e._alpha,t.translate(r,a),t.rotate(s*Math.PI/180),n=(e.isBMCSpr?(t.scale(h,u),t.translate(-e.offsetX-o,-e.offsetY-l)):(t.translate(-o,-l),t.scale(h,u)),mt(t))),null!=n&&(e.currentMatrix=n)},draw:function(t,e,i,n,s){if(null!=t&&null!=e&&e._visible){var r=e._scroll,a=t.globalAlpha,o=e._mask;if(null!=o&&(t.save(),t.globalAlpha=0,this.draw(t,o,i,n,s),t.globalAlpha=a,t.clip()),e.isBitmapSpr){var l,h,u,c=!1;(e&&e.isLoad||e.bm&&e.bm.isLoad)&&(c=!0),c&&(t.save(),n&&this.setTransformContext(t,e),l=!1,f=d=0,e.naturalWidth,e.naturalHeight,"sourceRect"in e&&(null!=(h=e.sourceRect)&&"w"in h&&"h"in h&&0<h.w&&0<h.h&&("x"in h&&(d=0|h.x),"y"in h&&(f=0|h.y),l=!0)),u=e.div,"bmdData"in e&&(u=e.bmdData.cnv.div,null!=(v=mt(t))&&(c=e.bmdData.resolution,t.setTransform(v.a/c,v.b/c,v.c/c,v.d/c,0|v.e,0|v.f))),16777215!=e._tint&&null==e._tintedCanvas&&(Y=document.createElement("canvas"),0<e.naturalWidth&&0<e.naturalHeight&&(kt(e,e._tint,Y,"bitmap"),e._tintedCanvas=Y)),e._tintedCanvas?t.drawImage(e._tintedCanvas,0,0):l?t.drawImage(u,d,f,h.w,h.h,0,0,h.w,h.h):t.drawImage(u,0,0),t.restore())}else if(e.isTextSpr){t.save();var d=0,f=0,p=0;null!=e.shadowText&&(f=d=-2),"offsetY"in e&&(p+=e.offsetY),n&&this.setTransformContext(t,e);var v,g=bt(this,d,f,e);null!=g&&(null!=(v=mt(t))&&t.setTransform(v.a/g.scX,v.b/g.scX,v.c/g.scY,v.d/g.scY,0|v.e,0|v.f),t.drawImage(g,0,p)),t.restore()}else if(e.isBMCSpr){var y,g=e.bitmap;null!=g&&g.isLoad&&(t.save(),y=e.frames,"currentFrameObj"in e==0&&(e.currentFrameObj=null),w={x:(p=y[e.currentFrame])[0],y:p[1],width:p[2],height:p[3],offsetX:0,offsetY:0},e.currentFrameObj=w,6<p.length&&(e.offsetX=p[5],e.offsetY=p[6],w.offsetX=e.offsetX,w.offsetY=e.offsetY),n&&this.setTransformContext(t,e),p=g.div,16777215!=e._tint&&null==e._tintedCanvas&&(Y=document.createElement("canvas"),0<w.width&&0<w.height&&(kt(g,e._tint,Y,"bitmap"),e._tintedCanvas=Y)),e._tintedCanvas&&(p=e._tintedCanvas),t.drawImage(p,w.x,w.y,w.width,w.height,0,0,w.width,w.height),e.isStop||(i&&("speed"in e?("lastSpeed"in e==0&&(e.lastSpeed=0),e.lastSpeed+=.5,e.lastSpeed>e.speed&&(e.lastSpeed=0,e.currentFrame+=1)):e.currentFrame+=1),e.currentFrame>y.length-1&&(e.currentFrame=0)),t.restore())}else if(e.isSprite)if(e._cacheAsBitmap&&null==e._cacheCanvas&&(0<e.graphicsList.length||0<e.numChildren)&&(A=e.width,I=e.height,e.cacheBitmapSize&&(0<e.cacheBitmapSize.width&&(A=e.cacheBitmapSize.width),0<e.cacheBitmapSize.height&&(I=e.cacheBitmapSize.height)),0<A&&0<I&&(e._cacheAsBitmap=!1,e.cacheDisplay(this,A,I),e._cacheAsBitmap=!0)),null!=e._cacheCanvas)t.save(),n&&this.setTransformContext(t,e),null!=(v=mt(t))&&(y=e._cacheCanvas.cacheCnvData,t.setTransform(v.a/y.scaleX,v.b/y.scaleX,v.c/y.scaleY,v.d/y.scaleY,0|v.e,0|v.f)),t.drawImage(e._cacheCanvas,0,0),t.restore();else{t.save(),n&&this.setTransformContext(t,e);for(var m=e.graphicsList,b=0;b<m.length;b++){var w,x=(w=m[b]).type;if("lineTo"==x)t.lineTo(w.x,w.y);else if("moveTo"==x)t.moveTo(w.x,w.y);else if("curveTo"==x){var _=w.arr;t.quadraticCurveTo(_[0],_[1],_[2],_[3])}else if("translate"==x)t.translate(w.x,w.y);else if("scale"==x)t.scale(w.x,w.y);else if("beginFill"==x)t.beginPath();else if("endFill"==x){var C=w.lineStyle,S=w.fillStyle;null==C.thicknes?t.lineWidth=0:t.lineWidth=C.thickness;var B=C.color,T=S.color,D=w.fillStyle;if("number"==typeof B&&(B=Ht(B)),"number"==typeof T&&(T=Ht(T)),null!=D)if("type"in D){if("linear"==(V=D.type)||"radial"==V){var E=D.p,M=D.colors,k=D.ratios;if("gradientCanvas"in D)T=D.gradientCanvas;else{for(var P=t.createLinearGradient(E[0],E[1],E[2],E[3]),F=0;F<M.length;F++)P.addColorStop(k[F]/255,M[F]);T=D.gradientCanvas=P}}}else null!==D.color&&"number"==typeof(H=D.color)&&(T=Ht(H));t.strokeStyle=B,null!=(t.fillStyle=T)?t.fill():t.stroke()}else{var A=w.w,I=w.h,j=0|w.x,_=0|w.y,C=w.r,S=w.border,B=S.thickness;"image"==x&&(I=A=1);var L,T=w.color;if(0<A&&0<I&&0<e.alpha)if("rect"==x){t.save();var O=w,R=w.rounded,z=!1,U=!0;0<R&&O.w==O.h&&O.rounded==2*O.w&&(z=!0);var Y,N,V,H,X,G,D=w.fillStyle;if(null!=T)if("object"==typeof T&&T.isBitmapSpr)T.isLoad?T="imageCanvas"in T&&null!=T.imageCanvas?T.imageCanvas:(N=T.div,16777215!=T._tint&&null==T._tintedCanvas&&(Y=document.createElement("canvas"),0<T.naturalWidth&&0<T.naturalHeight&&(kt(T,T._tint,Y,"bitmap"),T._tintedCanvas=Y)),T._tintedCanvas&&(N=T._tintedCanvas),N=t.createPattern(N,"repeat"),T.imageCanvas=N):(U=!1,e._noCacheBitmap=!0);else if(null!=T&&"object"==typeof T&&"type"in T)if("linearGradient"==(V=T.type)){E=T.p,M=T.colors,k=T.ratios;if("gradientCanvas"in T)T=T.gradientCanvas;else{for(P=t.createLinearGradient(E[0],E[1],E[2],E[3]),F=0;F<M.length;F++)P.addColorStop(k[F],M[F]);T.gradientCanvas=P,T=P}}if(null!=D)if("type"in D){if("linear"==(V=D.type)||"radial"==V){E=D.p,M=D.colors,k=D.ratios;if("gradientCanvas"in D)T=D.gradientCanvas;else{for(P=t.createLinearGradient(E[0],E[1],E[2],E[3]),F=0;F<M.length;F++)P.addColorStop(k[F]/255,M[F]);T=D.gradientCanvas=P}}}else null!==D.color&&"number"==typeof(H=D.color)&&(T=Ht(H));U&&(t.translate(j,_),t.rotate(C*Math.PI/180),0<B&&(t.lineWidth=B,X=S.color,"colorHex"in S?X=S.colorHex:(X=Ht(X),S.colorHex=X),t.strokeStyle=X),t.fillStyle=T,t.beginPath(),z?t.arc(0,0,R/2,0,2*Math.PI,!1):(0<B&&(A-=B,I-=B),0!=R?yt(t,0,0,A,I,R/2):t.rect(0,0,A,I)),0<B&&(G=t.globalAlpha,t.globalAlpha*=S.alpha,t.stroke(),t.globalAlpha=G),null!=T&&t.fill()),t.restore()}else"rectComplex"==x?(t.save(),X=(U=w.ar1)[0],z=U[1],R=U[2],G=U[3],U=wt(T=(O=w).color),null!=T&&"lang.display.Bitmap"==U&&T.isLoad&&(T="imageCanvas"in T&&null!=T.imageCanvas?T.imageCanvas:(N=t.createPattern(T.div,"repeat"),T.imageCanvas=N)),t.translate(j,_),t.rotate(C*Math.PI/180),0<B&&(t.lineWidth=2*B,t.strokeStyle=Ht(S.color)),0,t.beginPath(),t.moveTo(0+X,0),t.lineTo(0+A-z,0),t.quadraticCurveTo(0+A,0,0+A,0+z),t.lineTo(0+A,0+I-G),t.quadraticCurveTo(0+A,0+I,0+A-G,0+I),t.lineTo(0+R,0+I),t.quadraticCurveTo(0,0+I,0,0+I-R),t.lineTo(0,0+X),t.quadraticCurveTo(0,0,0+X,0),t.closePath(),t.fillStyle=T,0<B&&t.stroke(),t.fill(),t.restore()):"rectImage"==x?(t.beginPath(),yt(t,j,_,A,I,0),L=w.img,N=t.createPattern(L.div,"repeat"),t.fillStyle=N,t.fill(),t.closePath()):"image"==x&&(L=w.img,x=w.bmdObj,t.save(),t.translate(j,_),t.drawImage(L.div,x.x,x.y,x.width,x.height,0,0,x.width,x.height),t.restore())}}t.save(),r&&0<e._width&&0<e._height&&(t.globalAlpha=0,t.beginPath(),t.rect(0,0,e._width,e._height),t.fill(),t.globalAlpha=a,t.clip(),t.translate(0,-e._scrollTop));for(b=0;b<e.list.length;b++){var W=e.list[b];null==W.maskSprite&&this.draw(t,W,i,n,s)}t.restore(),t.restore()}null!=o&&t.restore()}},getContext:function(){return this.ctx},update:function(t){var e=x,i=this._width,n=this._height;this._lastWidth!=i&&(this.div.width=i*e,this._width=i,g&&(this.div.style.width=i+"px")),this._lastWidth=i,this._lastHeight!=n&&(this.div.height=n*e,this._height=n,g&&(this.div.style.height=n+"px")),this._lastHeight=n;e=x*this._scaleX,n=x*this._scaleY;e==y&&n==b||(_=!0),y=e,b=n,this.ctx.save(),this.ctx.scale(e,n);for(var s=0;s<this.list.length;s++){var r=this.list[s];this.draw(this.ctx,r,t,!0)}_=!1,this.ctx.restore()},autoUpdate:function(){var t=R;z&&(z=!1,zt(this)&&(Y=t=!0)),U&&(U=!1,zt(this)||(Y=t=!1)),Y&&(t=!0),t&&(R=!1,this.clear(),this.update(!0))},clear:function(){this.isClear&&this.ctx.clearRect(0,0,this.div.width,this.div.height)}}),ft(Nt.prototype,{ctor:function(t){var i=this;i.lastRatio=1,i.app=u,i.lastSize={w:0,h:0},i.isRedraw=!0,"props"in i||(i.props=new Dt);var e={antialias:!0,autoStart:!1,forceCanvas:!1,autoDensity:!1,clearBeforeRender:!1,backgroundColor:0,resolution:1,transparent:!0};t&&"canvas"in t&&(e.forceCanvas=t.canvas),t&&"antialias"in t&&(e.antialias=t.antialias),null==u&&(i.app=new p.Application(e),i.app.view.style.position="absolute",i.props.put("div",i.app.view),u=i.app),i._stage=i.app.stage,i._stage.interactive=!0,p.settings&&p.settings.engine&&(i.isEngine2=!0);var n=i.put;i.put=function(t,e){"scaleX"==t||"scaleY"==t?(i.isEngine2||("scaleX"==t&&(i._stage.scale.x=e*c),"scaleY"==t&&(i._stage.scale.y=e*c)),this["_"+t]=e):n.apply(i,arguments)}},autoUpdate:function(){var t=this,e=t._width,i=t._height;t.lastRatio!=c&&(document.body.style.overflow=1<c?"":"hidden",t.lastRatio=c),t.app&&(t.lastSize.w==e*c&&t.lastSize.h==i*c||(t.isEngine2||(t.app.renderer.resize(e*c,i*c),t.app.view.style.width=e+"px",t.app.view.style.height=i+"px"),t.isRedraw=!0,t.lastSize.w=e*c,t.lastSize.h=i*c)),t.isRedraw&&t.app&&(t.isRedraw=!1,t.app.renderer.render(t._stage,null,!0))}}),ft(Vt.prototype,{ctor:function(t,e){this.resolution=1,this.cnv=pt("lang.display.Canvas"),this.cnv.div.width=t,this.cnv.div.height=e},draw:function(t){var e;null!=t&&(e=this.resolution,this.cnv.put("resolution",e),this.cnv.ctx.save(),this.cnv.ctx.scale(e,e),this.cnv.draw(this.cnv.ctx,t,!0,!0,1),this.cnv.ctx.restore(),this.cnv.put("resolution",1))},toBase64:function(){try{return this.cnv.div.toDataURL("image/png")}catch(t){}return""},setPixel:function(t,e,i){var n=this.cnv.ctx.getImageData(t,e,1,1),i=[(16711680&(s=i))>>16,(65280&s)>>8,255&s],s=n.data;s[0]=i[0],s[1]=i[1],s[2]=i[2],this.cnv.ctx.putImageData(n,t,e),R=!0},copyPixels:function(t,e,i){null!=t&&null!=e&&null!=i&&"lang.display.BitmapData"==wt(t)&&(e=e,i=i,t=t.cnv.ctx.getImageData(e.x,e.y,e.width,e.height),this.cnv.ctx.getImageData(e.x,e.y,e.width,e.height),e.width,e.height,this.cnv.ctx.putImageData(t,i.x,i.y),R=!0)},getPixel:function(t,e){t=this.cnv.ctx.getImageData(t,e,1,1).data,e=[0,0,0];return 3<=t.length&&(e=[t[0],t[1],t[2]]),e}}),ft(Xt.prototype,{ctor:function(t){},drawObject:function(t){var e,i,n,s,r,a,o,l,h,u,c;null!=t&&(u=null,"_target"in this&&(u=this._target),null!=u&&(e=u.div,0<(n=(c=(i=t).border).thickness)&&(n=n/2|0)<=0&&(n=1),s=c.color,r="",null!=i&&(o=a="",0<i.r&&(a+="transform:rotate("+i.r+"deg);transform-origin: 0 0;"),1!=i.alpha&&(a+="opacity:"+i.alpha+";"),l=i.matrix.x+i.x,h=i.matrix.y+i.y,u=i.w,t=i.h,"rect"==i.type&&(1==(0<(c=i.rounded)&&u==t&&c==2*u?!0:!1)?(l-=(t=u=c)/2,h-=c/2):c/=2,0<c&&(a+="border-radius:"+c+"px;",o+="border-radius:"+c+"px;"),c="","string"==typeof i.color?c=i.color:at(i.color,"lang.display.Bitmap")&&(c="url("+i.color.src+")"),r+=0<n?'<div style="position:absolute;left:'+l+"px;top:"+h+"px;"+a+'"><div style="position:absolute;left:-'+n+"px;top:-"+n+"px;background:"+Ht(s)+";width:"+u+"px;height:"+t+"px;"+o+'"></div><div style="position:absolute;background:'+c+";width:"+(u-2*n)+"px;height:"+(t-2*n)+"px;"+o+'"></div></div>':'<div style="position:absolute;left:'+l+"px;top:"+h+"px;background:"+c+";width:"+u+"px;height:"+t+"px;"+o+'"></div>')),e.innerHTML+=r,R=!0))},clear:function(){var t=this,e=null;"_target"in t&&(e=t._target),null!=e&&(e.html=""),t.list=[],t.rotateV=0,t.alpha=1,this._clear1(),null!=t._target&&(t._target.graphicsList=[],t._target._cacheCanvas&&t._target.uncacheDisplay()),R=!0},setTarget:function(t){null!=t&&at(t,"lang.display.Sprite")&&(this._target=t)},border:function(t,e,i){this.borderFill.thickness=t,this.borderFill.color=e,null==i&&(i=1),this.borderFill.alpha=i},image:function(t,e,i,n){var s=this,r=s.rotateV,a=s.alpha,o=s.translateObj,a={type:"image",border:{thickness:s.borderFill.thickness,color:s.borderFill.color,alpha:s.borderFill.alpha},x:t,y:e,bmdObj:i,img:n,color:0,r:r,matrix:o,alpha:a};s.list.push(a),this.drawObject(a),null!=s._target&&s._target.graphicsList.push(a)},circle:function(t,e,i,n){this.rectRound(t,e,i,i,n,2*i)},rect:function(t,e,i,n,s){this.rectRound(t,e,i,n,s,0)},rectRound:function(t,e,i,n,s,r){var a=this,o=a.rotateV,l=a.alpha,h=a.translateObj,u={thickness:a.borderFill.thickness,color:a.borderFill.color,alpha:a.borderFill.alpha},l={type:"rect",fillStyle:a.fillStyle,border:u,rounded:r,x:t,y:e,w:i,h:n,color:s,r:o,matrix:h,alpha:l};a.list.push(l),this.drawObject(l),null!=a._target&&a._target.graphicsList.push(l),a.borderFill.thickness=0,a.borderFill.color=0},rectComplex:function(t,e,i,n,s,r,a,o,l){var h=this,u=h.rotateV,c=h.alpha,o=[r,a,o,l],l=h.translateObj,o={type:"rectComplex",border:{thickness:h.borderFill.thickness,color:h.borderFill.color,alpha:h.borderFill.alpha},x:t,y:e,w:i,h:n,color:s,r:u,matrix:l,alpha:c,ar1:o};h.list.push(o),this.drawObject(o),null!=h._target&&h._target.graphicsList.push(o),h.borderFill.thickness=0,h.borderFill.color=0,h.borderFill.alpha=1},translate:function(t,e){e={type:"translate",x:t,y:e};this.list.push(e),null!=this._target&&this._target.graphicsList.push(e)},pos:function(t,e){this.translateObj={x:t,y:e}},rotate:function(t){this.rotateV=t},scale:function(t,e){e={type:"scale",x:t,y:e};this.list.push(e),null!=this._target&&this._target.graphicsList.push(e)},createLinearGradient:function(t,e,i,n,s,r){r={type:"linearGradient",p:[t,e,i,n],colors:s,ratios:r};return this.fillStyle=r},beginGradientFill:function(t,e,i,n,s,r,a){i={type:t,p:[n,s,r,a],colors:e,ratios:i};return this.fillStyle=i},_clear1:function(){this.translateObj={x:0,y:0},this.borderFill={thickness:0,color:0,alpha:1},this.lineStyleFill={thickness:0,color:null},this.fillStyle={color:null,alpha:1}}}),ft(Jt.prototype,{emitByTypeAndArgs:function(t,e){e=e||[];for(var i=0;i<this.data.length;i++){var n,s=this.data[i];s.type==t&&(n=s.cbvm,s.vm.callMethodVoid(n,this,e,!0))}},removeAllEvents:function(){if("list"in this)for(var t=0;t<this.list.length;t++)"function"==typeof(e=this.list[t]).removeAllEvents&&e.removeAllEvents();for(var e,t=0;t<this.nativeEvents.length;t++)(e=this.nativeEvents[t]).nativeTarget.removeEventListener(e.eventType,e.cb);this.nativeEvents=[],this.data=[]},emitMouseEventA1:function(t,e,i,n,s,r){var a;C.x=r.pageX,C.y=r.pageY,"mousedown"==i&&0!=r.button||"click"==i&&0!=r.button||("rclick"==i&&(r.target instanceof m.HTMLSpanElement||r.target instanceof m.HTMLInputElement||r.preventDefault()),(a=pt("lang.events.MouseEvent")).mouseX=C.x,a.mouseY=C.y,a.targetObj=t,a.target=t,a.type=i,"touchPointID"in r&&(a.touchPointID=r.touchPointID),"mousewheel"==i&&a.put("deltaY",r.deltaY),s.apply(n,[a]))},addNativeEvent:function(h,u,c){var t,e,i,d=this,n=null;null!=(n="lang.display.Stage"==wt(u)?m:u.div)&&(e={type:h,vm:v,cb:t=function(t){if("drop"==h){t.preventDefault(),(l=pt("lang.events.Event")).targetObj=u;for(var e=t.dataTransfer.files,i=[],n=0;n<e.length;n++){var s=e[n],r=pt("lang.utils.File");r.name=s.name,r.file=s,i.push(r)}l.files=i,t=l}else{if(t instanceof MouseEvent){var a=null;return a=null!=O?O:Wt(t.target,u),void d.emitMouseEventA1(a,v,h,u,c,t)}if(f&&t instanceof TouchEvent&&0<t.changedTouches.length){var a=null,o=t.changedTouches[0],o={type:h,pageX:o.clientX,pageY:o.clientY,button:0,target:o.target,touchPointID:o.identifier,preventDefault:function(){}};return a=null!=O?O:Wt(o.target,u),void d.emitMouseEventA1(a,v,h,u,c,o)}var l;"resize"==h&&(l=pt("lang.events.Event"),o=stage.getStageSizeByVM(v),l.width=o.width,l.height=o.height,l.targetObj=u,t=l)}c.apply(u,[t])},vmcb:c,obj:u,nativeTarget:n},(i=h)in F&&(i=F[h]),f&&("mousedown"==h?i="touchstart":"mouseup"==h?i="touchend":"mousemove"==h&&(i="touchmove")),e.eventType=i,n.addEventListener(i,t),this.nativeEvents.push(e))},delNativeEvent:function(t,e){for(var i=null,n=-1,s=0;s<this.nativeEvents.length;s++){var r=this.nativeEvents[s];if(r.type==t&&r.vmcb==e){i=r,n=s;break}}null!=i&&(i.nativeTarget.removeEventListener(i.eventType,i.cb),-1<n&&this.nativeEvents.splice(n,1))},dispatchNativeEvent:function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);for(i=0;i<this.nativeEvents.length;i++){var n=this.nativeEvents[i];n.type==t&&n.cb.apply(n.obj,e)}},_freezeEvents:function(){this._unfreezeEvents();for(var t=0;t<this.nativeEvents.length;t++){var e=this.nativeEvents[t];e.nativeTarget.removeEventListener(e.eventType,e.cb)}},_unfreezeEvents:function(){for(var t=0;t<this.nativeEvents.length;t++){var e=this.nativeEvents[t];e.nativeTarget.addEventListener(e.eventType,e.cb)}},hasEvent:function(t){if(null!=t)for(var e=0;e<this.data.length;e++)if(this.data[e].type==t)return!0;return!1},dispatchEvent:function(t){if(null!=t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);for(i=0;i<this.data.length;i++){var n,s=this.data[i];s.type==t&&(n=s.cbvm,s.vm.callMethodVoid(n,this,e,!0))}}},on:function(t,e){t&&null!=e&&(this.data.push({vm:v,type:t,cbvm:e}),this.addNativeEvent(t,this,e))},off:function(t,e){if(null!=t&&null!=e){for(var i=0;i<this.data.length;i++){var n=this.data[i];if(n.type==t&&n.cbvm==e){this.data.splice(i,1);break}}this.delNativeEvent(t,e)}},offByVM:function(t){if(null!=t){for(var e=0;e<this.data.length;e++)this.data[e].vm==t&&this.data.splice(e,1);for(e=0;e<this.nativeEvents.length;e++){var i=this.nativeEvents[e];i.vm==t&&(i.nativeTarget.removeEventListener(i.eventType,i.cb),this.nativeEvents.splice(e,1))}}},clear:function(){this.data=[]}}),qt.prototype.toByteArray=function(t){URLBinaryGet.apply(this,[this.div.src,t])};var Kt=null;function Qt(){}function Zt(){}function $t(t,e,i,n){null!=t&&(t=t.split(" ").join("&nbsp;"));var s=document.createElement("div");s.innerHTML=t,s.style.position="absolute",s.style.top="-100px",s.style.left="-100px",s.style.fontFamily=i,s.style.fontWeight=e?"bold":"normal",s.style.fontSize=n+"px",document.body.appendChild(s);n={width:s.offsetWidth,height:s.offsetHeight};return document.body.removeChild(s),n}function te(){}function ee(){}function ie(t){this.world=t}function ne(){this._isCreate=!1,this._isRemove=!1,this.b2body=null}function se(){this._isCreate=!1,this._isRemove=!1,this.b2joint=null,this.initAPos=null,this.initBPos=null,this.bodyA=null,this.bodyB=null}function re(t){var e=0,i=0;return null!=t&&("x"in t&&(e=t.x),"y"in t&&(i=t.y)),new B.b2Vec2(e,i)}function ae(){this._isInitBox2D=!1,this.isStart=!1,this.world=null,this.gravity=null,this.debugCanvas=null,this.cMain=null,this._isDebug=!1,this.debugRectWidth=m.innerWidth,this.debugRectHeight=m.innerHeight}function oe(){}function le(){this.socket=null,this.connected=!1,this.isFirstConnect=!1,this.isClose=!1,this.customRead=!1,this.host="",this.port=0,this._isInit=!0}function he(){this._isInit=!1}function ue(t,e){for(var i=[],n=2;n<arguments.length;n++)i.push(arguments[n]);if(null!=t&&null!=e)for(n=0;n<t.data.length;n++){var s=t.data[n];s.type!=e||(s=s.cbvm)&&s.apply(t,i)}}function ce(t,e,i){t&&t.apply(e,i)}function de(){console.log.apply(console,arguments)}function fe(){this.instanceClass=null,this.nativeClasses={},this.spriteObject=null,this.isInitStatic=!1,this.arrStaticInit=[],this.isStateLib=!1,this.isLocal=!1,"http:"==m.location.protocol&&(this.isLocal=!0),this.libsList=[],(v=this).GLOBAL=S,this.checkIn=Q,this.checkIs=at,this.setProp=ot,this.callMethod=dt,this.castInt=lt,this.ctorObject=xt,this.spreadElement=ct,this.spreadObject=ht,p&&W()}function pe(t,e,i,n,s){if(null!=e){function r(){this.className=e,this.extendClass=i,function t(e,i,n,s){if(null!=i&&null!=n&&("extendsList"in n==0&&(n.extendsList={}),i in H)){var r=H[i];if("extendClass"in r&&0<r.extendClass.length&&t(e,r.extendClass,n),n.extendsList[i]=1,null!=r){for(var a in r){var o=r[a];"_set"==a||"_get"==a||("staticObj"==a?ft(n,o):n[a]=o)}r&&"isDecl"in r&&r.isDecl&&ft(n,r.prototype),"function"==typeof r&&r.apply(n,s),"function"==typeof r.ctor&&r.ctor.apply(n,s)}if(i in e.nativeClasses){var l=new e.nativeClasses[i];for(a in l)"className"!=a&&"extendClass"!=a&&"extendsList"!=a&&(n[a]=l[a]);"function"==typeof l.ctor&&l.ctor.apply(n,s)}r&&r.instanceM&&"defPropsObject"in r.instanceM&&ft(n,r.instanceM.defPropsObject),n&&"initProps"in n&&n.initProps.call(n)}}(t,e,this,arguments)}if(r.className=e,r.prototype.put=function(t,e){},r.prototype.get=function(t){return t&&t in this?this[t]:"_"+t in this?this["_"+t]:null},r.prototype.toString=function(){return"[Object "+e+"]"},"lang.text.TextField"==e)for(var a=["text","color","fontSize","bold","fontName"],o=0;o<a.length;o++)!function(e){Object.defineProperty(r.prototype,e,{get:function(){return this["_"+e]},set:function(t){this.put2(e,t)}})}(a[o]);else if("lang.text.TextInput"==e)for(a=["value","color","fontSize","fontName"],o=0;o<a.length;o++)!function(e){Object.defineProperty(r.prototype,e,{get:function(){return"value"==e?this.div.value:this["_"+e]},set:function(t){this.put2(e,t,null,!0)}})}(a[o]);else"lang.display.BitmapMovieClip"==e&&Object.defineProperty(r.prototype,"frames",{set:function(t){var e=this.get("bitmap");this.framesArr=t,null!=e&&(e=e.get("src"),this.div.style.background="url("+e+")")},get:function(){return this.framesArr}});if(t.isStateLib?s=!0:V[e]=r,s&&q(e,r,!1),void 0!==n){"String"!=e&&"Array"!=e&&(n.className=e,n.extendClass=i),n.instanceM=r,J(e,r),H[e]=n;var l=null;"Array"==e?l=Array:"String"==e&&(l=String);var h=null,u="lang.display.LoaderInfo"!=e&&"lang.display.DisplayObject"!=e&&"lang.display.Stage"!=e&&"lang.events.MouseEvent"!=e?!0:!1;if(u&&"_get"in n)for(var c in null==h&&(h={}),n._get)c in h||(h[c]={}),h[c].get=n._get[c];if(u&&"_set"in n)for(var c in null==h&&(h={}),n._set)c in h||(h[c]={}),h[c].set=n._set[c];if(h&&Object.defineProperties(r.prototype,h),l)for(var d in n)"ctor"!=d&&void 0===l.prototype[d]&&(l.prototype[d]=n[d]);s||t.isInitStatic?t.callStaticV(r,n):t.isInitStatic||t.arrStaticInit.push({cl:r,o:n}),ft(r,n)}return r}}function ve(){this.ww=600,this.hh=400,this.mdiv=document.createElement("div"),this.mdiv.style.position="absolute",this.mdiv.style.width="100%",this.mdiv.style.height="100%",this.mdiv.style.fontFamily="Arial",this.mdiv.style.fontWeight="bold",this.div=document.createElement("div"),this.div.style.position="absolute",this.div.style.width="100%",this.div.style.height="100%";var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.background="rgba(0,0,0,0.5)",this.div.appendChild(t);t=document.createElement("div");t.style.width="600px",t.style.height="400px",t.style.border="2px solid rgba(0, 0, 0, 0.4)",t.style.position="absolute",t.style.background="#FFFFFF",this.div.appendChild(this.mdiv),this.mdiv.appendChild(t),this.doc=t;t=document.createElement("span");t.style.position="absolute",t.style.color="#FFFFFF",t.style.left="520px",t.style.top="18px",t.style.cursor="pointer",t.innerHTML="Закрыть",this.butClose=t,this.mdiv.appendChild(t);var e=this;this.cb1=function(t){e.resize(m.innerWidth,m.innerHeight)},this.cbClose=function(t){e.remove()},m.addEventListener("resize",this.cb1),this.butClose.addEventListener("click",this.cbClose)}qt.prototype.ctor=function(){this.put,this.get;var n=this;this.isBitmapSpr=!0;var t=new Image;t.style.position="absolute",this.imageSizeData=null,this.props.put("div",t),this.isLoad=!1,this.bm=null,this.imageCanvas=null,Z(this,"src",function(){return this.div.src},!0);var e,i,s;Z(this,"naturalWidth",function(){return null!=this.imageSizeData?this.imageSizeData.width:this.div.naturalWidth}),Z(this,"naturalHeight",function(){return null!=this.imageSizeData?this.imageSizeData.height:this.div.naturalHeight}),e=this,i="src",s=function(t){this.imageCanvas=null,this.isLoad=!1,this.bm=null;var e,i=wt(t);"lang.utils.ByteArray"==i?(e="","blobStr"in t||(t.blobStr=t.toBlobConvert()),e=t.blobStr,n.div.onload=function(){n.div.onload=null,n.imgLoadOk()},n._src=e,n.div.src=e):"lang.display.Bitmap"==i?(n.props.put("div",t.div),n.div.style.position="absolute",t.imageSizeData&&(n.imageSizeData=t.imageSizeData),n._src=n.div.src,"bmdData"in t?n.put("src",t.bmdData):(n.bm=t,n.imgLoadOk())):"lang.display.BitmapData"==i?(n.div.style.position="absolute",n.bmdData=t,checkIn(n,"noBase64")&&1==n.noBase64?n.isLoad=!0:n.src=t.toBase64()):n.div.src=t},void 0===(t=!0)&&(t=!1),Object.defineProperty(e,i,{configurable:t,set:s}),this.imgLoadOk=function(){n.div.complete&&0!==n.div.naturalHeight&&(n.isLoad=!0,n.width=n.div.width,n.height=n.div.height,R=!0)},n.div.onload=function(){n.imgLoadOk()},this.initProps=function(){checkIn(n,"noSelectable")&&1==n.noSelectable&&(n.selectable=!1),null==Kt&&checkIn(this,"noRClick")&&1==this.noRClick&&(Kt=function(t){null!=t.target&&t.target instanceof Image&&t.preventDefault()},m.addEventListener("contextmenu",Kt))}},ft(Qt.prototype,{ctor:function(){this.file=null,this.isComplete=!1},readString:function(e){var t,i=this;null!=this.file&&((t=new FileReader).onload=function(t){i.isComplete=!0;t=t.target.result;ce(e,i,[t])},t.onerror=function(t){i.isComplete=!0},t.readAsText(this.file))},readBytes:function(i){var t,n=this;null!=this.file&&((t=new FileReader).onload=function(t){var e=new Uint8Array(t.target.result),t=pt("lang.utils.ByteArray");t.ba=e,n.isComplete=!0,ce(i,n,[t])},t.onerror=function(t){n.isComplete=!0},t.readAsArrayBuffer(this.file))},saveBytes:function(t,e){var i,n=t;"string"==typeof t&&(t=e,e=n),"lang.utils.ByteArray"==wt(t)?(i=St(t.getBytes(),t.isBlobArray),t.saveFile(e,i),m.URL.revokeObjectURL(i)):"lang.display.BitmapData"==wt(t)&&(t=t.toBase64(),i=St(b64toBlob(t,"image/png"),!1),Bt[_prototype].saveFile.apply(null,[e,i]),m.URL.revokeObjectURL(i))}}),ft(Zt.prototype,{ctor:function(){this.isSprite=!1,this.isBMCSpr=!0,this.currentFrame=0,this.isStop=!1,this.framesArr=[],this.offsetY=0},drawFrame:function(){var t,e,i,n;0<this.framesArr.length&&(null!=(n=this.framesArr[this.currentFrame])&&(t=n[0],e=n[1],6<n.length&&(this._offsetXPos=n[5],this._offsetYPos=n[6]),i=n[2],n=n[3],this.div.style.width=i+"px",this.div.style.height=n+"px",this.div.style.backgroundPosition="-"+t+"px -"+e+"px"))},gotoAndPlay:function(t){this.currentFrame=t,this.isStop=!1,this.drawFrame()},gotoAndStop:function(t){this.currentFrame=t,this.isStop=!0,this.drawFrame()},update:function(){var t=this;0<this.framesArr.length&&(t.isStop||("speed"in t?("lastSpeed"in t==0&&(t.lastSpeed=0),t.lastSpeed+=.5,t.lastSpeed>t.speed&&(t.lastSpeed=0,t.currentFrame+=1,this.drawFrame())):(t.currentFrame+=1,this.drawFrame()),t.currentFrame>this.framesArr.length-1&&(t.currentFrame=0,this.drawFrame())))}}),ft(te.prototype,{ctor:function(){var t=document.createElement("span");t.style.position="absolute",this.isTextSpr=!0,this._text="",this.props.put("div",t),this.lastFontSize=14,this.lastText="",this.partText=[],this.textSymbolsArr=[],this.isUpdDraw=!0,this._fontSize=16,this._bold=!1,this._align="",this._textDecoration="none",this._fontName="Arial",this._color=0,this._isTextUpdate=!0;var e=this;this.initProps=function(){checkIn(e,"noSelectable")&&1==checkIn(e,"noSelectable")&&(e.selectable=!1)},this.get=function(t){return"width"==t?e._width:"height"==t?e._height:t&&t in e?e[t]:t&&"_"+t in e?e["_"+t]:null}},put2:function(t,e){var i,n=this;"text"==t?(n.setText(e),R=!0):"fontSize"==t?n.css({"font-size":e+"px"}):"fontName"==t?n.css({"font-family":e}):"bold"==t?(i=e?"bold":"normal",n.css({"font-weight":i})):"color"==t?("number"==typeof e&&(e=Ht(e)),n.css({color:e}),n.isUpdDraw=!0,R=!0):"y"==t&&"htmlTextOffsetY"in n&&(n._offsetYPos=this.htmlTextOffsetY),n["_"+t]=e},setText:function(t){this._text=t,this.isUpdDraw=!0,R=!0,this.div.innerHTML=""+t,this.partText=[],this.textSymbolsArr=[];var e=this.get("bold"),i=t.split("\n");t.split("");if(1<i.length)for(var n=0;n<i.length;n++){var s=i[n],r=$t(s,e,this.get("fontName"),this.get("fontSize")),a=r.width,r=r.height;this.partText.push({width:a,height:r,text:s})}1==this.get("isTextUpdate")&&t!=this.lastText||this.get("fontSize")!=this.lastFontSize||(this.isUpdDraw=!0),this.invalidateSize(),this.lastText=t},calculateTextSize:function(t){var e,i=t.split(""),n="",s=0,r=0,a=this.get("fontSize"),o=this.get("fontName"),l=0;"maxWidth"in this&&(0<(e=this.maxWidth)&&(l=e));var h=a;if(0<l)for(var u=0;u<i.length;u++){var c=n+i[u],d=$t(c,!1,o,a).width;s<=d&&(s=d),l<d&&0<u?(n=i[u],r+=h):n=c}else t=$t(n=t,!1,o,a),s=t.width,r=t.height;return{width:s+4|0,height:r+a}},invalidateSize:function(){var t=$t(this.get("text"),this.get("bold"),this.get("fontName"),this.get("fontSize"));if(0<this.partText.length){this._width=0;for(var e=this._height=0;e<this.partText.length;e++){var i=this.partText[e];i.width>=this._width&&(this._width=i.width),this._height+=i.height}}else{var n,s=0;"maxWidth"in this&&(0<(n=this.maxWidth)&&(s=n)),0<s?(s=this.calculateTextSize(this.get("text")),this._width=s.width,this._height=s.height):(this._width=t.width,this._height=t.height)}1==this.get("textAutoWidth")&&(t=this.width,this.put("width",t+4),this._width=t)}}),ft(ee.prototype,{ctor:function(){var t=document.createElement("input");t.type="text",ft(t.style,{position:"absolute",background:"none",border:"none",cursor:"arrow",outline:0}),this.isSprite=!1,this.props.put("div",t),this.put("fontSize",16),this.put("bold",!1),this.put("align",""),this.put("text",""),this.put("fontName","Arial"),this.put("color",0),this.width=0,this.height=0,this.lastFontSize=16},put2:function(t,e){var i=this;i["_"+t]=e,"value"==t?i.div.value=""+e:"fontSize"==t?i.css({"font-size":e+"px"}):"fontName"==t?i.css({"font-family":e}):"color"==t?("number"==typeof e&&(e=Ht(e)),i.css({color:e})):i.put(t,e)}}),ie.prototype.BeginContact=function(t,e){var i=t.GetFixtureA().GetBody(),t=t.GetFixtureB().GetBody(),i=i.GetUserData(),t=t.GetUserData();"optimized"in this.world&&(1!=i.allowCollision||1!=t.allowCollision)||this.world.dispatchEvent("collision","begin",i,t)},ie.prototype.EndContact=function(t,e){var i=t.GetFixtureA().GetBody(),t=t.GetFixtureB().GetBody(),i=i.GetUserData(),t=t.GetUserData();"optimized"in this.world&&(1!=i.allowCollision||1!=t.allowCollision)||this.world.dispatchEvent("collision","end",i,t)},ie.prototype.PreSolve=function(t,e){},ie.prototype.PostSolve=function(t,e){},ft(ne.prototype,{createBody:function(t){var e,i,n,s,r,a=this.get("bodyDef");this.get("defList");this._isCreate||null==a||(this._isCreate=!0,(s=new B.b2FixtureDef(0)).friction=a.friction,s.restitution=a.restitution,s.density=a.density,e=a.type,(r=new B.b2BodyDef).type=B.b2Body.b2_staticBody,"bodyType"in a&&("dynamic"==(i=a.bodyType)?r.type=B.b2Body.b2_dynamicBody:"kinematic"==i&&(r.type=B.b2Body.b2_kinematicBody)),"isSensor"in a&&1==a.isSensor&&(s.isSensor=!0),n=a.position,r.position.Set(n.x,n.y),r.angle=a.rotation*(Math.PI/180),r.userData=this,i=a.bodySize,n=!0,"fixedRotation"in a&&(n=a.fixedRotation),r.fixedRotation=n,r.allowSleep=a.allowSleep,"groupIndex"in a&&(s.filter.groupIndex=a.groupIndex),"rect"==e?(s.shape=new B.b2PolygonShape,s.shape.SetAsBox(i.width,i.height),this.b2body=t.world.CreateBody(r),this.b2body.CreateFixture(s)):"circle"==e&&(s.shape=new B.b2CircleShape,s.shape.SetRadius(a.radius),this.b2body=t.world.CreateBody(r),this.b2body.CreateFixture(s)),r=this.get("massData"),null!=this.b2body&&null!=r&&((s=new B.b2MassData).mass="mass"in r?r.mass:0,"center"in r&&(r=r.center,s.center=new B.b2Vec2(r.x,r.y)),this.b2body.SetMassData(s)))},addBody:function(t){var e,i,n;null!=t&&null!=this.b2body&&((e=new B.b2FixtureDef(0)).friction=t.get("friction"),e.restitution=t.get("restitution"),e.density=t.get("density"),i=t.get("bodySize"),"rect"==(n=t.get("type"))?(e.shape=new B.b2PolygonShape,e.shape.SetAsBox(i.width,i.height)):"circle"==n&&(e.shape=new B.b2CircleShape,e.shape.SetRadius(t.get("radius"))),this.b2body.CreateFixture(e))},GetLinearVelocity:function(){var t,e={x:0,y:0};return null!=this.b2body&&(t=this.b2body.GetLinearVelocity(),e.x=t.x,e.y=t.y),e},GetPosition:function(){var t,e={x:0,y:0};return null!=this.b2body&&(t=this.b2body.GetPosition(),e.x=t.x,e.y=t.y),e},SetLinearVelocity:function(t){null!=this.b2body&&null!=t&&this.b2body.SetLinearVelocity(new B.b2Vec2(t.x,t.y))},GetLocalCenter:function(){return null!=this.b2body?this.b2body.GetLocalCenter():0},ApplyForce:function(t,e){null!=this.b2body&&null!=t&&this.b2body.ApplyForce(new B.b2Vec2(t.x,t.y),e)},SetPosition:function(t){null!=this.b2body&&null!=t&&this.b2body.SetPosition(new B.b2Vec2(t.x,t.y))},updateBody:function(t){if(null!=this.b2body){var e=t.scale,i=this.defList,n=i.length;if(0<n)for(var s=0;s<n;s++){var r=i.shift();this.addBody(r)}var a,o=this.b2body.GetPosition(),l=this.userData;null!=l&&(a=Math.floor(o.x*e),t=Math.floor(o.y*e),o=this.b2body.GetAngle(),e=0,e=p?o:o*(180/Math.PI),R=!0,"noUpdatePos"in l||(p?(l.x=a,l.y=t,l.rotation=e):(l._x=a,l._y=t,l._rotation=e)))}}}),ft(se.prototype,{createJoint:function(t){var e,i,n,s;this._isCreate||(this._isCreate=!0,e=this.get("type"),(n=i=null)!=this.bodyA&&(i="type"in this.bodyA&&"groundBody"==this.bodyA.type?t.world.GetGroundBody():this.bodyA.b2body),null!=this.bodyB&&(n="type"in this.bodyB&&"groundBody"==this.bodyB.type?t.world.GetGroundBody():this.bodyB.b2body),s=null,"distance"==e?((s=new B.b2DistanceJointDef).Initialize(i,n,re(this.initAPos),re(this.initBPos)),"dampingRatio"in this&&(s.dampingRatio=this.get("dampingRatio")),"frequencyHz"in this&&(s.frequencyHz=this.get("frequencyHz")),"length"in this&&(s.length=this.get("length")),"collideConnected"in this&&(s.collideConnected=this.get("collideConnected"))):"weld"==e?((s=new B.b2WeldJointDef).Initialize(i,n,re(this.initAPos),re(this.initBPos)),"referenceAngle"in this&&(s.referenceAngle=this.get("referenceAngle"))):"prismatic"==e?((s=new B.b2PrismaticJointDef).Initialize(i,n,re(this.initAPos),re(this.initBPos)),s.lowerTranslation=this.get("lowerTranslation"),s.upperTranslation=this.get("upperTranslation"),s.enableLimit=this.get("enableLimit")):"revolute"==e&&((s=new B.b2RevoluteJointDef).Initialize(i,n,re(this.initAPos),re(this.initBPos)),s.lowerAngle=this.get("lowerAngle"),s.upperAngle=this.get("upperAngle"),s.enableLimit=this.get("enableLimit"),s.motorSpeed=this.get("motorSpeed"),s.maxMotorTorque=this.get("maxMotorTorque"),s.enableMotor=this.get("enableMotor")),null!=s&&(this.b2joint=t.world.CreateJoint(s)))},updateJoint:function(t){},init:function(t,e,i,n){this.initAPos=i,this.initBPos=n,this.bodyA=t,this.bodyB=e}}),ft(ae.prototype,{ctor:function(){var t=this;"undefined"!=typeof Box2D?(t._isInitBox2D=!0,t.initB(),setTimeout(function(){t.dispatchEvent("init")},100)):_t("/js/box2d.js",function(){"undefined"!=typeof Box2D?(t.initB(),t.ctor()):t.errorLoadFunc()},function(){t.errorLoadFunc()})},initB:function(){null==B&&(B={b2Vec2:Box2D.Common.Math.b2Vec2,b2AABB:Box2D.Collision.b2AABB,b2BodyDef:Box2D.Dynamics.b2BodyDef,b2Body:Box2D.Dynamics.b2Body,b2FixtureDef:Box2D.Dynamics.b2FixtureDef,b2Fixture:Box2D.Dynamics.b2Fixture,b2World:Box2D.Dynamics.b2World,b2MassData:Box2D.Collision.Shapes.b2MassData,b2PolygonShape:Box2D.Collision.Shapes.b2PolygonShape,b2CircleShape:Box2D.Collision.Shapes.b2CircleShape,b2DebugDraw:Box2D.Dynamics.b2DebugDraw,b2MouseJointDef:Box2D.Dynamics.Joints.b2MouseJointDef,b2DistanceJointDef:Box2D.Dynamics.Joints.b2DistanceJointDef,b2PrismaticJointDef:Box2D.Dynamics.Joints.b2PrismaticJointDef,b2RevoluteJointDef:Box2D.Dynamics.Joints.b2RevoluteJointDef,b2WeldJointDef:Box2D.Dynamics.Joints.b2WeldJointDef})},errorLoadFunc:function(){var t=this;setTimeout(function(){t.dispatchEvent("error")},100)},start:function(){this.isStart||(this.isStart=!0)},setDebug:function(){this._isDebug=!0},QueryPoint:function(t){var e=[];return null!=t&&null!=this.world&&(t=new B.b2Vec2(t.x,t.y),this.world.QueryPoint(function(t){t=t.GetBody();return null!=t&&(t=t.GetUserData(),e.push(t)),!0},t)),e},RayCastOne:function(t,e){if(null!=t&&null!=e&&null!=this.world){t=new B.b2Vec2(t.x,t.y),e=new B.b2Vec2(e.x,e.y),e=this.world.RayCastOne(t,e);if(null!=e){e=e.GetBody();if(null!=e)return e.GetUserData()}}return null},RayCast:function(t,e){var i=[];if(null!=t&&null!=e&&null!=this.world){var t=new B.b2Vec2(t.x,t.y),e=new B.b2Vec2(e.x,e.y),n=this.world.RayCastAll(t,e);if(null!=n)for(var s=0;s<n.length;s++){var r=n[s].GetBody();null!=r&&(r=r.GetUserData(),i.push(r))}}return i},destroy:function(){null!=this.cMain&&null!=this.cMain.parentNode&&this.cMain.parentNode.removeChild(this.cMain)},remove:function(t){null!=t&&(t._isRemove=!0)},update:function(){if(this.isStart&&this._isInitBox2D){var t,e,i,n,s=!1;if(null==this.world&&(s=!0,this.get("step"),i=this.get("scale"),this.scaleWorld=i,null==this.gravity&&(this.gravity=new B.b2Vec2(0,10)),"gravity"in this&&(e=this.get("gravity"),this.gravity.x=e.x,this.gravity.y=e.y),this.world=new B.b2World(this.gravity,this.get("allowSleep")),this.world.SetContactListener(new ie(this)),this._isDebug&&(t=m.innerWidth,e=m.innerHeight,(n=document.createElement("canvas")).width=t,n.height=e,n.style.position="absolute",n.style.pointerEvents="none",document.body.appendChild(n),this.cMainCtx=n.getContext("2d"),this.cMain=n,n=document.createElement("canvas"),(this.debugCanvas=n).width=t,n.height=e,this.debugCtx=n.getContext("2d"),(n=new B.b2DebugDraw).SetSprite(this.debugCtx),n.SetDrawScale(i),n.SetFillAlpha(.7),n.SetLineThickness(1),n.SetFlags(B.b2DebugDraw.e_shapeBit|B.b2DebugDraw.e_jointBit|B.b2DebugDraw.e_pairBit|B.b2DebugDraw.e_controllerBit|B.b2DebugDraw.e_centerOfMassBit),this.world.SetDebugDraw(n))),null!=this.world){this.world.Step(this.step,this.velocityIterations,this.positionIterations),this._isDebug&&(this.debugRectWidth!=this.cMain.width&&(this.cMain.width=this.debugRectWidth,this.debugCanvas.width=this.debugRectWidth,0),this.debugRectHeight!=this.cMain.height&&(this.cMain.height=this.debugRectHeight,this.debugCanvas.height=this.debugRectHeight,0),this.world.DrawDebugData(),this.cMainCtx.clearRect(0,0,this.cMain.width,this.cMain.height),n=i=0,"debugPosX"in this&&(i=this.debugPosX),"debugPosY"in this&&(n=this.debugPosY),this.cMainCtx.setTransform(1,0,0,1,i,n),this.cMainCtx.drawImage(this.debugCanvas,0,0)),this.world.ClearForces();var r=this.items,a=this.jointsList;if(null!=r)for(var o=0;o<r.length;o++)null!=(l=r[o])&&(l._isCreate||l.createBody(this),l.updateBody(this),this.world.IsLocked()||l._isRemove&&(this.world.DestroyBody(l.b2body),r.splice(o,1)));if(null!=a)for(var l,o=0;o<a.length;o++)null!=(l=a[o])&&(l._isCreate||l.createJoint(this),l.updateJoint(this),this.world.IsLocked()||l._isRemove&&(this.world.DestroyJoint(l.b2joint),a.splice(o,1)));s&&this.dispatchEvent("create"),R=!0}}}}),ft(oe.prototype,{ctor:function(t){t=t||{},this.url="https://yandex.ru/games/sdk/v2",this.ysdk=null,this._isInit=!1,this.objInit=t,this.playerObjDef={scopes:!1,signed:!0}},init:function(e){var i=this;"undefined"!=typeof YaGames?(i._isInit=!0,YaGames.init(i.objInit).then(function(t){i.ysdk=t,n=t,e&&e()})):_t(i.url,function(){"undefined"!=typeof YaGames&&i.init(e)},function(){})},getPlayer:function(e){this.ysdk?this.ysdk.getPlayer(this.playerObjDef).then(function(t){e&&e(t)}).catch(function(){e&&e(null)}):e&&e(null)},openAuthDialog:function(i){var n=this;n.ysdk?n.getPlayer(function(t){var e=!1;t&&"lite"==t.getMode()&&(e=!0),t&&!e?i&&i(t):n.ysdk.auth.openAuthDialog().then(function(){n.getPlayer(i)}).catch(function(){i&&i(null)})}):i&&i(null)}}),ft(le.prototype,{send:function(t){null!=this.socket&&("object"==typeof t&&"lang.utils.ByteArray"==wt(t)&&(t=t.getBytes()),this.socket.send(t))},close:function(){null!=this.socket&&this.socket.close()},connect:function(t,e){this.host=t,this.port=e;var i="s",n=this;"https:"!==m.location.protocol&&(i=""),checkIn(n,"secure")&&n.secure&&(i="s");e=e<=0?"":":"+e;this.socket=new WebSocket("ws"+i+"://"+t+e),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){n.isFirstConnect=!0,n.connected=!0,n.dispatchEvent("connected")},this.socket.onerror=function(){n.isFirstConnect||(n.connected=!1,n.dispatchEvent("error"))},this.socket.onclose=function(){n.isFirstConnect&&!n.isClose&&(n.isClose=!0,n.connected=!1,n.dispatchEvent("disconnect"))},this.socket.onmessage=function(t){var e,i=t.data;"string"!=typeof i&&(e=new Uint8Array(i),(t=pt("lang.utils.ByteArray")).ba=e,i=n.customRead?t:t.readObject()),n.dispatchEvent("data",i)}}}),ft(he.prototype,{ctor:function(){var t,e,i,n,s=this;"undefined"!=typeof VK?(s._isInit=!0,setTimeout(function(){s.dispatchEvent("init")},100)):(t="//vk.com/js/api/xd_connection.js?20",e=function(){s.ctor()},i=function(){setTimeout(function(){s.dispatchEvent("error")},100)},(n=document.createElement("script")).onload=function(){"function"==typeof e&&e()},n.onerror=function(){"function"==typeof i&&i()},n.src=t,document.head.appendChild(n))},api:function(t,e,i,n){"undefined"!=typeof VK&&VK.api(t,e,function(t){null!=i&&i(t)})},callMethod:function(){if("undefined"!=typeof VK){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);VK.callMethod.apply(VK,t)}},subscribeItem:function(t,e){if("undefined"!=typeof VK&&(VK.callMethod("showSubscriptionBox","create",{item:t}),null!=e)){function i(){for(var t=0;t<n.length;t++){var e=n[t];VK.removeCallback(e.name,e.cb)}}var n=[];n.push({name:"onSubscriptionSuccess",cb:function(t){i(),e("ok",t)}}),n.push({name:"onSubscriptionFail",cb:function(){i(),e("error")}}),n.push({name:"onSubscriptionCancel",cb:function(){i(),e("cancel")}});for(var s=0;s<n.length;s++){var r=n[s];VK.addCallback(r.name,r.cb)}}},paymentItem:function(t,e){if("undefined"!=typeof VK&&(VK.callMethod("showOrderBox",{type:"item",item:t}),null!=e)){function i(){for(var t=0;t<n.length;t++){var e=n[t];VK.removeCallback(e.name,e.cb)}}var n=[];n.push({name:"onOrderSuccess",cb:function(t){i(),e("ok",t)}}),n.push({name:"onOrderFail",cb:function(){i(),e("error")}}),n.push({name:"onOrderCancel",cb:function(){i(),e("cancel")}});for(var s=0;s<n.length;s++){var r=n[s];VK.addCallback(r.name,r.cb)}}}}),fe.prototype.callMethodVoid=function(t,e,i){t&&t.apply(e,i)},fe.prototype.loadByURL=function(t){var o=this,e="";void 0!==m.runtimePrefLib&&(e="-lib");var i="/files1/js/runtime"+e+".js?ts="+M;this.isLocal||(i="/player/js/runtime-lib.js?ts="+M),void 0!==m.runtimePath&&(i=m.runtimePath+"/runtime"+e+".js?ts="+M);function n(){o.registerClassNative("lang.utils.File",Qt),o.registerClassNative("lang.geom.Matrix",Et),o.registerClassNative("lang.utils.ByteArray",Bt),o.registerClassNative("lang.display.Stage",jt),o.registerClassNative("lang.display.DisplayObject",Lt),p?o.registerClassNative("lang.display.Canvas",Nt):o.registerClassNative("lang.display.Canvas",Yt),o.registerClassNative("lang.display.BitmapData",Vt),o.registerClassNative("lang.text.TextField",te),o.registerClassNative("lang.text.TextInput",ee),o.registerClassNative("lang.display.Painter",Xt),o.registerClassNative("lang.display.Bitmap",qt),o.registerClassNative("lang.display.BitmapMovieClip",Zt),o.registerClassNative("lang.events.EventDispatcher",Jt),o.registerClassNative("lang.api.social.VK",he),o.registerClassNative("lang.api.social.YandexGames",oe),o.registerClassNative("lang.net.Socket",le),o.registerClassNative("lang.utils.FpsMaster",It),o.registerClassNative("lang.media.Sound",At),o.registerClassNative("lang.game.engines.box2d.Box2D",ae),o.registerClassNative("lang.game.engines.box2d.Body",ne),o.registerClassNative("lang.game.engines.box2d.Joint",se),_t(t,function(){var r;0<L.length&&((t=L.shift())(o),o.registerFunc(),q("stage",r=pt("lang.display.Stage")),q("runtime",pt(t.instanceClass)));var t=pt("lang.utils.ByteArray");t.writeByte(1),t.writeByte(2),t.writeByte(3),t.position=0,(N=pt("lang.display.LoaderInfo")).bytes=t,N.parameters=st(),N.url=document.location.href;var e=[],a=null;if(0<L.length&&"libsList"in(a=L.shift())&&a.libsList)for(var i=0;i<a.libsList.length;i++)e.push(a.libsList[i]);o.loadLibs(e,function(){for(var t=0;t<L.length;t++){var e=L[t],i=!1;"isLib"in e&&e.isLib&&(i=!0),i&&(o.isStateLib=!0),e(o),o.isStateLib=!1}if(L=[],null!=a){a(o),o.isInitStatic=!0;for(t=0;t<o.arrStaticInit.length;t++){var n=o.arrStaticInit[t];o.callStaticV(n.cl,n.o)}o.arrStaticInit=[];var s=pt(a.instanceClass);r.addChild(s),o.spriteObject=s,r.dispatchNativeEvent("resize")}})})}e=!0;0<L.length&&"runtime"==L[0].instanceClass&&(e=!1),e?_t(i,n):n()},fe.prototype.loadLibs=function(t,e,i){var n,s=this;void 0===i&&(i=0),null!=t&&0<t.length?(n=t.shift(),this.isLocal||(n+="-lib"),_t("/files1/js/"+n+".js?rnd=768468",function(){i+=1,s.loadLibs(t,e,i)})):null!=e&&e()},fe.prototype.registerFunc=function(){var s=this;q("Object.copyProps",ft),q("System.platform.type","web",!0),q("System.platform.runtime","js",!0),q("System.platform.platformVersion","1",!0),q("System.platform.browserUserAgent",navigator.userAgent,!0),q("System.platform.mobile",f,!0),q("XML.parseString",function(t){try{return function t(e){if(null==e)return null;var i={},n=e.childNodes,s=e.nodeName,r=0;e.attributes&&(r=e.attributes.length);var a=[],o=[];if(i.id=s,i.attr=o,i.list=a,i.type="node","#document"==s&&(i.id="root"),0<r)for(var l=0;l<r;l++){var h=e.attributes[l];o.push({key:h.name,value:h.value})}for(l=0;l<n.length;l++){var u,c=n[l];3==c.nodeType?0<c.nodeValue.trim().length&&(u={type:"text",value:c.nodeValue},a.push(u)):null!=(c=t(c))&&a.push(c)}return i}((new DOMParser).parseFromString(t,"text/xml"))}catch(t){}return null}),q("LogClass.trace",de,!0),q("LogClass.alert",alert,!0),q("System.getClassName",wt,!0),q("JSON.encode",$,!0),q("JSON.decode",tt,!0),q("System.performance",{now:function(){return m.performance.now()}}),q("System.grabMousePos",function(){return{x:C.x,y:C.y}}),q("Math.randomInt",function(t){t=null!=t?t:1e7;return Math.floor(Math.random()*t)}),q("URL.createURL",function(t,e){if(null!=t&&"lang.utils.ByteArray"==wt(t))return St(t.getBytes(),t.isBlobArray,e);return null}),q("URL.removeURL",function(t){var e;"string"==typeof t&&((e="blob_"+t)in m&&delete m[e],URL.revokeObjectURL(t))}),q("URL.get",function(t,e,i){Ct("get",!1,t,null,e,i)},!0),q("URL.post",function(t,e,i,n){Ct("post",!1,t,e,i,n)},!0),q("URL.binaryGet",function(t,e,i,n){Ct("get",!0,t,null,e,i,n)},!0),q("URL.binaryPost",function(t,e,i,n){Ct("post",!0,t,e,i,n)},!0),q("VM.setGlobal",function(t,e){null!=t&&(J(t,e),"cbArgs"!=t&&"alert"!=t&&"trace"!=t&&!s.isStateLib||q(t,e))}),q("VM.callNative",function(t,e,i,n,s){if("getPropLoaderInfo"==t)return e?e.get("_"+i):null}),q("System.getLocalStorage",function(t){return localStorage}),q("System.loadLibrary",function(t){}),q("System.setAppTitle",function(t){null==t&&(t=""),document.title=t}),q("System.openFileDialog",function(i){return"function"==typeof i&&function(e){var t=document.createElement("input");t.type="file",t.onchange=function(t){t=t.target.files[0];null!=e&&e(t)};var i=document.body;i.appendChild(t),t.click(),i.removeChild(t)}(function(t){var e=pt("lang.utils.File");e.name=t.name,e.file=t,ce(i,null,[e])}),null}),q("VM.addClass",function(t,e,i,n){if(null!=t&&null!=i)return n=n||{},"function"==typeof i&&(n.ctor=i),pe(s,t,e,n)}),J("Date",Date),J("RegExp",RegExp),q("lang.utils.File.saveBytes",Qt.prototype.saveBytes),q("Date.getTimestamp",V.Date.getTimestamp,!0),q("RegExp.prototype.match",function(t){var e=[],i=[];if(null!=t)for(;null!=i;)null!=(i=this.exec(t))&&e.push(i);return e});var t=vt("JSUtils");t.loadScript=_t,t.callMethod=function(){if(0<arguments.length){for(var t=arguments[0],e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);if("function"==typeof m[t]){t=m[t].apply(null,e);if(void 0!==t)return t}}return null},J("Math",Math);t=vt("Timer");t.prototype.start=function(){var t=this,e=t.cb,i=t.interval;t.hasOwnProperty("timerV")||(t.timerV=-1),null!=e&&0<i&&-1==t.timerV&&(t.timerV=setInterval(function(){ce(e,t,[t])},i))},t.prototype.stop=function(){this.hasOwnProperty("timerV")&&(clearInterval(this.timerV),this.timerV=-1)}},fe.prototype.registerClassNative=function(t,e){null!=t&&null!=e&&(this.nativeClasses[t]=e)},fe.prototype.callStaticV=function(t,e){if(e&&t&&"function"==typeof e.static){e.static.call(t);var i,n={};for(i in t)n[i]=t[i];e.staticObj=n}},fe.prototype.registerClass=function(t,e,i,n){null!=t&&null!=i&&pe(this,t,e,i,n)},ve.prototype.setText=function(t){var e='<div style="width:100%;height:100%;"><div style="position:absolute;background:#3a9ac4;width:100%;height:50px;"><div style="position:absolute;left:250px;"></div></div><div style="overflow:auto;word-wrap: break-word;position:relative;height:'+(this.hh-55)+'px;text-align:center;top:52px;"><br />';e+='<span style="color:#FF0000;">Произошла ошибка JS<br /><br />',e+=t,e+="</div></div>",this.doc.innerHTML=e},ve.prototype.resize=function(t,e){this.mdiv.style.left=(t-this.ww)/2+"px",this.mdiv.style.top=(e-this.hh)/2+"px"},ve.prototype.remove=function(){m.removeEventListener("resize",this.cb1),this.butClose.removeEventListener("click",this.cbClose),this.div.parentNode.removeChild(this.div),X=null},m.onerror=function(t,e,i,n,s){var r,a,o={"is not defined":"Свойство %1 не определено","call stack size exceeded":"Переполнение стека","is not a function":"Свойство %1 не является методом"},l="";s&&(l=(l=s.stack)&&l.split("\n").join("<br />")),null==X&&(r=new ve,-1<(s=(a=t).indexOf(": "))&&(a=a.substr(s+2)),0<(t=a.split(" ")).length&&(s=t.shift(),(t=t.join(" "))in o&&(a=function(t){for(var e=1,i=1;i<arguments.length;i++){var n=arguments[i];t=t.replace("%"+e,n),e+=1}return t}(a=o[t],s))),r.setText(a+"<br /><br />url: "+e+"<br />строка: "+i+" : "+n+"<br />"+l),null!=X&&X.remove(),(X=r).resize(m.innerWidth,m.innerHeight),document.body.appendChild(r.div))},q("trace",de,!0),q("alert",nt,!0),q("addGlobalObject",q,!0),q("AnimalsGameJS",fe,!0),q("checkIn",Q,!0),q("checkIs",at,!0),q("setProp",ot,!0),q("castInt",lt,!0),q("pClass",function(t){null!=t&&L.push(t)}),String.prototype.cut=String.prototype.substr,Array.prototype.cut=Array.prototype.splice,"size"in Array.prototype||Z(Array.prototype,"size",function(){return this.length}),"size"in String.prototype||Z(String.prototype,"size",function(){return this.length}),"replaceAll"in String.prototype||(String.prototype.replaceAll=function(t,e){return this.split(t).join(e)})}(window);
(function(b){function a(f){var e=f.GLOBAL;var g=f.checkIn;var d=f.checkIs;var i=f.castInt;var c=f.callMethod;var h=f.ctorObject;(function(l){var k=["runtime","setGlobal","trace","alert","js","window","VM.addClass","copyProps","Function","getDefinitionByName","web","getChildAt","removeChild","php","getTimestamp","+","-","*","/","%","<",">","<=",">=","==","!=","<<",">>","&","|","^","[]","~","()","root","lang.display.Sprite"];var j={};j.ctor=function(){c(this,VM,k[1],[k[0],this]);c(this,VM,k[1],[k[2],LogClass.trace]);c(this,VM,k[1],[k[3],LogClass.alert]);var m="";if(g(System.platform,k[0])){m=System.platform.runtime}if((m!=k[4])){c(this,VM,k[1],[k[5],e]);c(this,VM,k[1],[k[6],function(r,q,u,t){var n=(""+r);var o=function(){};var p=null;var s=o.prototype;if(t){c(this,Object,k[7],[s,t])}if(d(u,k[8])){o.__init=u}o.__set=function(x,w){s[x]=w;this[x]=w};if(q){p=c(this,System,k[9],[q]);if(p){o.prototype.__extends=p}}return o}]);String.substr=String.cut;Array.splice=Array.cut}lang.display.Sprite.removeAllChilds=function(){while((this.numChildren>0)){var n=c(this,this,k[11],[0]);c(this,n.parent,k[12],[n])}};this.startTime=c(this,Date,k[14]);this.isLoadLibSystem=!1;this.isLoadLibUi=!1;this.vm2Account=null;this.cbContextMenuRClick=null;this.overloadOperatorsMap={1:k[15],2:k[16],3:k[17],4:k[18],5:k[19],10:k[20],11:k[21],12:k[22],13:k[23],14:k[24],15:k[25],16:k[26],17:k[27],18:k[28],19:k[29],20:k[30],21:k[31],22:k[32],23:k[33]};this.urlScheme={};this.urlBlobData=h(lang.system.Folder,[k[34]])};f.registerClass(k[0],k[35],j,1)})(b);(function(j){var l=["lang.game.Nes","lang.display.Sprite"];var k={};k.ctor=function(){this.LEFT=1;this.RIGHT=2;this.UP=3;this.DOWN=4;this.A=5;this.B=6;this.START=7;this.SELECT=8};f.registerClass(l[0],l[1],k,1)})(b);(function(k){var j=["lang.utils.ByteArray"];var l={};l.ctor=function(){};f.registerClass(j[0],"",l,1)})(b);(function(k){var j=["now","floor","getTimestamp","Date"];var l={};l.ctor=function(m){};l[j[2]]=function(){var m=c(this,Date,j[0]);var n=c(this,Math,j[1],[(m/1000)]);return n};f.registerClass(j[3],"",l,1)})(b);(function(k){var l=["push","addFrame","gotoAndPlay","gotoAndStop","lang.display.BitmapMovieClip","lang.display.DisplayObject"];var j={};j.ctor=function(m){this.frames=[];this.labels={};this.bitmap=m;this.currentFrame=0};j[l[1]]=function(m,n){var o=this;if(!n){var p=o.frames.size;o.labels[p]=m}else{o.labels[n]=m}c(this,o.frames,l[0],[m])};j[l[2]]=function(m){this.currentFrame=m;this.isStop=!1};j[l[3]]=function(m){this.currentFrame=m;this.isStop=!0};f.registerClass(l[4],l[5],j,1)})(b);(function(k){var l=["TopLevel","lang.display.Sprite"];var j={};j.ctor=function(){};f.registerClass(l[0],l[1],j,1)})(b);(function(k){var j=["Class"];var l={};l.ctor=function(){};f.registerClass(j[0],"",l,1)})(b);(function(k){var l=["Uint8Array"];var j={};j.ctor=function(){};f.registerClass(l[0],"",j,1)})(b);(function(l){var j=["split","join","replaceAll","String"];var k={};k.ctor=function(){};k[j[2]]=function(o,m){var n=c(this,this,j[0],[o]);n=c(this,n,j[1],[m]);return n};f.registerClass(j[3],"",k,1)})(b);(function(l){var k=["Функция","toString","Function","Object"];var j={};j[k[1]]=function(){return k[0]};f.registerClass(k[2],k[3],j,1)})(b);(function(k){var j=["Boolean","Object"];var l={};l.ctor=function(){};f.registerClass(j[0],j[1],l,1)})(b);(function(l){var k=["int","Object"];var j={};j.ctor=function(){};f.registerClass(k[0],k[1],j,1)})(b);(function(k){var j=["JSON"];var l={};f.registerClass(j[0],"",l,1)})(b);(function(k){var j=["JSUtils"];var l={};f.registerClass(j[0],"",l,1)})(b);(function(j){var k=["LogClass"];var l={};l.ctor=function(){};f.registerClass(k[0],"",l,1)})(b);(function(k){var j=["toString","Number","Object"];var l={};l[j[0]]=function(){return this};f.registerClass(j[1],j[2],l,1)})(b);(function(l){var j=["defineProperties","defineProperty","Array","clone","push","Object","copyProps","assign","keys","values","entries"];var k={};k.ctor=function(m){};k[j[1]]=function(p,q,m){if(p){var n={};if(m){n[q]=m}c(this,Object,j[0],[p,n])}};k[j[3]]=function(s){if(d(s,j[2])){var m=[];var r=0;while((r<s.size)){var q=c(this,null,j[3],[s[r]]);c(this,m,j[4],[q]);r++}s=m}else{if(d(s,j[5])){var p={};for(var t in s){var q=c(this,null,j[3],[s[t]]);p[t]=q}s=p}}return s};k[j[6]]=function(o,m){for(var p in m){o[p]=m[p]}};k[j[7]]=function(r){var q=arguments.length;if((q>0)){var p=1;while((p<q)){var m=arguments[p];for(var s in m){r[s]=m[s]}p++}}};k[j[8]]=function(p){var m=[];if(p){for(var q in p){c(this,m,j[4],[q])}}return m};k[j[9]]=function(p){var m=[];if(p){for(var q in p){c(this,m,j[4],[p[q]])}}return m};k[j[10]]=function(q){var m=[];if(q){for(var r in q){var p=q[r];c(this,m,j[4],[[r,p]])}}return m};f.registerClass(j[5],"",k,1)})(b);(function(k){var j=["static","BitmapDecoder"];var l={};l.ctor=function(){};l[j[0]]=function(){this.PIXELS=(1<<1);this.BITMAPDATA=(1<<2)};f.registerClass(j[1],"",l,1)})(b);(function(l){var k=["lang.display.VideoSprite","lang.display.Sprite"];var j={};j.ctor=function(){};f.registerClass(k[0],k[1],j,1)})(b);(function(l){var k=["lang.text.TextField","lang.display.DisplayObject"];var j={};j.ctor=function(){};f.registerClass(k[0],k[1],j,1)})(b);(function(k){var l=["swap","each","push","eachPage","cut","del","init","stop","eachTime","slice","apply","dup","eachQuery","findOne","removeIf","Array","floor","random","shuffle","indexOf"];var j={};j.ctor=function(){};j[l[0]]=function(p,o){var n=this[p];var m=this[o];this[p]=m;this[o]=n};j[l[1]]=function(m){var n=0;while((n<this.size)){m(this[n]);n++}};j[l[3]]=function(q,p){var s=this;var n=[];if((q<=0)){q=1}var t=((q-1)*p);var r=0;while((r<p)){var m=(t+r);if((m<s.size)){var o=s[m];c(this,n,l[2],[o])}r++}return n};j[l[5]]=function(m){c(this,this,l[4],[m,1])};j[l[8]]=function(p,m,n){if(m){var q=this;var r=0;c(this,Timer,l[6],[p,function(){if((r<q.size)){var o=q[r];m(o);++r}else{if(n){n()}c(this,this,l[7])}}])}};j[l[11]]=function(n){if((n>0)){var m=c(this,this,l[9]);var o=0;while((o<n)){c(this,this.unshift,l[10],[this,m]);o++}}};j[l[12]]=function(m){var n=[];var o=null;if(m){var p=0;while((p<this.size)){var q=this[p];var s=m(q);if(s){o=c(this,n,l[2],[q])}p++}}return n};j[l[13]]=function(m){if(m){var n=0;while((n<this.size)){var o=this[n];var p=m(o);if(p){return o}n++}}return null};j[l[14]]=function(m,s){s=s||!1;if(m){var q=[];var o=0;while((o<this.size)){var p=m(this[o]);if(p){if(s){c(this,this,l[5],[o])}else{c(this,q,l[2],[o])}}o++}var o=0;while((o<q.size)){var n=(q[o]-o);c(this,this,l[5],[n]);o++}}};j[l[17]]=function(){if(d(this,l[15])&&(this.size>0)){var m=c(this,Math,l[16],[(c(this,Math,l[17])*this.size)]);return this[m]}return null};j[l[18]]=function(){var q=this;var p=(q.size-1);while((p>0)){var r=q[p];var o=(c(this,Math,l[17])*(p+1));var n=c(this,Math,l[16],[o]);var m=q[p];q[p]=q[n];q[n]=m;p--}};j[l[19]]=function(p){var n=0;while((n<this.size)){var m=this[n];if((m==p)){return n}n++}return -1};f.registerClass(l[15],"",j,1)})(b);(function(k){var j=["split",".","getDefinitionByName","String","web","Array","loadBinaryLib","loadLibrary","System"];var l={};l[j[2]]=function(p){var q=c(this,p,j[0],[j[1]]);var n=e;var o=0;while((o<q.size)){var m=q[o];if(!g(n,m)){return null}n=n[m];o++}return n};l[j[7]]=function(q){var m=System.loadLibrary;var p=q;if(d(q,j[3])){}else{if(d(q,j[5])){var n=c(this,System,j[6],[q]);return n}else{p=q}}var n=c(this,System,j[6],[p]);return n};f.registerClass(j[8],"",l,1)})(b);(function(k){var j=["static","lang.ui.Keyboard"];var l={};l[j[0]]=function(){this.F1=112;this.F2=113;this.F3=114;this.F4=115;this.F5=116;this.F6=117;this.F7=118;this.F8=119;this.F9=120;this.F10=121;this.F11=122;this.F12=123;this.F13=124;this.F14=125;this.F15=126;this.NUMPAD=21;this.NUMBER_0=48;this.NUMBER_1=49;this.NUMBER_2=50;this.NUMBER_3=51;this.NUMBER_4=52;this.NUMBER_5=53;this.NUMBER_6=54;this.NUMBER_7=55;this.NUMBER_8=56;this.NUMBER_9=57;this.NUMPAD_0=96;this.NUMPAD_1=97;this.NUMPAD_2=98;this.NUMPAD_3=99;this.NUMPAD_4=100;this.NUMPAD_5=101;this.NUMPAD_6=102;this.NUMPAD_7=103;this.NUMPAD_8=104;this.NUMPAD_9=105;this.NUMPAD_ADD=107;this.NUMPAD_DECIMAL=110;this.NUMPAD_DIVIDE=111;this.NUMPAD_ENTER=108;this.NUMPAD_MULTIPLY=106;this.NUMPAD_SUBTRACT=109;this.MINUS=189;this.EQUAL=187;this.ESCAPE=27;this.CTRL=17;this.ALT=18;this.SHIFT=16;this.ENTER=13;this.SPACE=32;this.A=65;this.B=66;this.C=67;this.D=68;this.E=69;this.F=70;this.G=71;this.H=72;this.I=73;this.J=74;this.K=75;this.L=76;this.M=77;this.N=78;this.O=79;this.P=80;this.Q=81;this.R=82;this.S=83;this.T=84;this.U=85;this.V=86;this.W=87;this.X=88;this.Y=89;this.Z=90;this.LEFT=37;this.RIGHT=39;this.UP=38;this.DOWN=40;this.CONTROL=17;this.ALTERNATE=18;this.BACKQUOTE=192;this.BACKSLASH=220;this.BACKSPACE=8;this.CAPS_LOCK=20;this.LEFTBRACKET=219;this.RIGHTBRACKET=221;this.PERIOD=190;this.QUOTE=222;this.COMMA=188;this.DELETE=46;this.SEMICOLON=186;this.SLASH=191;this.TAB=9;this.PAGE_UP=33;this.PAGE_DOWN=34;this.END=35;this.HOME=36;this.PRINTSCREEN=44;this.INSERT=45};f.registerClass(j[1],"",l,1)})(b);(function(k){var j=["obj1","addChild","render","renderStruct","setTarget","createPainter","getChildAt","removeChild","removeChildAt","getChildIndex","clear","lang.display.Sprite","lang.display.DisplayObject"];var l={};l.ctor=function(){this.graphicsList=[]};l[j[3]]=function(m,p){if(m){if(p){if((m==j[0])){var n=h(lang.utils.renders.RenderObjectStruct);c(this,null,j[1],[n]);c(this,n,j[2],[p]);return n}}}return null};l[j[5]]=function(){var m=h(lang.display.Painter);c(this,m,j[4],[this]);this.painter=m;return m};l[j[8]]=function(m){var n=c(this,this,j[6],[m]);if(n){c(this,this,j[7],[n])}};l[j[9]]=function(p){var m=0;while((m<this.numChildren)){var n=c(this,this,j[6],[m]);if((n==p)){return m}m++}return -1};l[j[10]]=function(){this.html=""};f.registerClass(j[11],j[12],l,1)})(b);(function(k){var l=["callNative","applyMethod","text","Arial","getChildIndex","getChildAt","removeChild","stop","off","resize","init","removeV","addChild","createPainter","border","rect","#4BAAD3","on","curTextInfoT1","enableFullscreen","isFSFirst","#000000","curFullscreenInfo","exitFullscreen","errorsHandler","VM"];var j={};j.ctor=function(){};j[l[1]]=function(n,m,o){return c(this,VM,l[0],[l[1],n,m,o])};j[l[24]]=function(s,r){if(!r){r=[]}if((s==l[2])){if((r.size>0)){var p=r[0];var m=600;var v=runtime.stage.stageWidth;if((v<m)){m=(v-40)}var o=h(lang.text.TextField);o.color=0;o.fontName=l[3];o.fontSize=20;o.maxWidth=m;o.text=(""+p);var n=o.width;var u=o.width;if((o.width>=m)){u=m;n=m}u+=30;var q=(o.height+30);o.x=((u-n)/2);o.y=(((q-o.height)-8)/2);var t=h(lang.display.Sprite);t.cb2=function(x){t.x=((x.width-u)/2)};t.removeV=function(){var y=c(this,runtime.stage,l[4],[this]);if((y>-1)){var x=c(this,runtime.stage,l[5],[y]);if(x){c(this,runtime.stage,l[6],[x]);if(this.tm){c(this,this.tm,l[7]);this.tm=null}c(this,runtime.stage,l[8],[l[9],this.cb2])}}};t.tm=c(this,Timer,l[10],[6000,function(){c(this,t,l[11])}]);t.x=((runtime.stage.stageWidth-u)/2);t.y=((runtime.stage.stageHeight-q)/2);var w=h(lang.display.Sprite);w.alpha=1;c(this,t,l[12],[w,o]);c(this,w,l[13]);c(this,w.painter,l[14],[1,0]);c(this,w.painter,l[15],[0,0,u,q,l[16]]);c(this,runtime.stage,l[17],[l[9],t.cb2]);if(g(runtime,l[18])){if(runtime.curTextInfoT1){c(this,runtime.curTextInfoT1,l[11])}}c(this,runtime.stage,l[12],[t]);runtime.curTextInfoT1=t}}else{if((s==l[19])){if(g(runtime,l[20])&&runtime.isFSFirst){}else{var o=h(lang.text.TextField);o.color=16777215;o.fontName=l[3];o.fontSize=18;o.bold=!0;o.text="Для выхода из полноэкранного режима нажмите ESC";var u=(o.width+30);var q=50;o.x=((u-o.width)/2);o.y=15;var t=h(lang.display.Sprite);t.mouseEnabled=!1;t.cb2=function(x){t.x=((x.width-u)/2);t.y=50};t.removeV=function(){if(t.tm){c(this,t.tm,l[7]);t.tm=null}runtime.curFullscreenInfo=null;c(this,runtime.stage,l[8],[l[9],this.cb2]);if(this.parent){c(this,this.parent,l[6],[this])}};t.removeV=function(){var y=c(this,runtime.stage,l[4],[this]);if((y>-1)){var x=c(this,runtime.stage,l[5],[y]);if(x){c(this,runtime.stage,l[6],[x]);if(this.tm){c(this,this.tm,l[7]);this.tm=null}c(this,runtime.stage,l[8],[l[9],this.cb2]);runtime.curFullscreenInfo=null}}};t.tm=c(this,Timer,l[10],[6000,function(){c(this,t,l[11])}]);c(this,runtime.stage,l[12],[t]);var w=h(lang.display.Sprite);w.alpha=0.6;c(this,t,l[12],[w,o]);c(this,w,l[13]);c(this,w.painter,l[14],[1,0]);c(this,w.painter,l[15],[0,0,u,q,l[21]]);c(this,runtime.stage,l[17],[l[9],t.cb2]);if(g(runtime,l[22])){if(runtime.curFullscreenInfo){c(this,runtime.curFullscreenInfo,l[11])}}runtime.isFSFirst=!0;runtime.curFullscreenInfo=t}}else{if((s==l[23])){if(g(runtime,l[22])){if(runtime.curFullscreenInfo){c(this,runtime.curFullscreenInfo,l[11]);runtime.curFullscreenInfo=null}}}}}};f.registerClass(l[25],"",j,1)})(b);(function(k){var j=["lang.display.BitmapData"];var l={};l.ctor=function(m,n,o,p){};f.registerClass(j[0],"",l,1)})(b);(function(l){var j=["lang.db.SQLite"];var k={};k.ctor=function(m){};f.registerClass(j[0],"",k,1)})(b);(function(k){var l=["callNative","getPropDisplay","parent","loaderInfo","stopDrag","DragMaster1","start","startDrag","_dragMaster","stop","lang.display.DisplayObject","lang.events.EventDispatcher"];var j={};j.ctor=function(){};j[l[7]]=function(m){c(this,this,l[4]);var n=h(l[5],[this]);if(m){n._bounds=m}this._dragMaster=n;c(this,n,l[6])};j[l[4]]=function(){if(g(this,l[8])){c(this,this._dragMaster,l[9])}};j._get={parent:function(){return c(this,VM,l[0],[l[1],this,l[2]])},loaderInfo:function(){return c(this,VM,l[0],[l[1],this,l[3]])}};f.registerClass(l[10],l[11],j,1)})(b);(function(l){var k=["lang.geom.Matrix"];var j={};j.ctor=function(){};f.registerClass(k[0],"",j,1)})(b);(function(l){var j=["lang.io.File"];var k={};k.ctor=function(m){this.path=m};f.registerClass(j[0],"",k,1)})(b);(function(l){var j=["lang.io.ByteArrayStream"];var k={};k.ctor=function(){};f.registerClass(j[0],"",k,1)})(b);(function(k){var j=["rclick","openMenuCanvas","on","off","removeRClick","_createPopUpGlobalSettings","playerUpdateFunc","web","getWelcomeCanvasSpr","getImage","toByteArray","getImageByteArray","lang.display.Canvas","lang.display.Sprite"];var l={};l.ctor=function(){var m=this;this.cbRClick=function(o){var n=o.target;if(g(n,j[0])){c(this,n,j[0],[o])}else{c(this,m,j[1],[m,o])}};c(this,this,j[2],[j[0],m.cbRClick])};l[j[4]]=function(){if(this.cbRClick){c(this,this,j[3],[j[0],this.cbRClick]);this.cbRClick=null}};l[j[5]]=function(){};l[j[6]]=function(){};l[j[1]]=function(m,o){var n=this;if(m){n=m}};l[j[8]]=function(){var p=this;var n=h(lang.display.Sprite);var m=this.stage.stageWidth;var o=this.stage.stageHeight;return n};l[j[11]]=function(m){c(this,this,j[9],[function(n){c(this,n,j[10],[m])}])};f.registerClass(j[12],j[13],l,1)})(b);(function(l){var k=["lang.display.Bitmap","lang.display.DisplayObject"];var j={};j.ctor=function(){};f.registerClass(k[0],k[1],j,1)})(b);(function(k){var j=["lang.display.Graphics"];var l={};l.ctor=function(m,n){this.w=m;this.h=n};f.registerClass(j[0],"",l,1)})(b);(function(k){var l=["lang.utils.CacheBinary"];var j={};j.ctor=function(m){this.path=m};f.registerClass(l[0],"",j,1)})(b);(function(l){var j=["lang.api.social.YandexGames"];var k={};k.ctor=function(m){this.objInit=m};f.registerClass(j[0],"",k,1)})(b);(function(j){var l=["linearGradient","createLinearGradient","gradient","beginGradientFill","lineStyle","moveTo","push","lineTo","curveTo","beginFill","endFill","draw","lang.display.Painter"];var k={};k.ctor=function(){};k[l[1]]=function(p,s,n,q,m,r){var t={type:l[0],p:[p,s,n,q],colors:m,ratios:r};this.fillStyle=t;return t};k[l[3]]=function(r,m,t,p,s,n,q){var u={type:l[2],type:r,p:[p,s,n,q],colors:m,ratios:t};this.fillStyle=u;return u};k[l[4]]=function(m,n){this.lineStyleFill.thickness=m;this.lineStyleFill.color=n};k[l[5]]=function(m,p){this.moveToPos={x:m,y:p};var n={type:l[5],x:m,y:p};c(this,this.list,l[6],[n]);if(this._target){c(this,this._target.graphicsList,l[6],[n])}};k[l[7]]=function(m,p){this.lineToPos={x:m,y:p};var n={type:l[7],x:m,y:p};c(this,this.list,l[6],[n]);if(this._target){c(this,this._target.graphicsList,l[6],[n])}};k[l[8]]=function(q,p,n,s){var m=[q,p,n,s];var r={type:l[8],arr:m};c(this,this.list,l[6],[r]);if(this._target){c(this,this._target.graphicsList,l[6],[r])}};k[l[9]]=function(m,n){this.fillStyle={color:m,alpha:n};var p={type:l[9],arr:[m,n]};c(this,this.list,l[6],[p]);if(this._target){c(this,this._target.graphicsList,l[6],[p])}};k[l[10]]=function(){var m={type:l[10],lineStyle:this.lineStyleFill,fillStyle:this.fillStyle};c(this,this.list,l[6],[m]);if(this._target){c(this,this._target.graphicsList,l[6],[m])}};k[l[11]]=function(m){};f.registerClass(l[12],"",k,1)})(b);(function(l){var k=["callNative","addEventObject","on","delEventObject","off","addEventListener","removeEventListener","lang.events.EventDispatcher"];var j={};j.ctor=function(){};j[k[2]]=function(n,m){c(this,VM,k[0],[k[1],this,n,m])};j[k[4]]=function(n,m){c(this,VM,k[0],[k[3],this,n,m])};j[k[5]]=function(n,m){c(this,this,k[2],[n,m])};j[k[6]]=function(n,m){c(this,this,k[4],[n,m])};f.registerClass(k[7],"",j,1)})(b);(function(k){var l=["linearGradient","createLinearGradient","gradient","beginGradientFill","lang.display.Painter2"];var j={};j.ctor=function(m,n){this.w=m;this.h=n};j[l[1]]=function(p,s,n,q,m,r){var t={type:l[0],p:[p,s,n,q],colors:m,ratios:r};return t};j[l[3]]=function(r,m,t,p,s,n,q){var u={type:l[2],type:r,p:[p,s,n,q],colors:m,ratios:t};return u};f.registerClass(l[4],"",j,1)})(b);(function(k){var l=["lang.display.Loader","lang.display.Sprite"];var j={};j.ctor=function(){};f.registerClass(l[0],l[1],j,1)})(b);(function(k){var l=["lang.utils.Zip"];var j={};j.ctor=function(){};f.registerClass(l[0],"",j,1)})(b);(function(k){var l=["linearGradient","createLinearGradient","lang.display.PainterNative"];var j={};j.ctor=function(){};j[l[1]]=function(p,s,n,q,m,r){var t={type:l[0],x0:p,y0:s,x1:n,y1:q,colors:m,ratios:r};return t};f.registerClass(l[2],"",j,1)})(b);(function(k){var j=["mouseX","grabMousePos","multitouch","on","mousemove","start","off","stop","DragMaster1"];var l={};l.ctor=function(m){var n=this;this.spr=m;this.isV2=!1;if(m){if(g(m,j[0])){this.isV2=!0}}this._bounds=null;this.startPos={x:0,y:0};this.isMultitouch=!1;this.cbMove=function(p){var q=(p.mouseX-n.startPos.x);var r=(p.mouseY-n.startPos.y);var o=n._bounds;if(o){if((-q<o.x)){q=-o.x}if((-r<o.y)){r=-o.y}if((-q>o.width)){q=-o.width}if((-r>o.height)){r=-o.height}}n.spr.x=q;n.spr.y=r}};l[j[5]]=function(){var m=this;var n=c(this,System,j[1]);this.startPos.x=(n.x-this.spr.x);this.startPos.y=(n.y-this.spr.y);this.isMultitouch=!1;if(g(this.spr,j[2])){if(this.spr.multitouch){this.isMultitouch=!0}}if(this.isMultitouch){c(this,this.spr,j[3],[j[4],this.cbMove])}else{c(this,this.spr.stage,j[3],[j[4],this.cbMove])}};l[j[7]]=function(){if(this.isMultitouch){c(this,this.spr,j[6],[j[4],this.cbMove])}else{c(this,this.spr.stage,j[6],[j[4],this.cbMove])}};f.registerClass(j[8],"",l,1)})(b);(function(l){var j=["click","rclick","mousedown","mouseup","rollover","rollout","callNative","getTargetEvent","lang.events.MouseEvent","lang.events.Event"];var k={};k.ctor=function(m,n){this.mouseX=m;this.mouseY=n};k._get={CLICK:function(){return j[0]},RIGHT_CLICK:function(){return j[1]},MOUSE_DOWN:function(){return j[2]},MOUSE_UP:function(){return j[3]},ROLL_OVER:function(){return j[4]},ROLL_OUT:function(){return j[5]},target:function(){return c(this,VM,j[6],[j[7],this])}};f.registerClass(j[8],j[9],k,1)})(b);(function(k){var j=["lang.utils.ByteArrayNative"];var l={};l.ctor=function(){};f.registerClass(j[0],"",l,1)})(b);(function(k){var j=["lang.net.Socket","lang.events.EventDispatcher"];var l={};l.ctor=function(){};f.registerClass(j[0],j[1],l,1)})(b);(function(l){var j=["init","push","add","addJoint","lang.game.engines.box2d.Box2D","lang.events.EventDispatcher"];var k={};k.ctor=function(){this.items=[];this.jointsList=[];this.step=0;this.gravity=null;this.scale=30;this.allowSleep=!1;this.velocityIterations=10;this.positionIterations=10;this.box2d=lang.game.engines.box2d};k[j[0]]=function(n,m,o){this.gravity=n;this.step=m;this.allowSleep=o};k[j[2]]=function(n){var m=h(this.box2d.Body,[n]);m.isSensor=n.isSensor;c(this,this.items,j[1],[m]);return m};k[j[3]]=function(m){c(this,this.jointsList,j[1],[m]);return m};f.registerClass(j[4],j[5],k,1)})(b);(function(k){var j=["push","addBodyDef","lang.game.engines.box2d.Body"];var l={};l.ctor=function(m){this.bodyDef=m;this.isSensor=!1;this.defList=[];this.massData=null};l[j[1]]=function(m){if(m){c(this,this.defList,j[0],[m])}};f.registerClass(j[2],"",l,1)})(b);(function(k){var j=["lang.game.engines.box2d.Joint"];var l={};l.ctor=function(m){this.type=m;this.lowerTranslation=0;this.upperTranslation=0;this.lowerAngle=0;this.upperAngle=0;this.maxMotorTorque=0;this.motorSpeed=0;this.enableMotor=!1;this.enableLimit=!1};f.registerClass(j[0],"",l,1)})(b);(function(j){var l=["lang.text.Font"];var k={};k.ctor=function(){};f.registerClass(l[0],"",k,1)})(b);(function(l){var j=["lang.events.KeyboardEvent","lang.events.Event"];var k={};k.ctor=function(m,n){this.type=m;this.keyCode=n};f.registerClass(j[0],j[1],k,1)})(b);(function(l){var k=["DATA","lang.system.RegStorage"];var j={};j.ctor=function(){};j._get={DATA:function(){return k[0]},SELECT:function(){return 1},LIST:function(){return 2},INSERT:function(){return 3},DELETE:function(){return 4},KEY:function(){return 1},VALUE:function(){return 2}};f.registerClass(k[1],"",j,1)})(b);(function(k){var j=["lang.media.SpeechRecognition","lang.events.EventDispatcher"];var l={};l.ctor=function(){};f.registerClass(j[0],j[1],l,1)})(b);(function(l){var k=["lang.geom.Point"];var j={};j.ctor=function(){this.x=0;this.y=0};f.registerClass(k[0],"",j,1)})(b);(function(k){var j=["lang.geom.Rectangle"];var l={};l.ctor=function(m,p,n,o){this.x=!m?0:m;this.y=!p?0:p;this.width=!n?0:n;this.height=!o?0:o};f.registerClass(j[0],"",l,1)})(b);(function(k){var l=["lang.api.social.VK","lang.events.EventDispatcher"];var j={};j.ctor=function(){};f.registerClass(l[0],l[1],j,1)})(b);(function(k){var l=["static","%","push","bindSetter","bindProperty","del","unbind","cb","update","BindingUtils"];var j={};j[l[0]]=function(){this.arr=[]};j[l[3]]=function(m,p,q){if(q){if(p){if(m){var n={t:1,cb:m,o:p,prop:q,lastV:l[1]};c(this,this.arr,l[2],[n]);return n}}}return null};j[l[4]]=function(q,r,p,n){if(r){if(q){if(p){if(n){var m={t:2,o:q,prop:r,host:p,chain:n,lastV:l[1]};c(this,this.arr,l[2],[m]);return m}}}}return null};j[l[6]]=function(p){if(p){var n=0;while((n<this.arr.size)){var m=this.arr[n];if((p==m)){c(this,this.arr,l[5],[n])}n++}}};j[l[8]]=function(){var n=0;while((n<this.arr.size)){var r=this.arr[n];if(g(r.o,r.prop)){var p=r.prop;var q=r.o[p];if((q!=r.lastV)){if((r.t==1)){c(this,r,l[7],[q])}else{if((r.t==2)){if(g(r.host,r.chain)){var m=r.chain;r.host[m]=q}}}}r.lastV=q}n++}};f.registerClass(l[9],"",j,1)})(b);(function(l){var k=["XML"];var j={};f.registerClass(k[0],"",j,1)})(b);(function(k){var j=["setCallback","lang.utils.FpsMaster"];var l={};l.ctor=function(){this._callback=null;this.framerate=24};l[j[0]]=function(m){this._callback=m};f.registerClass(j[1],"",l,1)})(b);(function(j){var l=["lang.utils.File"];var k={};k.ctor=function(){};f.registerClass(l[0],"",k,1)})(b);(function(k){var j=["lang.text.TextInput","lang.display.DisplayObject"];var l={};l.ctor=function(){};f.registerClass(j[0],j[1],l,1)})(b);(function(k){var j=["read","folder","readBytesStruct","skipFolder","readByte","readString","readInt","file","readBytesStructNoSkip","readFolder","findFolderDataByName","findFolderByName","findFileByName","push","readBytes","readFileBytes","lang.utils.ReadFolderFileStruct"];var l={};l.ctor=function(){this.ba=null};l[j[0]]=function(m){this.ba=m};l[j[3]]=function(p){if(p){if((p.type==j[1])){this.ba.position=p.pos;var m=0;while((m<p.nums)){var n=c(this,this,j[2],[!1]);c(this,this,j[3],[n]);m++}}}};l[j[2]]=function(q){var m=null;var o=this.ba.position;var p=c(this,this.ba,j[4]);var n=c(this,this.ba,j[5]);if((p==1)){var s=c(this,this.ba,j[6]);m={type:j[1],name:n,nums:s,startPos:o,pos:this.ba.position};if(q){c(this,this,j[3],[m])}}else{var r=c(this,this.ba,j[6]);m={type:j[7],name:n,pos:this.ba.position,size:r};this.ba.position+=r}return m};l[j[8]]=function(){return c(this,this,j[2],[!1])};l[j[10]]=function(r,v,p,u){var n=null;if(v){if(p){if((v.type==j[1])){var m=c(this,this,j[9],[v,u]);if(m){var q=0;while((q<m.size)){var s=m[q];if(s){if((s.type==r)){if((s.name==p)){return s}}}q++}}}}}return null};l[j[11]]=function(p,m,n){if(!n){n=!0}return c(this,this,j[10],[j[1],p,m,n])};l[j[12]]=function(n,m){return c(this,this,j[10],[j[7],n,m,!0])};l[j[9]]=function(r,q){var m=[];if(r){if((r.type==j[1])){this.ba.position=r.pos;var n=0;while((n<r.nums)){var p=c(this,this,j[2],[q]);c(this,m,j[13],[p]);n++}}}return m};l[j[15]]=function(q){var n=null;if(q){if((q.type==j[7])){this.ba.position=q.pos;var p=q.size;var m=h(lang.utils.ByteArray);c(this,this.ba,j[14],[m,0,p]);m.position=0;return m}}return null};f.registerClass(j[16],"",l,1)})(b);(function(l){var j=["readFolderBytes","readAssetsFolder","readByte","readString","readInt","readBytes","validatePartBa","readShort","string","push","double","readCPool","readMethods","readClass","read","readBytesStructNoSkip","findFolderByName","assets","readBytesAssetsTag","findFileByName","storeInfo.json","readUTFBytes","decode","readStoreInfo","lang.utils.VM2FileReader"];var k={};k.ctor=function(){this.ba=null;this.instanceClass=null;this.classesList=[];this.headerFile=[11,5,16];this.headerFile2=[11,5,17];this.version=0;this.folderStruct=null;this.rootFolder=null;this.isFormat2=!1;this.assetsPos=-1;this.isComplete=!1};k[j[1]]=function(){var m={};if(this.ba){if((this.assetsPos>-1)){var n=this.ba.position;this.ba.position=this.assetsPos;c(this,this,j[0],[this.ba,m,1]);this.ba.position=n}}return m};k[j[0]]=function(u,q,m){if(u){var w=c(this,u,j[2]);var n=c(this,u,j[3]);if((w==1)){var v=c(this,u,j[4]);if((m==1)){var r=0;while((r<v)){c(this,this,j[0],[u,q,0]);r++}}else{var p={};var r=0;while((r<v)){c(this,this,j[0],[u,p,0]);r++}q[n]=p}}else{var s=c(this,u,j[4]);var x=h(lang.utils.ByteArray);c(this,u,j[5],[x,0,s]);x.position=0;q[n]=x}}};k[j[6]]=function(p,m){var n=0;while((n<m.size)){var o=c(this,p,j[2]);if((m[n]!=o)){return !1}n++}return !0};k[j[11]]=function(s){var n=[];var q=c(this,s,j[4]);var p=0;while((p<q)){var r=c(this,s,j[7]);var o=c(this,s,j[2]);var m={id:r};if((o==1)){m.t=j[8];m.v=c(this,s,j[3]);c(this,n,j[9],[[m.id,m.v]])}else{if((o==4)){m.t=j[10];m.v=c(this,s,j[3]);m.v=parseFloat(m.v);c(this,n,j[9],[[m.id,m.v]])}}p++}return n};k[j[12]]=function(o){if(o){var n={};n.baInfo={};n.name=c(this,o,j[3]);n.flags=c(this,o,j[2]);var m=c(this,o,j[4]);n.depth=c(this,o,j[7]);n.argsCount=c(this,o,j[2]);n.varsCount=c(this,o,j[4]);var m=c(this,o,j[4]);n.baInfo.pos=o.position;n.baInfo.size=m;o.position+=m;return n}return null};k[j[13]]=function(s){if(s){var q={};q.name=null;q.extendClass=null;q.methods=[];var n=c(this,s,j[4]);q.cpool=c(this,this,j[11],[s]);q.name=c(this,s,j[3]);var r=c(this,s,j[3]);if((r!="")){q.extendClass=r}var p=c(this,s,j[4]);var o=0;while((o<p)){var m=c(this,this,j[12],[s]);c(this,q.methods,j[9],[m]);o++}return q}return null};k[j[18]]=function(u){this.ba=u;if(u){var w=u.position;var m=c(this,null,j[6],[u,this.headerFile]);if(m){this.version=c(this,u,j[2]);var p=c(this,u,j[4]);var r=0;while((r<p)){var x=c(this,u,j[2]);var s=c(this,u,j[4]);if((x==2)){this.assetsPos=u.position}u.position+=s;r++}}else{u.position=0;m=c(this,null,j[6],[u,this.headerFile2]);if(m){this.isFormat2=!0;var n=h(lang.utils.ReadFolderFileStruct);c(this,n,j[14],[u]);this.folderStruct=n;var o=c(this,n,j[15]);var v=c(this,n,j[16],[o,j[17],!1]);if(v){this.assetsPos=v.startPos}}}u.position=w}};k[j[5]]=function(w){this.ba=w;var x=-1;if(w){var z=w.position;var m=c(this,null,j[6],[w,this.headerFile]);if(m){this.version=c(this,w,j[2]);var p=c(this,w,j[4]);var s=0;while((s<p)){var A=c(this,w,j[2]);var u=c(this,w,j[4]);if((A==1)){x=w.position;w.position+=u}else{if((A==2)){this.assetsPos=w.position;w.position+=u}else{w.position+=u}}s++}if((x>-1)){w.position=x;var r=c(this,w,j[4]);var s=0;while((s<r)){var v=c(this,this,j[13],[w]);c(this,this.classesList,j[9],[v]);s++}this.instanceClass=c(this,w,j[3]);this.isComplete=!0}}else{w.position=0;m=c(this,null,j[6],[w,this.headerFile2]);if(m){this.isFormat2=!0;var n=h(lang.utils.ReadFolderFileStruct);c(this,n,j[14],[w]);this.folderStruct=n;var o=c(this,n,j[15]);this.rootFolder=o;var y=c(this,n,j[16],[o,j[17],!1]);if(y){this.assetsPos=y.startPos}}}w.position=z}};k[j[23]]=function(){var p=this.ba.position;if(this.rootFolder){if(this.folderStruct){var n=c(this,this.folderStruct,j[19],[this.rootFolder,j[20]]);if(n){this.ba.position=n.pos;var o=c(this,this.ba,j[21],[n.size]);var m=c(this,JSON,j[22],[o]);return m}}}this.ba.position=p;return null};f.registerClass(j[24],"",k,1)})(b);(function(k){var l=["audio","lang.media.Recorder","lang.events.EventDispatcher"];var j={};j.ctor=function(){this.type=l[0]};f.registerClass(l[1],l[2],j,1)})(b);(function(l){var j=["push","addFile","addFolder","split","/","getFileByPath","lang.system.Folder"];var k={};k.ctor=function(m){this.name=m;this.list=[];this.parent=null};k[j[1]]=function(m,n){c(this,this.list,j[0],[{name:m,data:n}])};k[j[2]]=function(m){var n=h(lang.system.Folder,[m]);n.parent=this;c(this,this.list,j[0],[n]);return n};k[j[5]]=function(t){var s=c(this,t,j[3],[j[4]]);var o=this;var q=0;while((q<s.size)){var m=s[q];var r=o.list;var n=0;while((n<r.size)){var p=o.list[n];if((p.name==m)){o=p}if(!o){return null}n++}q++}if(o&&!d(o,lang.system.Folder)){return o}return null};f.registerClass(j[6],"",k,1)})(b);(function(k){var l=["lang.net.WebsocketServer"];var j={};j.ctor=function(){};f.registerClass(l[0],"",j,1)})(b);(function(k){var l=["lang.net.WebServer1"];var j={};j.ctor=function(){};f.registerClass(l[0],"",j,1)})(b);(function(j){var l=["lang.net.SocketServer"];var k={};k.ctor=function(){};f.registerClass(l[0],"",k,1)})(b);(function(j){var k=["lang.net.SocketIO","lang.events.EventDispatcher"];var l={};l.ctor=function(){};f.registerClass(k[0],k[1],l,1)})(b);(function(k){var l=["floor","random","randomInt","Math"];var j={};j[l[2]]=function(o){var m=10000000;if(o){m=o}var n=c(this,Math,l[0],[(c(this,Math,l[1])*m)]);return n};j._get={E:function(){return 2.718281828459045},PI:function(){return 3.141592653589793},SQRT2:function(){return 1.4142135623730951},SQRT1_2:function(){return 0.7071067811865476},LN2:function(){return 0.6931471805599453},LN10:function(){return 2.302585092994046},LOG2E:function(){return 1.4426950408889634},Log10E:function(){return 0.4342944819032518}};f.registerClass(l[3],"",j,1)})(b);(function(l){var k=["lang.media.Sound","lang.events.EventDispatcher"];var j={};j.ctor=function(){};f.registerClass(k[0],k[1],j,1)})(b);(function(k){var j=["on","push","off","clear","lang.events.EventsObjectMaster"];var l={};l.ctor=function(){this.list=[]};l[j[0]]=function(q,p,m){var n={o:q,type:p,cb:m};c(this,q,j[0],[p,m]);c(this,this.list,j[1],[n])};l[j[2]]=function(p,n,m){c(this,p,j[2],[n,m])};l[j[3]]=function(){var m=0;while((m<this.list.size)){var n=this.list[m];c(this,n.o,j[2],[n.type,n.cb]);m++}this.list=[]};f.registerClass(j[4],"",l,1)})(b);(function(k){var l=["Function","getChildAt","callRMethod","_resize","resizeDisplay","onresize","_render","render","movie","list","img","text","canvas","fps","run","add","setCallback","update","rect","createPainter","#000000","fill","width","height","name","addChild","type","cut","on","click","resize","textFieldOffsetY","lang.utils.renders.RenderObjectStruct","lang.display.Sprite"];var j={};j.ctor=function(){};j[l[2]]=function(p,n){var m=arguments.callee;if(p){if(g(p,n)){var s=p[n];if(d(s,l[0])){s()}}if(d(p,lang.display.Sprite)){var q=0;while((q<p.numChildren)){var r=c(this,p,l[1],[q]);m(r,n);q++}}}};j[l[4]]=function(m,n){c(this,this,l[3],[this,m,n])};j[l[3]]=function(o,n,r){var m=arguments.callee;if(o){if(g(o,l[5])){c(this,o,l[5],[n,r])}if(d(o,lang.display.Sprite)){var p=0;while((p<o.numChildren)){var q=c(this,o,l[1],[p]);m(q,n,r);p++}}}};j[l[7]]=function(p,m){if(!m){m=this}var n=c(this,this,l[6],[p,m]);return n};j[l[6]]=function(q,m){var p=this;if(!m){m=h(lang.display.Sprite)}if(q){if(m){var B=q.type;var r=null;if((B==l[8])){r=h(lang.display.Sprite);if(g(q,l[9])){var x=0;while((x<q.list.size)){c(this,p,l[6],[q.list[x],r]);x++}}}else{if((B==l[10])){r=h(lang.display.Bitmap)}else{if((B==l[11])){r=h(lang.text.TextField)}else{if((B==l[12])){r=h(lang.display.Canvas);if(g(q,l[9])){var x=0;while((x<q.list.size)){c(this,p,l[6],[q.list[x],r]);x++}}var D=24;if(g(q,l[13])){D=q.fps}var u=h(lang.utils.FpsMaster);u.framerate=D;c(this,u,l[14]);c(this,u,l[15],[r]);r.fpsMaster=u;c(this,u,l[16],[function(){c(this,p,l[2],[r,l[17]])}])}else{if((B==l[18])){r=h(lang.display.Sprite);c(this,r,l[19]);var A=l[20];if(g(q,l[21])){A=q.fill}if(g(q,l[22])&&g(q,l[23])){c(this,r.painter,l[18],[0,0,q.width,q.height,A])}r.painter.fillData=A}}}}}if(r){if(g(q,l[24])){var C=q.name;m[C]=r}c(this,m,l[25],[r]);for(var s in q){var w=!0;if((s==l[26])){w=!1}else{if((s==l[24])){w=!1}}if((s.size>2)){var z=q[s];var C=c(this,s,l[27],[0,2]);if((C==l[28])){var y=c(this,s,l[27],[2]);if((y==l[29])){r.buttonMode=!0}if((y!=l[30])){if(d(z,l[0])){c(this,r,l[28],[y,z])}w=!1}}}if(w){r[s]=q[s]}}if(d(r,lang.text.TextField)){if(g(e,l[31])){r.y=(r.y+e.textFieldOffsetY)}}if(g(q,l[5])){r.onresize=q.onresize}}}}return m};f.registerClass(l[32],l[33],j,1)})(b);(function(k){var l=["push","addFrame","gotoAndPlay","gotoAndStop","lang.display.MovieClip","lang.display.Sprite"];var j={};j.ctor=function(){this.frames=[];this.labels={};this.currentFrame=0};j[l[1]]=function(m,n){var o=this;if(!n){var p=o.frames.size;o.labels[p]=m}else{o.labels[n]=m}c(this,o.frames,l[0],[m])};j[l[2]]=function(m){this.currentFrame=m;this.isStop=!1};j[l[3]]=function(m){this.currentFrame=m;this.isStop=!0};f.registerClass(l[4],l[5],j,1)})(b);(function(l){var k=["enterFrame","lang.events.Event"];var j={};j.ctor=function(){};j._get={ENTER_FRAME:function(){return k[0]}};f.registerClass(k[1],"",j,1)})(b);(function(l){var k=["callNative","setPropDisplay","displayState","getPropDisplay","lang.display.Stage","lang.display.Sprite"];var j={};j.ctor=function(){};j._get={displayState:function(){return c(this,VM,k[0],[k[3],this,k[2]])}};j._set={displayState:function(m){c(this,VM,k[0],[k[1],this,k[2],m])}};f.registerClass(k[4],k[5],j,1)})(b);(function(l){var j=["callNative","getPropLoaderInfo","content","bytes","parameters","url","lang.display.LoaderInfo"];var k={};k.ctor=function(n,m,o){this._bytes=n;this._content=m;this._parameters=o};k._get={content:function(){return c(this,VM,j[0],[j[1],this,j[2]])},bytes:function(){return c(this,VM,j[0],[j[1],this,j[3]])},parameters:function(){return c(this,VM,j[0],[j[1],this,j[4]])},url:function(){return c(this,VM,j[0],[j[1],this,j[5]])}};f.registerClass(j[6],"",k,1)})(b);(function(l){var k=["query","CALL","lang.db.Redis"];var j={};j.ctor=function(){};j[k[1]]=function(n,m){return c(this,this,k[0],[n,m])};f.registerClass(k[2],"",j,1)})(b);(function(l){var j=["lang.db.MySQL"];var k={};k.ctor=function(){};f.registerClass(j[0],"",k,1)})(b);(function(k){var l=["indexOf","?","cut","split","&","at","=","put","parseGETParams","URL"];var j={};j.ctor=function(){};j[l[8]]=function(n){var v={};if(n){var u=c(this,n,l[0],[l[1]]);var t=n;if((u>-1)){t=c(this,n,l[2],[(u+1)]);var s=c(this,t,l[3],[l[4]]);if((s.size>0)){var p=0;while((p<s.size)){var r=c(this,s,l[5],[p]);var m=c(this,r,l[3],[l[6]]);c(this,v,l[7],[m[0],m[1]]);p++}}}}return v};f.registerClass(l[9],"",j,1)})(b);(function(l){var k=["Timer","start","init","stop","initOne"];var j={};j[k[2]]=function(n,o){var m=h(k[0]);m.interval=n;m.cb=o;c(this,m,k[1]);return m};j[k[4]]=function(n,o){var m=h(k[0]);m.interval=n;m.cb=function(){c(this,this,k[3]);o()};c(this,m,k[1]);return m};f.registerClass(k[0],"",j,1)})(b);(function(k){var l=["RegExp"];var j={};j.ctor=function(n,m){this.str=n;this.flags=m};f.registerClass(l[0],"",j,1)})(b);(function(j){var k=["static","rect","lang.game.engines.box2d.BodyDef"];var l={};l.ctor=function(){this.bodyType=k[0];this.type=k[1];this.friction=0;this.density=0;this.restitution=0;this.isSensor=!1;this.groupIndex=0;this.fixedRotation=!0;this.allowSleep=!0;this.rotation=0;this.radius=0;this.userData=null;this.itemData=null;this.bodySize={width:0,height:0};this.position={x:0,y:0}};f.registerClass(k[2],"",l,1)})(b)}a.instanceClass="runtime";pClass(a)})(window);